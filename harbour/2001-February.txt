From harbour@lists.harbour-project.org  Thu Feb  1 14:42:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Thu Feb  1 14:42:02 2001
Subject: [Harbour] Debugger (Luiz)
In-Reply-To: <001c01c08b00$f7e4c600$0100007f@sl.conex.net>
Message-ID: <001b01c08c86$7f9129a0$0f2aa8c0@antonio>

Luiz,

I am testing the debugger here (the keyboard is working ok
after David fix) and I have noticed that a blinking cursor
is always showing.

Do you also get it there ?

Thanks

Antonio



From harbour@lists.harbour-project.org  Thu Feb  1 16:31:02 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Thu Feb  1 16:31:02 2001
Subject: [Harbour] ADS.CH modification
References: <BGEJIGGANMIAOJPONENJKENECDAA.ignacio@ozs.com>
Message-ID: <00cd01c08c97$19522ca0$921a5e18@bh>

Ignacio:
Do NOT make this change!  These are the correct values for ADS directly!!

There are function calls available that are straight wrappers for  ADS
calls.  These were done first, and use the ADS-supplied header file.
When I later integrated the RDD scope calls like ordScope(), these had to be
consistent with Clipper usage.

The ADS_* constants must be used with the ADS direct wrappers, but calls
through the Clipper RDD should use these from ord.CH:
#define TOPSCOPE           0
#define BOTTOMSCOPE        1

if you post your change you will break code that some people are currently
using.

My recommendation to fix this problem would be to remove the constants from
ADS.CH as well as any of the original wrappers, and only deliver the ones
defined in ord.CH for the Harbour RDD.

If the calls are using the normal RDD anyway, you don't want to use ADS
specific constants.

Brian

----- Original Message -----
From: "Ignacio Ortiz de Zuñiga" <ignacio@ozs.com>
To: "Harbour" <harbour@lists.harbour-project.org>
Sent: Wednesday, January 31, 2001 8:54 AM
Subject: [Harbour] ADS.CH modification


> This two lines at ADS.CH should be modified:
>
> #define ADS_TOP                  1
> #define ADS_BOTTOM               2
>
> to:
>
> #define ADS_TOP                  0
> #define ADS_BOTTOM               1
>
> I can not do it myself since Sourceforge has deleted my self as a
developer
> on the Harbour project :-((
>
> Ignacio Ortiz de Zuñiga
> Email: ignacio@ozs.com
> Phone Email: ignaciosms@ozs.com
> http://www.ozs.com
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@lists.harbour-project.org  Thu Feb  1 19:42:02 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Thu Feb  1 19:42:02 2001
Subject: [Harbour] Debugger (Luiz)
References: <001b01c08c86$7f9129a0$0f2aa8c0@antonio>
Message-ID: <006b01c08cb0$fcb00260$0100007f@sl.conex.net>

Antonio



> Luiz,
> 
> I am testing the debugger here (the keyboard is working ok
> after David fix) and I have noticed that a blinking cursor
> is always showing.
> 
> Do you also get it there ?

I dont notice this. 

Btw you will like the changes i have done

and how is the hb_vmLocalname functions issue

Regards

Luiz Rafael Culik


From harbour@lists.harbour-project.org  Thu Feb  1 19:42:05 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Thu Feb  1 19:42:05 2001
Subject: [Harbour] Changelog 2001-02-01 22:10 GMT -3
Message-ID: <006c01c08cb0$fdc43180$0100007f@sl.conex.net>

+source/debug/dbgtarr.prg
   *Browse functions for view arrays on debugger
+source/debug/dbgtobj.prg
   *Browse functions for view objects on debugger
*source/debug/debugger.prg
   +Added support to view arrays and objects on the Variable windows
   *fixed browse colors to viewsets() method
*makefile.bc
 hb_slex.bc
 source/debug/makefile
   *added dbgtarr.prg and dbgtobj.prg to  dependencies list
   ****NOTE**** VC++ Users. please update the make files


Regards From Brazil

Luiz Rafael Culik


From harbour@lists.harbour-project.org  Thu Feb  1 21:15:04 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Thu Feb  1 21:15:04 2001
Subject: [Harbour] CHANGELOG: 2000-02-01 06:20 UTC-0800
Message-ID: <000901c08cbe$a626a800$921a5e18@bh>

2000-02-01 06:20 UTC-0800 Brian Hays <bhays@abacuslaw.com>
   * source/rtl/memoline.c
      * fixed nasty bug that would blow away the app if word wrap was on
         and the next character after filling the line length was a space.


Brian Hays
Abacus Data Systems, Inc.



From harbour@lists.harbour-project.org  Sat Feb  3 04:44:02 2001
From: harbour@lists.harbour-project.org (Alex Strickland)
Date: Sat Feb  3 04:44:02 2001
Subject: [Harbour] CHANGELOG: 2000-02-01 06:20 UTC-0800
References: <000901c08cbe$a626a800$921a5e18@bh>
Message-ID: <00d901c08cec$20f91860$12016b83@bda>

----- Original Message -----
From: "Brian Hays" <bhays@abacuslaw.com>
Sent: 02 February 2001 04:20
>    * source/rtl/memoline.c
>       * fixed nasty bug that would blow away the app if word wrap was on
>          and the next character after filling the line length was a space.

Does that fix your problem with the detached local arrays becoming
corrupted?

Alex



From harbour@lists.harbour-project.org  Sat Feb  3 05:01:04 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb  3 05:01:04 2001
Subject: [Harbour] ChangeLog 2001-02-03 05:21 GMT+1
In-Reply-To: <006b01c08cb0$fcb00260$0100007f@sl.conex.net>
Message-ID: <000601c08d9a$0a42bdc0$0f2aa8c0@antonio>

2001-02-03 05:21 GMT+1 Antonio Linares <alinares@fivetech.com>
   * source/debug/dbgtarr.prg
     - removed SetsUp(), SetsDown() and MyColors() not needed functions.
     -+ Maurilio's navigation technique implemented.

   * source/debug/dbgtobj.prg
     - removed SetsUp(), SetsDown() and MyColors() not needed functions.
     -+ Maurilio's navigation technique implemented.
     - removed the repainting of the window caption.

   * source/debug/debugger.prg
     - removed SetsUp(), SetsDown() and MyColors() not needed functions.
     ( Maurilio, your navigation technique is much faster! :-)


Antonio


From harbour@lists.harbour-project.org  Sat Feb  3 05:01:10 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb  3 05:01:10 2001
Subject: [Harbour] HB_P_LOCALNAME bug (Ryszard, Ron)
In-Reply-To: <006c01c08cb0$fdc43180$0100007f@sl.conex.net>
Message-ID: <001001c08d1f$70c16900$0f2aa8c0@antonio>

Ryszard, Ron,

HB_P_LOCALNAME pcode opcode is not properly generating
its associates info. Here you have a sample:

   local a := "a"
   local b := "b"
   local c := "c"

and see the generated pcode:

   HB_P_LOCALNAME, 1, 0,	/* A */
   ...
   HB_P_LOCALNAME, 1, 0,	/* B */    Wrong, it should be 2
   ...
   HB_P_LOCALNAME, 2, 0,	/* C */    Wrong, it should be 3

Many thanks for your help,

Antonio


From harbour@lists.harbour-project.org  Sat Feb  3 05:01:16 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb  3 05:01:16 2001
Subject: [Harbour] Debugger (Luiz)
In-Reply-To: <006b01c08cb0$fcb00260$0100007f@sl.conex.net>
Message-ID: <000701c08d07$4fd94360$0f2aa8c0@antonio>

Luiz,

Select the variables window and press enter over GetList, then write:

   { "a", "b", TBrowse() }

Now edit the array, and press enter over the TBrowse() object.


Antonio



From harbour@lists.harbour-project.org  Sat Feb  3 05:01:22 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Ignacio_Ortiz_de_Zu=F1iga?=)
Date: Sat Feb  3 05:01:22 2001
Subject: [Harbour] ADS.CH modification
In-Reply-To: <00cd01c08c97$19522ca0$921a5e18@bh>
Message-ID: <BGEJIGGANMIAOJPONENJEEOBCDAA.ignacio@fivetech.com>

>>Ignacio:
>>Do NOT make this change!  These are the correct values for ADS
>>directly!!

Ok, do not worry. I agree with your point of view.

Regards,

Ignacio Ortiz de Zuñiga
Email: ignacio@ozs.com
Phone Email: ignaciosms@ozs.com
http://www.ozs.com




From harbour@lists.harbour-project.org  Sat Feb  3 05:01:28 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb  3 05:01:28 2001
Subject: [Harbour] ChangeLog 2001-02-02 16:48 GMT+1
In-Reply-To: <006c01c08cb0$fdc43180$0100007f@sl.conex.net>
Message-ID: <001c01c08d30$2de98840$0f2aa8c0@antonio>

2001-02-02 16:48 GMT+1 Antonio Linares <alinares@fivetech.com>
   * source/vm/debug.c
     + New function __vmVarLSet() added.
       Purpose: It sets the contents of a local variable placed
                at nProcLevel stack deep.
       Syntax:  __vmVarLSet( <nProcLevel>, <nLocalIndex>, <uNewValue> ) -->
nil

   * source/debug/debugger.prg
     * Improved METHOD EditVar() for local variables
       (it uses the new __vmVarLSet() function).

     * Improved GetVarInfo() static function.

Antonio



From harbour@lists.harbour-project.org  Sat Feb  3 05:01:33 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb  3 05:01:33 2001
Subject: [Harbour] ChangeLog 2001-02-02
In-Reply-To: <006c01c08cb0$fdc43180$0100007f@sl.conex.net>
Message-ID: <000f01c08d1d$ef1877a0$0f2aa8c0@antonio>

2000-02-02 14:39 GMT+1 Antonio Linares <alinares@fivetech.com>
   * source/vm/hvm.c
     * function hb_vmLocalName() properly implemented.

   * source/debug/debugger.prg
     * proper support for hb_vmLocalName()

   ! Warning: HB_P_LOCALNAME is working wrong! It has to be revised!


Antonio


From harbour@lists.harbour-project.org  Sat Feb  3 05:01:36 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb  3 05:01:36 2001
Subject: [Harbour] RE: HB_P_LOCALNAME bug (Ryszard, Ron)
Message-ID: <001101c08d24$e7964d20$0f2aa8c0@antonio>

Ok, I think I found the bug:

harbour.c

     switch( hb_comp_iVarScope )
      {
         case VS_LOCAL:
         case VS_PARAMETER:
            {
               USHORT wLocal = 1;

               if( ! pFunc->pLocals )
                  pFunc->pLocals = pVar;
               else
               {
                  pLastVar = pFunc->pLocals;
                  while( pLastVar->pNext )
                  {
                     pLastVar = pLastVar->pNext;
                     wLocal++;
                  }
                  pLastVar->pNext = pVar;

                  wLocal++;  <<<<<  This is missing

Am I right ?

Antonio


From harbour@lists.harbour-project.org  Sat Feb  3 05:01:39 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb  3 05:01:39 2001
Subject: [Harbour] Debugger (Luiz) - ChangeLog 2000-02-02
In-Reply-To: <006b01c08cb0$fcb00260$0100007f@sl.conex.net>
Message-ID: <000601c08d06$112484a0$0f2aa8c0@antonio>

Luiz,

2000-02-02 11:46 GMT+1 Antonio Linares <alinares@fivetech.com>
   * makefile.bc
     - removed an empty blank line (was causing a make error)

   * source/debug/dbgtobj.prg
     + Added missing function __DbgObject()

   * source/debug/dbgtarr.prg
     * fixed editing window height when reviewing just a 1 element array

You have done a good work but it still requires some little fixes.

BTW, Luiz, you should improve your formating style when writing source
code... :-)

Antonio



From harbour@lists.harbour-project.org  Sat Feb  3 05:36:03 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Sat Feb  3 05:36:03 2001
Subject: [Harbour] CHANGELOG: 2001-02-02 22:45 GMT+1
Message-ID: <3A7B2D28.686C462E@libero.it>

2001-02-02 22:45 GMT+1 Maurilio Longo <maurilio.longo@libero.it>
   * source/debug/debugger.prg
     - removed calls to oBrwText:ForceStable() method which is no more
available
     ! SetsUp() and SetsDown() functions were calling ::RefreshAll() and
movement methods
     without any reason causing a noticeable delay during Sets
scrolling.
   * source/debug/tbrwtext.prg
     - removed empty ::ForceStable() method
   * source/rtl/tbrowse.prg
     ! when a movement happens inside available on screen rows (like a
::Down() from row 1 to
     row 2) I have to force repainting of target row or else this
sequence (for example)
     fails: ::RefreshCurrent():Down():ForceStable() because to paint the
row where I issued a
     ::RefreshCurrent() I have to move one back from ::nNewRowPos, but
there I stay since
     ::nNewRowPos is not to redraw. I'm sure nobody understands what I'm
clearly unable to
     explain :-)
   * source/rtl/teditor.prg
     - removed a TODO: comment which is no more needed.

-- 

 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Sat Feb  3 05:36:06 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Sat Feb  3 05:36:06 2001
Subject: [Harbour] [Fwd: dbu dies with latest code]
Message-ID: <3A7B2FA5.D97619EF@libero.it>

It seems my ISP has problems, so I repost this message.

regards.

-------- Original Message --------
Oggetto: dbu dies with latest code
Data: Fri, 02 Feb 2001 22:59:51 +0100
Da: Maurilio Longo <maurilio.longo@libero.it>
Società: Team OS/2 Italia
A: harbour@lists.harbour-project.org

Hi,

with latest cvs code dbu dies with this error:


Exception c0000005 at address 2cf7c
Called from __CLSADDMSG(0)    
Called from TCLASS:CREATE(218)
Called from TBROWSE(176)             
Called from TBROWSENEW(1106)         
Called from TBROWSEDB(40)            
Called from BROWSE(98)
                                     
Process terminated by SIGSEGV
core dumped                 
SYS1808:                    
Il processo è terminato. Il codice per la diagnostica
software (codice dell'errore) è  0005. 

regards


-- 

 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Sat Feb  3 06:49:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb  3 06:49:02 2001
Subject: [Harbour] ChangeLog 2001-02-03
In-Reply-To: <3A7B2FA5.D97619EF@libero.it>
Message-ID: <000001c08dd6$ec447100$0f2aa8c0@antonio>

2001-02-03 08:52 GMT+1 Antonio Linares <alinares@fivetech.com>
   * source/debug/debugger.prg
     + Mouse support added to the popups.

   * source/debug/dbgtmenu.prg
     + Mouse support added to the popups.

2001-02-03 08:00 GMT+1 Antonio Linares <alinares@fivetech.com>
   * source/debug/debugger.prg
     + Mouse support added to the variables window.
       ( a single click selects a variable, a doble click edits it ).

   * source/debug/dbgtwin.prg
     + Added support for mouse single and doble click events.

2001-02-03 06:48 GMT+1 Antonio Linares <alinares@fivetech.com>
   * source/debug/dbgtobj.prg
     + Debugger objects datas already editables.

2001-02-03 05:21 GMT+1 Antonio Linares <alinares@fivetech.com>
   * source/debug/dbgtarr.prg
     - removed SetsUp(), SetsDown() and MyColors() not needed functions.
     -+ Maurilio's navigation technique implemented.

   * source/debug/dbgtobj.prg
     - removed SetsUp(), SetsDown() and MyColors() not needed functions.
     -+ Maurilio's navigation technique implemented.
     - removed the repainting of the window caption.

   * source/debug/debugger.prg
     - removed SetsUp(), SetsDown() and MyColors() not needed functions.
     ( Maurilio, your navigation technique is much faster! :-)


Antonio


From harbour@lists.harbour-project.org  Sat Feb  3 06:51:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb  3 06:51:02 2001
Subject: [Harbour] RE: HB_P_LOCALNAME bug (Ryszard, Ron)
In-Reply-To: <001101c08d24$e7964d20$0f2aa8c0@antonio>
Message-ID: <000101c08dd7$4a49a7c0$0f2aa8c0@antonio>

With that fix it is working ok.

Antonio

> Ok, I think I found the bug:



From harbour@lists.harbour-project.org  Sat Feb  3 06:53:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb  3 06:53:02 2001
Subject: [Harbour] Debugger TBrwText (Maurilio)
In-Reply-To: <3A7B2D28.686C462E@libero.it>
Message-ID: <000201c08dd7$94711d60$0f2aa8c0@antonio>

Maurilio,

I have seen you changed TBrwText to inherit from
TEditor. The problem now is how to show the breakpoints.
I see you commented the code:

      //::oBrwText:aColumns[ 1 ]:ColorBlock := { ||
f( AScan( ::aBreakPoints,;
      //   CompareLine( Self ) ) != 0, { 3, 4 }, { 1, 2 } ) }

What to do ?

Antonio



From harbour@lists.harbour-project.org  Sat Feb  3 07:16:02 2001
From: harbour@lists.harbour-project.org (Felipe Coury)
Date: Sat Feb  3 07:16:02 2001
Subject: [Harbour] Just a test
Message-ID: <017901c08d4c$2d282350$3c01a8c0@creation>

Ping

Felipe G. Coury
Gerente de Desenvolvimento
Creation Internet Business
http://www.creation.com.br

--------------------------------------------
Visite o GuiaBrasil.Net:
http://www.guiabrasil.net
--------------------------------------------



From harbour@lists.harbour-project.org  Sat Feb  3 07:25:04 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Sat Feb  3 07:25:04 2001
Subject: [Harbour] ChangeLog 2001-02-03 05:21 GMT+1
References: <000601c08d9a$0a42bdc0$0f2aa8c0@antonio>
Message-ID: <007c01c08ddc$560280a0$0100007f@sl.conex.net>

Antonio

>    * source/debug/dbgtarr.prg
>      - removed SetsUp(), SetsDown() and MyColors() not needed functions.
>      -+ Maurilio's navigation technique implemented.
>
>    * source/debug/dbgtobj.prg
>      - removed SetsUp(), SetsDown() and MyColors() not needed functions.
>      -+ Maurilio's navigation technique implemented.
>      - removed the repainting of the window caption.
>
>    * source/debug/debugger.prg
>      - removed SetsUp(), SetsDown() and MyColors() not needed functions.
>      ( Maurilio, your navigation technique is much faster! :-)

the Setup(),SetDown() and mycolors() was added since the tbrowse was failing
to deal with column where more than one has an colorblock setted


Regards

Luiz Rafael Culik


From harbour@lists.harbour-project.org  Sat Feb  3 07:25:08 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Sat Feb  3 07:25:08 2001
Subject: [Harbour] Debugger (Luiz) - ChangeLog 2000-02-02
References: <000601c08d06$112484a0$0f2aa8c0@antonio>
Message-ID: <007b01c08ddc$54dc0200$0100007f@sl.conex.net>

Antonio
>
>    * source/debug/dbgtobj.prg
>      + Added missing function __DbgObject()
>
>    * source/debug/dbgtarr.prg
>      * fixed editing window height when reviewing just a 1 element array
Ok

> You have done a good work but it still requires some little fixes.
>
> BTW, Luiz, you should improve your formating style when writing source
> code... :-)

Sorry, I´ve forget to use my source code formater.

Regards

Luiz Rafael Culik


From harbour@lists.harbour-project.org  Sat Feb  3 07:25:13 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Sat Feb  3 07:25:13 2001
Subject: [Harbour] RE: HB_P_LOCALNAME bug (Ryszard, Ron)
References: <001101c08d24$e7964d20$0f2aa8c0@antonio>
Message-ID: <007e01c08ddc$57b560c0$0100007f@sl.conex.net>

Antonio


> Ok, I think I found the bug:
>
> harbour.c
>
>      switch( hb_comp_iVarScope )
>       {
>          case VS_LOCAL:
>          case VS_PARAMETER:
>             {
>                USHORT wLocal = 1;
>
>                if( ! pFunc->pLocals )
>                   pFunc->pLocals = pVar;
>                else
>                {
>                   pLastVar = pFunc->pLocals;
>                   while( pLastVar->pNext )
>                   {
>                      pLastVar = pLastVar->pNext;
>                      wLocal++;
>                   }
>                   pLastVar->pNext = pVar;
>
>                   wLocal++;  <<<<<  This is missing

I´ve added the wLocal++ to my code and after compiling i got

e.prg
func main
local a:='a'
local b:='b'
local c:='c'
return nil

C code

const BYTE pcode[] =
   {
 HB_P_FRAME, 3, 0, /* locals, params */
/* 00003 */ HB_P_LINE, 2, 0, /* 2 */
 HB_P_PUSHSTRSHORT, 1, /* 1 */
 'a',
 HB_P_POPLOCALNEAR, 1, /* A */
/* 00011 */ HB_P_LINE, 3, 0, /* 3 */
 HB_P_PUSHSTRSHORT, 1, /* 1 */
 'b',
 HB_P_POPLOCALNEAR, 2, /* B */
/* 00019 */ HB_P_LINE, 4, 0, /* 4 */
 HB_P_PUSHSTRSHORT, 1, /* 1 */
 'c',
 HB_P_POPLOCALNEAR, 3, /* C */
/* 00027 */ HB_P_LINE, 5, 0, /* 5 */
 HB_P_PUSHNIL,
 HB_P_RETVALUE,
 HB_P_ENDPROC
/* 00033 */
   };

   hb_vmExecute( pcode, symbols );
}


Regards

Luiz Rafael Culik


From harbour@lists.harbour-project.org  Sat Feb  3 07:25:16 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Sat Feb  3 07:25:16 2001
Subject: [Harbour] ChangeLog 2001-02-02 16:48 GMT+1
References: <001c01c08d30$2de98840$0f2aa8c0@antonio>
Message-ID: <007d01c08ddc$56db2d60$0100007f@sl.conex.net>

Antonio

> 2001-02-02 16:48 GMT+1 Antonio Linares <alinares@fivetech.com>
>    * source/vm/debug.c
>      + New function __vmVarLSet() added.
>        Purpose: It sets the contents of a local variable placed
>                 at nProcLevel stack deep.
>        Syntax:  __vmVarLSet( <nProcLevel>, <nLocalIndex>,
<uNewValue> ) -->
> nil
>
>    * source/debug/debugger.prg
>      * Improved METHOD EditVar() for local variables
>        (it uses the new __vmVarLSet() function).
>
>      * Improved GetVarInfo() static function.


Very impressive. Don´t forget the DebuggerxStatic Variable issue

Regards

Luiz Rafael Culik


From harbour@lists.harbour-project.org  Sat Feb  3 07:45:03 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Sat Feb  3 07:45:03 2001
Subject: [Harbour] Debugger TBrwText (Maurilio)
References: <000201c08dd7$94711d60$0f2aa8c0@antonio>
Message-ID: <3A7BFCF5.BD544F5C@libero.it>

Antonio,

I'm aware of this, I had to to this (long ago) beacause it was _too_
slow with old TBrowse code (tens of times slower).

I can add breakpoint support to TBrwText (TEditor already has color
support), but I need a little more time. 

regards.


Antonio Linares ha scritto:
> 
> Maurilio,
> 
> I have seen you changed TBrwText to inherit from
> TEditor. The problem now is how to show the breakpoints.
> I see you commented the code:
> 
>       //::oBrwText:aColumns[ 1 ]:ColorBlock := { ||
> f( AScan( ::aBreakPoints,;
>       //   CompareLine( Self ) ) != 0, { 3, 4 }, { 1, 2 } ) }
> 
> What to do ?
> 
> Antonio
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Sat Feb  3 07:47:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Sat Feb  3 07:47:02 2001
Subject: [Harbour] ChangeLog 2001-02-03 05:21 GMT+1
References: <000601c08d9a$0a42bdc0$0f2aa8c0@antonio> <007c01c08ddc$560280a0$0100007f@sl.conex.net>
Message-ID: <3A7BFD7E.7DB864DE@libero.it>

Luiz,

you simply (and only) need to ::RefreshCurrent() a row to force it to be
repainted (and color definition inside a TbColumn object is taken into
account).

I still don't have found time to test clipper behaviour against
::Dehilite() method.

regards.

Luiz Rafael Culik Guimaraes ha scritto:
> 
> Antonio
> 
> >    * source/debug/dbgtarr.prg
> >      - removed SetsUp(), SetsDown() and MyColors() not needed functions.
> >      -+ Maurilio's navigation technique implemented.
> >
> >    * source/debug/dbgtobj.prg
> >      - removed SetsUp(), SetsDown() and MyColors() not needed functions.
> >      -+ Maurilio's navigation technique implemented.
> >      - removed the repainting of the window caption.
> >
> >    * source/debug/debugger.prg
> >      - removed SetsUp(), SetsDown() and MyColors() not needed functions.
> >      ( Maurilio, your navigation technique is much faster! :-)
> 
> the Setup(),SetDown() and mycolors() was added since the tbrowse was failing
> to deal with column where more than one has an colorblock setted
> 
> Regards
> 
> Luiz Rafael Culik
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Sat Feb  3 09:24:05 2001
From: harbour@lists.harbour-project.org (Phil Barnett)
Date: Sat Feb  3 09:24:05 2001
Subject: [Harbour] Fiber optic cable cut between Maryland and NYC
Message-ID: <3A7BCE0A.29065.7A98840@localhost>

They got the fiber link between NYC and Maryland fixed this 
morning, and our server is once again visible to the world!

Sorry about the outage, but there was not much anyone but the 
technicians working on the break could do about it.

Everything appears to be normal. Current uptime on the server is:

[root@taz2 /root]# uptime

  9:22am  up 113 days, 20:22,  2 users,  

load average: 0.00, 0.00, 0.00



-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@lists.harbour-project.org  Sat Feb  3 12:27:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb  3 12:27:02 2001
Subject: [Harbour] TClass curiosity (JF)
In-Reply-To: <3A7BFD7E.7DB864DE@libero.it>
Message-ID: <000701c08e06$50f5ae00$0f2aa8c0@antonio>

JF,

TClass():ClassName() is returning nil.

I guess we should change it to return the default
behavior: "TCLASS".

I appreciate your comments.

Antonio



From harbour@lists.harbour-project.org  Sat Feb  3 12:48:02 2001
From: harbour@lists.harbour-project.org (Sid Saylors)
Date: Sat Feb  3 12:48:02 2001
Subject: [Harbour] CHANGELOG: 2000-02-01 06:20 UTC-0800
References: <000901c08cbe$a626a800$921a5e18@bh> <00d901c08cec$20f91860$12016b83@bda>
Message-ID: <3A7C43F1.649EDB19@home.com>

Alex,

	No, this did not help with that problem ............:-(((

Sid...........

Alex Strickland wrote:
> 
> ----- Original Message -----
> From: "Brian Hays" <bhays@abacuslaw.com>
> Sent: 02 February 2001 04:20
> >    * source/rtl/memoline.c
> >       * fixed nasty bug that would blow away the app if word wrap was on
> >          and the next character after filling the line length was a space.
> 
> Does that fix your problem with the detached local arrays becoming
> corrupted?
> 
> Alex
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

From harbour@lists.harbour-project.org  Sat Feb  3 14:19:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Sat Feb  3 14:19:02 2001
Subject: [Harbour] RE: HB_P_LOCALNAME bug (Ryszard, Ron)
In-Reply-To: <000101c08dd7$4a49a7c0$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEDODJAA.Ron@Profit-Master.com>

Antonio,

Yes! Sorry my notebook died, and I didn't have even email access. I still
don't have CVS access, but hope to be up again soon.

Thanks for the great Job with debugger.

Ron

> With that fix it is working ok.

> Antonio

>> Ok, I think I found the bug:


From harbour@lists.harbour-project.org  Sun Feb  4 01:07:02 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Sun Feb  4 01:07:02 2001
Subject: [Harbour] CHANGELOG: 2000-02-01 06:20 UTC-0800
References: <000901c08cbe$a626a800$921a5e18@bh> <00d901c08cec$20f91860$12016b83@bda>
Message-ID: <000d01c08e71$6b14fc80$921a5e18@bh>

> >    * source/rtl/memoline.c
> >       * fixed nasty bug that would blow away the app if word wrap was on
> >          and the next character after filling the line length was a
space.
>
> Does that fix your problem with the detached local arrays becoming
> corrupted?
>
> Alex

Nope.  There was a second error I posted last week that looked like it was
related to our report arrays getting corrupted, but it was one of those
coincidences that a particular change in the array seemed to cause the app
to disappear.
In fact, the hb_xfree in memoline was the line blowing out, caused by a
somewhat rare condition that led to the classic "writing one byte too many
to a buffer."
A space character was overwriting the first byte following the xgrabbed
buffer.
When such a pointer was passed to hb_xfree, it was a completely untrappable
error.

We still have an unresolved problem where the detached arrays passed by
reference through a codeblock and going up and down several frames gets
turned to nil somewhere along the line.

Brian


From harbour@lists.harbour-project.org  Sun Feb  4 01:14:01 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Sun Feb  4 01:14:01 2001
Subject: [Harbour] ADS.CH modification
References: <BGEJIGGANMIAOJPONENJEEOBCDAA.ignacio@fivetech.com>
Message-ID: <001901c08e72$2e777310$921a5e18@bh>

Ignacio:
Sorry if I sounded too energetic with that last response ;-).
Do you think we should remove the ADS_* constants from the ADS.CH to avoid
the confusion, and only access the ads scoping commands through ordScope and
dbOrderInfo?

Brian


----- Original Message -----
From: "Ignacio Ortiz de Zuñiga" <ignacio@fivetech.com>
To: <harbour@lists.harbour-project.org>
Sent: Friday, February 02, 2001 12:32 AM
Subject: RE: [Harbour] ADS.CH modification


> >>Ignacio:
> >>Do NOT make this change!  These are the correct values for ADS
> >>directly!!
>
> Ok, do not worry. I agree with your point of view.
>
> Regards,
>
> Ignacio Ortiz de Zuñiga
> Email: ignacio@ozs.com
> Phone Email: ignaciosms@ozs.com
> http://www.ozs.com
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@lists.harbour-project.org  Sun Feb  4 02:27:03 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sun Feb  4 02:27:03 2001
Subject: [Harbour] 2001-02-04 08:22 GMT+1 ChangeLog
In-Reply-To: <001901c08e72$2e777310$921a5e18@bh>
Message-ID: <001501c08e7b$7a0a7080$0f2aa8c0@antonio>

2001-02-04 08:22 GMT+1 Antonio Linares <alinares@fivetech.com>
   * source/rtl/tclass.prg
     - METHOD ClassName() removed so we get the default expected value.


I discovered this bug inspecting objects from the debugger.
Now you can create a TClass() object and inspect it and works ok.

Antonio



From harbour@lists.harbour-project.org  Sun Feb  4 02:45:06 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sun Feb  4 02:45:06 2001
Subject: [Harbour] HB_P_STATICNAME (Ryszard, Ron)
In-Reply-To: <001501c08e7b$7a0a7080$0f2aa8c0@antonio>
Message-ID: <001601c08e7e$0e78dfc0$0f2aa8c0@antonio>

Ryszard, Ron,

We do need to implement a compiler new pcode opcode HB_P_STATICNAME,
similar as we do for HB_P_LOCALNAME, so we can retrieve statics variables
names from the debugger.

Also, we need a function to retrive their values at runtime,
similar as we do using __mvDbgInfo() for publics and privates,
and __vmVarLGet() (and __vmVarLSet()) for locals.

Thanks for your help,

Antonio


From harbour@lists.harbour-project.org  Sun Feb  4 03:35:03 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sun Feb  4 03:35:03 2001
Subject: [Harbour] HB_P_STATICNAME (Ryszard, Ron)
In-Reply-To: <001601c08e7e$0e78dfc0$0f2aa8c0@antonio>
Message-ID: <001701c08e85$0f042ba0$0f2aa8c0@antonio>

Ryszard, Ron,

I have been able to implement here (I have not CVSed it)
HB_P_STATICNAME opcode and genc support for in-functions 
declared statics, (and it is working ok!) but I am unable 
to do the same for out-functions declared ones :-/

Help!!!! 


Antonio


From harbour@lists.harbour-project.org  Sun Feb  4 05:01:04 2001
From: harbour@lists.harbour-project.org (JF Lefebvre)
Date: Sun Feb  4 05:01:04 2001
Subject: [Harbour] TClass curiosity (JF)
In-Reply-To: <000701c08e06$50f5ae00$0f2aa8c0@antonio>
References: <3A7BFD7E.7DB864DE@libero.it>
Message-ID: <200102041000.f14A05w07119@ev6.be.wanadoo.com>

Hi Antonio,

> JF,
> 
> TClass():ClassName() is returning nil.
> 
> I guess we should change it to return the default
> behavior: "TCLASS".

Yes indeed, I will do it today.
 
> I appreciate your comments.
> 
> Antonio
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 



Best regards,

J. Lefebvre,
Bruxelles,
Belgium


From harbour@lists.harbour-project.org  Sun Feb  4 05:03:02 2001
From: harbour@lists.harbour-project.org (JF Lefebvre)
Date: Sun Feb  4 05:03:02 2001
Subject: [Harbour] 2001-02-04 08:22 GMT+1 ChangeLog
In-Reply-To: <001501c08e7b$7a0a7080$0f2aa8c0@antonio>
References: <001901c08e72$2e777310$921a5e18@bh>
Message-ID: <200102041002.f14A2Rw07711@ev6.be.wanadoo.com>

Hi Antonio

oups :) too late, you do it before me ...

Thanks,

> 2001-02-04 08:22 GMT+1 Antonio Linares <alinares@fivetech.com>
>    * source/rtl/tclass.prg
>      - METHOD ClassName() removed so we get the default expected value.
> 
> 
> I discovered this bug inspecting objects from the debugger.
> Now you can create a TClass() object and inspect it and works ok.
> 
> Antonio
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 



Best regards,

J. Lefebvre,
Bruxelles,
Belgium


From harbour@lists.harbour-project.org  Sun Feb  4 14:05:03 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Sun Feb  4 14:05:03 2001
Subject: [Harbour] HB_P_STATICNAME (Ryszard, Ron)
In-Reply-To: <001701c08e85$0f042ba0$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEEBDJAA.Ron@Profit-Master.com>

Antonio,

You only need to touch genc in hb_p_statics (line 1580) add the following:

========

   PVAR pVar;
   PFUNCTION pOwner;
   USHORT wVar, i = 1;

========

And later at line 1590:

========

   while ( i <= hb_comp_iStaticCnt )
   {
      pOwner = hb_comp_functions.pFirst;
      wVar = i;

      while( pOwner->pNext && pOwner->pNext->iStaticsBase < wVar )
      {
         pOwner = pOwner->pNext;
      }

      pVar = hb_compVariableFind( pOwner->pStatics, wVar -
pOwner->iStaticsBase );

      if( pOwner->szName[0] == 0 )
      {
         printf( "\n%i = (%s).%s\n", i, hb_comp_pFileName, pVar->szName );
      }
      else
      {
         printf( "\n%i = %s.%s\n", i, pOwner->szName, pVar->szName );
      }

      i++;
   }

========

Ofcourse change the printf to the fprintf( cargo->yyc, "HB_P_STATICNAME %s",
pVar->szName ) etc.

You'll also have to check if DEBUG info needed, and change the return value,
for correct number of PCODE bytes generated.

Ron

<<<
Ryszard, Ron,

I have been able to implement here (I have not CVSed it)
HB_P_STATICNAME opcode and genc support for in-functions
declared statics, (and it is working ok!) but I am unable
to do the same for out-functions declared ones :-/

Help!!!!

Antonio
>>>


From harbour@lists.harbour-project.org  Sun Feb  4 15:09:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Sun Feb  4 15:09:02 2001
Subject: [Harbour] HB_P_STATICNAME (Ryszard, Ron)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEEBDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEEBDJAA.Ron@Profit-Master.com>

Antonio,

Sorry, you do *NOT* have to change the return value!
 
Ron

From harbour@lists.harbour-project.org  Sun Feb  4 16:17:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Sun Feb  4 16:17:02 2001
Subject: [Harbour] CHANGELOG: 2001-02-04 22:15 GMT+1
Message-ID: <3A7DC684.73728DCA@libero.it>

2001-02-04 22:15 GMT+1 Maurilio Longo <maurilio.longo@libero.it>
   * source/debug/debugger.prg
     * little changes, like adding K_LEFT and K_RIGHT to
CodeWindowProcessKey (but they don't work)
   * source/debug/tbrwtext.prg
     + Added support for break points (coloring of text)
   * source/rtl/teditor.prg
     + Changed ::RefreshXXX() methods to allow line coloring outside of
TEditor logic.
-- 

 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Sun Feb  4 16:54:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Sun Feb  4 16:54:02 2001
Subject: [Harbour] CHANGELOG: 2001-02-04 22:50 GMT+1
Message-ID: <3A7DCF35.AC673EA@libero.it>

2001-02-04 22:50 GMT+1 Maurilio Longo <maurilio.longo@libero.it>
   * source/debug/debugger.prg
     ! fixed CommandWindowProcessKey() where a K_DOWN on an empty
command list was killing
     debugger with an out of bounds error.
     + Added a begin..end sequence to K_ENTER processing to survive
requests to print
     variables which don't exist (like mispelled ones).

-- 

 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Sun Feb  4 17:09:02 2001
From: harbour@lists.harbour-project.org (Fernando (ROL))
Date: Sun Feb  4 17:09:02 2001
Subject: [Harbour] A few lines of code left
Message-ID: <002901c08ef6$ce7be920$350ff4c8@f1>

As I told you, I've been working in Sao Paulo. Sorry for all this waiting.
By the way, these lines just prepare an proper entrance for execution flow.

 METHOD InitProc( cModuleName ) CLASS TDebugger

   local cFunction
   local cPrgName

   cFunction := SubStr( cModuleName, At( ":", cModuleName ) + 1 )
   cPrgName  := SubStr( cModuleName, 1, At( ":", cModuleName ) - 1 )
   ASize( ::aCallStack, Len( ::aCallStack ) + 1 )
   AIns( ::aCallStack, 1 )
   if Len( ::aCallStack ) == 1
      cFunction := ProcName( 3 )
   else
      cFunction := ProcName( 2 )
   endif
   ::aCallStack[ 1 ] := { cFunction, cPrgName }
   if ::oWndStack != nil
      ::oBrwStack:RefreshAll()
   endif
   if cPrgName != ::cPrgName
      ::ShowCode ( cModuleName )
   endif
return nil




From harbour@lists.harbour-project.org  Sun Feb  4 20:01:01 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Sun Feb  4 20:01:01 2001
Subject: [Harbour] A few lines of code left
References: <002901c08ef6$ce7be920$350ff4c8@f1>
Message-ID: <3A7DF3FF.50F9BC62@nh.conex.com.br>

Fernando

Thanks for sending the missing method.

Antonio, I´ll add this , since he send other changes direct to me


Btw,where you are adding the local var to the ::avars , i´m done some
tests, and i only could see the local vars , but the publics no.

I´d also suggest that that you move the code that put the local vars to
the Monitor window in the loadvars() method. I´m working on the Sort and
all Var to show

Regards

Luiz Rafael Culik

From harbour@lists.harbour-project.org  Mon Feb  5 00:01:01 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Mon Feb  5 00:01:01 2001
Subject: [Harbour] HB_P_STATICNAME (Ryszard, Ron)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEEBDJAA.Ron@Profit-Master.com>
Message-ID: <000101c08f30$489c9f40$0f2aa8c0@antonio>

Ron,

> You only need to touch genc in hb_p_statics (line 1580) add the following:

You really impress me, my friend.

Simple and works!

Thanks master,

Antonio



From harbour@lists.harbour-project.org  Mon Feb  5 00:23:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Mon Feb  5 00:23:02 2001
Subject: [Harbour] HB_P_STATICNAME (Ryszard, Ron)
In-Reply-To: <000101c08f30$489c9f40$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKCEEEDJAA.Ron@Profit-Master.com>

Antonio,

> Simple and works!

Great, you can also get rid of i, and use just wVar.

Ron

From harbour@lists.harbour-project.org  Mon Feb  5 00:51:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Mon Feb  5 00:51:02 2001
Subject: [Harbour] Debugger (Luiz) - ChangeLog 2000-02-02
In-Reply-To: <007b01c08ddc$54dc0200$0100007f@sl.conex.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMEEEDJAA.Ron@Profit-Master.com>

Luiz,

> > BTW, Luiz, you should improve your formatting style when writing source
> > code... :-)
>
> Sorry, I´ve forget to use my source code formater.

Even without formatter, you should try to keep it consistent with other
code. It makes it much simpler for others to help :-)

Ron


From harbour@lists.harbour-project.org  Mon Feb  5 00:57:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Mon Feb  5 00:57:02 2001
Subject: [Harbour] HB_P_STATICNAME (Ryszard, Ron)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEEEDJAA.Ron@Profit-Master.com>
Message-ID: <000501c08f38$2b9b1c20$0f2aa8c0@antonio>

Ron,

(sorry to use the list to comunicate him, emails gets bounced!)

Please connect to the ICQ so I may comment you a few things,

Thanks!

Antonio



From harbour@lists.harbour-project.org  Mon Feb  5 01:04:01 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Mon Feb  5 01:04:01 2001
Subject: [Harbour] HB_P_STATICNAME (Ryszard, Ron)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEEEDJAA.Ron@Profit-Master.com>
Message-ID: <000601c08f39$0d98cf00$0f2aa8c0@antonio>

Ron,

I just need the out of functions declared statics variables names.

Could we make the code even simpler ? :-)

(I am thinking about it...)

Antonio


From harbour@lists.harbour-project.org  Mon Feb  5 02:05:03 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Mon Feb  5 02:05:03 2001
Subject: [Harbour] HB_P_STATICNAME (Ryszard, Ron)
In-Reply-To: <000601c08f39$0d98cf00$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEEFDJAA.Ron@Profit-Master.com>

Antonio,

I'm online now, but don't have your ICQ No. on my new machine.

Ron


From harbour@lists.harbour-project.org  Mon Feb  5 02:14:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Mon Feb  5 02:14:02 2001
Subject: [Harbour] HB_P_STATICNAME (Ryszard, Ron)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEEFDJAA.Ron@Profit-Master.com>
Message-ID: <000001c08f42$e18558c0$0f2aa8c0@antonio>

Ron,

See how I have modified the code:

   pOwner = hb_comp_functions.pFirst;

   if( pOwner->szName[0] == 0 ) /* is _INITSTATICS ? */
   {
      pVar = hb_compVariableFind( pOwner->pStatics, 0 ); /* first static
variable */

      while( pVar )
      {
         fprintf( cargo->yyc, "\tHB_P_STATICNAME, %i, %i,",
                  HB_LOBYTE( wVar ), HB_HIBYTE( wVar ) );

         if( cargo->bVerbose ) fprintf( cargo->yyc, "\t/* %s */",
pVar->szName );
         fprintf( cargo->yyc, "\n" );

         i = 0;

         while( chr = pVar->szName[ i++ ] )
            if( chr == '\'' || chr == '\\')
               fprintf( cargo->yyc, " \'\\%c\',", chr );
            else
               fprintf( cargo->yyc, " \'%c\',", chr );

         fprintf( cargo->yyc, " 0,\n" );
         pVar = pVar->pNext;
         wVar++;
      }
      wVar++;
   }

I am geting this output, which it is ok:

static HARBOUR hb_INITSTATICS( void )
{
   static const BYTE pcode[] =
   {
	HB_P_STATICS, 4, 0, 5, 0,	/* symbol (_INITSTATICS), 5 statics */
	HB_P_STATICNAME, 0, 0,	/* TEST */
 'T', 'E', 'S', 'T', 0,
	HB_P_STATICNAME, 1, 0,	/* TEST1 */
 'T', 'E', 'S', 'T', '1', 0,
	HB_P_STATICNAME, 2, 0,	/* TEST2 */
 'T', 'E', 'S', 'T', '2', 0,
	HB_P_ENDPROC
/* 00006 */
   };

   hb_vmExecute( pcode, symbols );
}

But notice that /* 00006 */ is wrong, how to fix it ?

Also, how to avoid the generation of that output if /b is not used ?

Thanks my friend!

Antonio



From harbour@lists.harbour-project.org  Mon Feb  5 02:26:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Mon Feb  5 02:26:02 2001
Subject: [Harbour] HB_P_STATICNAME (Ryszard, Ron)
In-Reply-To: <000001c08f42$e18558c0$0f2aa8c0@antonio>
Message-ID: <000301c08f44$9636dd60$0f2aa8c0@antonio>

Ron, 

Even simpler, as hb_compVariableFind() is not needed here:

>    if( pOwner->szName[0] == 0 ) /* is _INITSTATICS ? */
>    {
        pVar = pOwner->pStatics; /* first static variable */


Antonio


From harbour@lists.harbour-project.org  Mon Feb  5 02:26:09 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Mon Feb  5 02:26:09 2001
Subject: [Harbour] HB_P_STATICNAME (Ryszard, Ron)
In-Reply-To: <000001c08f42$e18558c0$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEEFDJAA.Ron@Profit-Master.com>

Antonio,

> Also, how to avoid the generation of that output if /b is not used ?

Wrap the code with:

  if ( hb_comp_bDebugInfo )

Ron



From harbour@lists.harbour-project.org  Mon Feb  5 02:53:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Mon Feb  5 02:53:02 2001
Subject: [Harbour] HB_P_STATICNAME (Ryszard, Ron)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEEFDJAA.Ron@Profit-Master.com>
Message-ID: <000401c08f48$5b45eb20$0f2aa8c0@antonio>

Ron,

> > Also, how to avoid the generation of that output if /b is not used ?
> 
> Wrap the code with:
> 
>   if ( hb_comp_bDebugInfo )

Great! Thanks a lot!

I am almost ready to CVS it, though still we need to fix the /* 00006 */
generated value on the C file... (suggestions are welcome :-)

Antonio


From harbour@lists.harbour-project.org  Mon Feb  5 03:16:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Mon Feb  5 03:16:02 2001
Subject: [Harbour] HB_P_STATICNAME (Ryszard, Ron)
In-Reply-To: <000401c08f48$5b45eb20$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEEGDJAA.Ron@Profit-Master.com>

Antonio,

> I am almost ready to CVS it, though still we need to fix the /* 00006 */
> generated value on the C file... (suggestions are welcome :-)

I don't think we need to have the byte count at end of Function.

Or add:

    static long s_lByteCount = 0;

assign to it your byte count, and change  1785-6 to:

   if( genc_info.bVerbose )
      fprintf( yyc, "/* %05li */\n", s_lByteCount ? s_lByteCount :
pFunc->lPCodePos );

Ron


From harbour@lists.harbour-project.org  Mon Feb  5 03:19:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Mon Feb  5 03:19:02 2001
Subject: [Harbour] HB_P_STATICNAME (Ryszard, Ron)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEEGDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAEEHDJAA.Ron@Profit-Master.com>

>     static long s_lByteCount = 0;
>
> assign to it your byte count, and change  1785-6 to:
>
>    if( genc_info.bVerbose )
>       fprintf( yyc, "/* %05li */\n", s_lByteCount ? s_lByteCount :
> pFunc->lPCodePos );

And add s_lByteCout = 0; after the fprintf(), incase we use it other places.

Ron


From harbour@lists.harbour-project.org  Mon Feb  5 03:54:03 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Ignacio_Ortiz_de_Zu=F1iga?=)
Date: Mon Feb  5 03:54:03 2001
Subject: [Harbour] ADS.CH modification
In-Reply-To: <001901c08e72$2e777310$921a5e18@bh>
Message-ID: <BGEJIGGANMIAOJPONENJGEPBCDAA.ignacio@fivetech.com>

Brian,

I believe CH files are only for Harbour developers, not for C developers,
and there is no need to access the wrappers function to ADS from Harbour
code since the RDD functions do the job perfectly. For all that I simply
suggest to take of those two defines from the CH file. (an maybe hide the
ADS functions wrappers to Harbour developers)

Regards,

Ignacio Ortiz de Zuñiga
Email: ignacio@ozs.com
Phone Email: ignaciosms@ozs.com
http://www.ozs.com

-----Mensaje original-----
De: harbour-admin@lists.harbour-project.org
[mailto:harbour-admin@lists.harbour-project.org]En nombre de Brian Hays
Enviado el: domingo, 04 de febrero de 2001 7:18
Para: harbour@lists.harbour-project.org
Asunto: Re: [Harbour] ADS.CH modification


Ignacio:
Sorry if I sounded too energetic with that last response ;-).
Do you think we should remove the ADS_* constants from the ADS.CH to avoid
the confusion, and only access the ads scoping commands through ordScope and
dbOrderInfo?

Brian


----- Original Message -----
From: "Ignacio Ortiz de Zuñiga" <ignacio@fivetech.com>
To: <harbour@lists.harbour-project.org>
Sent: Friday, February 02, 2001 12:32 AM
Subject: RE: [Harbour] ADS.CH modification


> >>Ignacio:
> >>Do NOT make this change!  These are the correct values for ADS
> >>directly!!
>
> Ok, do not worry. I agree with your point of view.
>
> Regards,
>
> Ignacio Ortiz de Zuñiga
> Email: ignacio@ozs.com
> Phone Email: ignaciosms@ozs.com
> http://www.ozs.com
>
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>

_______________________________________________
Harbour mailing list
Harbour@lists.harbour-project.org
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org



From harbour@lists.harbour-project.org  Mon Feb  5 04:06:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Mon Feb  5 04:06:02 2001
Subject: [Harbour] CHANGELOG: 2001-02-04 22:15 GMT+1
In-Reply-To: <3A7DC684.73728DCA@libero.it>
Message-ID: <001401c08f52$81c2ee60$0f2aa8c0@antonio>

Maurilio,

Thanks a lot for your work,

Antonio

> 2001-02-04 22:15 GMT+1 Maurilio Longo <maurilio.longo@libero.it>
>    * source/debug/debugger.prg
>      * little changes, like adding K_LEFT and K_RIGHT to
> CodeWindowProcessKey (but they don't work)
>    * source/debug/tbrwtext.prg
>      + Added support for break points (coloring of text)
>    * source/rtl/teditor.prg
>      + Changed ::RefreshXXX() methods to allow line coloring outside of
> TEditor logic.
> -- 
> 
>  __________                   
> |  |  | |__| md2520@mclink.it 
> |_|_|_|____| Team OS/2 Italia
> _______________________________________________



From harbour@lists.harbour-project.org  Mon Feb  5 05:07:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Mon Feb  5 05:07:02 2001
Subject: [Harbour] ChangeLog 2001-02-05 10:23 GMT+1
In-Reply-To: <001401c08f52$81c2ee60$0f2aa8c0@antonio>
Message-ID: <001501c08f5a$f2ac9880$0f2aa8c0@antonio>

2001-02-05 10:23 GMT+1 Antonio Linares <alinares@fivetech.com>
   * harbour/include/hbpcode.h
     + HB_P_STATICNAME opcode added.

   * harbour/source/compiler/genc.c
     + New hb_p_staticname() function added.
     * Modified hb_p_statics() function.

   * harbour/source/compiler/harbour.c
     + HB_P_STATICNAME opcode support.

   * harbour/source/compiler/hbfix.c
     + hb_p_staticname support.

   * harbour/source/compiler/hbpcode.c
     + HB_P_STATICNAME support.

   * harbour/source/debug/debugger.prg
     + statics variables support (not finished yet!)

   * harbour/source/vm/hvm.c
     + New hb_vmStaticName() added.

   WARNING: All libraries must be rebuilt as opcodes have changed!!!


Antonio


From harbour@lists.harbour-project.org  Mon Feb  5 13:38:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Mon Feb  5 13:38:02 2001
Subject: [Harbour] 2001-02-05 21:10 GMT+3
Message-ID: <404759927.20010205212241@belacy.belgorod.su>

2001-02-05 21:10 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/include/hbrddntx.h
   * harbour/source/rdd/dbfntx/dbfntx1.c
   + harbour/tests/testntx.prg
     * Implemented SKIP for ntx.
     * Indexkey(), etc. returns now info about current index.
     * Implemented buffering of index pages ( exclusive mode ).


     DBFNTX can be used now for indexing and for work in readonly
     mode:
      seeking, skipping, go top, go bottom, set order, ...
      See tests/testntx.prg
      Set relation isn't implemented yet.

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Mon Feb  5 14:09:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb  5 14:09:02 2001
Subject: [Harbour] Type Violations
Message-ID: <200102051908.f15J8km03152@thor.parrett.net>

Please take care to use the correct type overrides when using hb_xalloc
or hb_xrealloc:

../../pragma.c(229:56) : error EDC3055: "unsigned char*" cannot be
converted to "BYTE*".
../../pragma.c(234:59) : error EDC3055: "unsigned char*" cannot be
converted to "BYTE*".
../../harbour.l(888:59) : error EDC3055: "unsigned char*" cannot be
converted to "BYTE*".
../../harbour.l(893:62) : error EDC3055: "unsigned char*" cannot be
converted to "BYTE*".
cls

pItem->pCode is of type 'BYTE *' (and not of type 'unsigned char *').
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb  5 15:09:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Mon Feb  5 15:09:02 2001
Subject: [Harbour] CHANGELOG: 2001-02-05 21:05 GMT+1
Message-ID: <3A7F0825.3175FA43@libero.it>

2001-02-05 21:05 GMT+1 Maurilio Longo <maurilio.longo@libero.it>
   * source/debug/debugger.prg
     + Added LineNumbers() method
   * source/debug/tbrwtext.prg
     + Added support for inclusion/exclusion of line numbering at
runtime
   * source/debug/dbgmenu.prg
     + Added Menu item to activate line numbering

-- 

 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Mon Feb  5 16:21:01 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Mon Feb  5 16:21:01 2001
Subject: [Harbour] CHANGELOG: 2001-02-05 21:05 GMT+1
In-Reply-To: <3A7F0825.3175FA43@libero.it>
Message-ID: <000401c08fb9$30988ec0$0f2aa8c0@antonio>

Maurilio,

Excellent! Thanks a lot!

Maurilio, you are a TBrowse() expert :-), do you have
an idea about the best way to implement mouse support on TBrowses ?

i.e.: Open Sets window from debugger. How we may make it mouse aware ?
(I have used a technique on the vars window, but I don't think it is
a good way, as I skip() one by one, until I reach the clicked row.
Clipper debugger does it much faster).

Thanks!

Antonio

> 2001-02-05 21:05 GMT+1 Maurilio Longo <maurilio.longo@libero.it>
>    * source/debug/debugger.prg
>      + Added LineNumbers() method
>    * source/debug/tbrwtext.prg
>      + Added support for inclusion/exclusion of line numbering at
> runtime
>    * source/debug/dbgmenu.prg
>      + Added Menu item to activate line numbering
> 
> -- 
> 
>  __________                   
> |  |  | |__| md2520@mclink.it 
> |_|_|_|____| Team OS/2 Italia
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 


From harbour@lists.harbour-project.org  Mon Feb  5 16:21:06 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Mon Feb  5 16:21:06 2001
Subject: [Harbour] 2001-02-05 21:10 GMT+3
In-Reply-To: <404759927.20010205212241@belacy.belgorod.su>
Message-ID: <000501c08fb9$3c273ca0$0f2aa8c0@antonio>

Alexander,

Great job!


Antonio



From harbour@lists.harbour-project.org  Mon Feb  5 16:44:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb  5 16:44:02 2001
Subject: [Harbour] ChangeLog 2001-02-05 16:15 UTC-0500
Message-ID: <200102052143.f15LhHm18241@thor.parrett.net>

2001-02-05 16:15 UTC-0500 David G. Holm <dholm@jsd-llc.com>
  * source/compiler/harbour.l
  * source/pp/pragma.c
    ! Corrected hb_xalloc and hb_xrealloc type overrides for
      pItem->pCode to be (BYTE *).
  * tests/Makefile
    * Only program modules that fail to compile and link are supposed
      to be listed under BAD_PRG_SOURCES, so I've moved the following
      to PRG_SOURCES: clasname, lnlenli2, setkeys, testcdx, testdbf,
      testhtml, testid, testrdd, and teststr.
  * tests/testid.prg
    * Documented how to set /dTEST if using the GNU Make System.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb  5 16:49:02 2001
From: harbour@lists.harbour-project.org (Janio Moreira Barros)
Date: Mon Feb  5 16:49:02 2001
Subject: [Harbour] Help.
Message-ID: <011401c08fbd$47c41e80$0101a8c0@softtech>

Hi,

I am beginner in harbour, but I worked a long time with Clipper, would like
to know as I do to modernize my harbour, if possible step the step.

It is also to know it exists some discussion list in Portuguese, because I
am using a translator.

Thank's

Janio
jjanio@escelsa.com.br



From harbour@lists.harbour-project.org  Mon Feb  5 21:12:02 2001
From: harbour@lists.harbour-project.org (Sid Saylors)
Date: Mon Feb  5 21:12:02 2001
Subject: [Harbour] ChangeLog 2001-02-05 16:15 UTC-0500
References: <200102052143.f15LhHm18241@thor.parrett.net>
Message-ID: <000f01c08fe2$0b780610$aa4c0418@cx588881b>

Dave,
    After these fixs Fwp apps. won't run (not even start)
Sid......


----- Original Message ----- 
From: "David G. Holm" <dholm@jsd-llc.com>
To: <harbour@lists.harbour-project.org>
Sent: Monday, February 05, 2001 1:42 PM
Subject: [Harbour] ChangeLog 2001-02-05 16:15 UTC-0500


> 2001-02-05 16:15 UTC-0500 David G. Holm <dholm@jsd-llc.com>
>   * source/compiler/harbour.l
>   * source/pp/pragma.c
>     ! Corrected hb_xalloc and hb_xrealloc type overrides for
>       pItem->pCode to be (BYTE *).
>   * tests/Makefile
>     * Only program modules that fail to compile and link are supposed
>       to be listed under BAD_PRG_SOURCES, so I've moved the following
>       to PRG_SOURCES: clasname, lnlenli2, setkeys, testcdx, testdbf,
>       testhtml, testid, testrdd, and teststr.
>   * tests/testid.prg
>     * Documented how to set /dTEST if using the GNU Make System.
> -- 
> David G. Holm, Set Captain and all around
> Harbour Project Clipper Compatibility fanatic.
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 


From harbour@lists.harbour-project.org  Mon Feb  5 22:09:02 2001
From: harbour@lists.harbour-project.org (Sid Saylors)
Date: Mon Feb  5 22:09:02 2001
Subject: [Harbour] ChangeLog 2001-02-05 16:15 UTC-0500
References: <200102052143.f15LhHm18241@thor.parrett.net> <000f01c08fe2$0b780610$aa4c0418@cx588881b>
Message-ID: <3A7F6A8A.E59610C3@home.com>

Dave ,

that should have read FWH and not fwp

Sorry
Sid.........

Sid Saylors wrote:
> 
> Dave,
>     After these fixs Fwp apps. won't run (not even start)
> Sid......
> 
> ----- Original Message -----
> From: "David G. Holm" <dholm@jsd-llc.com>
> To: <harbour@lists.harbour-project.org>
> Sent: Monday, February 05, 2001 1:42 PM
> Subject: [Harbour] ChangeLog 2001-02-05 16:15 UTC-0500
> 
> > 2001-02-05 16:15 UTC-0500 David G. Holm <dholm@jsd-llc.com>
> >   * source/compiler/harbour.l
> >   * source/pp/pragma.c
> >     ! Corrected hb_xalloc and hb_xrealloc type overrides for
> >       pItem->pCode to be (BYTE *).
> >   * tests/Makefile
> >     * Only program modules that fail to compile and link are supposed
> >       to be listed under BAD_PRG_SOURCES, so I've moved the following
> >       to PRG_SOURCES: clasname, lnlenli2, setkeys, testcdx, testdbf,
> >       testhtml, testid, testrdd, and teststr.
> >   * tests/testid.prg
> >     * Documented how to set /dTEST if using the GNU Make System.
> > --
> > David G. Holm, Set Captain and all around
> > Harbour Project Clipper Compatibility fanatic.
> > _______________________________________________
> > Harbour mailing list
> > Harbour@lists.harbour-project.org
> > http://www.matrixlist.com/mailman/listinfo/harbour
> >
> > Thank you for participating in The Harbour Project.  Be sure to check
> > http://www.Harbour-Project.org
> >
> >
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

From harbour@lists.harbour-project.org  Mon Feb  5 22:25:03 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb  5 22:25:03 2001
Subject: [Harbour] ChangeLog 2001-02-05 16:15 UTC-0500
In-Reply-To: <000f01c08fe2$0b780610$aa4c0418@cx588881b>
References: <200102052143.f15LhHm18241@thor.parrett.net>
Message-ID: <200102060324.f163OWm12818@thor.parrett.net>

** Reply to message from "Sid Saylors" <saylors@home.com> on Mon, 5 Feb
2001 18:10:57 -0800

> After these fixs Fwp apps. won't run (not even start)

The problem that you are seeing is not related to the changes that I
made. Instead, it is a side-effect of Antonio adding a needed PCODE to
Harbour. See his "ChangeLog 2001-02-05 10:23 GMT+1" message, where he
noted that "WARNING: All libraries must be rebuilt as opcodes have
changed!!!".

Unfortunately, the FwH library *also* needs to be rebuilt, so until a
new FwH library is released, you cannot build FwH applications with the
latest CVS build of Harbour.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb  5 22:38:02 2001
From: harbour@lists.harbour-project.org (Sid Saylors)
Date: Mon Feb  5 22:38:02 2001
Subject: [Harbour] ChangeLog 2001-02-05 16:15 UTC-0500
References: <200102052143.f15LhHm18241@thor.parrett.net> <200102060324.f163OWm12818@thor.parrett.net>
Message-ID: <3A7F7129.324025D2@home.com>

Dave,

ok, now i see........

Antonio.....................

reagards

Sid........



"David G. Holm" wrote:
> 
> ** Reply to message from "Sid Saylors" <saylors@home.com> on Mon, 5 Feb
> 2001 18:10:57 -0800
> 
> > After these fixs Fwp apps. won't run (not even start)
> 
> The problem that you are seeing is not related to the changes that I
> made. Instead, it is a side-effect of Antonio adding a needed PCODE to
> Harbour. See his "ChangeLog 2001-02-05 10:23 GMT+1" message, where he
> noted that "WARNING: All libraries must be rebuilt as opcodes have
> changed!!!".
> 
> Unfortunately, the FwH library *also* needs to be rebuilt, so until a
> new FwH library is released, you cannot build FwH applications with the
> latest CVS build of Harbour.
> --
> David G. Holm, Set Captain and all around
> Harbour Project Clipper Compatibility fanatic.
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

From harbour@lists.harbour-project.org  Tue Feb  6 02:23:02 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Tue Feb  6 02:23:02 2001
Subject: [Harbour] Help.
References: <011401c08fbd$47c41e80$0101a8c0@softtech>
Message-ID: <3A7FA56D.B7D185ED@nh.conex.com.br>

Dear Friend

Janio Moreira Barros wrote:
> 
> Hi,
> 
> I am beginner in harbour, but I worked a long time with Clipper, would like
> to know as I do to modernize my harbour, if possible step the step.
> 
> It is also to know it exists some discussion list in Portuguese, because I
> am using a translator.

-------English-------

The list once existed, but since their was not much interest i close
her.

-------Portugues-------

A lista existiu, mas como nao tinha muito movimento eu a fechei

Regards

Luiz Rafael Culik


From harbour@lists.harbour-project.org  Tue Feb  6 04:51:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Tue Feb  6 04:51:02 2001
Subject: [Harbour] ChangeLog 2001-02-05 16:15 UTC-0500
In-Reply-To: <3A7F7129.324025D2@home.com>
Message-ID: <000601c09022$0e8726c0$0f2aa8c0@antonio>

Sid,

David is totally right. A new FWH libs are needed.

We will distribute them today or tomorrow.

Antonio



From harbour@lists.harbour-project.org  Tue Feb  6 05:06:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Tue Feb  6 05:06:02 2001
Subject: [Harbour] Changelog 2001-02-06 12:00 GMT+3
Message-ID: <3015855599.20010206130317@belacy.belgorod.su>

2001-02-06 12:00 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/source/rdd/dbfntx/dbfntx1.c
     * fixed problem with correct movement via CA Clipper created ntx file
  
  I noticed that problem after previous upload.
  Now Harbour's dbfntx correctly goes through Clipper's ntx.

  Current index creating routines aren't good enough, they should be
  optimized, but they works, tested with BC 5.5 and Linux/gcc .

  
Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Tue Feb  6 05:46:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Tue Feb  6 05:46:02 2001
Subject: [Harbour] preprocessor proposed fix (Alexander, Ron)
In-Reply-To: <3015855599.20010206130317@belacy.belgorod.su>
Message-ID: <000201c09029$c1a133c0$0f2aa8c0@antonio>

Alexander, Ron

I have just noticed a preprocess syntax that makes Harbour.exe
GPF. I guess we should fix it to give harbour.exe more robustness.

This works ok,

#xcommand MENUITEM [ <oMenuItem> PROMPT ] <cPrompt> [ ACTION <uAction,...> ]
;
   [ <checked: CHECK, CHECKED> ] => ;
   [ <oMenuItem> := ] TDbMenu():AddItem( TDbMenuItem():New( <cPrompt>,;
   [{|Self|<uAction>}] ,[<.checked.>] ) )

but if I remove this:

[ <checked: CHECK, CHECKED ]
                         ^^^
then Harbour GPFs.

Thanks for your help,

Antonio



From harbour@lists.harbour-project.org  Tue Feb  6 06:05:04 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Ignacio_Ortiz_de_Zu=F1iga?=)
Date: Tue Feb  6 06:05:04 2001
Subject: [Harbour] Inkey problem (David)
Message-ID: <BGEJIGGANMIAOJPONENJEEPOCDAA.ignacio@ozs.com>

David, 

I found some keystrokes that are not recognized by Inkey:

- \ (pipe)
- { (Openning codeblock char)
- } (Closing codeblock char)

Tested under Win98 and Win2000 systems

Thank you very much for your help.

Ignacio Ortiz
Email: ignacio@fivetech.com
http: www.fivetech.com 


From harbour@lists.harbour-project.org  Tue Feb  6 06:20:04 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Tue Feb  6 06:20:04 2001
Subject: [Harbour] ChangeLog 2001-02-06 12:11 GMT+1
In-Reply-To: <3015855599.20010206130317@belacy.belgorod.su>
Message-ID: <000601c0902e$75ef8260$0f2aa8c0@antonio>

2001-02-06 12:11 GMT+1 Antonio Linares <alinares@fivetech.com>
   * harbour/source/debug/dbgmenu.prg
     + New CHECKED clause added on menuitems.

   * harbour/source/debug/dbgtmenu.prg
     + two spaces added on popup menuitems to support check mark.

   * harbour/source/debug/dbgtmitm.prg
     + New DATA lChecked and METHOD Toggle() added.

You may see how it works at the debugger, selecting
Line Numbers from the pulldown.

Antonio


From harbour@lists.harbour-project.org  Tue Feb  6 06:41:02 2001
From: harbour@lists.harbour-project.org (Janio Moreira Barros)
Date: Tue Feb  6 06:41:02 2001
Subject: [Harbour] Help.
References: <011401c08fbd$47c41e80$0101a8c0@softtech> <3A7FA56D.B7D185ED@nh.conex.com.br>
Message-ID: <012101c09031$84cd7af0$0101a8c0@softtech>

Luiz,

------ ENGLISH ------
I am wanting to modernize my Harbour, and it would like information of as to
do it.
Some example or any thing that can help me.

------ PORTUGUESE ------
Estou querendo atualizar meu Harbour, e gostaria de informações de como
fazê-lo.
Algum exemplo ou qualquer coisa que possa me ajudar.

Regards

Janio
jjanio@escelsa.com.br


From harbour@lists.harbour-project.org  Tue Feb  6 07:08:02 2001
From: harbour@lists.harbour-project.org (=?iso-8859-2?Q?Igor_Tr=E8ek?=)
Date: Tue Feb  6 07:08:02 2001
Subject: [Harbour] Problems..
Message-ID: <000a01c09080$98c2f0e0$5901a8c0@bofex.si>

This is a multi-part message in MIME format.

------=_NextPart_000_0007_01C0903D.8A4BC480
Content-Type: text/plain;
	charset="iso-8859-2"
Content-Transfer-Encoding: quoted-printable

Can you suggest me, how to get surce code for my program writen in =
clipper.


- - - - - - - - - - - - - - - - - -=20
      REGARDS
   IGOR TRCEK
- - - - - - - - - - - - - - - - - -

------=_NextPart_000_0007_01C0903D.8A4BC480
Content-Type: text/html;
	charset="iso-8859-2"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-2">
<META content=3D"MSHTML 5.50.4522.1800" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT size=3D2>Can you suggest me, how to get surce code for my =
program=20
writen in clipper.</FONT></DIV>
<DIV><FONT size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT size=3D2><BR>- - - - - - - - - - - - - - - - - -=20
<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; REGARDS<BR>&nbsp;&nbsp; IGOR =
TRCEK<BR>- - - -=20
- - - - - - - - - - - - - -</FONT></DIV></BODY></HTML>

------=_NextPart_000_0007_01C0903D.8A4BC480--


From harbour@lists.harbour-project.org  Tue Feb  6 07:35:03 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Tue Feb  6 07:35:03 2001
Subject: [Harbour] Re: preprocessor proposed fix (Alexander, Ron)
In-Reply-To: <000201c09029$c1a133c0$0f2aa8c0@antonio>
References: <000201c09029$c1a133c0$0f2aa8c0@antonio>
Message-ID: <2024869775.20010206153330@belacy.belgorod.su>

 Antonio,
 
AL> but if I remove this:

AL> [ <checked: CHECK, CHECKED ]
AL>                          ^^^
AL> then Harbour GPFs.

 Yes, that's really not good :). I'll look at it.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Tue Feb  6 11:53:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Tue Feb  6 11:53:02 2001
Subject: [Harbour] ChangeLog 2001-02-06 17:50 GMT+1
In-Reply-To: <000601c0902e$75ef8260$0f2aa8c0@antonio>
Message-ID: <000101c0905c$f12b1f60$0f2aa8c0@antonio>

2001-02-06 17:47 GMT+1 Antonio Linares <alinares@fivetech.com>
   * harbour/source/debug/dbgtmenu.prg
     + debugger colors selection support.

   * harbour/source/debug/dbgmenu.prg
     + call to debugger SelColors() option.

   * harbour/source/debug/dbgtwin.prg
     + debugger colors selection support.

   * harbour/source/debug/debugger.prg
     + colors selection option implemented

     Notice: Not finished yet.


Antonio


From harbour@lists.harbour-project.org  Tue Feb  6 14:33:02 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Ignacio_Ortiz_de_Zu=F1iga?=)
Date: Tue Feb  6 14:33:02 2001
Subject: [Harbour] 2001-02-06 20:30 GMT+1 Ignacio Ortiz <ignacioortiz@fivetech.com>
Message-ID: <BGEJIGGANMIAOJPONENJEEAFCEAA.ignacio@fivetech.com>

2001-02-06 20:30 GMT+1 Ignacio Ortiz <ignacioortiz@fivetech.com>
   * harbour/source/debug/dbgmenu.prg
     + Debugger full locate menu support.

   * harbour/source/debug/tbrwtext.prg
     + New search method

   * harbour/source/debug/debugger.prg
     + Debugger full locate menu support.

IIgnacio Ortiz
Email: ignacio@fivetech.com
http: www.fivetech.com 


From harbour@lists.harbour-project.org  Tue Feb  6 15:04:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Tue Feb  6 15:04:02 2001
Subject: [Harbour] CHANGELOG: 2001-02-05 21:05 GMT+1
References: <000401c08fb9$30988ec0$0f2aa8c0@antonio>
Message-ID: <3A805893.3BA7BD75@libero.it>

Antonio,

present TBrowse code cannot handle such a code sequence:

oBrw:Up()
oBrw:Up()
...
oBrw:Up()
oBrw:ForceStable()

and looking at clipper 5.3 technical reference I don't think clipper is
able either.

But this should (I have not tested it) work with harbour TBrowse

oBrw:Up()
oBrw:Stabilize()
oBrw:Up()
oBrw:Stabilize()
...
oBrw:Up()
oBrw:ForceStable()

and should be faster than your present code.

But I'm studying a way to add a couple of methods to TBrowse which let
you move to any visible cell in a single call (and without using a
sequence of Up() or Down() calls :-))

I'll let you know.


regards and thanks for your kind words.



Antonio Linares ha scritto:
> 
> Maurilio,
> 
> Excellent! Thanks a lot!
> 
> Maurilio, you are a TBrowse() expert :-), do you have
> an idea about the best way to implement mouse support on TBrowses ?
> 
> i.e.: Open Sets window from debugger. How we may make it mouse aware ?
> (I have used a technique on the vars window, but I don't think it is
> a good way, as I skip() one by one, until I reach the clicked row.
> Clipper debugger does it much faster).
> 
> Thanks!
> 
> Antonio
> 
> > 2001-02-05 21:05 GMT+1 Maurilio Longo <maurilio.longo@libero.it>
> >    * source/debug/debugger.prg
> >      + Added LineNumbers() method
> >    * source/debug/tbrwtext.prg
> >      + Added support for inclusion/exclusion of line numbering at
> > runtime
> >    * source/debug/dbgmenu.prg
> >      + Added Menu item to activate line numbering
> >
> > --
> >
> >  __________
> > |  |  | |__| md2520@mclink.it
> > |_|_|_|____| Team OS/2 Italia
> > _______________________________________________
> > Harbour mailing list
> > Harbour@lists.harbour-project.org
> > http://www.matrixlist.com/mailman/listinfo/harbour
> >
> > Thank you for participating in The Harbour Project.  Be sure to check
> > http://www.Harbour-Project.org
> >
> >
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 

 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Tue Feb  6 16:06:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Tue Feb  6 16:06:02 2001
Subject: [Harbour] Inkey problem (David)
In-Reply-To: <BGEJIGGANMIAOJPONENJEEPOCDAA.ignacio@ozs.com>
Message-ID: <200102062105.f16L5Bm20755@thor.parrett.net>

** Reply to message from Ignacio_Ortiz_de_Zu=F1iga <ignacio@ozs.com> on
Tue, 6 Feb 2001 12:04:02 +0100

I have no problem inputting those characters on Windows NT and Windows
98. Are you only seeing this problem in your program or are you also
seeing this problem when you build and run tests/inkeytst.prg?

If you also see this problem with tests/inkeytst.prg, then could you
please edit source/rtl/gtwin/gtwin.c, locate the first commented out
'fprintf' call and move the start of comment block down from above it to
below it, then rebuild the gtwin library, rebuild the inkeytst program,
and then copy and paste the debug information that is displayed when you
try to input the keys that are giving you problems?

> I found some keystrokes that are not recognized by Inkey:
> 
> - \ (pipe)
> - { (Openning codeblock char)
> - } (Closing codeblock char)
> 
> Tested under Win98 and Win2000 systems
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Tue Feb  6 19:18:02 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Tue Feb  6 19:18:02 2001
Subject: [Harbour] Help.
References: <011401c08fbd$47c41e80$0101a8c0@softtech> <3A7FA56D.B7D185ED@nh.conex.com.br> <012101c09031$84cd7af0$0101a8c0@softtech>
Message-ID: <3A80943C.D6D86767@nh.conex.com.br>

Dear Friend


> 
> Luiz,
> 
> ------ ENGLISH ------
> I am wanting to modernize my Harbour, and it would like information of as to
> do it.
> Some example or any thing that can help me.
You can get the latest harbour source code and recompile 
> ------ PORTUGUESE ------
> Estou querendo atualizar meu Harbour, e gostaria de informações de como
> fazê-lo.
> Algum exemplo ou qualquer coisa que possa me ajudar.

Voce pode pegar as ultimas fontes do harbour e compilar

Regards

Luiz Rafael Culik

From harbour@lists.harbour-project.org  Tue Feb  6 19:43:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Tue Feb  6 19:43:02 2001
Subject: [Harbour] CHANGELOG: 2001-02-06 23:57 GMT+1
Message-ID: <3A80841A.7B73017E@libero.it>

2001-02-06 23:57 GMT+1 Maurilio Longo <maurilio.longo@libero.it>
   * source/rtl/tbrowse.prg
     + added ::MGotoYX(nRow, nCol) method which hilights cell under
screen coordinates nRow, nCol
     should help following a mouse. NOTE: hacked up and not tested. I'm
very busy at the moment.
     * NOTE latest change to TBrowse (my previous entry in changelog)
fixed a problem but created
     a new one :-) I'll have to rethink a little bit ::Stabilize()
logic.

-- 

 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Wed Feb  7 00:12:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Wed Feb  7 00:12:02 2001
Subject: [Harbour] HB_P_STATICNAME (Ryszard, Ron)
In-Reply-To: <001601c08e7e$0e78dfc0$0f2aa8c0@antonio>
Message-ID: <000801c090c4$2eef5340$0f2aa8c0@antonio>

> Also, we need a function to retrive their values at runtime,
> similar as we do using __mvDbgInfo() for publics and privates,
> and __vmVarLGet() (and __vmVarLSet()) for locals.

I wasn't aware that hvm.c, near to the eof,
provides these two functions:

__VMVARSLIST()
__VMVARSGET()

Just what I was looking for :-)

Thanks to Jose Lalin for the info.

Antonio


From harbour@lists.harbour-project.org  Wed Feb  7 02:24:02 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Wed Feb  7 02:24:02 2001
Subject: [Harbour] ChangeLog 2001-02-06 12:11 GMT+1
References: <000601c0902e$75ef8260$0f2aa8c0@antonio>
Message-ID: <3A80F7B7.DD1210DE@nh.conex.com.br>

Antonio


> 
> 2001-02-06 12:11 GMT+1 Antonio Linares <alinares@fivetech.com>
>    * harbour/source/debug/dbgmenu.prg
>      + New CHECKED clause added on menuitems.
> 
>    * harbour/source/debug/dbgtmenu.prg
>      + two spaces added on popup menuitems to support check mark.
> 
>    * harbour/source/debug/dbgtmitm.prg
>      + New DATA lChecked and METHOD Toggle() added.
> 
> You may see how it works at the debugger, selecting
> Line Numbers from the pulldown.

Good to know that now we can use check on menuitems, now i can finish to
implement the sort method of the monitor variable window

Regards

Luiz Rafael Culik


From harbour@lists.harbour-project.org  Wed Feb  7 03:33:03 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Ignacio_Ortiz_de_Zu=F1iga?=)
Date: Wed Feb  7 03:33:03 2001
Subject: [Harbour] Inkey problem (David)
In-Reply-To: <200102062105.f16L5Bm20755@thor.parrett.net>
Message-ID: <BGEJIGGANMIAOJPONENJGEAJCEAA.ignacio@fivetech.com>

David, 

Yes I did all my test with test\inkeytst.prg.

These is the information you request:

{ --> hb_gt_ReadKey(): dwState is 41, wChar is 222, wKey is 40, ch is 123
} --> hb_gt_ReadKey(): dwState is 41, wChar is 191, wKey is 43, ch is 125
\ --> hb_gt_ReadKey(): dwState is 41, wChar is 220, wKey is 41, ch is 92

Thank you in advance

Regards, 

Ignacio Ortiz
Email: ignacio@fivetech.com
http: www.fivetech.com 


From harbour@lists.harbour-project.org  Wed Feb  7 04:33:01 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Ignacio_Ortiz_de_Zu=F1iga?=)
Date: Wed Feb  7 04:33:01 2001
Subject: [Harbour] 2001-02-07 10:30 GMT+1 Ignacio Ortiz <ignacioortiz@fivetech.com>
Message-ID: <BGEJIGGANMIAOJPONENJAEAKCEAA.ignacio@ozs.com>

2001-02-07 10:30 GMT+1 Ignacio Ortiz <ignacioortiz@fivetech.com>
   * harbour/source/debug/dbgtmenu.prg
     + Accelerator keys on popup menus fixed.

   * harbour/source/debug/tbrwtext.prg
     + Wrong comment on search method.

Ignacio Ortiz de Zuñiga
Email: ignacio@ozs.com
Phone Email: ignaciosms@ozs.com
http://www.ozs.com



From harbour@lists.harbour-project.org  Wed Feb  7 06:03:03 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Wed Feb  7 06:03:03 2001
Subject: [Harbour] stack question
Message-ID: <1153335153.20010207140059@belacy.belgorod.su>

 There is such code in dbfcdx1.c for evaluating key expression:
 
    pMacro = ( HB_MACRO_PTR ) hb_itemGetPtr( pTag->pKeyItem );
    hb_macroRun( pMacro );
    hb_itemCopy( pKey->pItem, hb_stackItemFromTop( - 1 ) );
    hb_stackPop();

  Is it necessary to have here hb_stackPop() ?

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Wed Feb  7 06:03:17 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Wed Feb  7 06:03:17 2001
Subject: [Harbour] Changelog 2001-02-07 13:50 GMT+3
Message-ID: <1462379530.20010207134504@belacy.belgorod.su>

2001-02-07 13:50 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/source/pp/ppcore.c
     * now pp gives error if '<' haven't matched '>' .
  

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Wed Feb  7 08:43:03 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Wed Feb  7 08:43:03 2001
Subject: [Harbour] Changelog 2001-02-07 13:50 GMT+3
In-Reply-To: <1462379530.20010207134504@belacy.belgorod.su>
Message-ID: <001f01c0910b$b17b75e0$0f2aa8c0@antonio>

Alexander,

> 2001-02-07 13:50 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
>    * harbour/source/pp/ppcore.c
>      * now pp gives error if '<' haven't matched '>' .


Thanks so much, my friend

Antonio


From harbour@lists.harbour-project.org  Wed Feb  7 08:46:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Wed Feb  7 08:46:02 2001
Subject: [Harbour] stack question
In-Reply-To: <1153335153.20010207140059@belacy.belgorod.su>
Message-ID: <002001c0910b$da2501a0$0f2aa8c0@antonio>

Alexander,

>   Is it necessary to have here hb_stackPop() ?

I am not sure about it :-/

Does the stack gets unbalanced ?


Antonio


From harbour@lists.harbour-project.org  Wed Feb  7 11:43:02 2001
From: harbour@lists.harbour-project.org (Janio Moreira Barros)
Date: Wed Feb  7 11:43:02 2001
Subject: [Harbour] As to modernize my Harbour
Message-ID: <002b01c09124$e8b6fb10$0101a8c0@softtech>

Dears list,

Excuse for the idiotic question, but i would like to know where I find them
more recent sources of Harbour and if possible the compiler for Windows and
Linux.

Thank's,

Janio
jjanio@escelsa.com.br



From harbour@lists.harbour-project.org  Wed Feb  7 12:24:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Wed Feb  7 12:24:02 2001
Subject: [Harbour] As to modernize my Harbour
In-Reply-To: <002b01c09124$e8b6fb10$0101a8c0@softtech>
Message-ID: <NCBBJKNMIDPJNLJCHCHIKEONFOAA.harbour@winfakt.com>

Janio,

> Excuse for the idiotic question, but i would like to know where I
> find them
> more recent sources of Harbour and if possible the compiler for
> Windows and Linux.
All available files are ready for download on http://www.Harbour-Project.org

Regards,

Patrick Mast
www.Patrick.Be.kz


From harbour@lists.harbour-project.org  Wed Feb  7 12:27:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Wed Feb  7 12:27:02 2001
Subject: [Harbour] ChangeLog 2001-02-07 18:21 GMT+1
In-Reply-To: <001f01c0910b$b17b75e0$0f2aa8c0@antonio>
Message-ID: <002601c0912a$c5cd6480$0f2aa8c0@antonio>

2001-02-07 18:21 GMT+1 Antonio Linares <alinares@alinares.com>
   * harbour/source/debug/debugger.prg
     + Implementing statics variables support (not finished yet).

   * harbour/source/vm/hvm.c
     ! HB_P_STATICNAME improved support.

   Notice: Not finished yet!

Antonio


From harbour@lists.harbour-project.org  Wed Feb  7 13:18:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Wed Feb  7 13:18:02 2001
Subject: [Harbour] Re:  stack question ( and some others )
In-Reply-To: <002001c0910b$da2501a0$0f2aa8c0@antonio>
References: <002001c0910b$da2501a0$0f2aa8c0@antonio>
Message-ID: <872686112.20010207211549@belacy.belgorod.su>

On  Wednesday, February 07, 2001, 16:42 Antonio Linares <alinares@fivetech.com> wrote:

>>   Is it necessary to have here hb_stackPop() ?

AL> I am not sure about it :-/
AL> Does the stack gets unbalanced ?

 Yes, and I can't understand its behaviour.
 Below is truncated fragment of code:

static ERRCODE ntxPutValue( NTXAREAP pArea, USHORT uiIndex, PHB_ITEM pItem )
{
   ...
   printf( "\n\rntxPutValue - 0:  |%s|",pItem->item.asString.value );

      pMacro = ( HB_MACRO_PTR ) hb_itemGetPtr( pTag->pKeyItem );
      hb_macroRun( pMacro );
      hb_itemCopy( pTag->CurKeyInfo->pItem, hb_stackItemFromTop( - 1 ) );
      hb_stackPop();

   printf( "\n\rntxPutValue - 1:  |%s|",pItem->item.asString.value );
   ...

 First printf outputs:
        ntxPutValue - 0:  |QAbelson|
 ( QAbelson is the right value, passed to this function ).
 Second:
       ntxPutValue - 1:  |null|

 If I remove hb_stackPop(), the second printf outputs:
        ntxPutValue - 1:  |Abelson|
   this new value 'Abelson' is a result of a macro execution, which
   was copied to pTag->CurKeyInfo->pItem .
   But why pItem is changed too ?

   I don't understand yet another thing.
   Currently the following fragment is used for evaluating key
   expression:
   
   if( hb_itemType( pTag->pKeyItem ) == HB_IT_BLOCK )
   {
      hb_vmPushSymbol( &hb_symEval );
      hb_vmPush( pTag->pKeyItem );
      hb_vmDo( 0 );
      hb_itemCopy( pKey->pItem , &hb_stack.Return );
   }
   else
   {
      HB_MACRO_PTR pMacro;
      pMacro = ( HB_MACRO_PTR ) hb_itemGetPtr( pTag->pKeyItem );
      hb_macroRun( pMacro );
      hb_itemCopy( pKey->pItem, hb_stackItemFromTop( - 1 ) );
      hb_stackPop();
   }

   pKeyItem is a result of following operation:

   pMacro = hb_macroCompile( ( char * ) pExpr );
   if( pMacro )
   {
      pArea->valResult = hb_itemPutPtr( pArea->valResult, ( void * ) pMacro );
      return SUCCESS;
   }
   
   Why in some cases it is calculated as codeblock, in others - as
   macro ?
   And why there is a difference between codeblock and compiled macro
   ? I ever thought that codeblock IS compiled macro.
   
Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Wed Feb  7 17:24:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Wed Feb  7 17:24:02 2001
Subject: [Harbour] Inkey problem (David)
In-Reply-To: <BGEJIGGANMIAOJPONENJGEAJCEAA.ignacio@fivetech.com>
References: <200102062105.f16L5Bm20755@thor.parrett.net>
Message-ID: <200102072223.f17MNgV03182@thor.parrett.net>

** Reply to message from Ignacio_Ortiz_de_Zu=F1iga <ignacio@fivetech.com>
on Wed, 7 Feb 2001 09:31:38 +0100

> { --> hb_gt_ReadKey(): dwState is 41, wChar is 222, wKey is 40, ch is 123
> } --> hb_gt_ReadKey(): dwState is 41, wChar is 191, wKey is 43, ch is 125
> \ --> hb_gt_ReadKey(): dwState is 41, wChar is 220, wKey is 41, ch is 92

Thank you for that information. The reason it didn't work is that the
dwState indicates that the right alt and left control keys are pressed.
I have made a change to gtwin.c so that it will not go into special key
handling when left ctrl and right alt are both pressed. This will
hopefully fix this problem for your national keyboard. I also discovered
other problems with non-US keyboard handling that were the result of my
earlier fix to allow Alt+alphanumeric support. Please let me know if my
changes didn't fix your problem or if they have introduced new problems.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Wed Feb  7 17:25:03 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Wed Feb  7 17:25:03 2001
Subject: [Harbour] ChangeLog 2001-02-07 17:15 UTC-0500
Message-ID: <200102072224.f17MO3V03209@thor.parrett.net>

2001-02-07 17:15 UTC-0500 David G. Holm <dholm@jsd-llc.com>

  * source/rtl/gtwin/gtwin.c
    ! Improved handling of international characters and keyboards,
      which my earlier fix for supporting Alt+alpha-numeric broke.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Wed Feb  7 20:38:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb  7 20:38:02 2001
Subject: [Harbour] Re:  stack question ( and some others )
In-Reply-To: <872686112.20010207211549@belacy.belgorod.su>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEFCDJAA.Ron@Profit-Master.com>

Alexander,

>    Why in some cases it is calculated as codeblock, in others - as
>    macro ?

The INDEX command preprocess to pass both String representation, as well as
Block representation of the index expression, to dbCreateIndex().

Different RDDs use either the String representation, or the Block
representation, based on different conditions. For example the ADS RDD can
NEVER use the Block, because its server has no way to evaluate it, instead
they have their own, expression analyzer, which "compiles" (much like our
Macro Compilation) the string representation, making sure it does not
reference unsupported functions etc.

DBFCDX and DBFNTX can use either Block or String, if the expression is an
index on MACRO, then dbCreateIndex() will actually receive the MacroVar
instead of a literal string (PP logic). I think they both use the Block when
available, but didn't check the code.

>    And why there is a difference between codeblock and compiled macro
>    ? I ever thought that codeblock IS compiled macro.

No, Macro is just a compiled Expression, Block is a compiled list of
expressions, wrapped in a frame able to receive parameters.

Ron

BTW, did you get chance to review my most recent PP changes (2001-01-24
20:50 UTC-0800 Ron Pinkas <ron@profit-master.com>) and comment/question?


From harbour@lists.harbour-project.org  Wed Feb  7 21:18:01 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb  7 21:18:01 2001
Subject: [Harbour] stack question
In-Reply-To: <1153335153.20010207140059@belacy.belgorod.su>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAEFDDJAA.Ron@Profit-Master.com>

Alexander,

>  There is such code in dbfcdx1.c for evaluating key expression:
>
>     pMacro = ( HB_MACRO_PTR ) hb_itemGetPtr( pTag->pKeyItem );
>     hb_macroRun( pMacro );
>     hb_itemCopy( pKey->pItem, hb_stackItemFromTop( - 1 ) );
>     hb_stackPop();
>
>   Is it necessary to have here hb_stackPop() ?

Yes, because hb_macroRun() uses hb_vmExecute() which essentially just pushes
the value of the macro on the stack. Once we used the value by means of the
hb_stackItemFromTop(-1) we must pop this value from the stack.

Ron


From harbour@lists.harbour-project.org  Thu Feb  8 01:59:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Thu Feb  8 01:59:02 2001
Subject: [Harbour] Re: stack question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKAEFDDJAA.Ron@Profit-Master.com>
References: <LOBBKAFMMFGJIKLMEPAKAEFDDJAA.Ron@Profit-Master.com>
Message-ID: <284625607.20010208095647@belacy.belgorod.su>

 Ron,

>>  There is such code in dbfcdx1.c for evaluating key expression:
>>
>>     pMacro = ( HB_MACRO_PTR ) hb_itemGetPtr( pTag->pKeyItem );
>>     hb_macroRun( pMacro );
>>     hb_itemCopy( pKey->pItem, hb_stackItemFromTop( - 1 ) );
>>     hb_stackPop();
>>
>>   Is it necessary to have here hb_stackPop() ?

RP> Yes, because hb_macroRun() uses hb_vmExecute() which essentially just pushes
RP> the value of the macro on the stack. Once we used the value by means of the
RP> hb_stackItemFromTop(-1) we must pop this value from the stack.

 Thanks for the explanation.
 But why in this case it cause the problem which I described -
 damages the value of an other item ?

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Thu Feb  8 01:59:09 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Thu Feb  8 01:59:09 2001
Subject: [Harbour] Re:  stack question ( and some others )
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEFCDJAA.Ron@Profit-Master.com>
References: <LOBBKAFMMFGJIKLMEPAKGEFCDJAA.Ron@Profit-Master.com>
Message-ID: <1934350791.20010208095212@belacy.belgorod.su>

 Ron,

>>    Why in some cases it is calculated as codeblock, in others - as
>>    macro ?

RP> The INDEX command preprocess to pass both String representation, as well as
RP> Block representation of the index expression, to dbCreateIndex().

RP> Different RDDs use either the String representation, or the Block
RP> representation, based on different conditions. For example the ADS RDD can
RP> NEVER use the Block, because its server has no way to evaluate it, instead
RP> they have their own, expression analyzer, which "compiles" (much like our
RP> Macro Compilation) the string representation, making sure it does not
RP> reference unsupported functions etc.

 I know all that, but the question wasn't about it.
 If you look more carefully to the code, you will see, that in both
 cases ( codeblock and macro ) the same item is used for key
 evaluating - pKeyItem - which was produced, as I wrote, with
 hb_macroCompile().
 String representation - KeyExpr - is used in DBFCDX and DBFNTX only
 to return current key expression ( OrdKey() ).

>>    And why there is a difference between codeblock and compiled macro
>>    ? I ever thought that codeblock IS compiled macro.

RP> No, Macro is just a compiled Expression, Block is a compiled list of
RP> expressions, wrapped in a frame able to receive parameters.

 I still didn't catch it. Probably, language limitations :) .
 My point is that macro is a string expression with '&' before, which
 is interpreted by a program while runtime.
 If I need to use the same expression few times and don't want to
 waste a time to interpret it each time, I compile it to the codeblock
 and then evaluate it when I need with Eval(). And Eval() has a deal
 only with codeblocks, not with any 'compiled macro'. What in this
 case is 'compiled macro', where it is used ?

RP> BTW, did you get chance to review my most recent PP changes (2001-01-24
RP> 20:50 UTC-0800 Ron Pinkas <ron@profit-master.com>) and comment/question?

 Yes, I reviewed it - and I like your decision.
 It is quite original and really solve most of related problems !
 There is still some exotic cases where it isn't work - if the command
 include '=' - '@1=', for example. Probably, this could be fixed by
 excluding the
  && ( *sLine != '=' || ipos == 0 )
  from the 'while' expression in the line 736, but it should be
  checked for side effects.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Thu Feb  8 02:53:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Thu Feb  8 02:53:02 2001
Subject: [Harbour] Re:  stack question ( and some others )
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEFCDJAA.Ron@Profit-Master.com>
References: <LOBBKAFMMFGJIKLMEPAKGEFCDJAA.Ron@Profit-Master.com>
Message-ID: <132661532.20010208105126@belacy.belgorod.su>

>>    Why in some cases it is calculated as codeblock, in others - as
>>    macro ?

 Ok, now I see it.
 Indexing function got the codeblock as parameter and uses it, while
 index opening function reads key expression from the file, compiles
 it and then uses this compiled expression.
 But I still wonder, why we need different internal representations
 for codeblocks and compiled expressions ?

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Thu Feb  8 03:49:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb  8 03:49:02 2001
Subject: [Harbour] Re:  stack question ( and some others )
In-Reply-To: <1934350791.20010208095212@belacy.belgorod.su>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAEFFDJAA.Ron@Profit-Master.com>

Alexander,

>  If you look more carefully to the code, you will see, that in both
>  cases ( codeblock and macro ) the same item is used for key
>  evaluating - pKeyItem - which was produced, as I wrote, with
>  hb_macroCompile().
>  String representation - KeyExpr - is used in DBFCDX and DBFNTX only
>  to return current key expression ( OrdKey() ).

I think this is not the case, consider the following sample:

//---------------------------------//
Function Main()

   local cLocal := "A"

   USE TEST

   INDEX ON cLocal + First To TEST

   GO 1
   REPLACE First WITH "1"

   CLOSE ALL

   USE TEST INDEX TEST // Harbour (DBFCDX) Error Here!
   ? "RE-OPENED"

   GO 1
   ? "MOVED"

   REPLACE First WITH "1"
   ? "REPLACED"
   WAIT

   COMMIT // Clipper (DBFNTX) Error here
   ? "COMMITTED"

RETURN NIL
//---------------------------------//

If you test the above (both Harbour & Clipper) you'll find Clipper fails
only on line 24 when trying to evaluate the macro (COMMIT), because it
references a declared variable (cLocal). But it will build the index
correctly in line 7 above and even perform the MOVE and REPLACE correctly.

Conclusion is that Clipper uses the CodeBlock (if available) when CREATING
the Index, but will use the STRING (compiled) when Block no longer available
(after reopening the file).

> >>    And why there is a difference between codeblock and compiled macro
> >>    ? I ever thought that codeblock IS compiled macro.
>
> RP> No, Macro is just a compiled Expression, Block is a compiled list of
> RP> expressions, wrapped in a frame able to receive parameters.
>
>  I still didn't catch it. Probably, language limitations :) .
>  My point is that macro is a string expression with '&' before, which
>  is interpreted by a program while runtime.
>  If I need to use the same expression few times and don't want to
>  waste a time to interpret it each time, I compile it to the codeblock
>  and then evaluate it when I need with Eval(). And Eval() has a deal
>  only with codeblocks, not with any 'compiled macro'. What in this
>  case is 'compiled macro', where it is used ?

"Compiled Macro" can only be used in low level C. In Clipper language you
can't save the compiled expression of macro. But you can in low level C. I
believe INDEXING is the only place where "Compiled Macros" are used.

> RP> BTW, did you get chance to review my most recent PP changes
> (2001-01-24
> RP> 20:50 UTC-0800 Ron Pinkas <ron@profit-master.com>) and
> comment/question?
>
>  Yes, I reviewed it - and I like your decision.
>  It is quite original and really solve most of related problems !
>  There is still some exotic cases where it isn't work - if the command
>  include '=' - '@1=', for example. Probably, this could be fixed by
>  excluding the
>   && ( *sLine != '=' || ipos == 0 )
>   from the 'while' expression in the line 736, but it should be
>   checked for side effects.

I don't understand the '@1=' but I'm sure you are right :-). IAC, we should
make same change for #translate, right?

Ron


From harbour@lists.harbour-project.org  Thu Feb  8 03:56:01 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb  8 03:56:01 2001
Subject: [Harbour] Re:  stack question ( and some others )
In-Reply-To: <132661532.20010208105126@belacy.belgorod.su>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEFFDJAA.Ron@Profit-Master.com>

Alexander,

>  Ok, now I see it.
>  Indexing function got the codeblock as parameter and uses it, while
>  index opening function reads key expression from the file, compiles
>  it and then uses this compiled expression.
>  But I still wonder, why we need different internal representations
>  for codeblocks and compiled expressions ?

Codeblock is kind of "enhanced" version of compiled macro. It may have
multiple expressions,  and it requires its own stack frame. OTOH, macro is
always just ONE expression, and its is always pushed on current stack. This
is the same with Clipper.

Ron


From harbour@lists.harbour-project.org  Thu Feb  8 04:10:04 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Thu Feb  8 04:10:04 2001
Subject: [Harbour] Re: stack question
In-Reply-To: <284625607.20010208095647@belacy.belgorod.su>
References: <LOBBKAFMMFGJIKLMEPAKAEFDDJAA.Ron@Profit-Master.com>
 <284625607.20010208095647@belacy.belgorod.su>
Message-ID: <149861354.20010208120829@belacy.belgorod.su>

After debugging the code I got following results.

static ERRCODE ntxPutValue( NTXAREAP pArea, USHORT uiIndex, PHB_ITEM pItem )
{
  ...
// hb_stack.pPos = 0x80b73a4
// hb_stack.pPos->type = 1024
// hb_stack.pPos.item.asString.value = "QAbelson" ( parameter pItem )
  
      pMacro = ( HB_MACRO_PTR ) hb_itemGetPtr( pTag->pKeyItem );
      hb_macroRun( pMacro );
      
// hb_stack.pPos = 0x80b73a8
// hb_stack.pPos->type = 0
// hb_stack.pPos-1 = 0x80b73a4
// (hb_stack.pPos)->type = 1024
// (hb_stack.pPos).item.asString.value = "Abelson" ( result of
macroRun() execute )

 You can see that macroRun() added to stack Nil item( 0x80b73a8 ) and
 changed the item which was on the top of the stack.
 Is this a bug in macroRun() ? ( Ryszard ? )

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Thu Feb  8 04:28:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb  8 04:28:02 2001
Subject: [Harbour] Re: stack question
In-Reply-To: <149861354.20010208120829@belacy.belgorod.su>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEFGDJAA.Ron@Profit-Master.com>

Alexander,

> After debugging the code I got following results.
>
> static ERRCODE ntxPutValue( NTXAREAP pArea, USHORT uiIndex,
> PHB_ITEM pItem )
> {
>   ...
> // hb_stack.pPos = 0x80b73a4
> // hb_stack.pPos->type = 1024
> // hb_stack.pPos.item.asString.value = "QAbelson" ( parameter pItem )
>
>       pMacro = ( HB_MACRO_PTR ) hb_itemGetPtr( pTag->pKeyItem );
>       hb_macroRun( pMacro );
>
> // hb_stack.pPos = 0x80b73a8
> // hb_stack.pPos->type = 0
> // hb_stack.pPos-1 = 0x80b73a4
> // (hb_stack.pPos)->type = 1024
> // (hb_stack.pPos).item.asString.value = "Abelson" ( result of
> macroRun() execute )
>
>  You can see that macroRun() added to stack Nil item( 0x80b73a8 ) and
>  changed the item which was on the top of the stack.
>  Is this a bug in macroRun() ? ( Ryszard ? )

No this is not a bug. hbstack.pPos should normally point to a NIL Item. In
your example having it point to "QAbelson" is some side effect of not
cleaning an unused previous top item! You should *not* use this value.

macroRun() correctly pushes the result, and hb_stack.pPos should point to a
NIL item *above* the last pushed item (which is pPos - 1).

Ron


From harbour@lists.harbour-project.org  Thu Feb  8 05:30:04 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Thu Feb  8 05:30:04 2001
Subject: [Harbour] Re: stack question
In-Reply-To: <149861354.20010208120829@belacy.belgorod.su>
References: <LOBBKAFMMFGJIKLMEPAKAEFDDJAA.Ron@Profit-Master.com>
 <284625607.20010208095647@belacy.belgorod.su>
 <149861354.20010208120829@belacy.belgorod.su>
Message-ID: <1641737348.20010208132416@belacy.belgorod.su>

On 08.02.2001 12:08, Alexander S.Kresin <alex@belacy.belgorod.su> wrote:

ASK> After debugging the code I got following results.
  ...
ASK>  You can see that macroRun() added to stack Nil item( 0x80b73a8 ) and
ASK>  changed the item which was on the top of the stack.
ASK>  Is this a bug in macroRun() ? ( Ryszard ? )

 I was wrong. After farther debugging and code reading it's became clear that
 hb_macroRun() is OK :) .
 The problem was that when function execution begins:
 
static ERRCODE ntxPutValue( NTXAREAP pArea, USHORT uiIndex, PHB_ITEM pItem )
{

 the address of pItem.item is the top of the stack:
 
  &(pItem.item) is equal to &(hb_stack.pPos.item)

  So the problem can be solved by adding new item:
  
  pItemNew = hb_itemNew( pItem );

  But why ?


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Thu Feb  8 05:30:12 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Thu Feb  8 05:30:12 2001
Subject: [Harbour] Re:  stack question ( and some others )
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKAEFFDJAA.Ron@Profit-Master.com>
References: <LOBBKAFMMFGJIKLMEPAKAEFFDJAA.Ron@Profit-Master.com>
Message-ID: <1251953962.20010208132753@belacy.belgorod.su>

Ron,

RP> "Compiled Macro" can only be used in low level C. In Clipper language you
RP> can't save the compiled expression of macro. But you can in low level C. I
RP> believe INDEXING is the only place where "Compiled Macros" are used.

 Thanks, it's clear now.

RP> I don't understand the '@1=' but I'm sure you are right :-). IAC, we should
RP> make same change for #translate, right?

 Yes, of course.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Thu Feb  8 05:33:01 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Thu Feb  8 05:33:01 2001
Subject: [Harbour] ChangeLog 2001-02-08 11:30 GMT+1
In-Reply-To: <149861354.20010208120829@belacy.belgorod.su>
Message-ID: <000001c091ba$3f9444c0$0f2aa8c0@antonio>

2001-02-08 11:30 GMT+1 Antonio Linares <alinares@fivetech.com>
  * harbour/source/compiler/genc.c
    ! improved support for HB_P_STATICNAME

  * harbour/source/compiler/harbour.c
    ! improved support for HB_P_STATICNAME

  * harbour/source/debug/dbgmenu.prg
    + New OSShell() action added

  * harbour/source/debug/dbgtmenu.prg
    ! some minor fixes

  * harbour/source/debug/dbgtobj.prg
    ! some minor fixes

  * harbour/source/debug/debugger.prg
    ! improved statics vars support.
    + New method OSShell() added

  * harbour/source/rtl/tget.prg
    ! some minor fixes to let the debugger inspect a GetNew() object

  * harbour/source/vm/hvm.c
    ! improved support for HB_P_STATICNAME
    ! __vmVarSGet() changed to use the entire statics array, not just the
      statics frame based one.
    + New __vmVarSSet( <nStaticIndex>, <uValue> ) function added to
      change the value of any static variable.

  Notice: Debugger statics vars inspection is practically finished! :-)


Antonio


From harbour@lists.harbour-project.org  Thu Feb  8 06:49:02 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Ignacio_Ortiz_de_Zu=F1iga?=)
Date: Thu Feb  8 06:49:02 2001
Subject: [Harbour] Array bug found (Ryzard
Message-ID: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com>

Look at this code:

Function Main()

   local aArray, bBlock

   aArray := {"a", "b", "c"}
   bBlock := { |n| aArray[n] }

   ? Eval(bBlock, 1)

   ChangeArray( aArray )

   ? Eval(bBlock, 1) // should return "d" but returns "a"

return nil

function ChangeArray( aArray )

   aArray := NewData()

return nil

function NewData()

   local aData

   aData := {"d", "e", "f"}

return aData

Ignacio Ortiz de Zuñiga
Email: ignacio@ozs.com
Phone Email: ignaciosms@ozs.com
http://www.ozs.com



From harbour@lists.harbour-project.org  Thu Feb  8 06:55:03 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Thu Feb  8 06:55:03 2001
Subject: [Harbour] Array bug found (Ryzard
In-Reply-To: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com>
Message-ID: <000b01c091c5$a2e9f3c0$0f2aa8c0@antonio>

Sid,

These are great news!!!!!!!

Ignacio has been able to reproduce your error on
a small sample.

Now we just need to fix it.

Antonio



From harbour@lists.harbour-project.org  Thu Feb  8 06:58:02 2001
From: harbour@lists.harbour-project.org (Manuel Exposito Suarez)
Date: Thu Feb  8 06:58:02 2001
Subject: [Harbour] Array bug found (Ryzard
Message-ID: <sa8297a7.079@dipusevi.dipusevilla.es>

Perdonad que me meta por medio y ademas en otro lenguaje que no es el =
ingles. Creo que el tema es que no se pasa por referencia implicita sino =
que trabaja sobre una copia, mira tu codigo con la peque=F1a modificacion.
De todas formas creo que Harbour no va muy fino con las variables por =
referencia no?

Function Main()

   local aArray, bBlock

   aArray :=3D {"a", "b", "c"}
   bBlock :=3D { |n| aArray[n] }

   ? Eval(bBlock, 1)

   aArray :=3D ChangeArray( aArray )  // Asi si deberia de funcionar

   ? Eval(bBlock, 1) // should return "d" but returns "a"

return nil

function ChangeArray( aArray )

   aArray :=3D NewData()

return nil

function NewData()

   local aData

   aData :=3D {"d", "e", "f"}

return aData


>>> ignacio@ozs.com 08/02/01 12:47 >>>
Look at this code:

Function Main()

   local aArray, bBlock

   aArray :=3D {"a", "b", "c"}
   bBlock :=3D { |n| aArray[n] }

   ? Eval(bBlock, 1)

   ChangeArray( aArray )

   ? Eval(bBlock, 1) // should return "d" but returns "a"

return nil

function ChangeArray( aArray )

   aArray :=3D NewData()

return nil

function NewData()

   local aData

   aData :=3D {"d", "e", "f"}

return aData

Ignacio Ortiz de Zu=F1iga
Email: ignacio@ozs.com=20
Phone Email: ignaciosms@ozs.com=20
http://www.ozs.com=20


_______________________________________________
Harbour mailing list
Harbour@lists.harbour-project.org=20
http://www.matrixlist.com/mailman/listinfo/harbour=20

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org=20



From harbour@lists.harbour-project.org  Thu Feb  8 07:02:01 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Ignacio_Ortiz_de_Zu=F1iga?=)
Date: Thu Feb  8 07:02:01 2001
Subject: [Harbour] Array bug (even simplier)
Message-ID: <BGEJIGGANMIAOJPONENJMEBGCEAA.ignacio@ozs.com>

Look at this code:

Function Main()

   local aArray

   aArray := {"a", "b", "c"}

   ChangeArray( aArray )

   ? aArray[1]       // should return "d" but returns "a"

return nil

function ChangeArray( aArray )

   aArray := {"d", "e", "f"}

return nil



Ignacio Ortiz de Zuñiga
Email: ignacio@ozs.com
Phone Email: ignaciosms@ozs.com
http://www.ozs.com



From harbour@lists.harbour-project.org  Thu Feb  8 07:09:02 2001
From: harbour@lists.harbour-project.org (Manuel Exposito Suarez)
Date: Thu Feb  8 07:09:02 2001
Subject: [Harbour] Array bug (even simplier)
Message-ID: <sa829a48.083@dipusevi.dipusevilla.es>

Para ser realistas tal como lo hace Harbour esta bien. El que lo hace mal =
es clipper. Que tal si pones: ChangeArray( @aArray )


>>> ignacio@ozs.com 08/02/01 13:01 >>>
Look at this code:

Function Main()

   local aArray

   aArray :=3D {"a", "b", "c"}

   ChangeArray( aArray )

   ? aArray[1]       // should return "d" but returns "a"

return nil

function ChangeArray( aArray )

   aArray :=3D {"d", "e", "f"}

return nil



Ignacio Ortiz de Zu=F1iga
Email: ignacio@ozs.com=20
Phone Email: ignaciosms@ozs.com=20
http://www.ozs.com=20


_______________________________________________
Harbour mailing list
Harbour@lists.harbour-project.org=20
http://www.matrixlist.com/mailman/listinfo/harbour=20

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org=20



From harbour@lists.harbour-project.org  Thu Feb  8 07:13:02 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Ignacio_Ortiz_de_Zu=F1iga?=)
Date: Thu Feb  8 07:13:02 2001
Subject: [Harbour] Array bug (even simplier)
In-Reply-To: <BGEJIGGANMIAOJPONENJMEBGCEAA.ignacio@ozs.com>
Message-ID: <BGEJIGGANMIAOJPONENJIEBHCEAA.ignacio@fivetech.com>

Sorry, Clipper works the same way.


Ignacio Ortiz de Zuñiga
Email: ignacio@ozs.com
Phone Email: ignaciosms@ozs.com
http://www.ozs.com




From harbour@lists.harbour-project.org  Thu Feb  8 07:15:04 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Thu Feb  8 07:15:04 2001
Subject: [Harbour] Array bug (even simplier)
In-Reply-To: <sa829a48.083@dipusevi.dipusevilla.es>
Message-ID: <000d01c091c8$74c18460$0f2aa8c0@antonio>

Manuel,

> Para ser realistas tal como lo hace Harbour esta bien. El que lo 
> hace mal es clipper. Que tal si pones: ChangeArray( @aArray )

Yes, you are right. It is not a Harbour bug. It is ok :-)

Using ChangeArray( @aArray ) is ok.


Antonio


From harbour@lists.harbour-project.org  Thu Feb  8 07:19:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Thu Feb  8 07:19:02 2001
Subject: [Harbour] Debugger OS Shell question
In-Reply-To: <sa829a48.083@dipusevi.dipusevilla.es>
Message-ID: <000e01c091c9$11b36f40$0f2aa8c0@antonio>

I have already implemented the debugger OS Shell menu option,
and I do use this line (besides some others):

   RUN "Command.com"

what to do for Linux and other operating systems ?


Antonio


From harbour@lists.harbour-project.org  Thu Feb  8 07:21:02 2001
From: harbour@lists.harbour-project.org (Sylvain Robert )
Date: Thu Feb  8 07:21:02 2001
Subject: [Harbour] Array bug found (Ryzard
In-Reply-To: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com>
Message-ID: <3A8247EA.13348.357339@localhost>

Ignacio,

  I test your code with Clipper 5.3b and it also return a for the 2 Eval 
function !

  Sylvain 

> Look at this code:
> 
> Function Main()
> 
>    local aArray, bBlock
> 
>    aArray :=3D {"a", "b", "c"}
>    bBlock :=3D { |n| aArray[n] }
> 
>    ? Eval(bBlock, 1)
> 
>    ChangeArray( aArray )
> 
>    ? Eval(bBlock, 1) // should return "d" but returns "a"
> 
> return nil
> 
> function ChangeArray( aArray )
> 
>    aArray :=3D NewData()
> 
> return nil
> 
> function NewData()
> 
>    local aData
> 
>    aData :=3D {"d", "e", "f"}
> 
> return aData
> 
> Ignacio Ortiz de Zu=F1iga
> Email: ignacio@ozs.com
> Phone Email: ignaciosms@ozs.com
> http://www.ozs.com
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com

From harbour@lists.harbour-project.org  Thu Feb  8 07:59:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Thu Feb  8 07:59:02 2001
Subject: [Harbour] Array bug found (Ryzard
In-Reply-To: <000b01c091c5$a2e9f3c0$0f2aa8c0@antonio>; from alinares@fivetech.com on Thu, Feb 08, 2001 at 12:52:39PM +0100
References: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com> <000b01c091c5$a2e9f3c0$0f2aa8c0@antonio>
Message-ID: <20010208125407.A6286@hagbard.davep.org>

On Thu, Feb 08, 2001 at 12:52:39PM +0100, Antonio Linares wrote:
> Sid,
> 
> These are great news!!!!!!!
> 
> Ignacio has been able to reproduce your error on a small sample.
> 
> Now we just need to fix it.

It's not an error. Nothing needs fixing.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Thu Feb  8 07:59:11 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Thu Feb  8 07:59:11 2001
Subject: [Harbour] Array bug found (Ryzard
In-Reply-To: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com>; from ignacio@ozs.com on Thu, Feb 08, 2001 at 12:47:38PM +0100
References: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com>
Message-ID: <20010208125337.Z6286@hagbard.davep.org>

On Thu, Feb 08, 2001 at 12:47:38PM +0100, Ignacio Ortiz de Zuñiga wrote:

>    ? Eval(bBlock, 1) // should return "d" but returns "a"

Wrong, it should return "a". What makes you think it should return "d"?

More to the point, what version of CA-Clipper did you test it with (I'm
assuming you did) that returned "d"? Any Clipper environment that returns
"d" is broken.

Perhaps you had this in mind instead:

-- cut here ----------------------------------------------------------------
Function Main()

   local aArray, bBlock

   aArray := {"a", "b", "c"}
   bBlock := { |n| aArray[n] }

   ? Eval(bBlock, 1)

   ChangeArray( @aArray ) // NOTE: Pass by reference.

   ? Eval(bBlock, 1) // should return "d" but returns "a"

return nil

function ChangeArray( aArray )

   aArray := NewData()

return nil

function NewData()

   local aData

   aData := {"d", "e", "f"}

return aData
-- cut here ----------------------------------------------------------------

That's works just fine.

-- 
Dave Pearson                        |  OSLib - Timeslice release functions.
http://www.davep.org/               |     eg - Norton Guide reader for Linux.
http://www.davep.org/clipper/       |    weg - Norton Guide reader for Windows.
http://www.davep.org/norton-guides/ | dgscan - DGROUP scanner for Clipper.

From harbour@lists.harbour-project.org  Thu Feb  8 07:59:20 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Thu Feb  8 07:59:20 2001
Subject: [Harbour] Debugger OS Shell question
In-Reply-To: <000e01c091c9$11b36f40$0f2aa8c0@antonio>; from alinares@fivetech.com on Thu, Feb 08, 2001 at 01:17:13PM +0100
References: <sa829a48.083@dipusevi.dipusevilla.es> <000e01c091c9$11b36f40$0f2aa8c0@antonio>
Message-ID: <20010208125829.B6286@hagbard.davep.org>

On Thu, Feb 08, 2001 at 01:17:13PM +0100, Antonio Linares wrote:
> I have already implemented the debugger OS Shell menu option,
> and I do use this line (besides some others):
> 
>    RUN "Command.com"

Don't run COMMAND.COM, first see what COMSPEC is set to and run that. If
COMSPEC isn't set *then* run COMMAND.COM.

> what to do for Linux and other operating systems ?

A starting point would be to see what $SHELL is and run that. If $SHELL
isn't set then run /bin/sh. However, this method of doing things isn't
really the Un*x way. The using way would be to suspend the job into the
background, that means reacting to a suspend signal.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Thu Feb  8 08:11:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Thu Feb  8 08:11:02 2001
Subject: [Harbour] Debugger OS Shell question
References: <sa829a48.083@dipusevi.dipusevilla.es> <000e01c091c9$11b36f40$0f2aa8c0@antonio> <20010208125829.B6286@hagbard.davep.org>
Message-ID: <3A829ABD.C90784E3@libero.it>

Dave,

executing COMSPEC works fine under OS/2 too.

regards.


Dave Pearson ha scritto:
> 
> On Thu, Feb 08, 2001 at 01:17:13PM +0100, Antonio Linares wrote:
> > I have already implemented the debugger OS Shell menu option,
> > and I do use this line (besides some others):
> >
> >    RUN "Command.com"
> 
> Don't run COMMAND.COM, first see what COMSPEC is set to and run that. If
> COMSPEC isn't set *then* run COMMAND.COM.
> 
> > what to do for Linux and other operating systems ?
> 
> A starting point would be to see what $SHELL is and run that. If $SHELL
> isn't set then run /bin/sh. However, this method of doing things isn't
> really the Un*x way. The using way would be to suspend the job into the
> background, that means reacting to a suspend signal.
> 
> --
> The Harbour Project: A free software Clipper compatible compiler
> Home Page..........: http://www.harbour-project.org/
> FAQ................: http://www.harbour-project.org/faq/harbour.html
> My harbour page....: http://www.davep.org/harbour/
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Thu Feb  8 08:18:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Thu Feb  8 08:18:02 2001
Subject: [Harbour] Debugger OS Shell question
In-Reply-To: <3A829ABD.C90784E3@libero.it>
Message-ID: <001401c091d1$38cb16c0$0f2aa8c0@antonio>

Maurilio,

> executing COMSPEC works fine under OS/2 too.

Would you mind to modify Class TDebugger Method OSShell() ?

Many thanks!

Antonio


From harbour@lists.harbour-project.org  Thu Feb  8 08:47:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Thu Feb  8 08:47:02 2001
Subject: [Harbour] Debugger OS Shell question
References: <001401c091d1$38cb16c0$0f2aa8c0@antonio>
Message-ID: <3A82A2F4.13DCFDE8@libero.it>

Antonio,

I'll upload it in a few minutes :-)

regards.

Antonio Linares ha scritto:
> 
> Maurilio,
> 
> > executing COMSPEC works fine under OS/2 too.
> 
> Would you mind to modify Class TDebugger Method OSShell() ?
> 
> Many thanks!
> 
> Antonio
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Thu Feb  8 09:01:01 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Thu Feb  8 09:01:01 2001
Subject: [Harbour] CHANGELOG: 2001-02-08 14:55 GMT+1
Message-ID: <3A82A648.B805C894@libero.it>

2001-02-08 14:55 GMT+1 Maurilio Longo <maurilio.longo@libero.it>
   * source/debug/debugger.prg
     * changed OSShell() method to use COMSPEC environment variable

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Thu Feb  8 10:09:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Thu Feb  8 10:09:02 2001
Subject: [Harbour] ChangeLog 2001-02-08 16:04 GMT+1
In-Reply-To: <3A82A648.B805C894@libero.it>
Message-ID: <002001c091e0$b0a24420$0f2aa8c0@antonio>

2001-02-08 16:04 GMT+1 Antonio Linares <alinares@fivetech.com>
   * source/debug/debugger.prg
     ! minor fix on METHOD OSShell().

Maurilio, thanks a lot for your help. 

I just changed RUN cShell into RUN ( cShell ), because it was 
not working here. Now it does.

Antonio



From harbour@lists.harbour-project.org  Thu Feb  8 11:32:02 2001
From: harbour@lists.harbour-project.org (Sid Saylors)
Date: Thu Feb  8 11:32:02 2001
Subject: [Harbour] Array bug (even simplier)
References: <000d01c091c8$74c18460$0f2aa8c0@antonio>
Message-ID: <3A82C991.13A87C11@home.com>

Antonio,

This is what i'm doing and after passing it 3-4 levels it
becomes a Nil.

Best Regards

Sid.........



Antonio Linares wrote:
> 
> Manuel,
> 
> > Para ser realistas tal como lo hace Harbour esta bien. El que lo
> > hace mal es clipper. Que tal si pones: ChangeArray( @aArray )
> 
> Yes, you are right. It is not a Harbour bug. It is ok :-)
> 
> Using ChangeArray( @aArray ) is ok.
> 
> Antonio
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

From harbour@lists.harbour-project.org  Thu Feb  8 11:35:04 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Ignacio_Ortiz_de_Zu=F1iga?=)
Date: Thu Feb  8 11:35:04 2001
Subject: [Harbour] 2001-02-08 17:30 GMT+1 Ignacio Ortiz <ignacioortiz@fivetech.com>
Message-ID: <BGEJIGGANMIAOJPONENJIEBKCEAA.ignacio@fivetech.com>

2001-02-08 17:30 GMT+1 Ignacio Ortiz <ignacioortiz@fivetech.com>
   * harbour/source/debug/dbgtmenu.prg
     + Minor fix

   * harbour/source/debug/debugger.prg
     + New method ShowWorkAreas()

   * harbour/source/debug/dbgwa.prg
     + New debugger Show work areas (completally finished)

   * harbour/makefile.bc
     + Added harbour/source/debug/dbgwa.prg
     ! Please update other make files

Ignacio Ortiz
Email: ignacio@fivetech.com
http: www.fivetech.com 


From harbour@lists.harbour-project.org  Thu Feb  8 11:37:02 2001
From: harbour@lists.harbour-project.org (Sid Saylors)
Date: Thu Feb  8 11:37:02 2001
Subject: [Harbour] Array bug found (Ryzard
References: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com> <000b01c091c5$a2e9f3c0$0f2aa8c0@antonio> <20010208125407.A6286@hagbard.davep.org>
Message-ID: <3A82CABE.C35531F1@home.com>

Dave i've been doing this in clipper 5.3 and fivewin for 3-4 years 
and it works but in harbour after passing an array as @array so that
you can re=assign it it becomes a NIL but i can't make it happen
in a small sample..

Best Regards

Sid........



Dave Pearson wrote:
> 
> On Thu, Feb 08, 2001 at 12:52:39PM +0100, Antonio Linares wrote:
> > Sid,
> >
> > These are great news!!!!!!!
> >
> > Ignacio has been able to reproduce your error on a small sample.
> >
> > Now we just need to fix it.
> 
> It's not an error. Nothing needs fixing.
> 
> --
> The Harbour Project: A free software Clipper compatible compiler
> Home Page..........: http://www.harbour-project.org/
> FAQ................: http://www.harbour-project.org/faq/harbour.html
> My harbour page....: http://www.davep.org/harbour/
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

From harbour@lists.harbour-project.org  Thu Feb  8 11:41:01 2001
From: harbour@lists.harbour-project.org (Sid Saylors)
Date: Thu Feb  8 11:41:01 2001
Subject: [Harbour] Array bug found (Ryzard
References: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com> <20010208125337.Z6286@hagbard.davep.org>
Message-ID: <3A82CBD7.D254E078@home.com>

Dave,

it works that way in clipper 5.1 and up.

if you pass it as @array you can re-assign.

Sid.....



Dave Pearson wrote:
> 
> On Thu, Feb 08, 2001 at 12:47:38PM +0100, Ignacio Ortiz de Zuñiga wrote:
> 
> >    ? Eval(bBlock, 1) // should return "d" but returns "a"
> 
> Wrong, it should return "a". What makes you think it should return "d"?
> 
> More to the point, what version of CA-Clipper did you test it with (I'm
> assuming you did) that returned "d"? Any Clipper environment that returns
> "d" is broken.
> 
> Perhaps you had this in mind instead:
> 
> -- cut here ----------------------------------------------------------------
> Function Main()
> 
>    local aArray, bBlock
> 
>    aArray := {"a", "b", "c"}
>    bBlock := { |n| aArray[n] }
> 
>    ? Eval(bBlock, 1)
> 
>    ChangeArray( @aArray ) // NOTE: Pass by reference.
> 
>    ? Eval(bBlock, 1) // should return "d" but returns "a"
> 
> return nil
> 
> function ChangeArray( aArray )
> 
>    aArray := NewData()
> 
> return nil
> 
> function NewData()
> 
>    local aData
> 
>    aData := {"d", "e", "f"}
> 
> return aData
> -- cut here ----------------------------------------------------------------
> 
> That's works just fine.
> 
> --
> Dave Pearson                        |  OSLib - Timeslice release functions.
> http://www.davep.org/               |     eg - Norton Guide reader for Linux.
> http://www.davep.org/clipper/       |    weg - Norton Guide reader for Windows.
> http://www.davep.org/norton-guides/ | dgscan - DGROUP scanner for Clipper.
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

From harbour@lists.harbour-project.org  Thu Feb  8 12:00:06 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Thu Feb  8 12:00:06 2001
Subject: [Harbour] 2001-02-08 17:30 GMT+1 Ignacio Ortiz <ignacioortiz@fivetech.com>
In-Reply-To: <BGEJIGGANMIAOJPONENJIEBKCEAA.ignacio@fivetech.com>
Message-ID: <002901c091f0$283f75c0$0f2aa8c0@antonio>

Ignacio,

A really nice job!!!

Thanks a lot!!!

p.s.: Have a look!!!!!

Antonio



From harbour@lists.harbour-project.org  Thu Feb  8 12:16:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Thu Feb  8 12:16:02 2001
Subject: [Harbour] Array bug found (Ryzard
In-Reply-To: <3A82CBD7.D254E078@home.com>; from saylors@home.com on Thu, Feb 08, 2001 at 08:39:51AM -0800
References: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com> <20010208125337.Z6286@hagbard.davep.org> <3A82CBD7.D254E078@home.com>
Message-ID: <20010208170638.K6286@hagbard.davep.org>

On Thu, Feb 08, 2001 at 08:39:51AM -0800, Sid Saylors wrote:
> Dave,
> 
> it works that way in clipper 5.1 and up.

I'm certain it worked in 5.0 too.

> if you pass it as @array you can re-assign.

I know, that's the reason I posted a revised version of the code, see this
line:

,----
| ChangeArray( @aArray ) // NOTE: Pass by reference.
`----

in the revised version. The point here is that neither version of the code
demonstrates a problem. Both versions of the code work perfectly.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Thu Feb  8 12:16:11 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Thu Feb  8 12:16:11 2001
Subject: [Harbour] Array bug found (Ryzard
In-Reply-To: <3A82CABE.C35531F1@home.com>; from saylors@home.com on Thu, Feb 08, 2001 at 08:35:10AM -0800
References: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com> <000b01c091c5$a2e9f3c0$0f2aa8c0@antonio> <20010208125407.A6286@hagbard.davep.org> <3A82CABE.C35531F1@home.com>
Message-ID: <20010208170502.J6286@hagbard.davep.org>

On Thu, Feb 08, 2001 at 08:35:10AM -0800, Sid Saylors wrote:

> Dave i've been doing this in clipper 5.3 and fivewin for 3-4 years and it
> works but in harbour after passing an array as @array so that you can
> re=assign it it becomes a NIL but i can't make it happen in a small
> sample..

The code posted to demonstrate the "problem" wasn't using the
pass-by-reference operator and so wasn't displaying any problem. What you
seem to be saying above is unrelated to the example code that was posted.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Thu Feb  8 12:29:02 2001
From: harbour@lists.harbour-project.org (Sid Saylors)
Date: Thu Feb  8 12:29:02 2001
Subject: [Harbour] Array bug found (Ryzard
References: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com> <000b01c091c5$a2e9f3c0$0f2aa8c0@antonio> <20010208125407.A6286@hagbard.davep.org> <3A82CABE.C35531F1@home.com> <20010208170502.J6286@hagbard.davep.org>
Message-ID: <000901c091f4$667698b0$aa4c0418@cx588881b>

Dave , you are right to a point, I pass the array by reference and in my app
under clipper 5.3 and fivewin it works fine BUT in harbour after it is
passed
2-4 levels it becomes a NIL , this should not happen and in clipper it
don't.

Regards

Sid.....
> The code posted to demonstrate the "problem" wasn't using the
> pass-by-reference operator and so wasn't displaying any problem. What you
> seem to be saying above is unrelated to the example code that was posted


----- Original Message -----
From: "Dave Pearson" <davep@davep.org>
To: <harbour@lists.harbour-project.org>
Sent: Thursday, February 08, 2001 9:05 AM
Subject: Re: [Harbour] Array bug found (Ryzard


> On Thu, Feb 08, 2001 at 08:35:10AM -0800, Sid Saylors wrote:
>
> > Dave i've been doing this in clipper 5.3 and fivewin for 3-4 years and
it
> > works but in harbour after passing an array as @array so that you can
> > re=assign it it becomes a NIL but i can't make it happen in a small
> > sample..
>
> The code posted to demonstrate the "problem" wasn't using the
> pass-by-reference operator and so wasn't displaying any problem. What you
> seem to be saying above is unrelated to the example code that was posted.
>
> --
> The Harbour Project: A free software Clipper compatible compiler
> Home Page..........: http://www.harbour-project.org/
> FAQ................: http://www.harbour-project.org/faq/harbour.html
> My harbour page....: http://www.davep.org/harbour/
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@lists.harbour-project.org  Thu Feb  8 12:48:02 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Thu Feb  8 12:48:02 2001
Subject: [Harbour] Array bug found (Ryzard
References: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com> <000b01c091c5$a2e9f3c0$0f2aa8c0@antonio> <20010208125407.A6286@hagbard.davep.org> <3A82CABE.C35531F1@home.com> <20010208170502.J6286@hagbard.davep.org>
Message-ID: <007601c091f8$0dce3a70$921a5e18@bh>

----- Original Message -----
From: "Dave Pearson" <davep@davep.org>
> The code posted to demonstrate the "problem" wasn't using the
> pass-by-reference operator and so wasn't displaying any problem. What you
> seem to be saying above is unrelated to the example code that was posted.

You are correct.  Sid was clarifying that there still is a latent bug
somewhere.  The posted code was a false alarm, but we do have code that
works in clipper but fails in Harbour.  A large array passed by reference up
and down a few levels (AND at one level passed by reference to a function
call in a codeblock, i.e. as a detached local) becomes NIL by the time it
returns back up.  I have been unable to distill it to a small sample despite
many many hours of trying.

Ryszard had posted a fix to one problem that was found in this process, but
our original problem of the array variable getting whacked does remain.

Brian


From harbour@lists.harbour-project.org  Thu Feb  8 13:04:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Thu Feb  8 13:04:02 2001
Subject: [Harbour] Changelog 2001-02-08 20:57 GMT+3
Message-ID: <1552208062.20010208210240@belacy.belgorod.su>

2001-02-08 20:57 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/source/rdd/dbfntx/dbfntx1.c
     + ntxPutValue()
     + hb_ntxPageKeyDel()
     Updating of opened indexes implemented ( not good yet, but works ).


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Thu Feb  8 13:17:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Thu Feb  8 13:17:02 2001
Subject: [Harbour] Array bug found (Ryzard
In-Reply-To: <000901c091f4$667698b0$aa4c0418@cx588881b>; from saylors@home.com on Thu, Feb 08, 2001 at 09:27:23AM -0800
References: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com> <000b01c091c5$a2e9f3c0$0f2aa8c0@antonio> <20010208125407.A6286@hagbard.davep.org> <3A82CABE.C35531F1@home.com> <20010208170502.J6286@hagbard.davep.org> <000901c091f4$667698b0$aa4c0418@cx588881b>
Message-ID: <20010208181219.N6286@hagbard.davep.org>

On Thu, Feb 08, 2001 at 09:27:23AM -0800, Sid Saylors wrote:

> Dave , you are right to a point, I pass the array by reference and in my
> app under clipper 5.3 and fivewin it works fine BUT in harbour after it is
> passed 2-4 levels it becomes a NIL , this should not happen and in clipper
> it don't.

I don't doubt that you're experiencing this problem, I was simply commenting
on the code that was posted and the incorrect conclusions drawn from it.

>From the problem you describe it would appear, on the surface, that a test
program like this:

-- cut here ----------------------------------------------------------------
Function Main( cNesting )
Local a := { 1, 2, 3 }
Local nNesting := 10

   If cNesting != NIL
      nNesting := max( val( cNesting ), nNesting )
   EndIf
   
   TestArrayProblem( nNesting, @a )
   ? "After nesting " + alltrim( str( nNesting ) ) + " level(s) " +;
      "a has a valtype() of " + valtype( a )
   
Return( NIL )

Static Function TestArrayProblem( nLevel, a )

   If nLevel == 0
      a := NIL
   Else
      TestArrayProblem( --nLevel, @a )
   EndIf
   
Return( NIL )
-- cut here ----------------------------------------------------------------

should aid in finding the problem. Correct?

So far it appears to always work fine. The valtype() of `a' always ends up
as "U".

One interesting thing about the above program is that if I run it, passing
498 or more as the nesting level, I get the following error:

,----
| Unrecoverable error 9018: Incorrect item type on the stack trying to pop
| from hb_vmPopDouble()
`----

I doubt that that's related to your problem but I'm wondering if it's an
incorrect failure of the stack management code (although a call stack 497
calls deep is better than some Clipper environments we know and love <g>).

-- 
Dave Pearson                        |  OSLib - Timeslice release functions.
http://www.davep.org/               |     eg - Norton Guide reader for Linux.
http://www.davep.org/clipper/       |    weg - Norton Guide reader for Windows.
http://www.davep.org/norton-guides/ | dgscan - DGROUP scanner for Clipper.

From harbour@lists.harbour-project.org  Thu Feb  8 13:30:04 2001
From: harbour@lists.harbour-project.org (Sid Saylors)
Date: Thu Feb  8 13:30:04 2001
Subject: [Harbour] Array bug found (Ryzard
References: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com> <000b01c091c5$a2e9f3c0$0f2aa8c0@antonio> <20010208125407.A6286@hagbard.davep.org> <3A82CABE.C35531F1@home.com> <20010208170502.J6286@hagbard.davep.org> <000901c091f4$667698b0$aa4c0418@cx588881b> <20010208181219.N6286@hagbard.davep.org>
Message-ID: <000901c091fc$ed54fd10$aa4c0418@cx588881b>

Dave,

both me and brian have tried to make a small sample that fails and
have failed..

i think that it may be a problem with the GC in that when it is passed
down 2-3 levels it turns to a nil.

your sample to ignacio showing an array passed by reference is what
i'm doing and it will work fine in your sample but put it in a large app.
and it will fail..



Regards.
Sid......


----- Original Message -----
From: "Dave Pearson" <davep@davep.org>
To: <harbour@lists.harbour-project.org>
Sent: Thursday, February 08, 2001 10:12 AM
Subject: Re: [Harbour] Array bug found (Ryzard


> On Thu, Feb 08, 2001 at 09:27:23AM -0800, Sid Saylors wrote:
>
> > Dave , you are right to a point, I pass the array by reference and in my
> > app under clipper 5.3 and fivewin it works fine BUT in harbour after it
is
> > passed 2-4 levels it becomes a NIL , this should not happen and in
clipper
> > it don't.
>
> I don't doubt that you're experiencing this problem, I was simply
commenting
> on the code that was posted and the incorrect conclusions drawn from it.
>
> From the problem you describe it would appear, on the surface, that a test
> program like this:
>
> -- cut
here ----------------------------------------------------------------
> Function Main( cNesting )
> Local a := { 1, 2, 3 }
> Local nNesting := 10
>
>    If cNesting != NIL
>       nNesting := max( val( cNesting ), nNesting )
>    EndIf
>
>    TestArrayProblem( nNesting, @a )
>    ? "After nesting " + alltrim( str( nNesting ) ) + " level(s) " +;
>       "a has a valtype() of " + valtype( a )
>
> Return( NIL )
>
> Static Function TestArrayProblem( nLevel, a )
>
>    If nLevel == 0
>       a := NIL
>    Else
>       TestArrayProblem( --nLevel, @a )
>    EndIf
>
> Return( NIL )
> -- cut
here ----------------------------------------------------------------
>
> should aid in finding the problem. Correct?
>
> So far it appears to always work fine. The valtype() of `a' always ends up
> as "U".
>
> One interesting thing about the above program is that if I run it, passing
> 498 or more as the nesting level, I get the following error:
>
> ,----
> | Unrecoverable error 9018: Incorrect item type on the stack trying to pop
> | from hb_vmPopDouble()
> `----
>
> I doubt that that's related to your problem but I'm wondering if it's an
> incorrect failure of the stack management code (although a call stack 497
> calls deep is better than some Clipper environments we know and love <g>).
>
> --
> Dave Pearson                        |  OSLib - Timeslice release
functions.
> http://www.davep.org/               |     eg - Norton Guide reader for
Linux.
> http://www.davep.org/clipper/       |    weg - Norton Guide reader for
Windows.
> http://www.davep.org/norton-guides/ | dgscan - DGROUP scanner for Clipper.
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>
>


From harbour@lists.harbour-project.org  Thu Feb  8 13:49:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Thu Feb  8 13:49:02 2001
Subject: [Harbour] Array bug found (Ryzard
In-Reply-To: <007601c091f8$0dce3a70$921a5e18@bh>; from bhays@abacuslaw.com on Thu, Feb 08, 2001 at 09:53:33AM -0800
References: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com> <000b01c091c5$a2e9f3c0$0f2aa8c0@antonio> <20010208125407.A6286@hagbard.davep.org> <3A82CABE.C35531F1@home.com> <20010208170502.J6286@hagbard.davep.org> <007601c091f8$0dce3a70$921a5e18@bh>
Message-ID: <20010208184823.O6286@hagbard.davep.org>

On Thu, Feb 08, 2001 at 09:53:33AM -0800, Brian Hays wrote:

> You are correct. Sid was clarifying that there still is a latent bug
> somewhere. The posted code was a false alarm, but we do have code that
> works in clipper but fails in Harbour. A large array passed by reference
> up and down a few levels (AND at one level passed by reference to a
> function call in a codeblock, i.e. as a detached local) becomes NIL by the
> time it returns back up. I have been unable to distill it to a small
> sample despite many many hours of trying.

Oh, hang on, are you saying that all this business of setting a variable, by
reference, that used to contain an array, to NIL, is actually a red herring?
What you say above seems to suggest that all this passing about of an array
causes the variable that holds the reference to loose the array reference
and instead become NIL.

Passing an array reference itself, by reference, isn't generally necessary.
Is there any explanation as to what the problem code in question is doing
and why the array is getting passed by reference?

[Random thought]

Are PROCEDUREs involved in this code anywhere?

Here's what I'm thinking. Perhaps the problem isn't a bug in harbour
regarding array handling or anything but instead is a difference between
harbour and CA-Clipper regarding undocumented behaviour based on incorrect
usage of the language.

Take this code for example:

-- cut here ----------------------------------------------------------------
Function Main()
Local a := { 1, 2, 3 }

   a := ArrayTest( @a )
   ? valtype( a )
   
Return( NIL )

Procedure ArrayTest( a )

   a := MyProcedure( a )

Return

Procedure MyProcedure( a )

   aeval( a, {|| NIL /* Do nothing */ } )
   
Return
-- cut here ----------------------------------------------------------------

Under harbour it prints "A", under CA-Clipper 5.2e it prints "U". In this
case harbour isn't making the array become NIL but CA-Clipper is. While this
is the opposite of the reported behaviour it should be easy enough to see
the principle involved.

IOW, perhaps the chap with the problem (my apologies, I've forgotten your
name, Sid is it?) needs to look in his code for either intentional or
unintentional usage of the language that relies on undocumented or badly
documented behaviour.

Note, for example, that harbour is fast and loose with the return values
from procedures while Clipper isn't quite so bad. David and myself had a
long discussion about the relative merits of this approach a while back (I
suggested harbour was wrong and should always return NIL, as per the
CA-Clipper documentation, David suggested otherwise). See the list archives
for more details.

Perhaps the "problem" is actually a side effect of the way harbour handles
procedure return values?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Thu Feb  8 13:52:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Thu Feb  8 13:52:02 2001
Subject: [Harbour] Array bug found (Ryzard
In-Reply-To: <000901c091fc$ed54fd10$aa4c0418@cx588881b>; from saylors@home.com on Thu, Feb 08, 2001 at 10:28:26AM -0800
References: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com> <000b01c091c5$a2e9f3c0$0f2aa8c0@antonio> <20010208125407.A6286@hagbard.davep.org> <3A82CABE.C35531F1@home.com> <20010208170502.J6286@hagbard.davep.org> <000901c091f4$667698b0$aa4c0418@cx588881b> <20010208181219.N6286@hagbard.davep.org> <000901c091fc$ed54fd10$aa4c0418@cx588881b>
Message-ID: <20010208185108.P6286@hagbard.davep.org>

On Thu, Feb 08, 2001 at 10:28:26AM -0800, Sid Saylors wrote:

> your sample to ignacio showing an array passed by reference is what i'm
> doing and it will work fine in your sample but put it in a large app. and
> it will fail..

I'm wondering if this has nothing to do with application size. See the
example code I've just mailed to the list that demonstrates a difference
between CA-Clipper and harbour. I'm not suggesting that it is *the* cause of
your problem but it might be worth checking out.

It seems like a more obvious line of investigation before the GC gets looked
at.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Thu Feb  8 14:30:04 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Thu Feb  8 14:30:04 2001
Subject: [Harbour] Re: Array bug found (Ryzard
In-Reply-To: <007601c091f8$0dce3a70$921a5e18@bh>
References: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com>
 <000b01c091c5$a2e9f3c0$0f2aa8c0@antonio>
 <20010208125407.A6286@hagbard.davep.org> <3A82CABE.C35531F1@home.com>
 <20010208170502.J6286@hagbard.davep.org> <007601c091f8$0dce3a70$921a5e18@bh>
Message-ID: <327384632.20010208222856@belacy.belgorod.su>

On  Thursday, February 08, 2001, 20:53 Brian Hays <bhays@abacuslaw.com> wrote:

BH> ...  A large array passed by reference up
BH> and down a few levels (AND at one level passed by reference to a function
BH> call in a codeblock, i.e. as a detached local) becomes NIL by the time it
BH> returns back up.

 Similar effect could be caused by the problem which I described today.
 When RDD virtual function is called, the top item of the stack isn't
 Nil, as it should be, but it is an item, passed to this function as a
 parameter. The result is that functions, working with stack, override
 this item and it becomes Nil.

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Thu Feb  8 14:50:03 2001
From: harbour@lists.harbour-project.org (Sid Saylors)
Date: Thu Feb  8 14:50:03 2001
Subject: [Harbour] Re: Array bug found (Ryzard
References: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com>
 <000b01c091c5$a2e9f3c0$0f2aa8c0@antonio>
 <20010208125407.A6286@hagbard.davep.org> <3A82CABE.C35531F1@home.com>
 <20010208170502.J6286@hagbard.davep.org> <007601c091f8$0dce3a70$921a5e18@bh> <327384632.20010208222856@belacy.belgorod.su>
Message-ID: <3A82F829.F6D34613@home.com>

Alexander,

	It sure sounds the same as we are encountering,
but i can't reproduce it in a small sample.

Both Brian and have tried , but the same code works in clipper 5.3
and fivewin.

Regards.

Sid...........



"Alexander S.Kresin" wrote:
> 
> On  Thursday, February 08, 2001, 20:53 Brian Hays <bhays@abacuslaw.com> wrote:
> 
> BH> ...  A large array passed by reference up
> BH> and down a few levels (AND at one level passed by reference to a function
> BH> call in a codeblock, i.e. as a detached local) becomes NIL by the time it
> BH> returns back up.
> 
>  Similar effect could be caused by the problem which I described today.
>  When RDD virtual function is called, the top item of the stack isn't
>  Nil, as it should be, but it is an item, passed to this function as a
>  parameter. The result is that functions, working with stack, override
>  this item and it becomes Nil.
> 
> Best regards,
>  Alexander
> http://members.xoom.com/alkresin/
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

From harbour@lists.harbour-project.org  Thu Feb  8 18:51:02 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Thu Feb  8 18:51:02 2001
Subject: [Harbour] Array bug found (Ryzard
References: <BGEJIGGANMIAOJPONENJGEBGCEAA.ignacio@ozs.com> <000b01c091c5$a2e9f3c0$0f2aa8c0@antonio> <20010208125407.A6286@hagbard.davep.org> <3A82CABE.C35531F1@home.com> <20010208170502.J6286@hagbard.davep.org> <007601c091f8$0dce3a70$921a5e18@bh> <20010208184823.O6286@hagbard.davep.org>
Message-ID: <002c01c0922a$bc2e5a50$921a5e18@bh>

Dave:
I can guarantee there are no Procedures involved in the code.
We have a report engine that keeps all info about a report in a large array
(think of it as a pseudo-object).
For the interface, this array may be set and ready to run, but if the user
decides to add a new report (an action on a button that passes the array by
reference within the codeblock assigned to that button), then the array
needs to be re-assigned to the newly created array--and thus needs to be
passed by reference.

Unfortunately there are some circumstances where the app blows up because
all of a sudden the array variable is now a NIL.

Thanks for the test ideas; we'll try again to isolate what the sequence is
that leads to the problem...

Brian



From harbour@lists.harbour-project.org  Thu Feb  8 23:46:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Thu Feb  8 23:46:02 2001
Subject: [Harbour] ChangeLog 2001-02-09 05:33 GMT+1
In-Reply-To: <3A82F829.F6D34613@home.com>
Message-ID: <000001c09252$e5136140$0f2aa8c0@antonio>

2001-02-09 05:33 GMT+1 Antonio Linares <alinares@fivetech.com>
   * harbour/source/debug/dbgmenu.prg
     + Some new options added.

   * harbour/source/debug/dbgtarr.prg
     + mono display option supported.

   * harbour/source/debug/dbgtmenu.prg
     + mono display debugger colors supported.

   * harbour/source/debug/dbgtobj.prg
     + mono display debugger colors supported.

   * harbour/source/debug/dbgtwin.prg
     ! some minor fixes

   * harbour/source/debug/dbgwa.prg
     + mono display debugger colors supported.

   * harbour/source/debug/debugger.prg
     + New METHOD MonoDisplay() added.
     + New METHOD PathForFiles() added.
     + New METHOD TabWidth() added.


Antonio


From harbour@lists.harbour-project.org  Thu Feb  8 23:49:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Thu Feb  8 23:49:02 2001
Subject: [Harbour] Debugger MonoDisplay (Maurilio)
In-Reply-To: <3A82F829.F6D34613@home.com>
Message-ID: <000101c09253$45194a00$0f2aa8c0@antonio>

Maurilio,

I have added Mono Display support to the debugger,
but I don't know how to change the source code browse
colors. I have tried this code (from debugger.prg):

   ::oWndCode:bPainted = { || ::oBrwText:SetColor( __DbgColors()[ 3 ] + ","
+ ;
                              __DbgColors()[ 4 ] + "," +
__DbgColors()[ 5 ] ),;
                             If( ::oBrwText != nil,
::oBrwText:RefreshWindow(), nil ) }

but it does not work. I really appreciate if you could have a look at it.

Thanks a lot!

Antonio



From harbour@lists.harbour-project.org  Thu Feb  8 23:55:04 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Thu Feb  8 23:55:04 2001
Subject: [Harbour] DbfNtx (Alexander)
In-Reply-To: <000001c09252$e5136140$0f2aa8c0@antonio>
Message-ID: <000201c09254$0f4a2740$0f2aa8c0@antonio>

Alexander,

I am geting these errors when compiling latest DbfNtx code:

Warning W8012 source\rdd\dbfntx\dbfntx1.c 318: Comparing signed and unsigned
values in function hb_ntxTagFindCurrentKey
Warning W8012 source\rdd\dbfntx\dbfntx1.c 321: Comparing signed and unsigned
values in function hb_ntxTagFindCurrentKey
Warning W8012 source\rdd\dbfntx\dbfntx1.c 329: Comparing signed and unsigned
values in function hb_ntxTagFindCurrentKey
Warning W8012 source\rdd\dbfntx\dbfntx1.c 373: Comparing signed and unsigned
values in function hb_ntxPageFindCurrentKey
Error E2040 source\rdd\dbfntx\dbfntx1.c 1726: Declaration terminated
incorrectly
Error E2451 source\rdd\dbfntx\dbfntx1.c 2292: Undefined symbol 'ntxTable' in
function HB_FUN_DBFNTX_GETFUNCTABLE
*** 2 errors in Compile ***

Many thanks for your help!

Antonio



From harbour@lists.harbour-project.org  Fri Feb  9 01:05:04 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Fri Feb  9 01:05:04 2001
Subject: [Harbour] Re: DbfNtx (Alexander)
In-Reply-To: <000201c09254$0f4a2740$0f2aa8c0@antonio>
References: <000201c09254$0f4a2740$0f2aa8c0@antonio>
Message-ID: <1741476381.20010209090202@belacy.belgorod.su>

On 09.02.2001 7:52, Antonio Linares <alinares@fivetech.com> wrote:

AL> Alexander,
AL> I am geting these errors when compiling latest DbfNtx code:
AL> ...

 Oh, sorry, I forgot to upload the changed hbrddntx.h .
 Now it should be Ok.

2001-02-09 09:00 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/include/hbrddntx.h
     + ntxPutValue declaration
      
Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Fri Feb  9 01:27:02 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Fri Feb  9 01:27:02 2001
Subject: [Harbour] Item api bugs?
Message-ID: <005a01c09262$1f256a90$921a5e18@bh>

hb_itemGetNLen() seems to produce bad values for numbers with 10 or more
digits (1 too high).
And if  hb_ndtoa( ) is used with its results, an extra space appears at the
front of the number.

After tracing a problem with SEEK on numeric values, I found this to be the
simplest display of a problem:
? 'x'+str(12345678901)+'x'

In Clipper, no spaces appear.  In Harbour, there's a space after the first
'x' because the number is left-padded with one space.

Here are some more details about hb_itemGetNLen() :

Here's a line in my test PRG:
    SEEK 1234567890
the value 1234567890 is received in dbSeek via
    pKey = hb_param( 1, HB_IT_ANY );
and passed along to adsSeek. The value is extracted from the item with.
    hb_itemGetNLen( pKey, &uiLen, &uiDec );

The problem is uiLen is set to 11.
But for numbers with fewer than 10 digits, it is always 10.
I realized there is some default internal handling of numbers at 10 digits
(str(), for example), so small numbers are left-padded to 10 for display,
but is this the behavior for hb_itemGetNLen that we want?

If I explicitly set pKey this way:
    hb_itemPutND( pKey, 1234567890 );
then hb_itemGetNLen sets uiLen to 10. Why would it be different?
This implies a problem with the way the item is passed on the stack, since
an item that is set directly has correct length.

Now here's another problem (14 chars):
The infamous rounding becomes a problem:
    SEEK 12345678901234
ads1.c:430: ( 15, 12345678901233.999360)
    Is this descrepancy due to hb_trace with %f, or can we expect math
problems getting large numbers out of items?


Brian Hays


From harbour@lists.harbour-project.org  Fri Feb  9 01:59:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Fri Feb  9 01:59:02 2001
Subject: [Harbour] ChangeLog 2001-02-09 07:56 GMT+1
In-Reply-To: <000001c09252$e5136140$0f2aa8c0@antonio>
Message-ID: <000001c09265$769fa4e0$0f2aa8c0@antonio>

2001-02-09 07:56 GMT+1 Antonio Linares <alinares@fivetech.com>
   * harbour/source/debug/debugger.prg
     + Colors are already editables.


Antonio


From harbour@lists.harbour-project.org  Fri Feb  9 02:57:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Fri Feb  9 02:57:02 2001
Subject: [Harbour] debugger.prg error
Message-ID: <3A83A2A5.8F5D4C8C@libero.it>

Guys,

I get this compiling latest code with Simplex

regards.


(E:\repository\harbour\source\debug)make install
CMD.EXE /c IF NOT EXIST os2 md os2
CMD.EXE /c IF NOT EXIST os2\gcc    md os2\gcc
make[1]: Entering directory `/repository/harbour/source/debug/os2/gcc'
../../../../source/compiler/os2/gcc/harbour.exe ../../debugger.prg  -n
-q0 -w -e
s2 -gc0 -I../../ -I../../../../include
../../debugger.prg(511) Error E0047  Code block contains both macro and
declared
 symbol references
1 error

No code generated
make[1]: *** [debugger.c] Error 1
make[1]: Leaving directory `/repository/harbour/source/debug/os2/gcc'
make: *** [descend] Error 2

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Fri Feb  9 03:03:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Fri Feb  9 03:03:02 2001
Subject: [Harbour] debugger.prg error
References: <3A83A2A5.8F5D4C8C@libero.it>
Message-ID: <3A83A3D8.50C4880D@libero.it>

No errors with flex

regards.

Maurilio Longo ha scritto:
> 
> Guys,
> 
> I get this compiling latest code with Simplex
> 
> regards.
> 
> (E:\repository\harbour\source\debug)make install
> CMD.EXE /c IF NOT EXIST os2 md os2
> CMD.EXE /c IF NOT EXIST os2\gcc    md os2\gcc
> make[1]: Entering directory `/repository/harbour/source/debug/os2/gcc'
> ../../../../source/compiler/os2/gcc/harbour.exe ../../debugger.prg  -n
> -q0 -w -e
> s2 -gc0 -I../../ -I../../../../include
> ../../debugger.prg(511) Error E0047  Code block contains both macro and
> declared
>  symbol references
> 1 error
> 
> No code generated
> make[1]: *** [debugger.c] Error 1
> make[1]: Leaving directory `/repository/harbour/source/debug/os2/gcc'
> make: *** [descend] Error 2
> 
> --
>  __________
> |  |  | |__| md2520@mclink.it
> |_|_|_|____| Team OS/2 Italia
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Fri Feb  9 03:16:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Fri Feb  9 03:16:02 2001
Subject: [Harbour] CHANGELOG: 2001-02-09 09:15 GMT+1
Message-ID: <3A83A6ED.31429525@libero.it>

2001-02-09 09:15 GMT+1 Maurilio Longo <maurilio.longo@libero.it>
   * source/debug/Makefile
     + added dbgwa.prg to GCC Makefile

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Fri Feb  9 04:40:03 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Fri Feb  9 04:40:03 2001
Subject: [Harbour] Changelog 2001-02-07 13:50 GMT+3
Message-ID: <1272724274.20010209123818@belacy.belgorod.su>

2001-02-09 12:10 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/source/rdd/dbfntx/dbfntx1.c
     * bug fixed, which have appeared after last change

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Fri Feb  9 07:12:01 2001
From: harbour@lists.harbour-project.org (John Skelton)
Date: Fri Feb  9 07:12:01 2001
Subject: [Harbour] Array bug found (Ryzard
Message-ID: <200102090711_MC2-C4C3-9E70@compuserve.com>

Dave,

"harbour is fast and loose with the return values
from procedures while Clipper isn't quite so bad"

:-(

"I suggested harbour was wrong and should always return NIL, as per the
CA-Clipper documentation ... See the list archives"

For a long time I trusted (i.e. relied on) the Clipper doc statement
that a PROCEDURE "always returns NIL".  I still think it's what
_should_ happen. :-)  Now I "just" try never to write any PROCs, i.e.
PROC's become a useless language feature simply because the
implementation doesn't match the docs.

I suspect there are a number of Clipper apps out there which have
lurking bugs because they use PROCs as per the doc. :-(

John.

From harbour@lists.harbour-project.org  Fri Feb  9 07:44:01 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Fri Feb  9 07:44:01 2001
Subject: [Harbour] Debugger MonoDisplay (Maurilio)
References: <000101c09253$45194a00$0f2aa8c0@antonio>
Message-ID: <3A83E5C6.B575F840@libero.it>

Antonio,

yes, coloring of TBrwText is a little tricky, I'll try to fix it this
evening.

regards.


Antonio Linares ha scritto:
> 
> Maurilio,
> 
> I have added Mono Display support to the debugger,
> but I don't know how to change the source code browse
> colors. I have tried this code (from debugger.prg):
> 
>    ::oWndCode:bPainted = { || ::oBrwText:SetColor( __DbgColors()[ 3 ] + ","
> + ;
>                               __DbgColors()[ 4 ] + "," +
> __DbgColors()[ 5 ] ),;
>                              If( ::oBrwText != nil,
> ::oBrwText:RefreshWindow(), nil ) }
> 
> but it does not work. I really appreciate if you could have a look at it.
> 
> Thanks a lot!
> 
> Antonio
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Fri Feb  9 08:34:00 2001
From: harbour@lists.harbour-project.org (Phil Barnett)
Date: Fri Feb  9 08:34:00 2001
Subject: [Harbour] Array bug found (Ryzard
In-Reply-To: <200102090711_MC2-C4C3-9E70@compuserve.com>
Message-ID: <3A83AB4E.17715.F7C23DB@localhost>

On 9 Feb 2001, at 7:11, John Skelton wrote:

> Dave,
> 
> "harbour is fast and loose with the return values
> from procedures while Clipper isn't quite so bad"
> 
> :-(
> 
> "I suggested harbour was wrong and should always return NIL, as per the
> CA-Clipper documentation ... See the list archives"
> 
> For a long time I trusted (i.e. relied on) the Clipper doc statement
> that a PROCEDURE "always returns NIL".  I still think it's what
> _should_ happen. :-)  Now I "just" try never to write any PROCs, i.e.
> PROC's become a useless language feature simply because the
> implementation doesn't match the docs.
> 
> I suspect there are a number of Clipper apps out there which have
> lurking bugs because they use PROCs as per the doc. :-(

I have always used procedures to indicate that there is no usable 
return value. At least this way, I can look at code and determine if 
it returns data by looking at the top instead of scrolling through the 
code looking for 'return' values.

As long as you never assign return values from procedures, it 
shouldn't be a problem.

Are you saying you expected a NIL to return and tested for it or 
that you assigned return values from procedures?


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@lists.harbour-project.org  Fri Feb  9 08:48:00 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Fri Feb  9 08:48:00 2001
Subject: [Harbour] CHANGELOG: 2001-02-09 14:44 GMT+1
Message-ID: <3A83F4E2.76AB14EC@libero.it>

2001-02-09 14:44 GMT+1 Maurilio Longo <maurilio.longo@libero.it>
   * source/debug/tbrwtext.prg
     + fixed coloring
   * source/debug/debugger.prg
     * changed call to oBrwText:New() so pass a correct color string

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Fri Feb  9 08:53:00 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Fri Feb  9 08:53:00 2001
Subject: [Harbour] Debugger MonoDisplay (Maurilio)
References: <000101c09253$45194a00$0f2aa8c0@antonio> <3A83E5C6.B575F840@libero.it>
Message-ID: <3A83F607.54A62C4@libero.it>

Antonio,

easier than I could hope. Should be fixed.

regards.



Maurilio Longo ha scritto:
> 
> Antonio,
> 
> yes, coloring of TBrwText is a little tricky, I'll try to fix it this
> evening.
> 
> regards.
> 
> Antonio Linares ha scritto:
> >
> > Maurilio,
> >
> > I have added Mono Display support to the debugger,
> > but I don't know how to change the source code browse
> > colors. I have tried this code (from debugger.prg):
> >
> >    ::oWndCode:bPainted = { || ::oBrwText:SetColor( __DbgColors()[ 3 ] + ","
> > + ;
> >                               __DbgColors()[ 4 ] + "," +
> > __DbgColors()[ 5 ] ),;
> >                              If( ::oBrwText != nil,
> > ::oBrwText:RefreshWindow(), nil ) }
> >
> > but it does not work. I really appreciate if you could have a look at it.
> >
> > Thanks a lot!
> >
> > Antonio
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@lists.harbour-project.org
> > http://www.matrixlist.com/mailman/listinfo/harbour
> >
> > Thank you for participating in The Harbour Project.  Be sure to check
> > http://www.Harbour-Project.org
> 
> --
>  __________
> |  |  | |__| md2520@mclink.it
> |_|_|_|____| Team OS/2 Italia
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Fri Feb  9 09:23:01 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Fri Feb  9 09:23:01 2001
Subject: [Harbour] Debugger MonoDisplay (Maurilio)
In-Reply-To: <3A83F607.54A62C4@libero.it>
Message-ID: <001001c092a3$7a65f280$0f2aa8c0@antonio>

Maurilio,

> easier than I could hope. Should be fixed.

Works great! :-)


Thanks a lot!

Antonio



From harbour@lists.harbour-project.org  Fri Feb  9 09:49:01 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Fri Feb  9 09:49:01 2001
Subject: [Harbour] ColorToN() ?
In-Reply-To: <001001c092a3$7a65f280$0f2aa8c0@antonio>
Message-ID: <001101c092a7$1e7435a0$0f2aa8c0@antonio>

Does Harbour has a similar ColorToN() function ?

i.e.:

   ColorToN( "N/W" ) --> 7


Thanks!

Antonio



From harbour@lists.harbour-project.org  Fri Feb  9 10:32:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Fri Feb  9 10:32:02 2001
Subject: [Harbour] ColorToN() ?
In-Reply-To: <001101c092a7$1e7435a0$0f2aa8c0@antonio>
Message-ID: <001201c092ad$03cf7920$0f2aa8c0@antonio>

> Does Harbour has a similar ColorToN() function ?

I think we could implement a hb_gtColorToN()

I appreciate your comments.


Antonio


From harbour@lists.harbour-project.org  Fri Feb  9 10:49:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Fri Feb  9 10:49:02 2001
Subject: [Harbour] ChangeLog 2001-02-09 16:44 GMT+1
In-Reply-To: <001201c092ad$03cf7920$0f2aa8c0@antonio>
Message-ID: <001301c092af$6939c660$0f2aa8c0@antonio>

2001-02-09 16:44 GMT+1 Antonio Linares <alinares@fivetech.com>

   * harbour/include/hbapigt.h
     + hb_gtColorToN() prototype added.

   * harbour/source/debug/debugger.prg
     * some minor fixes.

   * harbour/source/rtl/gtapi.c
     + hb_gtColorToN() function added.

   * harbour/source/rtl/setcolor.c
     + HB_COLORTON() function added.

   * harbour/source/rtl/shadow.c
     + HB_CLRAREA() function added.

   These functions are used by the debugger.

   Notice hb_gtColorToN() is not properly working yet :-/
   (Colors management gurus help is welcome :-)

Antonio


From harbour@lists.harbour-project.org  Fri Feb  9 11:04:01 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Fri Feb  9 11:04:01 2001
Subject: [Harbour] debugger.prg error
In-Reply-To: <3A83A3D8.50C4880D@libero.it>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEFPDJAA.Ron@Profit-Master.com>

Maurilio,

This Error *is* the correct behavior! Try compiling lines 510-511 after
declaring cColor and Self as LOCAL.

In Flex early/late support of macros in Code Blocks is *not* completed, this
is why it misses this error.

I think that ValType( &cColor ) should be changed to Type( cColor ) ???

Ron

> No errors with flex
>
> regards.
>
> Maurilio Longo ha scritto:
> >
> > Guys,
> >
> > I get this compiling latest code with Simplex
> >
> > regards.
> >
> > (E:\repository\harbour\source\debug)make install
> > CMD.EXE /c IF NOT EXIST os2 md os2
> > CMD.EXE /c IF NOT EXIST os2\gcc    md os2\gcc
> > make[1]: Entering directory `/repository/harbour/source/debug/os2/gcc'
> > ../../../../source/compiler/os2/gcc/harbour.exe ../../debugger.prg  -n
> > -q0 -w -e
> > s2 -gc0 -I../../ -I../../../../include
> > ../../debugger.prg(511) Error E0047  Code block contains both macro and
> > declared
> >  symbol references
> > 1 error
> >
> > No code generated
> > make[1]: *** [debugger.c] Error 1
> > make[1]: Leaving directory `/repository/harbour/source/debug/os2/gcc'
> > make: *** [descend] Error 2


From harbour@lists.harbour-project.org  Fri Feb  9 11:06:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Fri Feb  9 11:06:02 2001
Subject: [Harbour] ChangeLog 2001-02-09 17:00 GMT+1
In-Reply-To: <001301c092af$6939c660$0f2aa8c0@antonio>
Message-ID: <001401c092b1$e03043a0$0f2aa8c0@antonio>

2001-02-09 17:01 GMT+1 Antonio Linares <alinares@fivetech.com>
   * harbour/source/rtl/gtapi.c
     + hb_gtColorToN() fixed (?).

I just remembered FW does provides a ColorToN() function so
I used our code.

It is working fine, though it does not uses the same logic
as gtapi.c hb_gtSetColorStr(). It would be nice if both
functions could reuse the code.

The debugger mono display option is finished and working right! :-)

Antonio


From harbour@lists.harbour-project.org  Fri Feb  9 11:09:03 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Fri Feb  9 11:09:03 2001
Subject: [Harbour] debugger.prg error
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEFPDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEGADJAA.Ron@Profit-Master.com>

> Maurilio,
> 
> This Error *is* the correct behavior! Try compiling lines 510-511 after
> declaring cColor and Self as LOCAL.

With Clipper!


From harbour@lists.harbour-project.org  Fri Feb  9 11:11:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Fri Feb  9 11:11:02 2001
Subject: [Harbour] debugger.prg error
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEFPDJAA.Ron@Profit-Master.com>
Message-ID: <001501c092b2$98bb0040$0f2aa8c0@antonio>

Ron,

> This Error *is* the correct behavior! Try compiling lines 510-511 after
> declaring cColor and Self as LOCAL.

But it works right, Ron (using Flex).

> I think that ValType( &cColor ) should be changed to Type( cColor ) ???

Type() requires the name of a public variable, right ?
so we can not use it there.

Antonio


From harbour@lists.harbour-project.org  Fri Feb  9 11:13:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Fri Feb  9 11:13:02 2001
Subject: [Harbour] debugger.prg error
References: <LOBBKAFMMFGJIKLMEPAKOEFPDJAA.Ron@Profit-Master.com>
Message-ID: <3A8416D4.E1DC6B71@libero.it>

Oooops ;-))

good to know, I'll fix asap.

regards.


Ron Pinkas ha scritto:
> 
> Maurilio,
> 
> This Error *is* the correct behavior! Try compiling lines 510-511 after
> declaring cColor and Self as LOCAL.
> 
> In Flex early/late support of macros in Code Blocks is *not* completed, this
> is why it misses this error.
> 
> I think that ValType( &cColor ) should be changed to Type( cColor ) ???
> 
> Ron
> 
> > No errors with flex
> >
> > regards.
> >
> > Maurilio Longo ha scritto:
> > >
> > > Guys,
> > >
> > > I get this compiling latest code with Simplex
> > >
> > > regards.
> > >
> > > (E:\repository\harbour\source\debug)make install
> > > CMD.EXE /c IF NOT EXIST os2 md os2
> > > CMD.EXE /c IF NOT EXIST os2\gcc    md os2\gcc
> > > make[1]: Entering directory `/repository/harbour/source/debug/os2/gcc'
> > > ../../../../source/compiler/os2/gcc/harbour.exe ../../debugger.prg  -n
> > > -q0 -w -e
> > > s2 -gc0 -I../../ -I../../../../include
> > > ../../debugger.prg(511) Error E0047  Code block contains both macro and
> > > declared
> > >  symbol references
> > > 1 error
> > >
> > > No code generated
> > > make[1]: *** [debugger.c] Error 1
> > > make[1]: Leaving directory `/repository/harbour/source/debug/os2/gcc'
> > > make: *** [descend] Error 2
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Fri Feb  9 11:24:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Fri Feb  9 11:24:02 2001
Subject: [Harbour] debugger.prg error
In-Reply-To: <001501c092b2$98bb0040$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKCEGBDJAA.Ron@Profit-Master.com>

Antonio,

> > This Error *is* the correct behavior! Try compiling lines 510-511 after
> > declaring cColor and Self as LOCAL.
>
> But it works right, Ron (using Flex).

Try Clipper, and you you'll find the SimpLex version is right and Flex
version is wrong on this issue.

> > I think that ValType( &cColor ) should be changed to Type( cColor ) ???
>
> Type() requires the name of a public variable, right ?
> so we can not use it there.

No, you *can* use Type( cColor ) because it is not enclosed in "".

Ron


From harbour@lists.harbour-project.org  Fri Feb  9 11:29:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Fri Feb  9 11:29:02 2001
Subject: [Harbour] debugger.prg error
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEGBDJAA.Ron@Profit-Master.com>
Message-ID: <001601c092b5$071dc020$0f2aa8c0@antonio>

Ron,

> Try Clipper, and you you'll find the SimpLex version is right and Flex
> version is wrong on this issue.

But it works. How is that possible ?

> No, you *can* use Type( cColor ) because it is not enclosed in "".

     TYPE() is a system function that returns the type of the specified
     expression.  It can test expression validity as long as the expression
     uses CLIPPER.LIB functions and does not reference local or static
     variables, user-defined functions, or built-in functions supplied in
     EXTEND.LIB.

Antonio


From harbour@lists.harbour-project.org  Fri Feb  9 11:47:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Fri Feb  9 11:47:02 2001
Subject: [Harbour] debugger.prg error
In-Reply-To: <001601c092b5$071dc020$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEGBDJAA.Ron@Profit-Master.com>

Antonio,

> > Try Clipper, and you you'll find the SimpLex version is right and Flex
> > version is wrong on this issue.
> 
> But it works. How is that possible ?

Why don't you try with Clipper, and find out?

> > No, you *can* use Type( cColor ) because it is not enclosed in "".
> 
>      TYPE() is a system function that returns the type of the specified
>      expression.  It can test expression validity as long as the 
> expression
>      uses CLIPPER.LIB functions and does not reference local or static
>      variables, user-defined functions, or built-in functions supplied in
>      EXTEND.LIB.

Try this sample:

//--------------------------//
PROCEDURE Main()

   LOCAL cVar := "'Hello'"
   LOCAL cVar2 := "'World'"

   ? ValType( &cVar ) // 'C'
   ? Type( cVar2 )    // 'C'

RETURN
//--------------------------//

Ron

From harbour@lists.harbour-project.org  Fri Feb  9 12:08:01 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Fri Feb  9 12:08:01 2001
Subject: [Harbour] ChangeLog 2001-02-09 16:44 GMT+1
In-Reply-To: <001301c092af$6939c660$0f2aa8c0@antonio>
References: <001201c092ad$03cf7920$0f2aa8c0@antonio>
Message-ID: <200102091707.f19H7TV16390@thor.parrett.net>

** Reply to message from "Antonio Linares" <alinares@fivetech.com> on
Fri, 9 Feb 2001 16:46:04 +0100

> * harbour/include/hbapigt.h
>      + hb_gtColorToN() prototype added.

But that's a Clipper Tools function and belongs in the contrib\libct
library.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Fri Feb  9 12:20:04 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Fri Feb  9 12:20:04 2001
Subject: [Harbour] ChangeLog 2001-02-08 12:15 UTC-0500
Message-ID: <200102091719.f19HJBV17405@thor.parrett.net>

2001-02-08 12:15 UTC-0500 David G. Holm <dholm@jsd-llc.com>

  * config/dos/djgpp.cf
  * config/dos/rsx32.cf
  * config/dos/watcom.cf
  * config/linux/gcc.cf
  * config/os2/gcc.cf
  * config/os2/icc.cf
  * config/w32/bcc32.cf
  * config/w32/gcc.cf
  * config/w32/icc.cf
  * config/w32/mingw32.cf
  * config/w32/msvc.cf
  * config/w32/rsxnt.cf
    + Added the ability to include contrib libraries by setting
      CONTRIBS to a list of contrib libraries in the Makefile.

  * tests/Makefile
    + Added CONTRIBS=libmisc
    * Moved program modules that use the contrib\libmisc library
      from BAD_PRG_SOURCES to PRG_SOURCES.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Fri Feb  9 12:52:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Fri Feb  9 12:52:02 2001
Subject: [Harbour] Item api bugs?
In-Reply-To: <005a01c09262$1f256a90$921a5e18@bh>
Message-ID: <200102091751.f19HpmV20157@thor.parrett.net>

** Reply to message from "Brian Hays" <bhays@abacuslaw.com> on Thu, 8
Feb 2001 22:32:48 -0800

> but is this the behavior for hb_itemGetNLen that we want?

The behaviour has *nothing* to do with hb_itemGetNLen, which simply
returns the length value that is *already* associated with the numeric
value of the item that you pass to it. So where is the problem?

Well, it isn't likely to be in hb_itemPutND, since you get the correct
value from hb_itemGetNLen after calling hb_itemPutND( pKey, 1234567890
). That leaves either the conversion from the SEEK command or the call
to hb_param().

I took the code 'SEEK 1234567890' and examined the Pcode in the C
function, then looked at the compiler's Pcode generation (HB_P_PUSHLONG)
and then looked at the VM's Pcode execution (it calls
hb_vmPushLongConst).

The problem is that hb_vmPushLongConst sets the length to 11 if the
value is larger than 1000000000 and sets the length to 20 if the value
is less than -1000000000.

Except that it *isn't* a problem, because this is *exactly* how Clipper
behaves:

C:\Test>type t.prg
procedure main
    ?  999999999
    ? 1000000000
    ? 1234567890
    ? -999999999
    ?-1000000000
    ?-1234567890
quit
C:\Test>t

 999999999
 1000000000
 1234567890
-999999999
         -1000000000
         -1234567890
C:\Test>

You need to remember that in Harbour, the length structure member is
*not* telling you how many *digits* are in the number, but is telling
you how many *columns* to use when displaying the number.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Fri Feb  9 12:59:02 2001
From: harbour@lists.harbour-project.org (John Skelton)
Date: Fri Feb  9 12:59:02 2001
Subject: [Harbour] Array bug found (Ryzard
Message-ID: <200102091258_MC2-C4EF-A80B@compuserve.com>

Phil,

"I have always used procedures to indicate that there is no usable =

return value"

I used to do much the same.  But I also relied on Clipper's docs that
NIL was actually returned - and sometimes it's not. :-(  This meant
that the docs for my 3P add-on(s) were "wrong" also, sometimes. :-(

"As long as you never assign return values from procedures, it =

shouldn't be a problem."

I found the best "fix" was not to use PROCs.

"Are you saying you expected a NIL to return"

Yes - as per the Clipper docs.

"and tested for it or that you assigned return values from procedures?"

I'm not sure what the problem was exactly (it's from many years ago),
but it resulted in my having to change all PROCs to FUNCs and return
NIL explicitly.  I wouldn't want to have to do that again!

John.

From harbour@lists.harbour-project.org  Fri Feb  9 13:07:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Fri Feb  9 13:07:02 2001
Subject: [Harbour] Array bug found (Ryzard
In-Reply-To: <200102091258_MC2-C4EF-A80B@compuserve.com>
Message-ID: <200102091806.f19I6VV21350@thor.parrett.net>

** Reply to message from John Skelton <John_Skelton@compuserve.com> on
Fri, 9 Feb 2001 12:57:51 -0500

> I'm not sure what the problem was exactly

The problem was probably that your users were assigning the results
from a PROCEDURE call to a variable or testing the return value for NIL
and then being surprised when instead of getting NIL, they got the
return value from the last FUNCTION that the procedure called. This can
lead to all sorts of "fun" stuff... <shudder>
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Fri Feb  9 14:34:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Fri Feb  9 14:34:02 2001
Subject: [Harbour] ChangeLog 2001-02-09 11:25 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEGBDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEGCDJAA.Ron@Profit-Master.com>

2001-02-09 11:25 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * harbour/source/debug/debugger.prg
     ! Fixed ValType( &cColor ) to Type( cColor )
   * hb_slex.bc
     * Synched with makefile.bc

/* Antonio, Ignacio, could you please make sure to update hb_slex.bc when
changing
   makefile.bc - The files are almost identical, all you have to do is apply
same
   change, at the same location. TIA. */


From harbour@lists.harbour-project.org  Fri Feb  9 17:52:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Fri Feb  9 17:52:02 2001
Subject: [Harbour] CHANGELOG: 2001-02-09 23:46 GMT+1
Message-ID: <3A847457.9FA45CCC@libero.it>

2001-02-09 23:46 GMT+1 Maurilio Longo <maurilio.longo@libero.it>
   * source/rtl/tbrowse.prg
     ! fixed ::Moved() method which was calling ::Dehilite() even if
TBrowse was already
     unstable causing wrong painting of current row

-- 

 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Fri Feb  9 18:09:02 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Fri Feb  9 18:09:02 2001
Subject: [Harbour] Item api bugs?
References: <005a01c09262$1f256a90$921a5e18@bh>
Message-ID: <008c01c092ee$20928980$921a5e18@bh>

Dave:
Thanks for the tips on reviewing the pcode; I'll try that next time.

There does still seem to be an issue, however.
You skipped over the part where I showed a different behavior in Clipper
than Harbour:
 > After tracing a problem with SEEK on numeric values, I found this to be
the
 > simplest display of a problem:
 > ? 'x'+str(12345678901)+'x'
 >
 > In Clipper, no spaces appear.  In Harbour, there's a space after the
first
 > 'x' because the number is left-padded with one space.

There also appears to be another contradiction: Which value is correct, 10
or 11?
Why should the same value have different "display lengths" depending upon
how it was set?

Brian


From harbour@lists.harbour-project.org  Fri Feb  9 19:10:04 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Fri Feb  9 19:10:04 2001
Subject: [Harbour] Re: stack question
In-Reply-To: <1641737348.20010208132416@belacy.belgorod.su>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEGKDJAA.Ron@Profit-Master.com>

Alexander,

>  The problem was that when function execution begins:
>
> static ERRCODE ntxPutValue( NTXAREAP pArea, USHORT uiIndex,
> PHB_ITEM pItem )
 {
>
>  the address of pItem.item is the top of the stack:
>
>   &(pItem.item) is equal to &(hb_stack.pPos.item)
>
>   So the problem can be solved by adding new item:
>
>   pItemNew = hb_itemNew( pItem );
>
>   But why ?

who is calling ntxPutValue()? The problem is probably with the caller, not
cleaning up properly.

Instead of using hb_itemNew( pItem ) hb_itemClear( * hb_stack.pPos ), but it
should be done by the caller.

Ron


From harbour@lists.harbour-project.org  Sat Feb 10 00:04:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb 10 00:04:02 2001
Subject: [Harbour] ChangeLog 2001-02-09 16:44 GMT+1
In-Reply-To: <200102091707.f19H7TV16390@thor.parrett.net>
Message-ID: <000201c0931e$98a7a740$0f2aa8c0@antonio>

David,

> > * harbour/include/hbapigt.h
> >      + hb_gtColorToN() prototype added.
> 
> But that's a Clipper Tools function and belongs in the contrib\libct
> library.

Harbour Debugger needs it. Should the debugger use
a function placed at contrib directory ?

Same happened with HB_SHADOW(), remember ?

Antonio


From harbour@lists.harbour-project.org  Sat Feb 10 01:59:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb 10 01:59:02 2001
Subject: [Harbour] MemoLine bug ?
In-Reply-To: <000201c0931e$98a7a740$0f2aa8c0@antonio>
Message-ID: <000301c0932e$9f0111c0$0f2aa8c0@antonio>

This is a multi-part message in MIME format.

------=_NextPart_000_0004_01C09337.00C579C0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Please try the attached sample.

It seems MemoLine() fails with it.

Thanks!

Antonio


------=_NextPart_000_0004_01C09337.00C579C0
Content-Type: application/octet-stream;
	name="hbd.cfg"
Content-Transfer-Encoding: quoted-printable
Content-Disposition: attachment;
	filename="hbd.cfg"

Options Colors =
{"BG+/B","BG+/B","N/BG","N/BG","N/W","N/BG","GR+/B","N/BG","GR+/BG","W+/N=
","GR+/N"}
Window Size 11 64
Window Move 8 0
Window Next
Window Size 5 80
Window Move 19 0
Window Next
Window Size 18 16
Window Move 1 64
Window Next
Window Size 7 64
Window Move 1 0
Window Next
=1A
------=_NextPart_000_0004_01C09337.00C579C0
Content-Type: application/octet-stream;
	name="strtest.prg"
Content-Transfer-Encoding: 7bit
Content-Disposition: attachment;
	filename="strtest.prg"

function Main()

   local c := MemoRead( "hbd.cfg" )

   Alert( SubStr( c, 1, 30 ) )

   Alert( MemoLine( c,, 1 ) )

return nil
------=_NextPart_000_0004_01C09337.00C579C0--



From harbour@lists.harbour-project.org  Sat Feb 10 02:02:02 2001
From: harbour@lists.harbour-project.org (Alex Shashkov)
Date: Sat Feb 10 02:02:02 2001
Subject: [Harbour] RE: Changelog 2001-02-08 20:57 GMT+3 (Alexander S.Kresin)
Message-ID: <1034461520.20010210095850@orel.ru>

Alexander,
I see that you are busy with the problem which I have already solved
for DBFCDX, that is support keys of any type and updating of index
during appending or updating a record.
But I recall that Ryzard has promised to write a full support RDD
DBFCDX. That's why I haven't sent my code to CVS yet.



From harbour@lists.harbour-project.org  Sat Feb 10 02:11:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb 10 02:11:02 2001
Subject: [Harbour] RE: Changelog 2001-02-08 20:57 GMT+3 (Alexander S.Kresin)
In-Reply-To: <1034461520.20010210095850@orel.ru>
Message-ID: <000801c09330$59009ea0$0f2aa8c0@antonio>

Alex,

> I see that you are busy with the problem which I have already solved
> for DBFCDX, that is support keys of any type and updating of index
> during appending or updating a record.

Why don't you email your code to Alexander so he may get your help ?

Thanks!

Antonio


From harbour@lists.harbour-project.org  Sat Feb 10 02:14:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb 10 02:14:02 2001
Subject: [Harbour] MemoLine bug ?
In-Reply-To: <000301c0932e$9f0111c0$0f2aa8c0@antonio>
Message-ID: <000901c09330$b99d9740$0f2aa8c0@antonio>

ok, I found the bug. It was mine :-)

I should use MemoLine( c, 120, 1 ) as the line length
was greater than 79.

Antonio



From harbour@lists.harbour-project.org  Sat Feb 10 02:14:11 2001
From: harbour@lists.harbour-project.org (Phil Barnett)
Date: Sat Feb 10 02:14:11 2001
Subject: [Harbour] Array bug found (Ryzard
In-Reply-To: <200102091258_MC2-C4EF-A80B@compuserve.com>
Message-ID: <3A84A3DE.7074.13472234@localhost>

On 9 Feb 2001, at 12:57, John Skelton wrote:

> Phil,
> 
> "I have always used procedures to indicate that there is no usable 
> return value"
> 
> I used to do much the same.  But I also relied on Clipper's docs that
> NIL was actually returned - and sometimes it's not. :-(  This meant
> that the docs for my 3P add-on(s) were "wrong" also, sometimes. :-(
> 
> "As long as you never assign return values from procedures, it 
> shouldn't be a problem."
> 
> I found the best "fix" was not to use PROCs.
> 
> "Are you saying you expected a NIL to return"
> 
> Yes - as per the Clipper docs.
> 
> "and tested for it or that you assigned return values from procedures?"
> 
> I'm not sure what the problem was exactly (it's from many years ago),
> but it resulted in my having to change all PROCs to FUNCs and return
> NIL explicitly.  I wouldn't want to have to do that again!

It could only be a problem is you used a return value.

I suppose I could research the writings, but can anyone present a 
coherent reason why we should not return NIL from procedures?

-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@lists.harbour-project.org  Sat Feb 10 02:49:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb 10 02:49:02 2001
Subject: [Harbour] ChangeLog 2001-02-10 08:43 GMT+1
In-Reply-To: <3A84A3DE.7074.13472234@localhost>
Message-ID: <000001c09335$9a36b440$0f2aa8c0@antonio>

2001-02-10 08:43 GMT+1 Antonio Linares <alinares@fivetech.com>

   * harbour/source/debug/dbgmenu.prg
     + More options implemented

   * harbour/source/debug/debugger.prg
     + methods Speed(), SaveSettings() and Restore settings implemented.

     Not 100% implemented yet, but you can save and restore colors!

Harbour debugger uses a default settings file named hbd.cfg, so if
it exists, then it is automatically loaded when the debugger starts.

This improves the way the Clipper debugger works, where you had to
load your settings file every time you run the debugger.

Try your favorite colors, save them and see how they get automatically
restored next time :-)

Antonio


From harbour@lists.harbour-project.org  Sat Feb 10 03:09:01 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb 10 03:09:01 2001
Subject: [Harbour] ChangeLog 2001-02-10 08:43 GMT+1
In-Reply-To: <000001c09335$9a36b440$0f2aa8c0@antonio>
Message-ID: <000101c09338$60566420$0f2aa8c0@antonio>

> Harbour debugger uses a default settings file named hbd.cfg, so if
> it exists, then it is automatically loaded when the debugger starts.

This file is 100% Clipper debugger settings file compatible, so in fact
you may save Clipper debugger settings and load them from the Harbour
debugger
and you will see how it works :-)

Antonio



From harbour@lists.harbour-project.org  Sat Feb 10 04:49:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Sat Feb 10 04:49:02 2001
Subject: [Harbour] Cannot build harbour
In-Reply-To: <000101c09338$60566420$0f2aa8c0@antonio>
Message-ID: <NCBBJKNMIDPJNLJCHCHIIEBNFPAA.harbour@winfakt.com>

Hi,

I have a strange error...
When I try to build Harbour I get this error:
,----
|P:\Harbour>make -fhb_slex.bc
|MAKE Version 5.2  Copyright (c) 1987, 2000 Borland
|        echo. -Iinclude;source\compiler;source\macro -d  -O2  > make.tmp
|Fatal: Unable to execute command: echo.
`-----------------------

I also tried these things, but got the same error:
1) make -fmake_b32.bc
2) Replaced all "echo." with "echo"
3) Replaced all make.tmp with mmm.tmp


If I execute this line in a dos box:
,-----
|echo. -Iinclude;source\compiler;source\macro -d  -O2  > make.tmp
`-------------
I don't get a error.

I use Win2000, BC55.
Any ideas?

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Sat Feb 10 05:48:02 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Sat Feb 10 05:48:02 2001
Subject: [Harbour] ChangeLog 2001-02-09 17:00 GMT+1
References: <001401c092b1$e03043a0$0f2aa8c0@antonio>
Message-ID: <3A8467B6.D240E5C1@nh.conex.com.br>

Antonio

See contrib/libnf/color2n.c and n2color.c

Regards

Luiz Rafael Culik


From harbour@lists.harbour-project.org  Sat Feb 10 06:36:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Sat Feb 10 06:36:02 2001
Subject: [Harbour] Re: Changelog 2001-02-08 20:57 GMT+3 (Alexander S.Kresin)
In-Reply-To: <1034461520.20010210095850@orel.ru>
References: <1034461520.20010210095850@orel.ru>
Message-ID: <1163112756.20010210143332@belacy.belgorod.su>

 Alex,

AS> Alexander,
AS> I see that you are busy with the problem which I have already solved
AS> for DBFCDX, that is support keys of any type and updating of index
AS> during appending or updating a record.

  I didn't work yet on the support of numeric and date keys. If you
  can add it for DBFNTX, it's very appreciated.
  What about index updating, I have still some questions, specific for
  NTX:
  a) What is the structure of a pool of blank ( deleted ) pages ?
     I know that an address of a first page in a pool is in a header,
     but where exactly is information about next free pages ?
  b) Index locking. I haven't any information about it.

  If anyone could give me a hint, it's very appreciated too.

  Currently updating of opened indexes should work in exclusive mode,
  but I didn't test it extensively.
  
AS> But I recall that Ryzard has promised to write a full support RDD
AS> DBFCDX. That's why I haven't sent my code to CVS yet.

  Ryszard will write RDD DBFCDX for new structure of RDD layers,
  proposed by him, he will not touch existing DBFCDX files, as I
  understand. And that two RDD's will coexist. In any case, I think,
  if you upload your changes, it may help him and other RDD
  developers.

  What about this new RDD structure, I still have some questions and
  doubts - I didn't get an answer to my message about it yet.
  I'm afraid that such a big change is too expensive cost for supposed
  advantages. I think that some of those advantages, which are really
  needed ( separated Memo layer ) could be achieved for much less
  cost.




Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Sat Feb 10 07:44:02 2001
From: harbour@lists.harbour-project.org (April)
Date: Sat Feb 10 07:44:02 2001
Subject: [Harbour] ChangeLog 2001-02-10 08:43 GMT+1
References: <000001c09335$9a36b440$0f2aa8c0@antonio>
Message-ID: <3A853882.FE39C09E@user.rose.com>

> 2001-02-10 08:43 GMT+1 Antonio Linares <alinares@fivetech.com> wrote:
>
> Harbour debugger uses a default settings file named hbd.cfg, so if
> it exists, then it is automatically loaded when the debugger starts.
>
> This improves the way the Clipper debugger works, where you had to
> load your settings file every time you run the debugger.

Doesn't Clipper degugger auto-load a file 'init.cld'?

April


From harbour@lists.harbour-project.org  Sat Feb 10 08:46:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Sat Feb 10 08:46:02 2001
Subject: [Harbour] ChangeLog 2001-02-10 08:43 GMT+1
In-Reply-To: <000001c09335$9a36b440$0f2aa8c0@antonio>; from alinares@fivetech.com on Sat, Feb 10, 2001 at 08:46:39AM +0100
References: <3A84A3DE.7074.13472234@localhost> <000001c09335$9a36b440$0f2aa8c0@antonio>
Message-ID: <20010210134212.K6286@hagbard.davep.org>

On Sat, Feb 10, 2001 at 08:46:39AM +0100, Antonio Linares wrote:

> Harbour debugger uses a default settings file named hbd.cfg, so if it
> exists, then it is automatically loaded when the debugger starts.
> 
> This improves the way the Clipper debugger works, where you had to load
> your settings file every time you run the debugger.

Is it an improvement? I've hardly ever used the Clipper debugger (MrDebug
has always been my CA-Clipper debugger of choice) so perhaps I'm missing
something. According to the CA-Clipper documentation:

,----
| In addition to any script file called for on the CLD command line, the
| Debugger automatically searches for a script file with the name Init.cld.
`----

That reads to me like CLD *does* automatically load settings when the
debuggers starts.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Sat Feb 10 09:31:03 2001
From: harbour@lists.harbour-project.org (Alex Shashkov)
Date: Sat Feb 10 09:31:03 2001
Subject: [Harbour] Re: Changelog 2001-02-08 20:57 GMT+3 (Alexander S.Kresin)
In-Reply-To: <E14QuST-0004Yg-00@tts.orel.ru>
References: <E14QuST-0004Yg-00@tts.orel.ru>
Message-ID: <1634297891.20010210173134@orel.ru>

Alexander,

>  a) What is the structure of a pool of blank ( deleted ) pages ?
>     I know that an address of a first page in a pool is in a header,
>     but where exactly is information about next free pages ?
Free pages may appear only in case of deleting the index or deleting
the keys of ORDKEYDEL() function. (Or am I wrong?)
In case of deleting the tag of ORDESTROY() function free pages do not
release. And if I add the same index again the size of .cdx file will
be increased. Only reindex can help. (At least in Clipper 5.3b)

>  b) Index locking. I haven't any information about it.

I haven't started working in the net yet. But I have some ideas
concerning this. Locking of a part of a file is necessary to perform
just before writing it to the file. While working with index it is
necessary to reread the header of the file and other essential things
once again.

The essence of the updating of the record in index:
GoHot() - the calculation of cKeyExp and storing of it.
GoCold() - if pArea->fRecordChanged then recalculation of cKeyExp and
                                  comparison with the stored.
                                  Depending on the results we may
                                  delete the old key, add a new key or
                                  nothing
           if pArea->fAppend then add a new key

>What about this new RDD structure, I still have some questions and
>doubts - I didn't get an answer to my message about it yet.
>I'm afraid that such a big change is too expensive cost for supposed
>advantages. I think that some of those advantages, which are really
>needed ( separated Memo layer ) could be achieved for much less
>cost.

I agree.



From harbour@lists.harbour-project.org  Sat Feb 10 10:48:01 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb 10 10:48:01 2001
Subject: [Harbour] ChangeLog 2001-02-10 08:43 GMT+1
In-Reply-To: <3A853882.FE39C09E@user.rose.com>
Message-ID: <000001c09378$80076220$0f2aa8c0@antonio>

April,

> Doesn't Clipper degugger auto-load a file 'init.cld'?

Ops!!!!! I was not aware of it :-)

Thanks!

Antonio


From harbour@lists.harbour-project.org  Sat Feb 10 11:29:02 2001
From: harbour@lists.harbour-project.org (April)
Date: Sat Feb 10 11:29:02 2001
Subject: [Harbour] @ operator (function pointer)
Message-ID: <3A856D18.BBCF7BDE@user.rose.com>

I scanned the docs for more info on using @function() when creating an
object.  My specific question is: what restrictions are there on the
function?

Can it be a static function?
Can it be a C function?  And, can the C function know if it was being
called from an object or by direct code?  I remember for the longest
time that the VM would push a NIL in place of a object, and that there
was discussion about removing the unnecessary NIL.

Could such a C function examine the type of the first param, and if it
is an object, get necessary info from the object?
If it was not an object, it can query the param directly.

Just thinking really far ahead.

April


From harbour@lists.harbour-project.org  Sat Feb 10 12:31:01 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Sat Feb 10 12:31:01 2001
Subject: [Harbour] Re: Changelog 2001-02-08 20:57 GMT+3 (Alexander S.Kresin)
In-Reply-To: <1634297891.20010210173134@orel.ru>
References: <E14QuST-0004Yg-00@tts.orel.ru> <1634297891.20010210173134@orel.ru>
Message-ID: <1004400217.20010210202854@belacy.belgorod.su>

 Alex,

AS> Free pages may appear only in case of deleting the index or deleting
AS> the keys of ORDKEYDEL() function. (Or am I wrong?)

 When you update index accordingly updating of a record in fact you
 delete an old key and add new one. If all keys from some page will be
 deleted, the page become free.
 The address of a first free page is hold in the index header ( after
 the address of a root page ). The question is, where exactly in the
 free pages address of the next free page is kept. The quite logical
 is to have it in the first key item of that page, but I need to know
 it exactly to be Clipper compatible here.

AS> I haven't started working in the net yet. But I have some ideas
AS> concerning this. Locking of a part of a file is necessary to perform
AS> just before writing it to the file. While working with index it is
AS> necessary to reread the header of the file and other essential things
AS> once again.

 That's right. But I need to know, how locking should be done to be
 compatible with Clipper programs which may share the same index file.

AS> The essence of the updating of the record in index:
AS> GoHot() - the calculation of cKeyExp and storing of it.
AS> GoCold() - if pArea->fRecordChanged then recalculation of cKeyExp and
AS>                                   comparison with the stored.
AS>                                   Depending on the results we may
AS>                                   delete the old key, add a new key or
AS>                                   nothing
AS>            if pArea->fAppend then add a new key

  If you'll look at the ntxPutValue(), which I uploaded few days ago,
  you will see that it is done in this way.

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Sat Feb 10 13:30:04 2001
From: harbour@lists.harbour-project.org (Ryszard Glab)
Date: Sat Feb 10 13:30:04 2001
Subject: [Harbour] Re: Array bug found (Ryzard
In-Reply-To: <327384632.20010208222856@belacy.belgorod.su>
References: <007601c091f8$0dce3a70$921a5e18@bh>
Message-ID: <3A8597CE.8213.F25A0F9@localhost>

On 8 Feb 2001, at 22:28, Alexander S.Kresin wrote:

> BH> ...  A large array passed by reference up
> BH> and down a few levels (AND at one level passed by reference to a function
> BH> call in a codeblock, i.e. as a detached local) becomes NIL by the time it
> BH> returns back up.
> 
>  Similar effect could be caused by the problem which I described today.
>  When RDD virtual function is called, the top item of the stack isn't
>  Nil, as it should be, but it is an item, passed to this function as a
>  parameter. The result is that functions, working with stack, override
>  this item and it becomes Nil.

  There is a bug in the VM code. There is code in hvm.c code that handles 
HB_P_POPVARIABLE (and similar that handles HB_P_POPFIELD):

hb_stackDec();
if( hb_rddFieldPut( hb_stackTopItem(), ...) == FAILURE )
  hb_memvarSetValue(...., hb_stackTopItem() );

  In this case hb_stackDec() moves the stack pointer down so the last 
item can be accessed with a simple hb_stackTopItem() (or old 
hb_stack.pPos) instead of hb_stackItemFromTop(-1) (or old hb_stack.pPos-
1). This was used to save a subtract operation. 
  However this will cause problems when a macro is evaluated inside 
hb_rddPutFieldValue() because macro evaluation always places the result 
at the top of the stack which causes that item is overwritten with a NIL 
value (since we are popping a macro value). 
  
We have to replace it with:

if( hb_rddFieldPut( hb_stackItemFromTop(-1), ...) == FAILURE )
  hb_memvarSetValue(...., hb_stackItemFromTop(-1) );
hb_stackPop();

  We have to review all places where hb_stackDec() is used and replace it 
with the above logic in cases when a macro can be evaluated ,,in 
between'' of the item access.

I will try to fix it for tomorrow.

Regards, Ryszard

From harbour@lists.harbour-project.org  Sat Feb 10 13:54:02 2001
From: harbour@lists.harbour-project.org (Sid Saylors)
Date: Sat Feb 10 13:54:02 2001
Subject: [Harbour] Re: Array bug found (Ryzard
References: <007601c091f8$0dce3a70$921a5e18@bh> <3A8597CE.8213.F25A0F9@localhost>
Message-ID: <3A858DD4.EABB6A45@home.com>

Ryszard, you just made my day................

THANK YOU.

Sid.......



Ryszard Glab wrote:
> 
> On 8 Feb 2001, at 22:28, Alexander S.Kresin wrote:
> 
> > BH> ...  A large array passed by reference up
> > BH> and down a few levels (AND at one level passed by reference to a function
> > BH> call in a codeblock, i.e. as a detached local) becomes NIL by the time it
> > BH> returns back up.
> >
> >  Similar effect could be caused by the problem which I described today.
> >  When RDD virtual function is called, the top item of the stack isn't
> >  Nil, as it should be, but it is an item, passed to this function as a
> >  parameter. The result is that functions, working with stack, override
> >  this item and it becomes Nil.
> 
>   There is a bug in the VM code. There is code in hvm.c code that handles
> HB_P_POPVARIABLE (and similar that handles HB_P_POPFIELD):
> 
> hb_stackDec();
> if( hb_rddFieldPut( hb_stackTopItem(), ...) == FAILURE )
>   hb_memvarSetValue(...., hb_stackTopItem() );
> 
>   In this case hb_stackDec() moves the stack pointer down so the last
> item can be accessed with a simple hb_stackTopItem() (or old
> hb_stack.pPos) instead of hb_stackItemFromTop(-1) (or old hb_stack.pPos-
> 1). This was used to save a subtract operation.
>   However this will cause problems when a macro is evaluated inside
> hb_rddPutFieldValue() because macro evaluation always places the result
> at the top of the stack which causes that item is overwritten with a NIL
> value (since we are popping a macro value).
> 
> We have to replace it with:
> 
> if( hb_rddFieldPut( hb_stackItemFromTop(-1), ...) == FAILURE )
>   hb_memvarSetValue(...., hb_stackItemFromTop(-1) );
> hb_stackPop();
> 
>   We have to review all places where hb_stackDec() is used and replace it
> with the above logic in cases when a macro can be evaluated ,,in
> between'' of the item access.
> 
> I will try to fix it for tomorrow.
> 
> Regards, Ryszard
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

From harbour@lists.harbour-project.org  Sat Feb 10 13:59:02 2001
From: harbour@lists.harbour-project.org (Sid Saylors)
Date: Sat Feb 10 13:59:02 2001
Subject: [Harbour] Re: Array bug found (Ryzard
References: <007601c091f8$0dce3a70$921a5e18@bh> <3A8597CE.8213.F25A0F9@localhost>
Message-ID: <3A858F1A.A01F3DFF@home.com>

Ryszard,

i just re-read your msg.

is this the problem with arrays passed by reference?<hope,hope>

Regards

Sid........

Ryszard Glab wrote:
> 
> On 8 Feb 2001, at 22:28, Alexander S.Kresin wrote:
> 
> > BH> ...  A large array passed by reference up
> > BH> and down a few levels (AND at one level passed by reference to a function
> > BH> call in a codeblock, i.e. as a detached local) becomes NIL by the time it
> > BH> returns back up.
> >
> >  Similar effect could be caused by the problem which I described today.
> >  When RDD virtual function is called, the top item of the stack isn't
> >  Nil, as it should be, but it is an item, passed to this function as a
> >  parameter. The result is that functions, working with stack, override
> >  this item and it becomes Nil.
> 
>   There is a bug in the VM code. There is code in hvm.c code that handles
> HB_P_POPVARIABLE (and similar that handles HB_P_POPFIELD):
> 
> hb_stackDec();
> if( hb_rddFieldPut( hb_stackTopItem(), ...) == FAILURE )
>   hb_memvarSetValue(...., hb_stackTopItem() );
> 
>   In this case hb_stackDec() moves the stack pointer down so the last
> item can be accessed with a simple hb_stackTopItem() (or old
> hb_stack.pPos) instead of hb_stackItemFromTop(-1) (or old hb_stack.pPos-
> 1). This was used to save a subtract operation.
>   However this will cause problems when a macro is evaluated inside
> hb_rddPutFieldValue() because macro evaluation always places the result
> at the top of the stack which causes that item is overwritten with a NIL
> value (since we are popping a macro value).
> 
> We have to replace it with:
> 
> if( hb_rddFieldPut( hb_stackItemFromTop(-1), ...) == FAILURE )
>   hb_memvarSetValue(...., hb_stackItemFromTop(-1) );
> hb_stackPop();
> 
>   We have to review all places where hb_stackDec() is used and replace it
> with the above logic in cases when a macro can be evaluated ,,in
> between'' of the item access.
> 
> I will try to fix it for tomorrow.
> 
> Regards, Ryszard
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

From harbour@lists.harbour-project.org  Sat Feb 10 14:10:03 2001
From: harbour@lists.harbour-project.org (Ryszard Glab)
Date: Sat Feb 10 14:10:03 2001
Subject: [Harbour] Re: Array bug found (Ryzard
In-Reply-To: <3A858F1A.A01F3DFF@home.com>
Message-ID: <3A85A136.28622.F4A6040@localhost>

On 10 Feb 2001, at 10:57, Sid Saylors wrote:

> is this the problem with arrays passed by reference?<hope,hope>

  I am not sure at this moment. I am still looking for :)

Regards, Ryszard

From harbour@lists.harbour-project.org  Sat Feb 10 14:20:03 2001
From: harbour@lists.harbour-project.org (Sid Saylors)
Date: Sat Feb 10 14:20:03 2001
Subject: [Harbour] Re: Array bug found (Ryzard
References: <3A85A136.28622.F4A6040@localhost>
Message-ID: <000d01c09396$54cde110$aa4c0418@cx588881b>

Ryszard,

it sounds like it may be the same as my arrays turning to nil 
for no reason.

Regards

Sid..

----- Original Message ----- 
From: "Ryszard Glab" <rglab@imid.med.pl>
To: <harbour@lists.harbour-project.org>
Sent: Saturday, February 10, 2001 11:14 AM
Subject: Re: [Harbour] Re: Array bug found (Ryzard


> On 10 Feb 2001, at 10:57, Sid Saylors wrote:
> 
> > is this the problem with arrays passed by reference?<hope,hope>
> 
>   I am not sure at this moment. I am still looking for :)
> 
> Regards, Ryszard
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 


From harbour@lists.harbour-project.org  Sun Feb 11 06:05:04 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Sun Feb 11 06:05:04 2001
Subject: [Harbour] Cannot build harbour
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIIEBNFPAA.harbour@winfakt.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHIOECKFPAA.harbour@winfakt.com>

Hi,

Glad I'm not alone with this problem
Look at the Harbour Users list, Gabriel Ferrieras has the same.

What can we do?

Regards,

Patrick Mast
www.Patrick.Be.kz 

> Hi,
> I have a strange error...
> When I try to build Harbour I get this error:
> ,----
> |P:\Harbour>make -fhb_slex.bc
> |MAKE Version 5.2  Copyright (c) 1987, 2000 Borland
> |        echo. -Iinclude;source\compiler;source\macro -d  -O2  > make.tmp
> |Fatal: Unable to execute command: echo.
> `-----------------------
> I also tried these things, but got the same error:
> 1) make -fmake_b32.bc
> 2) Replaced all "echo." with "echo"
> 3) Replaced all make.tmp with mmm.tmp
> If I execute this line in a dos box:
> ,-----
> |echo. -Iinclude;source\compiler;source\macro -d  -O2  > make.tmp
> `-------------
> I don't get a error.
> I use Win2000, BC55.
> Any ideas?

From harbour@lists.harbour-project.org  Sun Feb 11 08:49:02 2001
From: harbour@lists.harbour-project.org (John Skelton)
Date: Sun Feb 11 08:49:02 2001
Subject: [Harbour] Item api bugs?
Message-ID: <200102110845_MC2-C520-13B6@compuserve.com>

Brian,

 > ? 'x'+str(12345678901)+'x'

"Which value is correct, 10 or 11?"

I think STR defaults to 10; if so the above should be 10.

"Why should the same value have different "display lengths" depending upo=
n
how it was set?"

I think it's "just" what Clipper does. :-)  (Very likely dBASE did it.)

John.

From harbour@lists.harbour-project.org  Sun Feb 11 10:04:01 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Sun Feb 11 10:04:01 2001
Subject: [Harbour] Cannot build harbour
References: <NCBBJKNMIDPJNLJCHCHIOECKFPAA.harbour@winfakt.com>
Message-ID: <3A86A9D8.6D7E57E2@nh.conex.com.br>

Patrick,Gabriel

I can give to suggestionf

Change echio. in makefile.bc to echo
or use make -fmakefile.bc

Regards

Luiz Rafael Culik


Patrick Mast wrote:
> 
> Hi,
> 
> Glad I'm not alone with this problem
> Look at the Harbour Users list, Gabriel Ferrieras has the same.
> 
> What can we do?
> 
> Regards,
> 
> Patrick Mast
> www.Patrick.Be.kz
> 
> > Hi,
> > I have a strange error...
> > When I try to build Harbour I get this error:
> > ,----
> > |P:\Harbour>make -fhb_slex.bc
> > |MAKE Version 5.2  Copyright (c) 1987, 2000 Borland
> > |        echo. -Iinclude;source\compiler;source\macro -d  -O2  > make.tmp
> > |Fatal: Unable to execute command: echo.
> > `-----------------------
> > I also tried these things, but got the same error:
> > 1) make -fmake_b32.bc
> > 2) Replaced all "echo." with "echo"
> > 3) Replaced all make.tmp with mmm.tmp
> > If I execute this line in a dos box:
> > ,-----
> > |echo. -Iinclude;source\compiler;source\macro -d  -O2  > make.tmp
> > `-------------
> > I don't get a error.
> > I use Win2000, BC55.
> > Any ideas?
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

From harbour@lists.harbour-project.org  Sun Feb 11 10:11:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Sun Feb 11 10:11:02 2001
Subject: [Harbour] Cannot build harbour
In-Reply-To: <3A86A9D8.6D7E57E2@nh.conex.com.br>
Message-ID: <NCBBJKNMIDPJNLJCHCHIKECMFPAA.harbour@winfakt.com>

Luiz,

> I can give to suggestionf
> Change echio. in makefile.bc to echo
> or use make -fmakefile.bc
I tried both without succes. (Like I sad in the original post) 

Thanks for the suggestion though.

Regards,

Patrick Mast
www.Patrick.Be.kz 

> > > Hi,
> > > I have a strange error...
> > > When I try to build Harbour I get this error:
> > > ,----
> > > |P:\Harbour>make -fhb_slex.bc
> > > |MAKE Version 5.2  Copyright (c) 1987, 2000 Borland
> > > |        echo. -Iinclude;source\compiler;source\macro -d  -O2 
>  > make.tmp
> > > |Fatal: Unable to execute command: echo.
> > > `-----------------------
> > > I also tried these things, but got the same error:
> > > 1) make -fmake_b32.bc
> > > 2) Replaced all "echo." with "echo"
> > > 3) Replaced all make.tmp with mmm.tmp
> > > If I execute this line in a dos box:
> > > ,-----
> > > |echo. -Iinclude;source\compiler;source\macro -d  -O2  > make.tmp
> > > `-------------
> > > I don't get a error.
> > > I use Win2000, BC55.
> > > Any ideas?

From harbour@lists.harbour-project.org  Sun Feb 11 10:28:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Sun Feb 11 10:28:02 2001
Subject: [Harbour] Changelog 2001-02-11 18:22 GMT+3
Message-ID: <202810753.20010211182416@belacy.belgorod.su>

2001-02-11 18:22 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/source/rdd/dbfntx/dbfntx1.c
     * few bugs fixed, related to using ntx in shared mode
  * harbour/source/compiler/cmdcheck.c
     * bug fixed, which prevented using of Harbour debugger under Linux

  

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Sun Feb 11 10:50:04 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Sun Feb 11 10:50:04 2001
Subject: [Harbour] Cannot build harbour
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIOECKFPAA.harbour@winfakt.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEIADJAA.Ron@Profit-Master.com>

Patrick,

When did this start? Did you change anything on your machine?

I use the same make files with BCC 5.5 without any problem.

I know this sound wild (but also the error message) did you consider a virus
check?

Ron

> Hi,
>
> Glad I'm not alone with this problem
> Look at the Harbour Users list, Gabriel Ferrieras has the same.
>
> What can we do?
>
> Regards,
>
> Patrick Mast
> www.Patrick.Be.kz
>
> > Hi,
> > I have a strange error...
> > When I try to build Harbour I get this error:
> > ,----
> > |P:\Harbour>make -fhb_slex.bc
> > |MAKE Version 5.2  Copyright (c) 1987, 2000 Borland
> > |        echo. -Iinclude;source\compiler;source\macro -d  -O2
> > make.tmp
> > |Fatal: Unable to execute command: echo.
> > `-----------------------
> > I also tried these things, but got the same error:
> > 1) make -fmake_b32.bc
> > 2) Replaced all "echo." with "echo"
> > 3) Replaced all make.tmp with mmm.tmp
> > If I execute this line in a dos box:
> > ,-----
> > |echo. -Iinclude;source\compiler;source\macro -d  -O2  > make.tmp
> > `-------------
> > I don't get a error.
> > I use Win2000, BC55.
> > Any ideas?


From harbour@lists.harbour-project.org  Sun Feb 11 11:05:03 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Sun Feb 11 11:05:03 2001
Subject: [Harbour] Cannot build harbour
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEIADJAA.Ron@Profit-Master.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHIKECNFPAA.harbour@winfakt.com>

Ron,

> When did this start? Did you change anything on your machine?
> I use the same make files with BCC 5.5 without any problem.
It is on a brand new Win2000 PC.

> I know this sound wild (but also the error message) did you 
> consider a virus check?
Nope, no virus... Just checked.

It must be something simple we miss here... ;-))

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Sun Feb 11 11:22:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Sun Feb 11 11:22:02 2001
Subject: [Harbour] Cannot build harbour
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIKECNFPAA.harbour@winfakt.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMEIADJAA.Ron@Profit-Master.com>

Patrick,

Did you check the log file for any possible hint?

Ron

> Ron,
> 
> > When did this start? Did you change anything on your machine?
> > I use the same make files with BCC 5.5 without any problem.
> It is on a brand new Win2000 PC.
> 
> > I know this sound wild (but also the error message) did you 
> > consider a virus check?
> Nope, no virus... Just checked.
> 
> It must be something simple we miss here... ;-))
> 
> Regards,
> 
> Patrick Mast
> www.Patrick.Be.kz 


From harbour@lists.harbour-project.org  Sun Feb 11 12:02:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Sun Feb 11 12:02:02 2001
Subject: [Harbour] Re: Cannot build harbour
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIKECNFPAA.harbour@winfakt.com>
References: <NCBBJKNMIDPJNLJCHCHIKECNFPAA.harbour@winfakt.com>
Message-ID: <208542603.20010211195947@belacy.belgorod.su>

 Patrick,

>> When did this start? Did you change anything on your machine?
>> I use the same make files with BCC 5.5 without any problem.
PM> It is on a brand new Win2000 PC.

 Gabriel also wrote that he have Win2000 ...
 The message says that file make.tmp couldn't be created.
 Maybe, some Win2000 specific problems ( number of open handles, etc.
 ) ?

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Sun Feb 11 12:25:03 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Sun Feb 11 12:25:03 2001
Subject: [Harbour] Cannot build harbour
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKMEIADJAA.Ron@Profit-Master.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHIIECOFPAA.harbour@winfakt.com>

This is a multi-part message in MIME format.

------=_NextPart_000_0002_01C09458.26D7E590
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: 7bit

Ron,

> Did you check the log file for any possible hint?
Attached is the log file when I do this:
make -fhb_slex.bc > log

Any Idea?

Regards,

Patrick Mast
www.Patrick.Be.kz  

> > > When did this start? Did you change anything on your machine?
> > > I use the same make files with BCC 5.5 without any problem.
> > It is on a brand new Win2000 PC.
> > > I know this sound wild (but also the error message) did you 
> > > consider a virus check?
> > Nope, no virus... Just checked.
> > It must be something simple we miss here... ;-))

------=_NextPart_000_0002_01C09458.26D7E590
Content-Type: application/octet-stream;
	name="log.zip"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="log.zip"

UEsDBBQAAgAIANeSSyrGpYXSDAQAAIciAAADAAAAbG9nvZhfb9s2FMWfZ8Df4b55Q2LPluP8UYEB
a5YBRhssWNulDwEMimIsNZJIkFQWfftdSrKc2FIWt6QeAsS8xOE5P1IiqevfP1zBP0yqmGewmHgA
l1wUMl5HGn6mv8Ds4vzsGLzpdArvuUxIFg4HPwWUzj0YUxgv44wmecjeKZ5Lyu4oT0WcMLn5nRIq
OYxDgPFfqA3jPz4tr28+Xn2FMefBt7tg7t1Fwb0iIp7gb4CtTsqzpkQBhoN6fLg8OkKnC7jnEm7j
DJ3sWr6Y71rukPUxjE7iAPCv9FJ1mJimX29MxqMWl8fHw8Hnj8v3cIIu2nChgwtYZkLGimEHKbgk
GgEPB8PBLZFZnK19GNWKI8i4xjA5Rosz40QSWTigrLRsZ2wK1gmXogfxrf1Zo4t6vbHVklDWTrcq
Wedbyx5EuHFpjXGp2BvlR9axgk3BOuFS9CC+tT9rdFGvL7ZERa1oTbttsqXmIWBrc7a4olxPWNmT
kFzoWRvapmYZ71b3AMTPjVrCvJHsF7X3CmrPEWrve1B79lF7PaGWTDH5yMI21E3NMuqt7gGonxu1
hHoj2RNqISiXLw8WQmxabSF+prgHV4g2sFtblrBWgj1CTUUbVGy1DNUoHgC1smURaip6g4rK+0xN
o1WkpeCbidaerAFFvd54ahIkLY9+1WyVaS35ZqqNM2tcS8W+yEqyTske2KrVJtda8a1YG1u2qJaC
vV0gZIC9d48EpU5TtHgm2BE2jINY8ay02dVNJYWxv2u6mFBXPIoKyP6AP0piX9Fv5h5uz6enCyh5
TFScioTB3Dvx4ZIkCWgO93lGzXqB0WpVFKuUpVQUI/g31hGuFsDDpOa6EMwsmKZvUQgiFfufUU4d
jDI9eTmKN1vg8i4KiuHxehErIErF64yFQOCRJDkDHRFtChnDOzTkioXto9iZ9WU9Gy8/tyXsqeNx
qGr2n4Za17e+mmka0ojRh/Y8TdV6oq2y7+BzUq7ImnVNUVV0MEe1sItAccgy3RWoKjoIVAu7CLRm
GZNdm8qm6iDSRtlFJjyUh52rrio6SFQLuwh0H3e+50zJQZhS1n4UnHXanqSsWA9Sqe7s29OuwWen
s6kPNxy3ugDPMZiXS8morje/FB/CF3tcFKzESmk8GFLlAhX+O/c6cVVVF8hqZSfT/408ks5IZdFF
okrYSaBIBp15TM1FnFLXd/WBt2N+mqr1RFtlZ5mCVzMFzjK5nCf6aibqLNPeG3VxBnUq3DlMJzP2
yfkZvkuJJCnTeEEYiWuTbPTKlQFfp2aoKxT4m4U5ZTdJrj5piaMoF5sqjhs9dO6rVdXF1lorm3XB
aMQnBwf6DVLywCY6FcPBn0STxIcvmfm8Y+6E7InRXDMw3+zRgQ/lGMPBf1BLAQIUABQAAgAIANeS
SyrGpYXSDAQAAIciAAADAAAAAAAAAAAAIAAAAAAAAABsb2dQSwUGAAAAAAEAAQAxAAAALQQAAAAA

------=_NextPart_000_0002_01C09458.26D7E590--


From harbour@lists.harbour-project.org  Sun Feb 11 12:26:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Sun Feb 11 12:26:02 2001
Subject: [Harbour] Re: Cannot build harbour
In-Reply-To: <208542603.20010211195947@belacy.belgorod.su>
Message-ID: <NCBBJKNMIDPJNLJCHCHIKECOFPAA.harbour@winfakt.com>

Alexander,

These are my settings:

--------------------------------------
BISON_SIMPLE=C:\TOOLS\bison.simple
CommonProgramFiles=C:\Program Files\Common Files
ComSpec=C:\WINNT\system32\cmd.exe /E:2048
HB_ARCHITECTURE=w32
HB_COMPILER=bcc32
HB_GT_LIB=gtwin
HOMEDRIVE=C:
HOMEPATH=\
include=p:\Bc55\include;p:\fwh\include;p:\harbour\include
lib=p:\Bc55\lib;p:\fwh\lib;p:\harbour\lib\b32
mybcdir=p:\bc55\bin
NUMBER_OF_PROCESSORS=2
OS=Windows_NT
Os2LibPath=C:\WINNT\system32\os2\dll;
Path=P:\Bc55\bin;p:\harbour\bin;C:\WINNT\system32;C:\WINNT;C:\TOOLS
PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH
PROCESSOR_ARCHITECTURE=x86
PROCESSOR_IDENTIFIER=x86 Family 6 Model 8 Stepping 6, GenuineIntel
PROCESSOR_LEVEL=6
PROCESSOR_REVISION=0806
ProgramFiles=C:\Program Files
PROMPT=$P$G
SystemDrive=C:
SystemRoot=C:\WINNT
TEMP=C:\Temp
TMP=C:\Temp
windir=C:\WINNT
----------------------------------------

Any ideas?

Regards,

Patrick Mast
www.Patrick.Be.kz 

> -----Oorspronkelijk bericht-----
> Van: harbour-admin@lists.harbour-project.org
> [mailto:harbour-admin@lists.harbour-project.org]Namens Alexander
> S.Kresin
> Verzonden: zondag 11 februari 2001 18:00
> Aan: harbour@lists.harbour-project.org
> Onderwerp: [Harbour] Re: Cannot build harbour
> 
> 
>  Patrick,
> 
> >> When did this start? Did you change anything on your machine?
> >> I use the same make files with BCC 5.5 without any problem.
> PM> It is on a brand new Win2000 PC.
> 
>  Gabriel also wrote that he have Win2000 ...
>  The message says that file make.tmp couldn't be created.
>  Maybe, some Win2000 specific problems ( number of open handles, etc.
>  ) ?
> 
> Best regards,
>  Alexander
> http://members.xoom.com/alkresin/
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 

From harbour@lists.harbour-project.org  Sun Feb 11 15:59:03 2001
From: harbour@lists.harbour-project.org (Bill Smith)
Date: Sun Feb 11 15:59:03 2001
Subject: [Harbour] Cannot build harbour
References: <NCBBJKNMIDPJNLJCHCHIIEBNFPAA.harbour@winfakt.com>
Message-ID: <001401c09452$d03c0f40$b1c2efd1@k6bw>

Echo is a DOS batch command to output comments within a batch (.bat) file.
All text on the line including the echo statement is output to the console
when the batch file is executed.   "Echo." is a variant which will not
display the word "echo", in other words all text following the word "echo"
is output to the console.  "Set echo off" is a global equivalent.

"Fatal error" sounds like a Make error message. My guess is the Make program
is attempting to interpret a line which instead is likely intended to be
written as a command to a batch file.

Bill

----- Original Message -----
From: "Patrick Mast" <harbour@winfakt.com>
To: <harbour@lists.harbour-project.org>
Sent: Saturday, February 10, 2001 1:50 AM
Subject: [Harbour] Cannot build harbour


> Hi,
>
> I have a strange error...
> When I try to build Harbour I get this error:
> ,----
> |P:\Harbour>make -fhb_slex.bc
> |MAKE Version 5.2  Copyright (c) 1987, 2000 Borland
> |        echo. -Iinclude;source\compiler;source\macro -d  -O2  > make.tmp
> |Fatal: Unable to execute command: echo.
> `-----------------------
>
> I also tried these things, but got the same error:
> 1) make -fmake_b32.bc
> 2) Replaced all "echo." with "echo"
> 3) Replaced all make.tmp with mmm.tmp
>
>
> If I execute this line in a dos box:
> ,-----
> |echo. -Iinclude;source\compiler;source\macro -d  -O2  > make.tmp
> `-------------
> I don't get a error.
>
> I use Win2000, BC55.
> Any ideas?
>
> Regards,
>
> Patrick Mast
> www.Patrick.Be.kz
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>
>


From harbour@lists.harbour-project.org  Sun Feb 11 16:50:03 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Sun Feb 11 16:50:03 2001
Subject: [Harbour] Item api bugs?
References: <200102091751.f19HpmV20157@thor.parrett.net>
Message-ID: <003601c09475$5bf94080$921a5e18@bh>

David:

> Well, it isn't likely to be in hb_itemPutND, since you get the correct
> value from hb_itemGetNLen after calling hb_itemPutND( pKey, 1234567890
> ). That leaves either the conversion from the SEEK command or the call
> to hb_param().

You say 10 is correct here, but the discussion below shows the correct value
to be 11, so hb_itemPutND does indeed seem to be wrong here.

Brian


> I took the code 'SEEK 1234567890' and examined the Pcode in the C
> function, then looked at the compiler's Pcode generation (HB_P_PUSHLONG)
> and then looked at the VM's Pcode execution (it calls
> hb_vmPushLongConst).
>
> The problem is that hb_vmPushLongConst sets the length to 11 if the
> value is larger than 1000000000 and sets the length to 20 if the value
> is less than -1000000000.
>
> Except that it *isn't* a problem, because this is *exactly* how Clipper
> behaves:
>
> C:\Test>type t.prg
> procedure main
>     ?  999999999
>     ? 1000000000
>     ? 1234567890
>     ? -999999999
>     ?-1000000000
>     ?-1234567890
> quit
> C:\Test>t
>
>  999999999
>  1000000000
>  1234567890
> -999999999
>          -1000000000
>          -1234567890
> C:\Test>
>
> You need to remember that in Harbour, the length structure member is
> *not* telling you how many *digits* are in the number, but is telling
> you how many *columns* to use when displaying the number.
> --
> David G. Holm, Set Captain and all around
> Harbour Project Clipper Compatibility fanatic.
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@lists.harbour-project.org  Sun Feb 11 16:52:02 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Sun Feb 11 16:52:02 2001
Subject: [Harbour] Item api bugs?
References: <200102110845_MC2-C520-13B6@compuserve.com>
Message-ID: <003701c09475$ade47950$921a5e18@bh>

----- Original Message -----
From: "John Skelton" <John_Skelton@compuserve.com>
 > ? 'x'+str(12345678901)+'x'   // IS DIFFERENT IN CLIPPER THAN HARBOUR

>>"Which value is correct, 10 or 11?"
>I think STR defaults to 10; if so the above should be 10.
>>"Why should the same value have different "display lengths" depending upon
>>how it was set?"
>I think it's "just" what Clipper does. :-)  (Very likely dBASE did it.)
>John.

I think you might have missed the point here.
when I asked "Which value is correct, 10 or 11?" I was pointing out that the
hb_itemGetNLen function, on a C-level, is returning to different lengths for
the exact same number.  I doubt that Clipper did that.  The difference seems
to occur depending on exactly what function assigned the number to the item.
This sure sounds like a bug to me. David demonstrated that
hb_vmPushLongConst sets the length to 11, which is fine (guaranteeing a
leading space for positive numbers). But when the item is set with
hb_itemPutND,  hb_itemGetNLen says the length is 10.  I would expect a
numeric handling system to be consistent on this point.

I ended up fixing the "ADS seek on numeric values" in a completely different
way, and I don't have any strong need to spend time on inconsequential API
issues. But the example 'x'+str(12345678901)+'x' does indeed produce
different results in harbour than it does in clipper, and that the seems to
be, er, consequential.

Brian






From harbour@lists.harbour-project.org  Mon Feb 12 01:19:01 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Mon Feb 12 01:19:01 2001
Subject: [Harbour] Re: Cannot build harbour
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIKECOFPAA.harbour@winfakt.com>
References: <NCBBJKNMIDPJNLJCHCHIKECOFPAA.harbour@winfakt.com>
Message-ID: <851869297.20010212091634@belacy.belgorod.su>

 Patrick,
 
PM> These are my settings:

PM> --------------------------------------
PM> BISON_SIMPLE=C:\TOOLS\bison.simple
PM> CommonProgramFiles=C:\Program Files\Common Files
PM> ComSpec=C:\WINNT\system32\cmd.exe /E:2048
PM>

  Sorry, I can't help here, because I never had deal with Win2000.
  
Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Mon Feb 12 02:11:02 2001
From: harbour@lists.harbour-project.org (Manuel Exposito Suarez)
Date: Mon Feb 12 02:11:02 2001
Subject: [Harbour] Array bug found (Ryzard
Message-ID: <sa879a87.029@dipusevi.dipusevilla.es>

El problema mas grave es si esto ocurre tambien con los OBJETOS, ya que se =
tratan de una manera similar a los ARRAYS...

>>> davep@davep.org 08/02/01 19:12 >>>
On Thu, Feb 08, 2001 at 09:27:23AM -0800, Sid Saylors wrote:

> Dave , you are right to a point, I pass the array by reference and in my
> app under clipper 5.3 and fivewin it works fine BUT in harbour after it =
is
> passed 2-4 levels it becomes a NIL , this should not happen and in =
clipper
> it don't.

I don't doubt that you're experiencing this problem, I was simply =
commenting
on the code that was posted and the incorrect conclusions drawn from it.

>From the problem you describe it would appear, on the surface, that a test
program like this:

-- cut here ---------------------------------------------------------------=
-
Function Main( cNesting )
Local a :=3D { 1, 2, 3 }
Local nNesting :=3D 10

   If cNesting !=3D NIL
      nNesting :=3D max( val( cNesting ), nNesting )
   EndIf
  =20
   TestArrayProblem( nNesting, @a )
   ? "After nesting " + alltrim( str( nNesting ) ) + " level(s) " +;
      "a has a valtype() of " + valtype( a )
  =20
Return( NIL )

Static Function TestArrayProblem( nLevel, a )

   If nLevel =3D=3D 0
      a :=3D NIL
   Else
      TestArrayProblem( --nLevel, @a )
   EndIf
  =20
Return( NIL )
-- cut here ---------------------------------------------------------------=
-

should aid in finding the problem. Correct?

So far it appears to always work fine. The valtype() of `a' always ends up
as "U".

One interesting thing about the above program is that if I run it, passing
498 or more as the nesting level, I get the following error:

,----
| Unrecoverable error 9018: Incorrect item type on the stack trying to pop
| from hb_vmPopDouble()
`----

I doubt that that's related to your problem but I'm wondering if it's an
incorrect failure of the stack management code (although a call stack 497
calls deep is better than some Clipper environments we know and love <g>).

--=20
Dave Pearson                        |  OSLib - Timeslice release functions.=

http://www.davep.org/               |     eg - Norton Guide reader for =
Linux.
http://www.davep.org/clipper/       |    weg - Norton Guide reader for =
Windows.
http://www.davep.org/norton-guides/ | dgscan - DGROUP scanner for Clipper.
_______________________________________________
Harbour mailing list
Harbour@lists.harbour-project.org=20
http://www.matrixlist.com/mailman/listinfo/harbour=20

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org=20



From harbour@lists.harbour-project.org  Mon Feb 12 02:25:02 2001
From: harbour@lists.harbour-project.org (Manuel Exposito Suarez)
Date: Mon Feb 12 02:25:02 2001
Subject: [Harbour] Re: Cannot build harbour
Message-ID: <sa879dbb.034@dipusevi.dipusevilla.es>

Alexander me puedes decir como averiguar el hDataFile de una DBF cuando se =
trabaja con ADS? Con las DBF nativas de Harbour no tengo problemas. Lo =
necesito para la clase TDbf.

Por otro lado Transform sigue teniendo el problema con valores numericos =
sin picture:

? transform( 12345, "@" ) // -> en clipper "12345" en harbour ""

>>> alex@belacy.belgorod.su 12/02/01 07:16 >>>
 Patrick,
=20
PM> These are my settings:

PM> --------------------------------------
PM> BISON_SIMPLE=3DC:\TOOLS\bison.simple
PM> CommonProgramFiles=3DC:\Program Files\Common Files
PM> ComSpec=3DC:\WINNT\system32\cmd.exe /E:2048
PM>

  Sorry, I can't help here, because I never had deal with Win2000.
 =20
Best regards,
 Alexander
http://members.xoom.com/alkresin/=20


_______________________________________________
Harbour mailing list
Harbour@lists.harbour-project.org=20
http://www.matrixlist.com/mailman/listinfo/harbour=20

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org=20



From harbour@lists.harbour-project.org  Mon Feb 12 03:31:04 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Mon Feb 12 03:31:04 2001
Subject: [Harbour] ChangeLog 2001-02-12 09:24 GMT+1
In-Reply-To: <sa879dbb.034@dipusevi.dipusevilla.es>
Message-ID: <000001c094cd$d01334a0$0f2aa8c0@antonio>

2001-02-12 09:24 GMT+1 Antonio Linares <alinares@fivetech.com>
   * harbour/source/debug/dbgmenu.prg
     + more options implemented.

   * harbour/source/debug/dbgtwin.prg
     + DATA lVisible added.

   * harbour/source/debug/debugger.prg
     + Methods Public(), Private(), Static(), Local(), All() and Sort()
added
     (many thanks to Luiz for the suggested code).

     * init.cld used as auto-load settings file.

Antonio



From harbour@lists.harbour-project.org  Mon Feb 12 07:36:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Mon Feb 12 07:36:02 2001
Subject: [Harbour] ChangeLog 2001-02-12 13:34 GMT+1
In-Reply-To: <000001c094cd$d01334a0$0f2aa8c0@antonio>
Message-ID: <000501c094ef$fff7d320$0f2aa8c0@antonio>

2001-02-12 13:32 GMT+1 Antonio Linares <alinares@fivetech.com>
   * harbour/source/debug/dbgmenu.prg
     + more options implemented.

   * harbour/source/debug/debugger.prg
     + Method Animate() added.
     (many thanks to Ignacio for the "happy ideas" :-)


Antonio


From harbour@lists.harbour-project.org  Mon Feb 12 08:24:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Mon Feb 12 08:24:02 2001
Subject: [Harbour] building harbour on win2K
Message-ID: <3A87E3B5.1B4725DE@libero.it>

Sorry to bother,

I'm trying to build latest code on a win2K box using free bcc. I issue a
b32_slex but it stops complaining that tasm.exe is not found.

The same source tree builds ok on a win98 box.

Any hints?

thanks.




-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Mon Feb 12 09:21:02 2001
From: harbour@lists.harbour-project.org (John Skelton)
Date: Mon Feb 12 09:21:02 2001
Subject: [Harbour] Item api bugs?
Message-ID: <200102120919_MC2-C52A-C72E@compuserve.com>

Brian,

"I think you might have missed the point here."

I did, sorry.  Thanks for adding the extra detail.

"the example 'x'+str(12345678901)+'x' does indeed produce
different results in harbour than it does in clipper"

:-(

John.

From harbour@lists.harbour-project.org  Mon Feb 12 10:38:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Mon Feb 12 10:38:02 2001
Subject: [Harbour] building harbour on win2K
In-Reply-To: <3A87E3B5.1B4725DE@libero.it>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEIHDJAA.Ron@Profit-Master.com>

This is a multi-part message in MIME format.

------=_NextPart_000_0000_01C094C6.6D8F09A0
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Maurilio,

It is possible you don't have tasm.exe available on this machine, or not
visible to make.

Until, you have it, you can unzip the attached to obj\b32 folder and mark
them as RO

Ron

> Sorry to bother,
>
> I'm trying to build latest code on a win2K box using free bcc. I issue a
> b32_slex but it stops complaining that tasm.exe is not found.
>
> The same source tree builds ok on a win98 box.
>
> Any hints?
>
> thanks.

------=_NextPart_000_0000_01C094C6.6D8F09A0
Content-Type: application/x-zip-compressed;
	name="asm.ZIP"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="asm.ZIP"

UEsDBBQAAAAIAOJASyriQuaM/wAAADYBAAAKAAAAQk9SU1lNLk9CSm3PzUrDQBQF4DtJbSJubBHx
p8UsXRUEH6AToliIKXQGUSgMHQm00HFgphWy6zK4kAoyqDt/Nrpw0ZfwWXyKOKUiLrq73O9w4Ew2
YUPLsbpMu9eiy6XSmWj0tNjLAwCo0bHiMsBap4IPUxUEZ6nSA3kVHDYOHvMaNL9fZ2/7Sxu+ctdy
bByA/vx8vjd1qJ6EjFDcoWG7Qy5Ow3ZM/FbSohGmmD948A7guGhmKlBm8z/707WFllbQp9mFddtz
lERLWuqLXNlDH2YVPJuIcRKdP/ngF27hFIhMtwC5FdbnLJQq7ukRyQSXQzv3droNCFV/6Xig/tlO
XoLmC7q7sXtGP1BLAwQUAAAACADiQEsq8EgAueIAAAAjAQAACwAAAFNZTUJPTFMuT0JKaxBnEC3O
Ly1KTo0py40prsxNys8p1ksszt3QocDAwCATUlqUlK/gWFycmpuUk1qkoBCWWlScmZ+nYKJnOLND
lsHh5ZlNSzSwG6HfwQyU95nGxMCQAWIunDJNjIHfwyk+OMQxKCQ40tfJ3yeYxcUxxLF9BjvDSgYG
JmbGTdMEGbhASpBk5SGyLKyM66aJMPACZV39XJAVOEEUsLEzrprGwcDm4h7kHxrQPYuDgeM/83+m
/4zBE8QYGBn54zOS4tMyi4pLIG4Eeo95gigDIzMfSCInEUm8vIOFwWER48QuoNNLAFBLAwQUAAAA
CADiQEsqJtn8usgBAABkAgAACwAAAFNUQVJUVVAuT0JKbdDPa9NgHAbw503SJGvLKHNTGFOCiD9h
MFFEvCyucwqpLTabYwxe2vWFZrTJSNoJevFY1EMGEnQgtLMMBE9ePKtH/wE9ePOgZ/HgqX7fMksP
JrwhfJ7n+ya8j09gJgra4ZbY3G1uRq1K2GrvzFei5mHHAjDntsNqYNlRJJrVhggta02EkRf41pX5
hZedk1j8+fld//z/tzjbUSl3EgWoy9fe8ySLFHeX111tqZhfTl4Y8GahqOzLMLi76jha3nbtHgVv
1qCl2PowkDYMPsogDd1g3SQNjd8sl1VaFyUD5gQ7THRotxzbvb6vIL2RmNDzK/eKq6Wn+yYyA3Wg
DZTCsznkVkSrENTaDXG74tcawoZx3/MLFc/Ho/gY/VKW853o4VKz5ni+0IC9OEc6wTlRuR480IGv
cZYoxXmpXDKBXjwFsAyvV/nRGdD5vY8nqWNwXi+FYleR+0wRZAju+FTztwS1fnU0LB6wve4pMGAb
P8jwWj62j+6hfPrzKoe+qjP23ZxW1P6MzpRvB/QBIEeDNErrhoQctBFckzBNpX9wVcLxscaChFno
I7gkwRobuSDh9Bick3AGl0fwuzsJFWNX8YmBD2CUvv0LUEsBAhkAFAAAAAgA4kBLKuJC5oz/AAAA
NgEAAAoAAAAAAAAAAQAgAAAAAAAAAEJPUlNZTS5PQkpQSwECGQAUAAAACADiQEsq8EgAueIAAAAj
AQAACwAAAAAAAAABACAAAAAnAQAAU1lNQk9MUy5PQkpQSwECGQAUAAAACADiQEsqJtn8usgBAABk
AgAACwAAAAAAAAAAACAAAAAyAgAAU1RBUlRVUC5PQkpQSwUGAAAAAAMAAwCqAAAAIwQAAAAA

------=_NextPart_000_0000_01C094C6.6D8F09A0--


From harbour@lists.harbour-project.org  Mon Feb 12 11:00:03 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Mon Feb 12 11:00:03 2001
Subject: [Harbour] building harbour on win2K
References: <LOBBKAFMMFGJIKLMEPAKIEIHDJAA.Ron@Profit-Master.com>
Message-ID: <3A88084E.C9778123@libero.it>

Ron,

yes, I don't have tasm (it is not inside freecompilertools aka bcc55)
but I don't have it on win98 either :-o

regards.

PS. Thanks for the attachment 

Ron Pinkas ha scritto:
> 
> Maurilio,
> 
> It is possible you don't have tasm.exe available on this machine, or not
> visible to make.
> 
> Until, you have it, you can unzip the attached to obj\b32 folder and mark
> them as RO
> 
> Ron
> 
> > Sorry to bother,
> >
> > I'm trying to build latest code on a win2K box using free bcc. I issue a
> > b32_slex but it stops complaining that tasm.exe is not found.
> >
> > The same source tree builds ok on a win98 box.
> >
> > Any hints?
> >
> > thanks.
> 
>   ------------------------------------------------------------------------
>               Name: asm.ZIP
>    asm.ZIP    Type: Zip Compressed Data (application/x-zip-compressed)
>           Encoding: base64

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Mon Feb 12 11:24:02 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Ignacio_Ortiz_de_Zu=F1iga?=)
Date: Mon Feb 12 11:24:02 2001
Subject: [Harbour] 100% CPU usage under Win2000
Message-ID: <BGEJIGGANMIAOJPONENJIEDFCEAA.ignacio@ozs.com>

I thought this problem was solved, or at least long time debated. Could some
one tell me decision taken about this problem, or is on the TODO list.

Regards,

Ignacio Ortiz de Zuñiga
Email: ignacio@ozs.com
Phone Email: ignaciosms@ozs.com
http://www.ozs.com



From harbour@lists.harbour-project.org  Mon Feb 12 11:42:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Mon Feb 12 11:42:02 2001
Subject: [Harbour] 100% CPU usage under Win2000
In-Reply-To: <BGEJIGGANMIAOJPONENJIEDFCEAA.ignacio@ozs.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEIIDJAA.Ron@Profit-Master.com>

Ignacio,

Could you try with this at top of your app and report your results:

SET( _SET_IDLEREPEAT, .F. )

Ron

> I thought this problem was solved, or at least long time debated.
> Could some
> one tell me decision taken about this problem, or is on the TODO list.
>
> Regards,
>
> Ignacio Ortiz de Zuñiga
> Email: ignacio@ozs.com
> Phone Email: ignaciosms@ozs.com
> http://www.ozs.com


From harbour@lists.harbour-project.org  Mon Feb 12 11:44:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Mon Feb 12 11:44:02 2001
Subject: [Harbour] building harbour on win2K
In-Reply-To: <3A88084E.C9778123@libero.it>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEIIDJAA.Ron@Profit-Master.com>

Maurilio,

Assuming you use the same makefile, the only explanation (ICTO) is that you
already have these obj files in your obj\b32 folder on the Win98 machine.

Ron

> Ron,
>
> yes, I don't have tasm (it is not inside freecompilertools aka bcc55)
> but I don't have it on win98 either :-o
>
> regards.
>
> PS. Thanks for the attachment


From harbour@lists.harbour-project.org  Mon Feb 12 11:48:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Mon Feb 12 11:48:02 2001
Subject: [Harbour] building harbour on win2K
References: <LOBBKAFMMFGJIKLMEPAKIEIHDJAA.Ron@Profit-Master.com> <3A88084E.C9778123@libero.it>
Message-ID: <3A88137C.F6FC8CA7@libero.it>

Ron,

no change, it tries to build .ASM files even if I put OBJ ones.

But how can it work under win98 ?

regards.


Maurilio Longo ha scritto:
> 
> Ron,
> 
> yes, I don't have tasm (it is not inside freecompilertools aka bcc55)
> but I don't have it on win98 either :-o
> 
> regards.
> 
> PS. Thanks for the attachment
> 
> Ron Pinkas ha scritto:
> >
> > Maurilio,
> >
> > It is possible you don't have tasm.exe available on this machine, or not
> > visible to make.
> >
> > Until, you have it, you can unzip the attached to obj\b32 folder and mark
> > them as RO
> >
> > Ron
> >
> > > Sorry to bother,
> > >
> > > I'm trying to build latest code on a win2K box using free bcc. I issue a
> > > b32_slex but it stops complaining that tasm.exe is not found.
> > >
> > > The same source tree builds ok on a win98 box.
> > >
> > > Any hints?
> > >
> > > thanks.
> >
> >   ------------------------------------------------------------------------
> >               Name: asm.ZIP
> >    asm.ZIP    Type: Zip Compressed Data (application/x-zip-compressed)
> >           Encoding: base64
> 
> --
>  __________
> |  |  | |__| md2520@mclink.it
> |_|_|_|____| Team OS/2 Italia
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Mon Feb 12 12:24:02 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Ignacio_Ortiz_de_Zu=F1iga?=)
Date: Mon Feb 12 12:24:02 2001
Subject: [Harbour] 100% CPU usage under Win2000
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEIIDJAA.Ron@Profit-Master.com>
Message-ID: <BGEJIGGANMIAOJPONENJOEDGCEAA.ignacio@fivetech.com>

Ron,


>>Could you try with this at top of your app and report your results:
>>SET( _SET_IDLEREPEAT, .F. )

I am afraid still uses the 100 % of the CPU. (continuously)

BTW the system really goes slower when there are Harbour applications
running even in the background and of course doing nothing, just waiting for
a keyboard input.

Regards,

Ignacio Ortiz
Email: ignacio@fivetech.com
http: www.fivetech.com



From harbour@lists.harbour-project.org  Mon Feb 12 12:30:04 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Mon Feb 12 12:30:04 2001
Subject: [Harbour] building harbour on win2K
In-Reply-To: <3A88137C.F6FC8CA7@libero.it>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEIJDJAA.Ron@Profit-Master.com>

Maurilio,

It can *not* work if you don't have tasm.exe! It may *appear* working, if
make does not need to build these targets, as they may already exist and
considered valid.

Compare the date/time of the .asm files with the .obj in obj\b32. If the
.asm are newer it will attempt to rebuild them, if they are older, it will
accept the .obj as valid. I can't think of any other explanation. Your
source tree on the Win2 must have these .asm files with very recent date
stamp, forcing make to attempt to rebuild them. If these is the case, use a
touch utility to force newer date/time of the .obj files.

Ron

> Ron,
>
> no change, it tries to build .ASM files even if I put OBJ ones.
>
> But how can it work under win98 ?
>
> regards.


From harbour@lists.harbour-project.org  Mon Feb 12 12:50:03 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Mon Feb 12 12:50:03 2001
Subject: [Harbour] building harbour on win2K
References: <LOBBKAFMMFGJIKLMEPAKGEIJDJAA.Ron@Profit-Master.com>
Message-ID: <3A8821EF.217C87E1@libero.it>

Ron,

Ok, I do understand how a make file works :-) What I didn't thought of
is that under win32 you need also tasm to build a win32 harbour.

I never had tasm, so I don't understand how I built harbour on win32 the
first time I did it (months ago).

So, now, the question is: is there a free tasm available or can I use
something else to replace it?

regards.



Ron Pinkas ha scritto:
> 
> Maurilio,
> 
> It can *not* work if you don't have tasm.exe! It may *appear* working, if
> make does not need to build these targets, as they may already exist and
> considered valid.
> 
> Compare the date/time of the .asm files with the .obj in obj\b32. If the
> .asm are newer it will attempt to rebuild them, if they are older, it will
> accept the .obj as valid. I can't think of any other explanation. Your
> source tree on the Win2 must have these .asm files with very recent date
> stamp, forcing make to attempt to rebuild them. If these is the case, use a
> touch utility to force newer date/time of the .obj files.
> 
> Ron
> 
> > Ron,
> >
> > no change, it tries to build .ASM files even if I put OBJ ones.
> >
> > But how can it work under win98 ?
> >
> > regards.
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Mon Feb 12 12:55:04 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Mon Feb 12 12:55:04 2001
Subject: [Harbour] building harbour on win2K
References: <LOBBKAFMMFGJIKLMEPAKGEIJDJAA.Ron@Profit-Master.com> <3A8821EF.217C87E1@libero.it>
Message-ID: <3A88233D.1FCAC9B6@libero.it>

Ron,

sorry, please read "what I didn't think of" :-)

regards.

Maurilio Longo ha scritto:
> 
> Ron,
> 
> Ok, I do understand how a make file works :-) What I didn't thought of
> is that under win32 you need also tasm to build a win32 harbour.
> 
> I never had tasm, so I don't understand how I built harbour on win32 the
> first time I did it (months ago).
> 
> So, now, the question is: is there a free tasm available or can I use
> something else to replace it?
> 
> regards.
> 
> Ron Pinkas ha scritto:
> >
> > Maurilio,
> >
> > It can *not* work if you don't have tasm.exe! It may *appear* working, if
> > make does not need to build these targets, as they may already exist and
> > considered valid.
> >
> > Compare the date/time of the .asm files with the .obj in obj\b32. If the
> > .asm are newer it will attempt to rebuild them, if they are older, it will
> > accept the .obj as valid. I can't think of any other explanation. Your
> > source tree on the Win2 must have these .asm files with very recent date
> > stamp, forcing make to attempt to rebuild them. If these is the case, use a
> > touch utility to force newer date/time of the .obj files.
> >
> > Ron
> >
> > > Ron,
> > >
> > > no change, it tries to build .ASM files even if I put OBJ ones.
> > >
> > > But how can it work under win98 ?
> > >
> > > regards.
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@lists.harbour-project.org
> > http://www.matrixlist.com/mailman/listinfo/harbour
> >
> > Thank you for participating in The Harbour Project.  Be sure to check
> > http://www.Harbour-Project.org
> 
> --
>  __________
> |  |  | |__| md2520@mclink.it
> |_|_|_|____| Team OS/2 Italia
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Mon Feb 12 13:08:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 12 13:08:02 2001
Subject: [Harbour] ChangeLog 2001-02-09 16:44 GMT+1
In-Reply-To: <000201c0931e$98a7a740$0f2aa8c0@antonio>
References: <200102091707.f19H7TV16390@thor.parrett.net>
Message-ID: <200102121807.f1CI7jC13735@thor.parrett.net>

** Reply to message from "Antonio Linares" <alinares@fivetech.com> on Sat, 10 Feb 2001 06:01:58 +0100

> Harbour Debugger needs it. Should the debugger use
> a function placed at contrib directory ?
> 
> Same happened with HB_SHADOW(), remember ?

If the debugger needs it, then it should be OK to promote it...
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 12 13:15:05 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 12 13:15:05 2001
Subject: [Harbour] Array bug found (Ryzard
In-Reply-To: <3A84A3DE.7074.13472234@localhost>
References: <200102091258_MC2-C4EF-A80B@compuserve.com>
Message-ID: <200102121814.f1CIDxC14210@thor.parrett.net>

** Reply to message from "Phil Barnett" <midnight@the-oasis.net> on
Sat, 10 Feb 2001 02:13:50 -0500

> I suppose I could research the writings, but can anyone present a 
> coherent reason why we should not return NIL from procedures?

The only possible reason is for bug compatibility. I've encountered
code that *relies* on the undocumented behaviour of procedures not
returning NIL. Something on the order of 'value := procedure_call(
parameters )', where one of the last lines in 'procedure_call' is
'function_call( some_parameter)', which resulted in the value from the
fucntion_call getting saved to 'value' in the module that called the
procedure.

I used to think that it was important to maintain this bug
compatibility, but I am no longer certain of that.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 12 13:16:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 12 13:16:02 2001
Subject: [Harbour] ChangeLog 2001-02-10 08:43 GMT+1
In-Reply-To: <000101c09338$60566420$0f2aa8c0@antonio>
References: <000001c09335$9a36b440$0f2aa8c0@antonio>
Message-ID: <200102121815.f1CIFWC14323@thor.parrett.net>

** Reply to message from "Antonio Linares" <alinares@fivetech.com> on
Sat, 10 Feb 2001 09:06:30 +0100

> This file is 100% Clipper debugger settings file compatible, so in fact
> you may save Clipper debugger settings and load them from the Harbour
> debugger and you will see how it works :-)

In that case, you should revert your file name to "init.cld" to be 100%
Clipper compatible.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 12 13:16:16 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 12 13:16:16 2001
Subject: [Harbour] ChangeLog 2001-02-10 08:43 GMT+1
In-Reply-To: <000001c09335$9a36b440$0f2aa8c0@antonio>
References: <3A84A3DE.7074.13472234@localhost>
Message-ID: <200102121814.f1CIExC14270@thor.parrett.net>

** Reply to message from "Antonio Linares" <alinares@fivetech.com> on
Sat, 10 Feb 2001 08:46:39 +0100

> This improves the way the Clipper debugger works, where you had to
> load your settings file every time you run the debugger.

Apparently you failed to notice that the Clipper debugger automaticaly
loads the file "init.cld" at startup.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 12 13:18:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Mon Feb 12 13:18:02 2001
Subject: [Harbour] building harbour on win2K
In-Reply-To: <3A8821EF.217C87E1@libero.it>
Message-ID: <000301c0951f$d9f4d580$0f2aa8c0@antonio>

Maurilio,

Tasm.exe is used to build a Harbour with OBJs generation capability.

But I am considering these days that based on the excellent results
we are getting using a (free) C compiler, we should remove that option
in Harbour and work exclusively with C output.

(I know I was strongly defending OBJ generation in the past, but
I have changed my mind :-)

Antonio



From harbour@lists.harbour-project.org  Mon Feb 12 13:22:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 12 13:22:02 2001
Subject: [Harbour] Item api bugs?
In-Reply-To: <200102110845_MC2-C520-13B6@compuserve.com>
Message-ID: <200102121821.f1CIL5C14908@thor.parrett.net>

** Reply to message from John Skelton <John_Skelton@compuserve.com> on
Sun, 11 Feb 2001 08:44:58 -0500

> > ? 'x'+str(12345678901)+'x'
> 
> "Which value is correct, 10 or 11?"
> 
> I think STR defaults to 10; if so the above should be 10.

Guessing doesn't do us any good. A little experiment with running the
above code compiled with both Clipper and Harbour shows that Harbour is
100% Clipper compatible, because Clipper produces the following output:

x 1234567890x
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 12 13:24:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 12 13:24:02 2001
Subject: [Harbour] Item api bugs?
In-Reply-To: <003601c09475$5bf94080$921a5e18@bh>
References: <200102091751.f19HpmV20157@thor.parrett.net>
Message-ID: <200102121823.f1CIN4C15077@thor.parrett.net>

** Reply to message from "Brian Hays" <bhays@abacuslaw.com> on Sun, 11
Feb 2001 13:55:33 -0800

> You say 10 is correct here, but the discussion below shows the correct value
> to be 11, so hb_itemPutND does indeed seem to be wrong here.

I should have said "the value that you expecte", not "the correct
value", because 11 is the correct value.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 12 13:28:03 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 12 13:28:03 2001
Subject: [Harbour] Item api bugs?
In-Reply-To: <003701c09475$ade47950$921a5e18@bh>
References: <200102110845_MC2-C520-13B6@compuserve.com>
Message-ID: <200102121827.f1CIR0C15382@thor.parrett.net>

** Reply to message from "Brian Hays" <bhays@abacuslaw.com> on Sun, 11
Feb 2001 13:57:51 -0800

> But the example 'x'+str(12345678901)+'x' does indeed produce
> different results in harbour than it does in clipper, and that the seems to
> be, er, consequential.

Both Harbour and Clipper print "x 12345678901x".
What results did you get?
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 12 13:28:18 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 12 13:28:18 2001
Subject: [Harbour] building harbour on win2K
In-Reply-To: <3A87E3B5.1B4725DE@libero.it>
Message-ID: <200102121827.f1CIRwC15445@thor.parrett.net>

** Reply to message from Maurilio Longo <maurilio.longo@libero.it> on
Mon, 12 Feb 2001 14:23:01 +0100

> I'm trying to build latest code on a win2K box using free bcc. I issue a
> b32_slex but it stops complaining that tasm.exe is not found.

The free BCC 5.5 doesn't come with tasm.exe.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 12 13:30:04 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 12 13:30:04 2001
Subject: [Harbour] building harbour on win2K
In-Reply-To: <3A88084E.C9778123@libero.it>
References: <LOBBKAFMMFGJIKLMEPAKIEIHDJAA.Ron@Profit-Master.com>
Message-ID: <200102121829.f1CIT8C15541@thor.parrett.net>

** Reply to message from Maurilio Longo <maurilio.longo@libero.it> on
Mon, 12 Feb 2001 16:59:10 +0100

> yes, I don't have tasm (it is not inside freecompilertools aka bcc55)
> but I don't have it on win98 either :-o

But you have the OBJ file on Win98 that otherwise requires TASM. So you
just need to figure out which file that is and then copy that OBJ file
from your 98 system to your 2000 system.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 12 13:30:19 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 12 13:30:19 2001
Subject: [Harbour] building harbour on win2K
In-Reply-To: <3A88137C.F6FC8CA7@libero.it>
References: <LOBBKAFMMFGJIKLMEPAKIEIHDJAA.Ron@Profit-Master.com> <3A88084E.C9778123@libero.it>
Message-ID: <200102121829.f1CITtC15602@thor.parrett.net>

** Reply to message from Maurilio Longo <maurilio.longo@libero.it> on
Mon, 12 Feb 2001 17:46:52 +0100

> no change, it tries to build .ASM files even if I put OBJ ones.
> 
> But how can it work under win98 ?

The .ASM file has a newer date than the .OBJ file. So just run TOUCH on
the .OBJ file.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 12 13:57:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 12 13:57:02 2001
Subject: [Harbour] Cannot build harbour
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEIADJAA.Ron@Profit-Master.com>
References: <NCBBJKNMIDPJNLJCHCHIOECKFPAA.harbour@winfakt.com>
Message-ID: <200102121856.f1CIuKC18033@thor.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Sun,
11 Feb 2001 07:47:44 -0800

> I use the same make files with BCC 5.5 without any problem.

Are you using Windows 2000?
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 12 13:58:01 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Mon Feb 12 13:58:01 2001
Subject: [Harbour] ChangeLog 2001-02-10 08:43 GMT+1
In-Reply-To: <200102121815.f1CIFWC14323@thor.parrett.net>
Message-ID: <000401c09525$6b3f1a00$0f2aa8c0@antonio>

David,

It is already implemented and CVSed since this morning (here) :)

Antonio

> In that case, you should revert your file name to "init.cld" to be 100%
> Clipper compatible.

> Apparently you failed to notice that the Clipper debugger automaticaly
> loads the file "init.cld" at startup.


From harbour@lists.harbour-project.org  Mon Feb 12 14:02:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Mon Feb 12 14:02:02 2001
Subject: [Harbour] Re: building harbour on win2K
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEIJDJAA.Ron@Profit-Master.com>
References: <LOBBKAFMMFGJIKLMEPAKGEIJDJAA.Ron@Profit-Master.com>
Message-ID: <1852054990.20010212215726@belacy.belgorod.su>

 Ron,

RP> It can *not* work if you don't have tasm.exe! It may *appear* working, if
RP> make does not need to build these targets, as they may already exist and
RP> considered valid.

 I don't have tasm.exe on my computer too, but I never had problems
 with building Harbour because of this, only such warnings:

MAKE Version 5.2  Copyright (c) 1987, 2000 Borland
        tasm -ml  source\vm\borsym.asm  , obj\b32\borsym.obj
        tlib lib\b32\vm.lib /P32 -+obj\b32\borsym.obj,,
TLIB 4.5 Copyright (c) 1987, 1999 Inprise Corporation

Warning: 'borsym' not found in library
Warning: 'obj\b32\borsym.obj' file not found
        tasm -ml  source\vm\symbols.asm  , obj\b32\symbols.obj
        tlib lib\b32\vm.lib /P32 -+obj\b32\symbols.obj,,
TLIB 4.5 Copyright (c) 1987, 1999 Inprise Corporation
...

 for all three asm files.
 And I usually make clean build - so targets doesn't exist.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Mon Feb 12 14:02:21 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 12 14:02:21 2001
Subject: [Harbour] ChangeLog 2001-02-10 08:43 GMT+1
In-Reply-To: <000401c09525$6b3f1a00$0f2aa8c0@antonio>
References: <200102121815.f1CIFWC14323@thor.parrett.net>
Message-ID: <200102121901.f1CJ19C18467@thor.parrett.net>

** Reply to message from "Antonio Linares" <alinares@fivetech.com> on
Mon, 12 Feb 2001 19:55:51 +0100

> It is already implemented and CVSed since this morning (here) :)

I'm always behind over the weekends (I read the message list at work).
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 12 14:59:01 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Mon Feb 12 14:59:01 2001
Subject: [Harbour] building harbour on win2K
References: <LOBBKAFMMFGJIKLMEPAKGEIJDJAA.Ron@Profit-Master.com>
Message-ID: <3A884053.8FA181EC@libero.it>

Ron,

asm files are dated april 2000, objects are dated yesterday!

But it tries to build them!!


Ron Pinkas ha scritto:
> 
> Maurilio,
> 
> It can *not* work if you don't have tasm.exe! It may *appear* working, if
> make does not need to build these targets, as they may already exist and
> considered valid.
> 
> Compare the date/time of the .asm files with the .obj in obj\b32. If the
> .asm are newer it will attempt to rebuild them, if they are older, it will
> accept the .obj as valid. I can't think of any other explanation. Your
> source tree on the Win2 must have these .asm files with very recent date
> stamp, forcing make to attempt to rebuild them. If these is the case, use a
> touch utility to force newer date/time of the .obj files.
> 
> Ron
> 
> > Ron,
> >
> > no change, it tries to build .ASM files even if I put OBJ ones.
> >
> > But how can it work under win98 ?
> >
> > regards.
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 

 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Mon Feb 12 15:12:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 12 15:12:02 2001
Subject: [Harbour] building harbour on win2K
In-Reply-To: <3A884053.8FA181EC@libero.it>
References: <LOBBKAFMMFGJIKLMEPAKGEIJDJAA.Ron@Profit-Master.com>
Message-ID: <200102122011.f1CKBNC24647@thor.parrett.net>

** Reply to message from Maurilio Longo <maurilio.longo@libero.it> on
Mon, 12 Feb 2001 20:58:11 +0100

> asm files are dated april 2000, objects are dated yesterday!

Are the object files in the correct directory?
(It looks like they should be in obj\b32\)
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 12 16:04:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Mon Feb 12 16:04:02 2001
Subject: [Harbour] ChangeLog 2001-02-12 22:01 GMT+1
In-Reply-To: <000401c09525$6b3f1a00$0f2aa8c0@antonio>
Message-ID: <000501c09536$e73d49e0$0f2aa8c0@antonio>

2001-02-12 21:58 GMT+1 Antonio Linares <alinares@fivetech.com>
   * harbour/source/debug/dbgmenu.prg
     + more options implemented.

   * harbour/source/debug/debugger.prg
     + Method EditSet() and Trace() implemented.

   Notice: Trace() is still not working 100% right.
   Sometimes it does and sometimes doesn't :-/


Antonio


From harbour@lists.harbour-project.org  Mon Feb 12 19:57:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Mon Feb 12 19:57:02 2001
Subject: [Harbour] Re: building harbour on win2K
In-Reply-To: <1852054990.20010212215726@belacy.belgorod.su>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEINDJAA.Ron@Profit-Master.com>

Alexander,

>  I don't have tasm.exe on my computer too, but I never had problems
>  with building Harbour because of this, only such warnings:
>
> MAKE Version 5.2  Copyright (c) 1987, 2000 Borland
>         tasm -ml  source\vm\borsym.asm  , obj\b32\borsym.obj
>         tlib lib\b32\vm.lib /P32 -+obj\b32\borsym.obj,,
> TLIB 4.5 Copyright (c) 1987, 1999 Inprise Corporation
>
> Warning: 'borsym' not found in library
> Warning: 'obj\b32\borsym.obj' file not found
>         tasm -ml  source\vm\symbols.asm  , obj\b32\symbols.obj
>         tlib lib\b32\vm.lib /P32 -+obj\b32\symbols.obj,,
> TLIB 4.5 Copyright (c) 1987, 1999 Inprise Corporation
> ...
>
>  for all three asm files.
>  And I usually make clean build - so targets doesn't exist.

You would also get:

Bad command or file name
Bad command or file name
Bad command or file name

every time you issue make, even just after it finished!

I have no idea how we don't get errors on missing externals, if these files
are needed (Antonio?)! I'm really curious what makes MAKE much more
forgiving with these files?

Why is it I *had* to use MASM when building with VC???

Ron



From harbour@lists.harbour-project.org  Mon Feb 12 20:01:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Mon Feb 12 20:01:02 2001
Subject: [Harbour] building harbour on win2K
In-Reply-To: <3A884053.8FA181EC@libero.it>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMEINDJAA.Ron@Profit-Master.com>

Maurilio,

> Ron,
>
> asm files are dated april 2000, objects are dated yesterday!
>
> But it tries to build them!!

Are you sure the obj files are in *obj\b32* folder, and are newer than .asm
files in *source\vm*?

Ron


From harbour@lists.harbour-project.org  Mon Feb 12 20:24:01 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Mon Feb 12 20:24:01 2001
Subject: [Harbour] Cannot build harbour
In-Reply-To: <200102121856.f1CIuKC18033@thor.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEIODJAA.Ron@Profit-Master.com>

David,

No, Win98, and WinMe.

I do have a Win2K at Office but I don't use Harbour at work. 

Ron

> > I use the same make files with BCC 5.5 without any problem.
> 
> Are you using Windows 2000?
> -- 
> David G. Holm, Set Captain and all around
> Harbour Project Clipper Compatibility fanatic.


From harbour@lists.harbour-project.org  Mon Feb 12 21:06:01 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Mon Feb 12 21:06:01 2001
Subject: [Harbour] Item api bugs?
References: <200102110845_MC2-C520-13B6@compuserve.com> <200102121827.f1CIR0C15382@thor.parrett.net>
Message-ID: <004101c09562$549f17e0$921a5e18@bh>

David:
> Both Harbour and Clipper print "x 12345678901x".
> What results did you get?

My apologies, you are right.  The difference is a bit more insipid.
I had used an interactive program to display the value as a test.  
Clipper removes the space if the expression is macro compiled:

FUNCTION test ()
   local c :=  "'x'+str(12345678901)+'x'"
   ? &c
   ? 'x'+str(12345678901)+'x'
RETURN Nil

Harbour output has a space for both:
x 12345678901x
x 12345678901x

Clipper does not if it's macro compiled.
x12345678901x
x 12345678901x

Brian



From harbour@lists.harbour-project.org  Mon Feb 12 21:20:03 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Mon Feb 12 21:20:03 2001
Subject: [Harbour] GET bug in PICTURE
Message-ID: <007501c09564$318ac4a0$921a5e18@bh>

A picture of "999" for a number fails to allow a minus sign in Harbour:

FUNCTION test ()
   i := 5
   @5,5 get i pict "999"
   read
   quit

RETURN Nil

(And yes, I did build this exact function in both Harbour and Clipper 5.3
:-)

       GET PICTURE Template Symbols
        --------------------------------------------------------------------
-
        Template     Action
        --------------------------------------------------------------------
-
        9            Allows digits for any data type including sign for
                      numerics


Brian Hays



From harbour@lists.harbour-project.org  Mon Feb 12 21:55:04 2001
From: harbour@lists.harbour-project.org (April)
Date: Mon Feb 12 21:55:04 2001
Subject: [Harbour] @ operator (function pointer)
References: <02f501c09518$7a627340$06f7d3c8@ngm.com.br>
Message-ID: <3A88A2FA.8755BE90@user.rose.com>

Antonio Carlos Barbosa wrote:

>    Part 1    Type: Outlook Express Mail Message (message/rfc822)
>          Encoding: 7bit

I'm sorry, Antonio, buy I don't open attachments, especially those
identifed as an outlook express mail message.  please re-send in plain
text


From harbour@lists.harbour-project.org  Tue Feb 13 00:58:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Tue Feb 13 00:58:02 2001
Subject: [Harbour] 100% CPU usage under Win2000
In-Reply-To: <BGEJIGGANMIAOJPONENJOEDGCEAA.ignacio@fivetech.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEIPDJAA.Ron@Profit-Master.com>

Ignacio,

Same is true on Win Me!

After much playing and testing, including SetPriorityClass(), I found that
changing Sleep(0) to Sleep(20) (in idle.c line 84) produces the desired
results (all else seem to have no effect). Sleep(20) lowers the CPU usage on
my machine to about 11% while still providing apparent immediate response to
a key stroke.

BTW, now that the yield is effective, setting SET( _SET_IDLEREPEAT, .F. )
further lowers the usage to abut 4% without any effect on the app
performance.

David?

Ron

> Ron,
>
>
> >>Could you try with this at top of your app and report your results:
> >>SET( _SET_IDLEREPEAT, .F. )
>
> I am afraid still uses the 100 % of the CPU. (continuously)
>
> BTW the system really goes slower when there are Harbour applications
> running even in the background and of course doing nothing, just
> waiting for
> a keyboard input.
>
> Regards,
>
> Ignacio Ortiz
> Email: ignacio@fivetech.com
> http: www.fivetech.com


From harbour@lists.harbour-project.org  Tue Feb 13 01:51:01 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Tue Feb 13 01:51:01 2001
Subject: [Harbour] building harbour on win2K
References: <LOBBKAFMMFGJIKLMEPAKMEINDJAA.Ron@Profit-Master.com>
Message-ID: <3A88D90D.3DA1168F@libero.it>

Ron,

yes, obj in obj\b32 are dated 11/feb/2001 08.07 while asms are dated
26/apr/2000 21.03.

???

regards.

Ron Pinkas ha scritto:
> 
> Maurilio,
> 
> > Ron,
> >
> > asm files are dated april 2000, objects are dated yesterday!
> >
> > But it tries to build them!!
> 
> Are you sure the obj files are in *obj\b32* folder, and are newer than .asm
> files in *source\vm*?
> 
> Ron
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Tue Feb 13 03:03:01 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Tue Feb 13 03:03:01 2001
Subject: [Harbour] Re: building harbour on win2K
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEINDJAA.Ron@Profit-Master.com>
References: <LOBBKAFMMFGJIKLMEPAKKEINDJAA.Ron@Profit-Master.com>
Message-ID: <846201006.20010213102023@belacy.belgorod.su>

On 13.02.01 3:54, Ron Pinkas <Ron@Profit-Master.com> wrote:

RP> You would also get:

RP> Bad command or file name
RP> Bad command or file name
RP> Bad command or file name

RP> every time you issue make, even just after it finished!

 Yes, exactly.


Best regards,
 Alexander



From harbour@lists.harbour-project.org  Tue Feb 13 05:21:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Tue Feb 13 05:21:02 2001
Subject: [Harbour] Changelog 2001-02-13 13:15 GMT+3
Message-ID: <43643188.20010213131719@belacy.belgorod.su>

2001-02-13 13:15 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/include/hbrddntx.h
   * harbour/source/rdd/dbfntx/dbfntx1.c
     + ntxAppend() added;
     * updating of opened indexex while new record adding is implemented;
     * few fixes;
     * error now is generated while opening, if index file doesn't exist.

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Tue Feb 13 05:26:01 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Tue Feb 13 05:26:01 2001
Subject: [Harbour] Changelog 2001-02-13 13:15 GMT+3
In-Reply-To: <43643188.20010213131719@belacy.belgorod.su>
Message-ID: <002301c095a6$f025e920$0f2aa8c0@antonio>

Alexander,

Thanks a lot for the superb work you are doing!

Antonio

> 2001-02-13 13:15 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
>    * harbour/include/hbrddntx.h
>    * harbour/source/rdd/dbfntx/dbfntx1.c
>      + ntxAppend() added;
>      * updating of opened indexex while new record adding is implemented;
>      * few fixes;
>      * error now is generated while opening, if index file doesn't exist.



From harbour@lists.harbour-project.org  Tue Feb 13 05:28:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Tue Feb 13 05:28:02 2001
Subject: [Harbour] win2k hell :-|
Message-ID: <3A890BF1.B0461B37@libero.it>

I can build harbour under win2k using free borland bcc5 compiler using
this command line

make -fhb_slex.bc -i

-i to tell make to ignore errors so that tasm.exe not found does not
kill the make process.

(I think that on a NTFS volume make.exe uses last access date to decide
if rebuild a file instead of last modification date)

I think that harbour exe works as long as I don't ask it to produce
direct object code.

Now I have a new problem, I cannot update my cvs repository from 2k
since I get error:

warning: Server disconnected (Packet integrity error (34))

from WinSshClient 2.0.4.

What are you using as ssh client?

regards.



-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Tue Feb 13 05:31:01 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Ignacio_Ortiz_de_Zu=F1iga?=)
Date: Tue Feb 13 05:31:01 2001
Subject: [Harbour] 2001-02-13 11:30 GMT+1 Ignacio Ortiz <ignacio@fivetech.com>
Message-ID: <BGEJIGGANMIAOJPONENJIEEDCEAA.ignacio@ozs.com>

2001-02-13 11:30 GMT+1 Ignacio Ortiz <ignacio@fivetech.com>
   * harbour/source/rtl/tget.prg
	- Minus support fixed

Ignacio Ortiz
Email: ignacio@fivetech.com
http: www.fivetech.com 


From harbour@lists.harbour-project.org  Tue Feb 13 05:37:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Tue Feb 13 05:37:02 2001
Subject: [Harbour] win2k hell :-|
In-Reply-To: <3A890BF1.B0461B37@libero.it>
Message-ID: <002401c095a8$993f9820$0f2aa8c0@antonio>

Maurilio,

Don't you use OS2 any longer ?

I do believe it is very interesting for Harbour your OS2
expertise.

regards,

Antonio



From harbour@lists.harbour-project.org  Tue Feb 13 05:56:01 2001
From: harbour@lists.harbour-project.org (Martin Vogel)
Date: Tue Feb 13 05:56:01 2001
Subject: [Harbour] CaT**ols
Message-ID: <3A8912DE.63F9CC4E@urz.uni-heidelberg.de>

Hi everyone,

this is just a reminder to let you know that I'm still alive :-) and working on the Tools string
functions - as promised - that I hope to have finished this month.

Have fun

Martin

From harbour@lists.harbour-project.org  Tue Feb 13 06:26:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Tue Feb 13 06:26:02 2001
Subject: [Harbour] ChangeLog 2001-02-13 12:21 GMT+1
In-Reply-To: <3A8912DE.63F9CC4E@urz.uni-heidelberg.de>
Message-ID: <002501c095af$53bbb5c0$0f2aa8c0@antonio>

2001-02-13 12:21 GMT+1 Antonio Linares <alinares@fivetech.com>
   * harbour/source/debug/debugger.prg
     ! Trace support fixed

Thanks again to Ignacio for his happy and bright ideas! :-)

Antonio



From harbour@lists.harbour-project.org  Tue Feb 13 07:40:03 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Tue Feb 13 07:40:03 2001
Subject: [Harbour] win2k hell :-|
References: <002401c095a8$993f9820$0f2aa8c0@antonio>
Message-ID: <3A892AF5.D096601F@libero.it>

Antonio,

OS/2 is my system at home and at work, but now I need to have a win2K pc
at work (since my employer is moving to win32)  so I'm trying to setup
harbour on it too.

:-)

regards.



regards.

Antonio Linares ha scritto:
> 
> Maurilio,
> 
> Don't you use OS2 any longer ?
> 
> I do believe it is very interesting for Harbour your OS2
> expertise.
> 
> regards,
> 
> Antonio
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Tue Feb 13 07:54:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Tue Feb 13 07:54:02 2001
Subject: [Harbour] Changelog 2001-02-13 15:50 GMT+3
Message-ID: <969910224.20010213155144@belacy.belgorod.su>

2001-02-13 15:50 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/source/rdd/dbfntx/dbfntx1.c
     * Warnings fixed;
     * handling of free pages pool implemented ( not tested yet )
  

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Tue Feb 13 09:12:02 2001
From: harbour@lists.harbour-project.org (Paul Tucker)
Date: Tue Feb 13 09:12:02 2001
Subject: [Harbour] win2k hell :-|
References: <002401c095a8$993f9820$0f2aa8c0@antonio> <3A892AF5.D096601F@libero.it>
Message-ID: <044401c095c6$a6bf6c00$b6122a0a@chaseplane>

I have been using Win2k for almost the entire life of the Harbour project so
far.  Mostly with msvc, but also with a couple of other compilers for
testing purposes.  What problem are you having?  (I have some messages to
catch up on, so rather than repeat yourself on the list, feel free to email
me)

Paul
----- Original Message -----
From: "Maurilio Longo" <maurilio.longo@libero.it>
To: <harbour@lists.harbour-project.org>
Sent: Tuesday, February 13, 2001 7:39 AM
Subject: Re: [Harbour] win2k hell :-|


> Antonio,
>
> OS/2 is my system at home and at work, but now I need to have a win2K pc
> at work (since my employer is moving to win32)  so I'm trying to setup
> harbour on it too.
>
> :-)
>
> regards.
>
 > Maurilio,



From harbour@lists.harbour-project.org  Tue Feb 13 11:10:03 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Tue Feb 13 11:10:03 2001
Subject: [Harbour] win2k hell :-|
In-Reply-To: <044401c095c6$a6bf6c00$b6122a0a@chaseplane>
Message-ID: <004601c095d6$ebf4c1c0$0f2aa8c0@antonio>

Hi Paul,

Long time no see :-)

So happy to meet you again,

Antonio



From harbour@lists.harbour-project.org  Tue Feb 13 14:20:03 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Tue Feb 13 14:20:03 2001
Subject: [Harbour] 100% CPU usage under Win2000
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEIPDJAA.Ron@Profit-Master.com>
References: <BGEJIGGANMIAOJPONENJOEDGCEAA.ignacio@fivetech.com>
Message-ID: <200102131919.f1DJJ7h28428@thor.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Mon,
12 Feb 2001 21:55:57 -0800

> David?

Go ahead and commit the change.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Tue Feb 13 14:22:01 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Tue Feb 13 14:22:01 2001
Subject: [Harbour] win2k hell :-|
In-Reply-To: <3A890BF1.B0461B37@libero.it>
Message-ID: <200102131921.f1DJLah28683@thor.parrett.net>

** Reply to message from Maurilio Longo <maurilio.longo@libero.it> on
Tue, 13 Feb 2001 11:26:57 +0100

> (I think that on a NTFS volume make.exe uses last access date to decide
> if rebuild a file instead of last modification date)

Try running TOUCH on the .ASM files and then run TOUCH on their .OBJ
files a minute or more later. If that fixes the problem, then you can
create a batch file to do that before each make.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Tue Feb 13 15:32:02 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Tue Feb 13 15:32:02 2001
Subject: [Harbour] 2001-02-13 11:30 GMT+1 Ignacio Ortiz <ignacio@fivetech.com>
References: <BGEJIGGANMIAOJPONENJIEEDCEAA.ignacio@ozs.com>
Message-ID: <003401c095fc$c704ed60$921a5e18@bh>

Ignacio:
Thanks for the quick fix!!
Brian

----- Original Message -----
From: "Ignacio Ortiz de Zuñiga" <ignacio@ozs.com>


> 2001-02-13 11:30 GMT+1 Ignacio Ortiz <ignacio@fivetech.com>
>    * harbour/source/rtl/tget.prg
> - Minus support fixed
>
> Ignacio Ortiz



From harbour@lists.harbour-project.org  Tue Feb 13 16:07:03 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Tue Feb 13 16:07:03 2001
Subject: [Harbour] win2k hell :-|
References: <200102131921.f1DJLah28683@thor.parrett.net>
Message-ID: <3A89A1D1.C36910AA@libero.it>

David,

I'll try that tomorrow, but I'm happy with -i parameter to make (since I
don't have tasm.exe) as of now :-)

Thanks.


"David G. Holm" ha scritto:
> 
> ** Reply to message from Maurilio Longo <maurilio.longo@libero.it> on
> Tue, 13 Feb 2001 11:26:57 +0100
> 
> > (I think that on a NTFS volume make.exe uses last access date to decide
> > if rebuild a file instead of last modification date)
> 
> Try running TOUCH on the .ASM files and then run TOUCH on their .OBJ
> files a minute or more later. If that fixes the problem, then you can
> create a batch file to do that before each make.
> --
> David G. Holm, Set Captain and all around
> Harbour Project Clipper Compatibility fanatic.
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 

 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Tue Feb 13 16:10:03 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Tue Feb 13 16:10:03 2001
Subject: [Harbour] win2k hell :-|
References: <002401c095a8$993f9820$0f2aa8c0@antonio> <3A892AF5.D096601F@libero.it> <044401c095c6$a6bf6c00$b6122a0a@chaseplane>
Message-ID: <3A89A263.18D5D80F@libero.it>

Paul,

right now ssh2 (from ftp://ftp.ssh.com/) fails when I try to log to
sourceforge for the first time with error

warning: Server disconnected (Packet integrity error (34))

just after it asked for my password on sourceforge.

thanks.



Paul Tucker ha scritto:
> 
> I have been using Win2k for almost the entire life of the Harbour project so
> far.  Mostly with msvc, but also with a couple of other compilers for
> testing purposes.  What problem are you having?  (I have some messages to
> catch up on, so rather than repeat yourself on the list, feel free to email
> me)
> 
> Paul
> ----- Original Message -----
> From: "Maurilio Longo" <maurilio.longo@libero.it>
> To: <harbour@lists.harbour-project.org>
> Sent: Tuesday, February 13, 2001 7:39 AM
> Subject: Re: [Harbour] win2k hell :-|
> 
> > Antonio,
> >
> > OS/2 is my system at home and at work, but now I need to have a win2K pc
> > at work (since my employer is moving to win32)  so I'm trying to setup
> > harbour on it too.
> >
> > :-)
> >
> > regards.
> >
>  > Maurilio,
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 

 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Tue Feb 13 20:47:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Tue Feb 13 20:47:02 2001
Subject: [Harbour] ChangeLog 2001-02-13 17:30 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <200102131919.f1DJJ7h28428@thor.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEJGDJAA.Ron@Profit-Master.com>

2001-02-13 17:30 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * harbour/source/rtl/idle.c
     * Changed Sleep(0) to Sleep(20) so that Harbour will properly release
CPU on Win32.


From harbour@lists.harbour-project.org  Wed Feb 14 04:33:02 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Ignacio_Ortiz_de_Zu=F1iga?=)
Date: Wed Feb 14 04:33:02 2001
Subject: [Harbour] ChangeLog 2001-02-13 17:30 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEJGDJAA.Ron@Profit-Master.com>
Message-ID: <BGEJIGGANMIAOJPONENJAEFCCEAA.ignacio@fivetech.com>

Ron,

>>* Changed Sleep(0) to Sleep(20)

It works perfectly, now in iddle mode consumes 0% CPU, and there is not any
performance degradation. :-))

Great job

Ignacio Ortiz
Email: ignacio@fivetech.com
http: www.fivetech.com



From harbour@lists.harbour-project.org  Wed Feb 14 04:51:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Wed Feb 14 04:51:02 2001
Subject: [Harbour] Changelog 2001-02-14 12:40 GMT+3
Message-ID: <10814109234.20010214125004@belacy.belgorod.su>

2001-02-14 12:40 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/include/hbapirdd.h
     * Wrong parameters of SUPER_UNLOCK fixed
   * harbour/include/hbrddntx.h
   * harbour/source/rdd/dbfntx/dbfntx1.c
     + ntxLock(), ntxUnLock() added
       * These virtual functions are for index files locking/unlocking while
         appropriate dbf locking/unlocking
         I used here locking of first 512 bytes of index file ( don't know yet,
         is it Clipper compatible ).

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Wed Feb 14 05:11:01 2001
From: harbour@lists.harbour-project.org (Charles Kwon ( Kwon,Oh-Jun))
Date: Wed Feb 14 05:11:01 2001
Subject: [Harbour] How to return float value from C code to Harbour PRG Code?
References: <BGEJIGGANMIAOJPONENJAEFCCEAA.ignacio@fivetech.com>
Message-ID: <000c01c0966d$ae046860$0200a8c0@ns>

SG93IHRvIHJldHVybiBmbG9hdCB2YWx1ZSBmcm9tIEMgY29kZSB0byBIYXJib3VyIFBSRyBDb2Rl
Pw0KDQpSZWdhcmRzDQpDaGFybGVzIEt3b24NCg==


From harbour@lists.harbour-project.org  Wed Feb 14 05:22:02 2001
From: harbour@lists.harbour-project.org (Charles Kwon ( Kwon,Oh-Jun))
Date: Wed Feb 14 05:22:02 2001
Subject: [Harbour] How to return float value from C code to Harbour PRG Code?
References: <BGEJIGGANMIAOJPONENJAEFCCEAA.ignacio@fivetech.com> <000c01c0966d$ae046860$0200a8c0@ns>
Message-ID: <001201c0966f$35cae700$0200a8c0@ns>

UGxlYXNlIElnbm9yZSBwcmV2aW91cyBteSBtZXNzYWdlIDotKQ0KSSBmb3VuZCBpdCBteSBzZWxm
IDotKQ0KDQpoYl9yZXRuZGxlbiBpcyB0aGUgYW5zd2VyIDotKQ0KDQoNCkJlc3QgUmVnYXJkcywN
CkNoYXJsZXMgS3dvbiANCg0KaHR0cDovL3d3dy5maXZldGVjaC5uZXQNCmh0dHA6Ly9lbmdsaXNo
LmZpdmV0ZWNoLm5ldA0KaHR0cDovL3NwYWluLmZpdmV0ZWNoLm5ldA0KDQpGaXZlVGVjaC5OZXQN
ClRFTCA6ICs4Mi0yLTU2Ni02ODI2DQpJQ1EgOiAxOTMwMjI1OA0KLS0tLS0gT3JpZ2luYWwgTWVz
c2FnZSAtLS0tLSANCj8/ID8/OiAiQ2hhcmxlcyBLd29uICggS3dvbixPaC1KdW4pIiA8Y2hhcmxl
c0BmaXZldGVjaC5uZXQ+DQo/PyA/PzogPGhhcmJvdXJAbGlzdHMuaGFyYm91ci1wcm9qZWN0Lm9y
Zz4NCj8/ID8/OiAyMDAxPyAyPyAxND8gPz8/ID8/IDc6MDUNCj8/OiBbSGFyYm91cl0gSG93IHRv
IHJldHVybiBmbG9hdCB2YWx1ZSBmcm9tIEMgY29kZSB0byBIYXJib3VyIFBSRyBDb2RlPw0KDQoN
CjogSG93IHRvIHJldHVybiBmbG9hdCB2YWx1ZSBmcm9tIEMgY29kZSB0byBIYXJib3VyIFBSRyBD
b2RlPw0KOiANCjogUmVnYXJkcw0KOiBDaGFybGVzIEt3b24NCjog////////////////////////
///////////////////////HarbourlzU1inLFistHarbjyr/lists/harbour/prl7ect/orght
tln//yAw/matrixlU8v/cj+/VKilVKn/LSstU3fo/harbjyrThanIiouflPparticipatingU3Th
eHarbjyrProjecv/BesuretochdvJxttp///wyD/Harbour/Projecv/DQo=


From harbour@lists.harbour-project.org  Wed Feb 14 06:48:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Wed Feb 14 06:48:02 2001
Subject: [Harbour] ChangeLog 2001-02-14 12:45 GMT+1
In-Reply-To: <10814109234.20010214125004@belacy.belgorod.su>
Message-ID: <001501c0967b$b45e5a00$0f2aa8c0@antonio>

2001-02-14 12:45 GMT+1 Antonio Linares <alinares@fivetech.com>
   * harbour/source/debug/debugger.prg
     ! Locals are restored when returning from a function or procedure.


Antonio


From harbour@lists.harbour-project.org  Thu Feb 15 00:23:01 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Thu Feb 15 00:23:01 2001
Subject: [Harbour] PreProcessor bug
Message-ID: <000901c09710$1a48e670$921a5e18@bh>

This line returning 6 spaces from a function:
   RETURN [      ]

becomes a single space when preprocessed:

   RETURN [ ]

Brian Hays



From harbour@lists.harbour-project.org  Thu Feb 15 02:16:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb 15 02:16:02 2001
Subject: [Harbour] ChangeLog 2001-02-14 23:10 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <000901c09710$1a48e670$921a5e18@bh>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEJJDJAA.Ron@Profit-Master.com>

2001-02-14 23:10 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * source/pp/ppcore.c
     ! Fixed space removal within [] in strotrim() when not processing MP or
RP.


From harbour@lists.harbour-project.org  Thu Feb 15 02:18:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb 15 02:18:02 2001
Subject: [Harbour] PreProcessor bug
In-Reply-To: <000901c09710$1a48e670$921a5e18@bh>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMEJJDJAA.Ron@Profit-Master.com>

Fixed.

> This line returning 6 spaces from a function:
>    RETURN [      ]
> 
> becomes a single space when preprocessed:
> 
>    RETURN [ ]
> 
> Brian Hays


From harbour@lists.harbour-project.org  Thu Feb 15 06:02:03 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Thu Feb 15 06:02:03 2001
Subject: [Harbour] Changelog 2001-02-15 13:15 GMT+3
Message-ID: <1173740819.20010215135739@belacy.belgorod.su>

2001-02-15 13:15 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/include/hbrddntx.h
   * harbour/source/rdd/dbfntx/dbfntx1.c
     * Locking of index file while moving/updating in shared mode
       ( don't sure that it's done absolutely right, should be tested ).

     Since I didn't find information how Clipper locks index files, I
     did it by locking of first 512 bytes of the file, so
     compatibility with Clipper programs should be tested.

     And yet another problem - what to do if file already locked by
     another process and hb_fsLock() returns FAILURE ...
     There are two ways:
     1) Retry locking till success.
     2) Retry locking for some time, then give an error.

     I choose first now, because I don't remember appropriate Clipper
     error message and situation when Clipper gives an error while
     moving through database due to locking problem.
     Any other ideas ?

     And yet another :).
     The same situation - locking failure while updating a key.
     Is it better to lock all indexes before writing the data ( to
     dbf, index files, and, possibly, memo ), or lock and update each
     opened index consequently ( as it is now ) ?
     The first seems more safe but it will cause increasing of a lock
     time.
     

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Thu Feb 15 06:55:03 2001
From: harbour@lists.harbour-project.org (Sylvain Robert )
Date: Thu Feb 15 06:55:03 2001
Subject: [Harbour] Changelog 2001-02-15 13:15 GMT+3
In-Reply-To: <1173740819.20010215135739@belacy.belgorod.su>
Message-ID: <3A8B7BD7.449.23764B@localhost>

--Message-Boundary-22324
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Content-description: Mail message body

Alexander,

  I found that text (old one) on my drive about clipper 5.2 locking, I 
don't know if you have that information.

  Hope it answer some of your question, but I'm really don't sure !

  Sylvain 


> 2001-02-15 13:15 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
>    * harbour/include/hbrddntx.h
>    * harbour/source/rdd/dbfntx/dbfntx1.c
>      * Locking of index file while moving/updating in shared mode
>        ( don't sure that it's done absolutely right, should be tested ).
> 
>      Since I didn't find information how Clipper locks index files, I
>      did it by locking of first 512 bytes of the file, so
>      compatibility with Clipper programs should be tested.
> 
>      And yet another problem - what to do if file already locked by
>      another process and hb_fsLock() returns FAILURE ...
>      There are two ways:
>      1) Retry locking till success.
>      2) Retry locking for some time, then give an error.
> 
>      I choose first now, because I don't remember appropriate Clipper
>      error message and situation when Clipper gives an error while
>      moving through database due to locking problem.
>      Any other ideas ?
> 
>      And yet another :).
>      The same situation - locking failure while updating a key.
>      Is it better to lock all indexes before writing the data ( to
>      dbf, index files, and, possibly, memo ), or lock and update each
>      opened index consequently ( as it is now ) ?
>      The first seems more safe but it will cause increasing of a lock
>      time.
>      
> 
> Best regards,
>  Alexander
> http://members.xoom.com/alkresin/
> 
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 
> 




     Sylvain Robert
     srobert@logava.com

     Les Logiciels Avantage
     www.logava.com


--Message-Boundary-22324
Content-type: text/plain; charset=US-ASCII
Content-transfer-encoding: 7BIT
Content-description: Text from file 'joe.txt'


                             Locks and Clipper
                               by Joe Booth
   
   
    It is hard to believe that the earliest releases of Clipper did not
    provide any kind of network support.  Times have changed, since many
    Clipper applications today are either designed to run on a network or
    will be converted to run on one.  The standalone PC is becoming less
    and less of a target platform for Clipper development.
   
    In this article, I'd like to discuss exactly what happens when Clipper
    uses a file on a network and when it locks the file or a portion of it.
   
   
    It begins with DOS... 
   
    All of Clipper's file opening/locking routines call some DOS interrupt
    to perform a portion of their work. An interrupt is a section of DOS
    code in memory that can act very similarly to a Clipper UDF.  It is
    called, does its job, and returns control the code that called it.  By
    looking at how these interrupts work and interact with Clipper, we
    should be able to get a better understanding of what's going on behind
    the scenes.
   
   
    Opening a file 
   
    When you USE a data file, you call the OPEN FILE WITH HANDLE DOS
    interrupt.  This function expects two parameters: The file name and an
    access mode.  The access mode is a bit-encoded number that determines
    how the file is opened.  Bits 0-2 determine what access your computer
    is allowed to the file.
   
        0 is read-only
        1 write-only
        2 read/write
   
    Bit three is reserved and bits 4-6 are the sharing mode. These bits
    determine if other programs can access the file you've opened.  These
    bits are:
   
        0 -Default mode, basically allows complete file sharing
        1 -Deny all, nobody else can read or write the file. This is the
           mode Clipper sets if you USE a file EXCLUSIVELY
        2 -Deny write access, nobody else can write to the file
        3 -Deny read, nobody else can read from the file
        4 -Allow all, everybody else has full access to the file.
   
    When you use a file, CLIPPER sets the shared mode based upon whether
    you need the file SHARED or EXCLUSIVE.  Clipper expects the operating
    system to take care of communicating file access rules to other
    programs.  If you open the file exclusively, Clipper sets a flag to
    indicate that, so it will know later that it does not need to lock the
    file to update it.
   
   
    Work Areas 
   
    As part of opening a DBF file, Clipper also reserves a section of
    memory for a work area table.  This table is a structured list
    containing various information about the DBF file in use.  The work
    area table includes thing such as the file's open mode, what records
    are locked, relations, etc.
   
    In releases of Clipper prior to 5.2, this work area table only
    contained one numeric element for storing the locked record number.
    This is why work areas were restricted to only one locked record;
    Clipper had no way of keeping track of more than one.  Clipper 5.2 has
    changed this into a list of locked records, allowing multiple locks
    per work area.
   
   
    DBF Locking and Unlocking 
   
    If a DBF file is opened in a shared mode, Clipper also relies on DOS to
    communicate lock information between programs.  It uses the LOCK/UNLOCK
    FILE interrupt to handle locks.  This interrupt expects a byte offset
    and number of bytes to lock when it is called.  When you issue a record
    or a file lock, Clipper will call this DOS interrupt.
   
    Unfortunately, the DOS LOCK/UNLOCK FILE function is a bit aggressive.
    When it locks a portion of the file, it does not allow any other
    program to read or write that portion of the file.  If you were to call
    the DOS function and lock the middle of a DBF file, then some other
    program would not be able to read the middle of the DBF file until you
    release the lock.  However, when Clipper's networking was designed, it
    was decided to allow read access to locked files and records.
   
    In order to allow read access, Clipper does not actually lock the
    physical file.  Instead it locks a location outside of the file.  Since
    it is not possible to read outside of the file, the locked portion will
    never be accessed for read or write purposes.
   
    Clipper uses the following offset and bytes when you issue a record
    lock or a file lock:
   
    Record Lock
    1,000,000,000 + record number    for one byte
   
    File Lock
    1,000,000,000    for the length of the file
   
    When Clipper issues a record lock, it attempts to lock the location at
    one billion bytes for one byte.  If another program has that byte
    locked, Clipper's new record lock will fail.  Since this locking takes
    place past the end of the file (since Clipper DBF files cannot be more
    than one gigabyte in size), the DBF file can be read regardless of any
    file or record locks.
   
    When Clipper unlocks a record, it merely calls the same DOS function
    with the same offset and size.  This time, however, it tells the
    function to release the lock.
   
    Foxpro uses a similar scheme to Clipper, except that the offset is
    different and it does not look a single byte, but rather a number of
    bytes that is equivalent to the record size.  The offset that Foxpro
    uses is computed by

         Record size * (number of records -1) plus 1,073,741,824 bytes

    If a table has 100 records, and the record size is 150 bytes, the
    offset would be

         150 * (100-1) = 14,850 + 1,073,741,824 = 1,073,756,674

    At this offset in the file, 150 bytes would be marked as locked.

    The use of different offsets and lock bytes is why Clipper can update
    a record locked by Foxpro and vice-versa.  Successware's Six driver
    and Loadstone's Comix drivers both offer the option to use the same
    locking scheme as Foxpro if compatibility is a requirement in your
    application.

   
    Index Files 
   
    With index files and locking, there is good news and bad news.  The
    good news is that Clipper only locks the index files at two times.  The
    bad news is that those times are when it is writing and reading the
    file.
   
    When a record is read from the DBF file, it is transferred into a work
    area buffer.  You can make changes to this buffer and they will be
    written back to the DBF file.  That writing process does not occur
    until you either unlock the record or move off the record to another
    one (since there is only room for one buffer per work area).
   
    When the work area buffer is written to the disk, any open index files
    must also be updated.  Fortunately, Clipper does a good job with
    determining which indexes are affected by your buffer changes, so only
    the minimum number of index files will be changed.  However, for each
    index file that has to be changed, Clipper must lock the entire index
    file.  This index lock is a hard lock (i.e. nobody else can read or
    write the index while it is being updated).  This is part of the price
    we pay for the tremendous flexibility Clipper allows us in indexing
    expressions.
   
    Fortunately, many programs spread the timing of the record updating
    around quite a bit, so the performance doesn't bottleneck waiting for
    lock an index file.  It is possible to design a system that will spend
    more time locking the index file then writing the actual data, but for
    database programs, such as Clipper, this design works fairly well.
   
    If Clipper only locked the index file during writing, it wouldn't be so
    bad.  However, Clipper also needs to lock the index file during read
    operations, albeit briefly.  When you request a record movement in a
    work area that is controlled by an index, Clipper does the following:
   
    1)  Read the index header (bytes 3-2 if you are curious) and gets a
        counter.  It stores this counter and reads the appropriate index
        page.  It then uses this page to move to the next record.
   
    2)  The buffer and the counter are saved.
   
    3)  To skip again, Clipper attempts to lock the index file header.
        This lock is retried infinitely, which has caused more than one PC
        to appear hung.  (Fortunately, in Clipper 5.2, this lock attempt
        will visit the error handler if not successful after a few
        attempts.  If you do not change the error handler, the default is
        to retry, which in effect keeps the original behavior of infinite
        retry.  The important thing is that at least your program is
        getting control so you can make the decision to keep waiting or
        not.  This is a subtle improvement that made it quietly into 5.2,
        and will make network programmers a tad bit happy, particularly
        me...)
   
    4)  Once the lock is obtained, the counter from the physical file is
        read and compared with the counter in memory.  If the counters are
        the same, then the buffer page from memory is used and the index is
        traversed.  If the counter is different, the memory buffer page is
        discarded and the page is re-read from the physical index file.
   
    5)  After the record is positioned, the index file is unlocked.
   
   
    While index locking is transparent, it can easily become a bottleneck
    in your system.  Consider the following program.
   
                                                       
     LOCAL nOnHand   := 0                              
     LOCAL nOnOrder  := 0                              
                                                       
     use INVENT shared                                 
     set index to INVENT1,INVENT2                      
     go top                                            
     do while !eof()                                   
        if !deleted()                                  
           nOnHand  += INVENT->quantity                
           nOnOrder += INVENT->backorder               
           nTotCost += INVENT->quantity * INVENT->cost 
        endif                                          
        skip +1                                        
     enddo                                             
                                                       
   
    This simple program merely determines the total number of units of
    stock on hand and on order, as well as the total cost value of the
    inventory.  Let's assume the database has 10,000 parts in inventory.
    We in this little program will have done at least 20,000 calls to the
    DOS LOCK/UNLOCK FILE interrupt.  Since the loop is fairly tight, other
    programs on the network probably will experience a slow down while this
    report is running, since it locks the index file very often and
    frequently.
   
    Yet, this program can be improved very simply.  Since the order in
    which you read the parts is not important, you add the line
   
     SET ORDER TO 0 
   
    just above the GO TOP.  By skipping through the file in natural order,
    you will still get the proper counts, but with two added benefits.
    First, since no index locks are necessary you will get better speed and
    cause less bottlenecks on other workstations.  Second, since most
    networks have their own disk caches, by reading the file in natural
    order, you are greatly increasing your number of caches hits.  These
    two factors can speed up performance dramatically.
   
    Comix and Successware's drivers employ different schemes to reduce the
    index locking during read operations.  Successware has a command called
    DIRTYREAD, which tells the program to assume its index contents are
    current and not to bother locking the index during read operations.
    Although there is a little risk in this approach, you can see significant
    improvements in performance, particularly in reporting programs.

    Comix employs a read lock strategy that allows multiple read locks to
    be place simultaneously.  It does this by not bottlenecking on a single
    byte, but rather multiple bytes scattered throughout the index header.

   
    That's Locking! 
   
    That is what Clipper does when it operates on a network.  DBF record
    locking is simply a matter of locking some offsets for a brief
    duration, while index locking is a bit more complex. Keep in mind how
    many lock requests can be made by some simple commands and see how many
    are really necessary. Review areas where indexed order is not necessary
    and see if you can use SET ORDER TO 0.  If order is stagnant, consider
    sorting the file.  This gives you a way to view the data in order
    without locking any index files, however it cannot be used for
    frequently updated files.
   
   
    About the Author

    I guess I should update this, since it is a tad bit out of date!!!
   
    Joe Booth is an independent computer consultant doing work in Clipper,
    Clip-4-WIN, FiveWin, Delphi, and Prolog.   I've written two books on
    Clipper, one on Foxpro, and one on Visual Objects.  If you are into
    ancient history, these books might be of interest.   More recently,
    I've written books called 'XBASE to Windows' and 'Delphi Client/Server
    Developer's Guide'.   I still play with my kids, play tennis, and get
    beat up on the judo mat, except now I occasionally beat up other people
    too...



--Message-Boundary-22324--

From harbour@lists.harbour-project.org  Thu Feb 15 08:03:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Thu Feb 15 08:03:02 2001
Subject: [Harbour] Re: Changelog 2001-02-15 13:15 GMT+3
In-Reply-To: <3A8B7BD7.449.23764B@localhost>
References: <3A8B7BD7.449.23764B@localhost>
Message-ID: <7211145636.20010215160103@belacy.belgorod.su>

 Sylvain,

SR>   I found that text (old one) on my drive about clipper 5.2 locking, I 
SR> don't know if you have that information.
SR>   Hope it answer some of your question, but I'm really don't sure !

 Great thanks, it really helps !


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Thu Feb 15 11:04:02 2001
From: harbour@lists.harbour-project.org (Chen Kedem)
Date: Thu Feb 15 11:04:02 2001
Subject: [Harbour] https link to sourceforge (Patrick)
Message-ID: <3A8BFD54.71C6@synel.co.il>

Patrick,

on the open page http://www.Harbour-Project.org/
upper left corner there is a link to the Harbour in SourceForge
https://sourceforge.net/project/?group_id=681

I think there is no need to use secure page (https:) since
the normal one (http:) work as well.

the link could be change into:
http://sourceforge.net/projects/harbour-project/

  Chen.

From harbour@lists.harbour-project.org  Thu Feb 15 11:07:02 2001
From: harbour@lists.harbour-project.org (Chen Kedem)
Date: Thu Feb 15 11:07:02 2001
Subject: [Harbour] Re: https link to sourceforge (Patrick)
References: <3A8BFD54.71C6@synel.co.il>
Message-ID: <3A8BFE2A.1F4A@synel.co.il>

> To: Harbourtalk mail-list <harbour@lists.harbour-project.org>

and of course I meant to send it to the Harbourtalk list, Ooops

  Chen.

From harbour@lists.harbour-project.org  Thu Feb 15 12:24:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Thu Feb 15 12:24:02 2001
Subject: [Harbour] https link to sourceforge (Patrick)
In-Reply-To: <3A8BFD54.71C6@synel.co.il>
Message-ID: <NCBBJKNMIDPJNLJCHCHIKEGAFPAA.harbour@winfakt.com>

Chen,

> on the open page http://www.Harbour-Project.org/
> upper left corner there is a link to the Harbour in SourceForge
> https://sourceforge.net/project/?group_id=681
> 
> I think there is no need to use secure page (https:) since
> the normal one (http:) work as well.
> 
> the link could be change into:
> http://sourceforge.net/projects/harbour-project/
Ok, I will fix it.
Thanks!

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Thu Feb 15 13:50:03 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Thu Feb 15 13:50:03 2001
Subject: [Harbour] PreProcessor bug
References: <LOBBKAFMMFGJIKLMEPAKMEJJDJAA.Ron@Profit-Master.com>
Message-ID: <004e01c09780$dafc9bd0$921a5e18@bh>

Ron:
Thanks for the quick fix!!!
Brian

----- Original Message ----- 
From: "Ron Pinkas" <Ron@Profit-Master.com>
To: <harbour@lists.harbour-project.org>
Sent: Wednesday, February 14, 2001 11:15 PM
Subject: RE: [Harbour] PreProcessor bug


> Fixed.
> 
> > This line returning 6 spaces from a function:
> >    RETURN [      ]
> > 
> > becomes a single space when preprocessed:
> > 
> >    RETURN [ ]
> > 
> > Brian Hays
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 


From harbour@lists.harbour-project.org  Thu Feb 15 14:08:02 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Thu Feb 15 14:08:02 2001
Subject: [Harbour] CHANGELOG: 2001-02-15 11:10 UTC-0800
Message-ID: <005a01c09783$5efb4790$921a5e18@bh>

2001-02-15 11:10 UTC-0800 Brian Hays <bhays@abacuslaw.com>
   * contrib/rdd_ads/ads1.c
      * implemented the DESCENDING flag in index creation
      * fixed dbOrderInfo(DBOI_KEYVAL) to return "" instead of garbage at
EOF
            DBOI_NAME and many others to return correct empty values
               instead of garbage if in natural order
      * fixed SEEK on numeric indexes
      + added support for dbOrderInfo(DBOI_FULLPATH) AND
dbInfo(DBI_FULLPATH)

   * contrib/rdd_ads/ads.ch
      * Commented out ADS_TOP and ADS_BOTTOM with a note to use TOPSCOPE
         and BOTTOMSCOPE instead.

   * contrib\rdd_ads\doc\en\readme.txt
      * minor clarifications


Brian Hays
Abacus Data Systems, Inc.



From harbour@lists.harbour-project.org  Fri Feb 16 03:45:04 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Fri Feb 16 03:45:04 2001
Subject: [Harbour] Changelog 2001-02-16 11:20 GMT+3
Message-ID: <1179557077.20010216113734@belacy.belgorod.su>

2001-02-16 11:20 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/source/rdd/dbfntx/dbfntx1.c
     * fixes and improvements
  

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Fri Feb 16 08:08:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Fri Feb 16 08:08:02 2001
Subject: [Harbour] https link to sourceforge (Patrick)
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIKEGAFPAA.harbour@winfakt.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHIIEHAFPAA.harbour@winfakt.com>

Chen,

Fixed.

Regards,

Patrick Mast
www.Patrick.Be.kz 


> > on the open page http://www.Harbour-Project.org/
> > upper left corner there is a link to the Harbour in SourceForge
> > https://sourceforge.net/project/?group_id=681
> > 
> > I think there is no need to use secure page (https:) since
> > the normal one (http:) work as well.
> > 
> > the link could be change into:
> > http://sourceforge.net/projects/harbour-project/
> Ok, I will fix it.
> Thanks!
> 
> Regards,
> 
> Patrick Mast
> www.Patrick.Be.kz 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 

From harbour@lists.harbour-project.org  Fri Feb 16 13:53:01 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Fri Feb 16 13:53:01 2001
Subject: [Harbour] debugger killls Win2000 cursor
Message-ID: <000f01c0984a$691c7b50$921a5e18@bh>

If I run a test that brings up the debugger under Win2000, then quit the
test, the cursor is gone from the command prompt and even CLS won't bring it
back.

Brian Hays
Abacus Data Systems, Inc.



From harbour@lists.harbour-project.org  Fri Feb 16 13:58:02 2001
From: harbour@lists.harbour-project.org (Paul Tucker)
Date: Fri Feb 16 13:58:02 2001
Subject: [Harbour] debugger killls Win2000 cursor
References: <000f01c0984a$691c7b50$921a5e18@bh>
Message-ID: <01bd01c0984a$2f3aabf0$b6122a0a@chasechevy>

Yes, noticed that.  We need to check the startup code probably in the
termiinal driver and make sure it resets the cursor on the way out.

Paul
----- Original Message -----
From: "Brian Hays" <bhays@abacuslaw.com>
To: <harbour@lists.harbour-project.org>
Sent: Friday, February 16, 2001 1:58 PM
Subject: [Harbour] debugger killls Win2000 cursor


> If I run a test that brings up the debugger under Win2000, then quit the
> test, the cursor is gone from the command prompt and even CLS won't bring
it
> back.
>
> Brian Hays
> Abacus Data Systems, Inc.



From harbour@lists.harbour-project.org  Fri Feb 16 14:43:02 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Fri Feb 16 14:43:02 2001
Subject: [Harbour] debugger killls Win2000 cursor
References: <000f01c0984a$691c7b50$921a5e18@bh>
Message-ID: <002101c09851$318b0060$921a5e18@bh>

Update:
Again, only with /b bringing up the debugger, Qout fails to advance lines
and multiple calls overwrite each other.

Brian


From harbour@lists.harbour-project.org  Fri Feb 16 15:37:02 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Fri Feb 16 15:37:02 2001
Subject: [Harbour] Item api bugs?
References: <200102110845_MC2-C520-13B6@compuserve.com> <200102121827.f1CIR0C15382@thor.parrett.net> <004101c09562$549f17e0$921a5e18@bh>
Message-ID: <002701c09858$f4838d60$921a5e18@bh>

Bear with me, friends, there really is a problem floating around here.
This test also has different results with Harbour than with Clipper:

==================================
function main ( )
  local nNum:=25
   cls
   ? valtype(nNum), len(str(nNum)), str(nNum)
   @ 5,5 get nNum
   read
   ? valtype(nNum), len(str(nNum)), str(nNum)
   ?
return nil
==================================

Clipper prints the same for both Qouts:
N         10         25
N         10         25

But Harbour CHANGES the variable after the GET

N         10         25
N          2 25

This may be a bug in the GET system, or it may be that some itemapi
functions are causing an incorrect length to be stored in the item somehow.
This ultimately causes Seeks to fail on numerics that have been Gotten :-)

Brian


From harbour@lists.harbour-project.org  Fri Feb 16 16:44:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Fri Feb 16 16:44:02 2001
Subject: [Harbour] Item api bugs?
In-Reply-To: <002701c09858$f4838d60$921a5e18@bh>
References: <200102110845_MC2-C520-13B6@compuserve.com> <200102121827.f1CIR0C15382@thor.parrett.net>
 <004101c09562$549f17e0$921a5e18@bh>
Message-ID: <200102162143.f1GLhfG21539@thor.parrett.net>

** Reply to message from "Brian Hays" <bhays@abacuslaw.com> on Fri, 16
Feb 2001 12:42:18 -0800

> This may be a bug in the GET system, or it may be that some itemapi
> functions are causing an incorrect length to be stored in the item somehow.

The cause of the problem is the use of the VAL() function in TGET.PRG
to convert the input string back into a number. In both Clipper and
Harbour, the VAL() function sets the display size of the resulting
numeric value to the length of the input string. A temporary workaround
would be to change the following code in TGET.PRG (better ideas are
welcome):

>       xValue  := Val( cBuffer )
>       if ::minus
>          xValue := -xValue
>       endif

to the following:

>       xValue  := Val( cBuffer )
>       if ::minus
>          xValue := -xValue
>       else
>          xValue := 0 + xValue // Undo the wrong length that VAL() set
>       endif

Here's the test program that I wrote to determine whether or not this
workaround would work:

> procedure main
> local c := "123"
> local n := VAL( c )
> local m
>    ? c
>    ? LEN( c )
>    ?
>    ? n
>    ? STR( n )
>    ? LEN( STR( n ) )
>    ?
>    m := n + 0
>    ? m
>    ? STR( m )
>    ? LEN( STR( m ) )
>    ?
>    m := -n
>    ? m
>    ? STR( m )
>    ? LEN( STR( m ) )
> quit
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Fri Feb 16 20:11:01 2001
From: harbour@lists.harbour-project.org (Phil Barnett)
Date: Fri Feb 16 20:11:01 2001
Subject: [Harbour] State of Harbour
Message-ID: <3A8D8953.32054.3607A094@localhost>

I just wanted to take a moment to thank you all for the wonderful 
contributions you continue to make!

Even though this is a monumental project, it continues to progress 
with dignity and skill.

You all deserve Kudo's for the most impressive work you are doing!


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@lists.harbour-project.org  Fri Feb 16 22:12:02 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Fri Feb 16 22:12:02 2001
Subject: [Harbour] Item api bugs?
References: <200102110845_MC2-C520-13B6@compuserve.com> <200102121827.f1CIR0C15382@thor.parrett.net> <004101c09562$549f17e0$921a5e18@bh> <200102162143.f1GLhfG21539@thor.parrett.net>
Message-ID: <003501c09890$3814e560$921a5e18@bh>

David:
Thanks!  Since I had already discussed another fix to TGet with Ignacio,
I'll go ahead and post that with a simplified version of your fix:
>       xValue  := 0 + Val( cBuffer )
>       if ::minus
>          xValue := -xValue
>       endif

It is surprising that the same numeric value has different display lengths
at different times, but if that's good enough for Clipper it's good enough
for me!

Brian

----- Original Message -----
From: "David G. Holm" <dholm@jsd-llc.com>
To: <harbour@lists.harbour-project.org>
Sent: Friday, February 16, 2001 1:43 PM
Subject: Re: [Harbour] Item api bugs?


> ** Reply to message from "Brian Hays" <bhays@abacuslaw.com> on Fri, 16
> Feb 2001 12:42:18 -0800
>
> > This may be a bug in the GET system, or it may be that some itemapi
> > functions are causing an incorrect length to be stored in the item
somehow.
>
> The cause of the problem is the use of the VAL() function in TGET.PRG
> to convert the input string back into a number. In both Clipper and
> Harbour, the VAL() function sets the display size of the resulting
> numeric value to the length of the input string. A temporary workaround
> would be to change the following code in TGET.PRG (better ideas are
> welcome):
>
> >       xValue  := Val( cBuffer )
> >       if ::minus
> >          xValue := -xValue
> >       endif
>
> to the following:
>
> >       xValue  := Val( cBuffer )
> >       if ::minus
> >          xValue := -xValue
> >       else
> >          xValue := 0 + xValue // Undo the wrong length that VAL() set
> >       endif
>
> Here's the test program that I wrote to determine whether or not this
> workaround would work:
>
> > procedure main
> > local c := "123"
> > local n := VAL( c )
> > local m
> >    ? c
> >    ? LEN( c )
> >    ?
> >    ? n
> >    ? STR( n )
> >    ? LEN( STR( n ) )
> >    ?
> >    m := n + 0
> >    ? m
> >    ? STR( m )
> >    ? LEN( STR( m ) )
> >    ?
> >    m := -n
> >    ? m
> >    ? STR( m )
> >    ? LEN( STR( m ) )
> > quit
> --
> David G. Holm, Set Captain and all around
> Harbour Project Clipper Compatibility fanatic.
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@lists.harbour-project.org  Sat Feb 17 02:28:01 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Sat Feb 17 02:28:01 2001
Subject: [Harbour] Changelog: 2001-02-16 23:40 UTC-0800
Message-ID: <004001c098b3$f55aa420$921a5e18@bh>

2001-02-16 23:40 UTC-0800 Brian Hays <bhays@abacuslaw.com>
   * source\rtl\tget.prg
      * added Updating of Buffer to UpdateBuffer
      * added 0+Value to avoid changing the display lengths of numerics
   * contrib/rdd_ads/ads1.c
      * the last final ultimate fix to numeric seeks.  really.


Brian Hays
Abacus Data Systems, Inc.



From harbour@lists.harbour-project.org  Sat Feb 17 02:39:01 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Sat Feb 17 02:39:01 2001
Subject: [Harbour] win2k hell :-|
References: <002401c095a8$993f9820$0f2aa8c0@antonio> <3A892AF5.D096601F@libero.it> <044401c095c6$a6bf6c00$b6122a0a@chaseplane>
Message-ID: <3A8E2A5D.AB70AB87@libero.it>

Paul,

Ok, I can update my cvs tree now, I had to download ssh from sourceforge
site

 http://sfsetup.sourceforge.net/


and now is ok.

regards.




Paul Tucker ha scritto:
> 
> I have been using Win2k for almost the entire life of the Harbour project so
> far.  Mostly with msvc, but also with a couple of other compilers for
> testing purposes.  What problem are you having?  (I have some messages to
> catch up on, so rather than repeat yourself on the list, feel free to email
> me)
> 
> Paul
> ----- Original Message -----
> From: "Maurilio Longo" <maurilio.longo@libero.it>
> To: <harbour@lists.harbour-project.org>
> Sent: Tuesday, February 13, 2001 7:39 AM
> Subject: Re: [Harbour] win2k hell :-|
> 
> > Antonio,
> >
> > OS/2 is my system at home and at work, but now I need to have a win2K pc
> > at work (since my employer is moving to win32)  so I'm trying to setup
> > harbour on it too.
> >
> > :-)
> >
> > regards.
> >
>  > Maurilio,
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Sat Feb 17 02:47:02 2001
From: harbour@lists.harbour-project.org (Paul Tucker)
Date: Sat Feb 17 02:47:02 2001
Subject: [Harbour] win2k hell :-|
References: <002401c095a8$993f9820$0f2aa8c0@antonio> <3A892AF5.D096601F@libero.it> <044401c095c6$a6bf6c00$b6122a0a@chaseplane> <3A8E2A5D.AB70AB87@libero.it>
Message-ID: <001001c098b5$9f974f50$b6122a0a@chasechevy>

Maurilio,

That's good news.

I was going to grab the ssh2 you linked to on Saturday to try it out.

I'm just recovering from a disastorous and expensive ;-( hard drive problem
so am trying to get things put back together.

Paul
----- Original Message -----
From: "Maurilio Longo" <maurilio.longo@libero.it>
To: <harbour@lists.harbour-project.org>
Sent: Saturday, February 17, 2001 2:38 AM
Subject: Re: [Harbour] win2k hell :-|


> Paul,
>
> Ok, I can update my cvs tree now, I had to download ssh from sourceforge
> site
>
>  http://sfsetup.sourceforge.net/
>
> and now is ok.
>
> regards.



From harbour@lists.harbour-project.org  Sat Feb 17 11:58:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Sat Feb 17 11:58:02 2001
Subject: [Harbour] Profiler
Message-ID: <1888975916.20010217195026@belacy.belgorod.su>

 Year ago or more someone had posted here an output, produced by some
 kind of Linux profiler, with function names and time values that
 functions had worked.
 Could anyone give me a hint, how to do it ?


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Sat Feb 17 12:15:03 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Sat Feb 17 12:15:03 2001
Subject: [Harbour] Profiler
In-Reply-To: <1888975916.20010217195026@belacy.belgorod.su>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEKCDJAA.Ron@Profit-Master.com>

Alexander,

Chen used a Borland profiler, but you can use the GNU gprof, after compiling
with gcc -pg switch.

After you run the executable it will create a gmon.out file. You then use
gprof like this:

gprof harbour gmon.out > hbprof.txt

Ron

>  Year ago or more someone had posted here an output, produced by some
>  kind of Linux profiler, with function names and time values that
>  functions had worked.
>  Could anyone give me a hint, how to do it ?
>
>
> Best regards,
>  Alexander
> http://members.xoom.com/alkresin/


From harbour@lists.harbour-project.org  Sat Feb 17 13:21:01 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Sat Feb 17 13:21:01 2001
Subject: [Harbour] Changelog 2001-02-17 16:00 GMT -3
References: <3A8EBFBB.8B848DAF@nh.conex.com.br>
Message-ID: <3A8EC08B.B7F88B1F@nh.conex.com.br>

 *utils/hbmake/hbmake.prg
       *Fixed an small bug regarding the number of select files on
editor
 mode
 
 Regards
 
 Luiz Rafael Culik

From harbour@lists.harbour-project.org  Sat Feb 17 15:28:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Sat Feb 17 15:28:02 2001
Subject: [Harbour] Re: Profiler
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGEKCDJAA.Ron@Profit-Master.com>
References: <LOBBKAFMMFGJIKLMEPAKGEKCDJAA.Ron@Profit-Master.com>
Message-ID: <110129617.20010217231801@belacy.belgorod.su>

 Ron,

RP> Chen used a Borland profiler, but you can use the GNU gprof, after compiling
RP> with gcc -pg switch.

RP> After you run the executable it will create a gmon.out file. You then use
RP> gprof like this:

RP> gprof harbour gmon.out > hbprof.txt

 Thanks, it works really great !

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Sat Feb 17 16:05:04 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Sat Feb 17 16:05:04 2001
Subject: [Harbour] Cannot build Harbour
In-Reply-To: <110129617.20010217231801@belacy.belgorod.su>
Message-ID: <NCBBJKNMIDPJNLJCHCHIGEHNFPAA.harbour@winfakt.com>

This is a multi-part message in MIME format.

------=_NextPart_000_0024_01C0992D.8EFDF540
Content-Type: text/plain;
	charset="us-ascii"
Content-Transfer-Encoding: 7bit

Hi,

I still cannot build Harbour anymore on My Windows 2000 machine.
Can someone help me please.

Atached is my log file.

It stops with:
,------------------
|Borland C++ 5.5 for Win32 Copyright (c) 1993, 2000 Borland
|source\compiler\hbfunchk.c:
|	echo. -Iinclude;source\compiler;source\macro -d  -O2  > make.tmp
|Fatal: Unable to execute command: echo.
`---------------------------

Tried this without luck:
- Replaced all "echo." with "echo"
- Replaced all "echo." with "CMD/C echo"
- make -fmake_b32.bc
- Replaced all make.tmp with mmm.tmp

If I execute this line in a command schell box:
,-----
|echo. -Iinclude;source\compiler;source\macro -d  -O2  > make.tmp
`-------------
I don't get a error, the make.tmp is created!

Any Ideas?

Regards,

Patrick Mast
www.Patrick.Be.kz 
------=_NextPart_000_0024_01C0992D.8EFDF540
Content-Type: application/octet-stream;
	name="make_b32.zip"
Content-Transfer-Encoding: base64
Content-Disposition: attachment;
	filename="make_b32.zip"

UEsDBBQAAgAIAE+vUSrE+muk2wMAAKwgAAAMAAAAbWFrZV9iMzIubG9nzZjdbuM2EIWva8DvMHdu
kdi15Tg/XqBAN00Bowk26LZNLwIYFM1Y3EgiQVJp9PY7lBQ5tqU03iUBXQSIOcKZOd9QGko3v/5x
Bf8wpblIYTYKAC6FzBVfRwZ+pD/B5OL87BiC8XgMH4WKSbrq934IKZ0GMKQwXPCUxtmKfdAiU5Td
U5FIHjP18jshVAkYrgCGn1Abhr99XtzcXl/9C0Mhwi/34TS4j8IHTSQf4W+AjU4i0jpEAfq9Kj9c
Hh1hpTN4EArueIqV7JZ8Md0tuUV2jmZMzEPAv6KW8oKRXfr51no8aqjy+Ljf++t68RFOsIomXFjB
BSxSqbhmeIGSQhGDgPs9D/C0Uc3obMA5uEL0IGxVfd2CZhShrBlbGXIOrpI9CF1dZbfgPbGWHWcD
zsEVogdhq+rrFDSio0Zmdt01skLzEGJVcV0Cxp6lEtJMmqDVMcfgNroHwHtdaAcBBm8ADDwBDL4F
YNA1gIpppp7YqglgHXMMcKN7AMDXhXYJoJRUqO0hK+XLqitwrxQR2R1RKU/XcHc+Hp80JZ1OZydz
GNBros1lRNQAuAaiNV+nbAUEnkicMTARMTaQMhwlkGkM8RQespRaVIAnGmEUT3ZbJGVTezYYutac
RDY1B1cdN8cqzt8PqyyrW7Cw1H1WdtEpqkLw3aSqmroFypAwbrjny2WnsCrJd+OqK+sUMEXWCdnj
Va66xFUpvpdWXVa3DtEqxKt3B3KhUwcdTuQd4bkvQ3npaG/1u63sK27PyNMZhFzjqULzRMYMpgEO
x0sSx2DEZtwNlss8XyYsoTIfwH/cRJAKwEObESaXbGs05rkkSrP/yXLqIQvO+60swWSGgz7PKZqf
fNOYr7O46fqi6sb2x5uYPbfs5zLmfjtXuu53M01WNGL0sdlPHXXuaKPs4Q4NM03WrK1FZdBDjyph
H4b4iqWmzVAZ9GCoEvZhaM1SptqmwkvUg6UXZR+e8Bi8at11ZdCDo0rYh6EH3vqcsyEPZgpZ91aw
67TZSRFxbqRU3Znb47bkk9PJeA63AkddGOc4zvDdUzFqquGX4E24NeOicCmX2uCJjWofqPDfadCK
q4z6QFYpe2n/F/JEWi0VQR+OSmEvhiIVtvqxMR92Ct25r6+eLf2po84dbZS9eQrf9BR68+SzT/RN
T9Sbp70n6uwMKlc4OexFNvfJ+Rk+S4kiCTP4gjCQN9bZ4I1XBnyc2lRXKPAnW2WU3caZ/mwUZtE+
hirmjR5b52oZ9TFaK2W7LxiNxOhgQ79AQh7ZyCSy3/udGBLP4e/UfqCx74TsmdHMMLCfvLGCORQ5
+r2vUEsBAhQAFAACAAgAT69RKsT6a6TbAwAArCAAAAwAAAAAAAAAAAAgAAAAAAAAAG1ha2VfYjMy
LmxvZ1BLBQYAAAAAAQABADoAAAAFBAAAAAA=

------=_NextPart_000_0024_01C0992D.8EFDF540--


From harbour@lists.harbour-project.org  Sat Feb 17 22:46:01 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Sat Feb 17 22:46:01 2001
Subject: [Harbour] Profiler
Message-ID: <001b01c0995e$05424aa0$921a5e18@bh>

Is it possible to use Borland's TProfW.exe under windows/Fivewin???  

Brian Hays



From harbour@lists.harbour-project.org  Sat Feb 17 22:59:02 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Sat Feb 17 22:59:02 2001
Subject: [Harbour] Cannot build Harbour
Message-ID: <002a01c0995f$f121f050$921a5e18@bh>

Patrick:
FWIW, I'm using Win2K and bcc 5.5 without problems.
What version of MAKE.EXE are you using? Since echo. works from a standard
BAT file, MAKE seems to be the culprit.
There are many switches, plus BUILTINS.MAK that affect its behavior.
I have Borlands Make v. 5.2
For my projects I use a switch to ignore BUILTINS.MAK, but for Harbour
itself it's all straight out of the CVS.

Are you running it from a standard CMD window?

Brian Hays



From harbour@lists.harbour-project.org  Sun Feb 18 02:11:04 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sun Feb 18 02:11:04 2001
Subject: [Harbour] Profiler
In-Reply-To: <001b01c0995e$05424aa0$921a5e18@bh>
Message-ID: <000301c09979$7008eea0$0f2aa8c0@antonio>

Brian,

No, because it seems that Borland 5 TProfW.exe is not compatible
with Borland 5.5 C.

Antonio

> Is it possible to use Borland's TProfW.exe under windows/Fivewin???  



From harbour@lists.harbour-project.org  Sun Feb 18 04:22:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Sun Feb 18 04:22:02 2001
Subject: [Harbour] Cannot build Harbour
In-Reply-To: <002a01c0995f$f121f050$921a5e18@bh>
Message-ID: <NCBBJKNMIDPJNLJCHCHIKEIFFPAA.harbour@winfakt.com>

Brian,

> FWIW, I'm using Win2K and bcc 5.5 without problems.
> What version of MAKE.EXE are you using? Since echo. works from a standard
> BAT file, MAKE seems to be the culprit.
> There are many switches, plus BUILTINS.MAK that affect its behavior.
> I have Borlands Make v. 5.2
I also use make 5.2. The one that is supplied with the BCC5.5 package.
I did a clean install of BCC55 with all service packs.
I also tried the make from Borland 5.2 (Make 5.0)

> For my projects I use a switch to ignore BUILTINS.MAK, but for Harbour
> itself it's all straight out of the CVS.
 
> Are you running it from a standard CMD window?
Yes. I also tried to run in from a COMMAND.COM prompt. But no luck...

Any Ideas?

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Sun Feb 18 04:48:02 2001
From: harbour@lists.harbour-project.org (Andi Jahja)
Date: Sun Feb 18 04:48:02 2001
Subject: [Harbour] _GetGrip()/_DropGrip()
Message-ID: <3A8F9A472EE.76B0HARBOUR@smtp.link.net.id>

Hello,

What are the equivalent function of __DropGrip()/__GetGrip() in Harbour ?
I need the equivalents for converting an existing 16-bit code to
Harbour.

Description ( Tom Groeger ):

_GetGrip  PROTO FAR C, _itemPtr:NEAR PTR  -> nearPtr Item

  Copies a ClipValue to a save place and locks it, so that the garbage
  Collector wan't destroy it. The ItemApi makes extensive use of 
  __getGrip/__dropGrip. 
  ItemNew for instance creates a new Item on __tos and calles __getgrip, 
  which stores the Item away and returnes a (near) pointer to it.

  You must use __dropgrip afterwards to release the Item again !


_DropGrip()
  Unlocks a ClipValue, so that it can be killed by scavenge


Andi Jahja

From harbour@lists.harbour-project.org  Sun Feb 18 11:00:04 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Sun Feb 18 11:00:04 2001
Subject: [Harbour] Cannot build Harbour
Message-ID: <000901c099c4$9bea7ed0$921a5e18@bh>

Patrick:
Are you using the same version of Borland's MAKE.EXE , 5.2?

Brian Hays
Abacus Data Systems, Inc.



From harbour@lists.harbour-project.org  Sun Feb 18 11:03:01 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Sun Feb 18 11:03:01 2001
Subject: [Harbour] Profiler
Message-ID: <001101c099c5$1875e340$921a5e18@bh>

Antonio:
>> Is it possible to use Borland's TProfW.exe under windows/Fivewin???
>No, because it seems that Borland 5 TProfW.exe is not compatible with
Borland 5.5 C.

Then is there an exe available from the gcc tools (I've never used any) --
or other toolset -- that will work under Windows with a borland-compiled
app?


Brian Hays



From harbour@lists.harbour-project.org  Sun Feb 18 11:11:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Sun Feb 18 11:11:02 2001
Subject: [Harbour] Cannot build Harbour
In-Reply-To: <000901c099c4$9bea7ed0$921a5e18@bh>
Message-ID: <NCBBJKNMIDPJNLJCHCHIIEIHFPAA.harbour@winfakt.com>

Brian,

> Are you using the same version of Borland's MAKE.EXE , 5.2?
Yes, I tried both versions, Make version 5.0 and Make version 5.2
Non of them works...

We must be missing somthing simple, I know, but what... ;-))

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Sun Feb 18 17:12:02 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Sun Feb 18 17:12:02 2001
Subject: [Harbour] _GetGrip()/_DropGrip()
References: <3A8F9A472EE.76B0HARBOUR@smtp.link.net.id>
Message-ID: <3A904396.936A4B4E@nh.conex.com.br>

Andi


> 
> Hello,
> 
> What are the equivalent function of __DropGrip()/__GetGrip() in Harbour 
The Harbour equivalent for this functions is
hb_gcUnlockItem()/hb_gcLockItem()

Regaeds

Luiz Rafael Culik


From harbour@lists.harbour-project.org  Sun Feb 18 21:17:02 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Sun Feb 18 21:17:02 2001
Subject: [Harbour] _GetGrip()/_DropGrip()
References: <3A8F9A472EE.76B0HARBOUR@smtp.link.net.id> <3A904396.936A4B4E@nh.conex.com.br>
Message-ID: <002b01c09a1a$d9e821f0$921a5e18@bh>

(((( Ryszard please see question below ))))

Andi and Luiz:
IIUC, I don't think that's quite accurate.  The docs for __GetGrip say it
copies the item, then locks the copy, whereas hb_gcLockItem() locks an
existing one.  The programmer will need to decide if the existing item can
just be locked (more efficient) or if it needs to be copied first (for
instance if it's on the stack).

In the case of receiving parameters, use
    hb_itemParam( USHORT uiParam ) --> ( PHB_ITEM )pResult
This is even documented  in HB_APIIT.TXT.
 *      Compare to hb_param(), which simply gets a direct pointer to the
 *      item on the stack.
... and then lock it.

REMEMBER: arrays, objects  and codeblocks are locked only. Other datatypes
don't require
 *      locking so they are simply ignored by hb_gcLockItem().

So __DropGrip can become
    #define __DropGripP( pItem )  hb_gcUnlockItem( pItem )

Ryszard:
Is there any reason we cannot just create the __GetGrip function for
compatibility? Was the difficulty in doing this before a question of
optimizing?  Do these look OK? ....

Perhaps an optimized similar function name for if it's a param (I have not
compiled this):

PHB_ITEM GetGripP( USHORT uiParam )
{
   HB_TRACE(HB_TR_DEBUG, ("DropGripP(%hu)", uiParam));

   PHB_ITEM pNew;
   pNew = hb_itemParam( uiParam );
   if( pNew )
      hb_gcLockItem( pNew );
   return pNew;
}

........ and the literal equivalent that may make more copies than necessary
but require no code changes for people:

PHB_ITEM __GetGrip ( PHB_ITEM pItem)
{
   PHB_ITEM pNew;

   HB_TRACE(HB_TR_DEBUG, ("__GetGrip (%p)", pItem));

   if( pItem )
   {
       pNew = hb_itemNew( NULL );
       hb_itemCopy( pNew, pItem );
       hb_gcLockItem( pNew );
   }
   return pNew;
}





> >
> > What are the equivalent function of __DropGrip()/__GetGrip() in Harbour
> The Harbour equivalent for this functions is
> hb_gcUnlockItem()/hb_gcLockItem()
>
> Regaeds
>
> Luiz Rafael Culik



From harbour@lists.harbour-project.org  Mon Feb 19 03:17:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Mon Feb 19 03:17:02 2001
Subject: [Harbour] Changelog 2001-02-19 10:15 GMT+3
Message-ID: <1485718841.20010219102051@belacy.belgorod.su>

2001-02-19 10:15 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/source/rdd/dbfntx/dbfntx1.c
     * fixes and improvements
  

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Mon Feb 19 07:32:01 2001
From: harbour@lists.harbour-project.org (Phil Barnett)
Date: Mon Feb 19 07:32:01 2001
Subject: [Harbour] Changelog 2001-02-19 10:15 GMT+3
In-Reply-To: <1485718841.20010219102051@belacy.belgorod.su>
Message-ID: <3A90CBE5.28837.42C3BD0D@localhost>

On 19 Feb 2001, at 10:20, Alexander S.Kresin wrote:

> 2001-02-19 10:15 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
>    * harbour/source/rdd/dbfntx/dbfntx1.c
>      * fixes and improvements

Alexander.

In your opinion, how close are we to having a new release pending 
index stability?


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@lists.harbour-project.org  Mon Feb 19 09:02:01 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Mon Feb 19 09:02:01 2001
Subject: [Harbour] Re: Changelog 2001-02-19 10:15 GMT+3
In-Reply-To: <3A90CBE5.28837.42C3BD0D@localhost>
References: <3A90CBE5.28837.42C3BD0D@localhost>
Message-ID: <1329701363.20010219170030@belacy.belgorod.su>

 Phil,

PB> Alexander.

PB> In your opinion, how close are we to having a new release pending 
PB> index stability?

 I think, that we can have new release already.
 
 There is a big progress in DBFNTX since last release.
 Indexing, seeking, skipping, updating of opened indexes while
 append/replace of a record - all these works and may be ( and should
 be ) properly tested.
 Surely, there still remains some bugs - we will know about them after
 people will test it.
 Relations and memos aren't written yet.
 The main 'what to do' now is optimization, because current code is
 quite slow and index files aren't good balanced.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Mon Feb 19 12:27:02 2001
From: harbour@lists.harbour-project.org (Janio Moreira Barros)
Date: Mon Feb 19 12:27:02 2001
Subject: [Harbour] As to use indexes in the harbour
Message-ID: <007401c09aa1$2c263ed0$0101a8c0@softtech>

Hello,
As I do to use indexes and " set order " in the harbour, I am trying more he
gives a mistake of "Core Dumped ", I use: Harbour #35, Linux 2.2.17, already
tried in DBFCDX and in DBFNTX.

Regards,

Janio
jjanio@escelsa.com.br



From harbour@lists.harbour-project.org  Mon Feb 19 12:56:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 19 12:56:02 2001
Subject: [Harbour] Cannot build Harbour
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIGEHNFPAA.harbour@winfakt.com>
References: <110129617.20010217231801@belacy.belgorod.su>
Message-ID: <200102191755.f1JHtUG27950@thor.parrett.net>

** Reply to message from "Patrick Mast" <harbour@winfakt.com> on Sat,
17 Feb 2001 22:04:11 +0100

> I still cannot build Harbour anymore on My Windows 2000 machine.
> Can someone help me please.

What upgrades, updates, or enhancements have you added to your W2K
machine since you were last able to build Harbour? Any service packs or
hot patches? Any software from Microsoft or Symantec? Etc...

> - Replaced all "echo." with "CMD/C echo"

Without a space between "CMD" and "/C", is it possible that Make is
trying to run a non-existent program "C" in a non-existent directory
"CMD"? You might want to try the following, in the given order:

1) "CMD /C echo."
2) "CMD.EXE /C echo."
3) "$(COMSPEC) /C echo."
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 19 13:57:02 2001
From: harbour@lists.harbour-project.org (Marek Paliwoda)
Date: Mon Feb 19 13:57:02 2001
Subject: [Harbour] Preprocessor error
Message-ID: <000201c098c3$aa6d2c20$1bb572c3@map>

    Hi,

    The code below compiles well with Clipper but fails
with Harbour.

//-------------------------------

#xtranslate ArrBEG <mMnu>               => <mMnu> := {
#xtranslate SubArrBEG                   => {
#xtranslate SubArrEND                   => {} },
#xtranslate ArrEND                      => {} }
#xtranslate ArrITEM <(cItm)>            => { <(cItm)> , 0 },

PROCEDURE Main()
    LOCAL LocArr

    ArrBEG LocArr;
        ArrITEM Foo;
        ArrITEM Bar;
        SubArrBEG;
            ArrITEM Foo;
            ArrITEM Bar;
        SubArrEND;
        ArrITEM Foo;
    ArrEND

RETURN

//-------------------------------

This is a ppo output from both Clipper and Harbour

/*
ppo output - CLIPPER
PROCEDURE Main()
    LOCAL LocArr
    LocArr := { { "Foo" , 0 }, { "Bar" , 0 }, { { "Foo" , 0 }, { "Bar"
, 1 }, {} }, { "Foo" , 1 }, {} }
RETURN
*/

/*
ppo output - HARBOUR
PROCEDURE Main()
    LOCAL LocArr
    LocArr { "Foo",0 } := {,{ "Bar",0 },{ { 'Foo { "Bar"
,1 }',0 },,{} },{ "Foo",1 },{} }
RETURN
*/

Look at the assignment error and at the stringify error.

I also have a question about the code above.

Is there any way to define such a recursive translation
with a #xcommand ?
#xtranslate is not good here because it matches partially.


Marek Paliwoda
paliwoda@inetia.pl



From harbour@lists.harbour-project.org  Mon Feb 19 14:19:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Mon Feb 19 14:19:02 2001
Subject: [Harbour] Re:  As to use indexes in the harbour
In-Reply-To: <007401c09aa1$2c263ed0$0101a8c0@softtech>
References: <007401c09aa1$2c263ed0$0101a8c0@softtech>
Message-ID: <2012183221.20010219220145@belacy.belgorod.su>

On  Monday, February 19, 2001, 21:22 Janio Moreira Barros <jjanio@escelsa.com.br> wrote:

JMB> Hello,
JMB> As I do to use indexes and " set order " in the harbour, I am trying more he
JMB> gives a mistake of "Core Dumped ", I use: Harbour #35, Linux 2.2.17, already
JMB> tried in DBFCDX and in DBFNTX.

 Harbour #35 doesn't support DBFNTX and has a very limited DBFCDX (
 don't working under Linux ).
 You can try latest code from CVS - support of DBFNTX is significantly
 enhanced and it works under Linux too.

 BTW, guys, what about release 36 ? I'm sure, it's time for it.

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Mon Feb 19 19:45:04 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Mon Feb 19 19:45:04 2001
Subject: [Harbour] Preprocessor error
In-Reply-To: <000201c098c3$aa6d2c20$1bb572c3@map>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGEKKDJAA.Ron@Profit-Master.com>

Marek,

> Is there any way to define such a recursive translation
> with a #xcommand ?
> #xtranslate is not good here because it matches partially.

#XCOMMAND ArrBEG <a> [ ArrayItem(<i>) ] ArrEND => <a> := { [<i>,] {} }
#XTRANSLATE ArrITEM <i> => ArrayItem( { <(i)> , 0 } )
#XTRANSLATE SubArrBEG [ArrayItem(<i>)] SubArrEND => ArrayItem( { [ <i>, ]
{} } )

This does work in both Clipper and Harbour.

Maybe Alexander can review the bug you reported, I'll be too busy the next
few weeks.

Ron


From harbour@lists.harbour-project.org  Mon Feb 19 23:03:25 2001
From: harbour@lists.harbour-project.org (Phil Barnett)
Date: Mon Feb 19 23:03:25 2001
Subject: [Harbour] Re:  As to use indexes in the harbour
In-Reply-To: <2012183221.20010219220145@belacy.belgorod.su>
References: <007401c09aa1$2c263ed0$0101a8c0@softtech>
Message-ID: <3A91A5F4.32151.4617928E@localhost>

On 19 Feb 2001, at 22:01, Alexander S.Kresin wrote:

> On  Monday, February 19, 2001, 21:22 Janio Moreira Barros <jjanio@escelsa.com.br> wrote:
> 
> JMB> Hello,
> JMB> As I do to use indexes and " set order " in the harbour, I am trying more he
> JMB> gives a mistake of "Core Dumped ", I use: Harbour #35, Linux 2.2.17, already
> JMB> tried in DBFCDX and in DBFNTX.
> 
>  Harbour #35 doesn't support DBFNTX and has a very limited DBFCDX (
>  don't working under Linux ).
>  You can try latest code from CVS - support of DBFNTX is significantly
>  enhanced and it works under Linux too.
> 
>  BTW, guys, what about release 36 ? I'm sure, it's time for it.

I think it's well past time, but I understand the wait.

Let's do it!


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@lists.harbour-project.org  Tue Feb 20 00:04:01 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Horacio_Rold=E1n?=)
Date: Tue Feb 20 00:04:01 2001
Subject: [Harbour] Changelog 2001-02-20 01:50 GMT-3
Message-ID: <032001c09afa$7d7931d0$f003a8c0@ksoft20000507>

2001-02-20 01:50 GMT-3 Horacio Roldan <horacioroldan@usa.net>
   * harbour/source/vm/asort.c
     * Fixed bug in optimization test that prevented sorting some arrays.

I found a bug in the optimization test that prevented the sorting of e.g.:
asort({2,1}).

function test
  local ar, i
  ar := {2,1,4,3}
  for i := 1 to len(ar)
    ? i, ar[i]
  next
  ar := asort(ar,1,2)
  ? "After the sort"
  for i := 1 to len(ar)
    ? i, ar[i]
  next

The ulCount variable was reused as the ending marker but still tested as the
count in the IF. I added another variable for the ending marking

Victor, Jose, check if I'm misunderstanding your ideas.

best regards,
Horacio


From harbour@lists.harbour-project.org  Tue Feb 20 02:17:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Tue Feb 20 02:17:02 2001
Subject: [Harbour] What's New in 0.36?
In-Reply-To: <032001c09afa$7d7931d0$f003a8c0@ksoft20000507>
Message-ID: <NCBBJKNMIDPJNLJCHCHIEEJIFPAA.harbour@winfakt.com>

Hi,

This is what I have so far that's new for 0.36:

- Inline C code
- Dot prompt
- More support for ADS databases
- Improved (fixed) stack handling
- Improved OOP
- Better Classy and topClass compatibility
- MemoEdit() - 95% complete :-)
- TBrowse class
- NTX read and write support

Please complete the list.

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Tue Feb 20 02:34:01 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Tue Feb 20 02:34:01 2001
Subject: [Harbour] What's New in 0.36?
References: <NCBBJKNMIDPJNLJCHCHIEEJIFPAA.harbour@winfakt.com>
Message-ID: <3A921D8B.FA2F6245@libero.it>

Debugger: lots of improvements.

regards.

Patrick Mast ha scritto:

> Hi,
>
> This is what I have so far that's new for 0.36:
>
> - Inline C code
> - Dot prompt
> - More support for ADS databases
> - Improved (fixed) stack handling
> - Improved OOP
> - Better Classy and topClass compatibility
> - MemoEdit() - 95% complete :-)
> - TBrowse class
> - NTX read and write support
>
> Please complete the list.
>
> Regards,
>
> Patrick Mast
> www.Patrick.Be.kz
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@lists.harbour-project.org  Tue Feb 20 03:07:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Tue Feb 20 03:07:02 2001
Subject: [Harbour] Re: What's New in 0.36?
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIEEJIFPAA.harbour@winfakt.com>
References: <NCBBJKNMIDPJNLJCHCHIEEJIFPAA.harbour@winfakt.com>
Message-ID: <748157596.20010220110531@belacy.belgorod.su>

On 20.02.2001 10:16, Patrick Mast <harbour@winfakt.com> wrote:

PM> This is what I have so far that's new for 0.36:

PM> - Inline C code
PM> - Dot prompt
PM> - More support for ADS databases
PM> - Improved (fixed) stack handling
PM> - Improved OOP
PM> - Better Classy and topClass compatibility
PM> - MemoEdit() - 95% complete :-)
PM> - TBrowse class
PM> - NTX read and write support

PM> Please complete the list.

 Debugger enhancement.

 BTW, shouldn't we make DBFNTX as default RDD again ( it was disabled
 in 0.35 because wasn't working at all ) ?



Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Tue Feb 20 03:25:03 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Tue Feb 20 03:25:03 2001
Subject: [Harbour] DBFCDX rdd driver
Message-ID: <3A922A0D.6199BB2B@nh.conex.com.br>

Ryszard.

Late on January yousaid that you would post the new dbfcdx rdd driver in
februery.

Is the Driver Ready

Regards

Luiz Rafael Culik

From harbour@lists.harbour-project.org  Tue Feb 20 04:27:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Tue Feb 20 04:27:02 2001
Subject: [Harbour] Re: What's New in 0.36?
In-Reply-To: <748157596.20010220110531@belacy.belgorod.su>
Message-ID: <000d01c09b1e$de027100$0f2aa8c0@antonio>

Alexander,

>  BTW, shouldn't we make DBFNTX as default RDD again ( it was disabled
>  in 0.35 because wasn't working at all ) ?

I vote yes,

Antonio


From harbour@lists.harbour-project.org  Tue Feb 20 04:48:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Tue Feb 20 04:48:02 2001
Subject: [Harbour] What's New in 0.36?
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIEEJIFPAA.harbour@winfakt.com>; from harbour@winfakt.com on Tue, Feb 20, 2001 at 08:16:25AM +0100
References: <032001c09afa$7d7931d0$f003a8c0@ksoft20000507> <NCBBJKNMIDPJNLJCHCHIEEJIFPAA.harbour@winfakt.com>
Message-ID: <20010220093613.Y26682@hagbard.davep.org>

On Tue, Feb 20, 2001 at 08:16:25AM +0100, Patrick Mast wrote:
> Hi,
> 
> This is what I have so far that's new for 0.36:
> 
> - Inline C code

I thought we were going to hold back on mentioning that until a consensus
had been reached about it's inclusion and the form that it would take?

> - Improved OOP
> - Better Classy and topClass compatibility

Does anyone have a breakdown about these two? How has OOP improved and how
has the Class(y) compatibility improved?

> - TBrowse class

We've had TBrowse for a while. 

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Tue Feb 20 05:06:01 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Tue Feb 20 05:06:01 2001
Subject: [Harbour] What's New in 0.36?
In-Reply-To: <20010220093613.Y26682@hagbard.davep.org>
Message-ID: <NCBBJKNMIDPJNLJCHCHIMEJNFPAA.harbour@winfakt.com>

Dave

> > This is what I have so far that's new for 0.36:
> > - Inline C code
> I thought we were going to hold back on mentioning that until a consensus
> had been reached about it's inclusion and the form that it would take?
I did not see a message where we said we would NOT include it?
 
Any other ideas for the What's New Dave? ;-))

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Tue Feb 20 05:24:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Tue Feb 20 05:24:02 2001
Subject: [Harbour] What's New in 0.36?
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIMEJNFPAA.harbour@winfakt.com>; from harbour@winfakt.com on Tue, Feb 20, 2001 at 11:05:47AM +0100
References: <20010220093613.Y26682@hagbard.davep.org> <NCBBJKNMIDPJNLJCHCHIMEJNFPAA.harbour@winfakt.com>
Message-ID: <20010220102352.B26682@hagbard.davep.org>

On Tue, Feb 20, 2001 at 11:05:47AM +0100, Patrick Mast wrote:
> Dave
> 
> > > This is what I have so far that's new for 0.36: - Inline C code
> >
> > I thought we were going to hold back on mentioning that until a
> > consensus had been reached about it's inclusion and the form that it
> > would take?
>
> I did not see a message where we said we would NOT include it?

There was a conversation about the advisability of promoting it until we
know what was happening with it. See the archives.

> Any other ideas for the What's New Dave? ;-))

Dave isn't new.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Tue Feb 20 05:25:03 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Tue Feb 20 05:25:03 2001
Subject: [Harbour] Changelog 2001-02-20 13:10 GMT+3
Message-ID: <5916430954.20010220132323@belacy.belgorod.su>

2001-02-20 13:10 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/include/hbver.h
     * Changed release info to 0.36, etc.
   * harbour/source/rdd/rddsys.prg
     * Default RDD changed to DBFNTX

   Now we can begin uploading new release.
   Patrick,
   url is the same ( ftp://ftp.harbour-project.org/upload ) ?
  

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Tue Feb 20 05:29:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Tue Feb 20 05:29:02 2001
Subject: [Harbour] Changelog 2001-02-20 13:10 GMT+3
In-Reply-To: <5916430954.20010220132323@belacy.belgorod.su>
Message-ID: <001a01c09b27$979184a0$0f2aa8c0@antonio>

Alexander,

>    Now we can begin uploading new release.

Great! :-)

Antonio



From harbour@lists.harbour-project.org  Tue Feb 20 05:43:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Tue Feb 20 05:43:02 2001
Subject: [Harbour] Changelog 2001-02-20 13:10 GMT+3
In-Reply-To: <5916430954.20010220132323@belacy.belgorod.su>
Message-ID: <NCBBJKNMIDPJNLJCHCHIKEJOFPAA.harbour@winfakt.com>

Alexander,

>    Now we can begin uploading new release.
>    Patrick,
>    url is the same ( ftp://ftp.harbour-project.org/upload ) ?

Yes, it is this address.

Regards,

Patrick Mast
www.Patrick.Be.kz 

PS. I'm very bussy now... I will do all I can to help ok? ;-))

From harbour@lists.harbour-project.org  Tue Feb 20 06:41:02 2001
From: harbour@lists.harbour-project.org (Juan Agustin Barriga)
Date: Tue Feb 20 06:41:02 2001
Subject: [Harbour] What's New in 0.36?
References: <NCBBJKNMIDPJNLJCHCHIEEJIFPAA.harbour@winfakt.com>
Message-ID: <003301c09b39$bd702b60$366410ac@jharrier>

What about APPEND FROM & COPY TO?

Harrier

----- Original Message ----- 
From: "Patrick Mast" <harbour@winfakt.com>
To: <harbour@lists.harbour-project.org>
Sent: Tuesday, February 20, 2001 3:16 AM
Subject: [Harbour] What's New in 0.36?


> Hi,
> 
> This is what I have so far that's new for 0.36:
> 
> - Inline C code
> - Dot prompt
> - More support for ADS databases
> - Improved (fixed) stack handling
> - Improved OOP
> - Better Classy and topClass compatibility
> - MemoEdit() - 95% complete :-)
> - TBrowse class
> - NTX read and write support
> 
> Please complete the list.
> 
> Regards,
> 
> Patrick Mast
> www.Patrick.Be.kz 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 


From harbour@lists.harbour-project.org  Tue Feb 20 07:20:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Tue Feb 20 07:20:02 2001
Subject: [Harbour] Release 0.36
Message-ID: <7623331795.20010220151823@belacy.belgorod.su>

harbour-0.36.src.zip
hbcontrib-0.36.src.zip

 are uploaded to the ftp://ftp.harbour-project.org/upload .
 
 I can also upload
     harbour-0.36.src.tar.gz ( Linux sources ) and
     harbour-0.36.bin.w32.bcc32-55.zip ( BC5.5 binaries ).
  

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Tue Feb 20 08:24:01 2001
From: harbour@lists.harbour-project.org (J. Lalin)
Date: Tue Feb 20 08:24:01 2001
Subject: [Harbour] Changelog 2001-02-20 01:50 GMT-3
References: <032001c09afa$7d7931d0$f003a8c0@ksoft20000507>
Message-ID: <3A926FF4.D5E0C70A@corevia.com>

Horacio,
> 2001-02-20 01:50 GMT-3 Horacio Roldan <horacioroldan@usa.net>
>    * harbour/source/vm/asort.c
>      * Fixed bug in optimization test that prevented sorting some arrays.
I tested it a bit and didn't find any problem with the change.

Thanks for the fix.

WM_Regards,
José Lalín

From harbour@lists.harbour-project.org  Tue Feb 20 08:24:16 2001
From: harbour@lists.harbour-project.org (J. Lalin)
Date: Tue Feb 20 08:24:16 2001
Subject: [Harbour] Unlimited filehandles for Harbour !
Message-ID: <3A927019.6C384103@corevia.com>

Este es un mensaje de varias partes en formato MIME.
--------------9588FFF47260F8A982110DBE
Content-Type: text/plain; charset=iso-8859-1
Content-Transfer-Encoding: 8bit


Hi,
I have good news for Harbour.

José Giménez did a great job and fixed Harbour to open a very big number
of files on Win32 platforms. I tested it with BC55 (it should work with
any Win32 C compiler) and Harbour has been able to open up to 20.000
files.

Find attached a ZIP with:
* source/rtl/filesys.c
* tests/files.prg
* changes.txt (ChangeLog)

WM_Regards,
José Lalín
--------------9588FFF47260F8A982110DBE
Content-Type: application/x-zip-compressed;
 name="Files.zip"
Content-Transfer-Encoding: base64
Content-Disposition: inline;
 filename="Files.zip"

UEsDBBQAAAAIAGmLTSpVn5RerwIAAPMFAAAJAAAARklMRVMuUFJHnVPbTttAEH2PlH8YGR5y
kxN6e4igwtibEJra1HYKPFUbe5MsdXYj77qIIv694ytRhYB2o0TjMzNn5hxvhr12C3pwOIvH
cJiHw3ar3RoOIdxwBZopDXdUwV3KtWYClvdwIRWDKd8ywX5D52Iy7cLx7WpdAqd3VNBYSpOp
zwXNv5xjzSLBI2kqnjIuFD2N9K+GiYoYcKVdQiOGkdAS9IbBLlsmPIJYbikXZrW8m22XLAW5
ghVPGOqQsMx4Eg/ljol26yBmKy4YuJPZnAQ4+Wg0GlWtGaqTIrmHnhSsB1QDBY3iimTMbmkK
SiYSMkHxERI0J5YKEuTDUPF1xplA38ZPY2zP/eGcTWznOifZRy0nyMce8BWCT8gBF1GSIbtB
Y2VGG6Pd8sm3BQlCqAqYiPkqbw1CK5zZQG263eEa4xN4gAfDljFfS2MAho0/nwYwehwg7Mrt
MmU1/P5jjsNjTnPpezZxFj6BwpJONwfRmLmMaAIi5x0NYDM+sdKU3ndK47rP7V60pXHsszVX
mqUdMBDHcUfQrXOKaeyhWaKrbJUKSIhf/zvxYe7Z1rwB83HhzSWB0IPCxgq3zy2/xj3ytcGt
6yBn+DJzp+C5BWzFyufrjVb2hkU/O+bELNdvnMQaex6UtROeJB3YoD/VZo4HV+e4BFpxXF2b
Ascj+v06PD0aDUYQWDdgnOXXjYt1eQFNPGD0A412iIoyZ13aKaOaoQs4kRnQh3mY8m0H6kro
Dpp327QtAgIvteDHJVfPvZyyf+Y65Bp9QdyZTT0IrWkTeq8w/+VYYZqH+zhWaBUIcR3Hq7Ll
vake3mrhu9pCb8fEaw6+3Qosft6N/L54vkP8XPyTFWXHvtZ9Zfui/1/qh1qqwxKmX9M6ISlV
7GW5fTBMZ7mq/1DNyj4JF74L7mzebv0BUEsDBBQAAAAIAGyKTSoREE3hPB4AAP+SAAAJAAAA
RklMRVNZUy5D5T39d9s2kr/3vf4PSHcTS6ksf6TtXe24W1mSbW1lyY+S4+R29/FRJGRxQ5Fa
grTiNv7fDwOAIECC+rCTtL1TXx0JBOYLg5kBMAD3Xn79FXqJ/trzjtDUDzC5J023cYcOmgff
/YAO9/f39/Z/3Ds8oF+PDg+PXr1C3iwK5qj7YYH+Ck33vv7q668ElAsnnkRpjK7i6N/YTRCh
P1yM3MjDR6zCeIbRGcUyuieoddVDtTYK8B0O6vCU1WhHi/vYv50l6ODHH39EvwU+SVA0RX7o
+Xe+lzoBctJkFsUEOaGH8O7c8WmR58WYEEweGJDlcol20SxJFkd7e/RHc8YJ211wwppRfCsx
jmc+QfTBbezMEf06jTGmlE+TpRPjY3Qfpch1QhRjj5IS+5M0wchPAPteFKN55PnTewaIFqah
h2OUUC4THM8JEA4/zgfX6ByHOKbUX6WTwHdR33dxSDByKG4oITPsoQkHBE3OgIqRoAKdRRSy
k/hReIywT5/H6A7HhP5GhxkSAbGBophBqTkJEB+jaAEN65TiexQ4Sd62gZYUFopCjPAHF7Nq
R4pclGIQTDKjEP0pk0jgh+8Z1qzLrTRM/DlQMYmd+B7VLqw+69VMUGrlN36cQE9eOu7Mp9hr
F28u64IYxhzTRJRE0C9e6mIBiNKD3TRxJgFlM4F+8yJaL4wSNLlHfkJwMEWukxLM0MWYpEHi
h7dKOy7gCE1ALe9wzKS+ppOa6B1QDWCZrJ2EQcmBgnT8kNKBls49oE1i300o6ChEjutGach0
GIQG1DBRWH1VOhdvLtkwoWAocX7SrFTPXAs9wAmwZtECi95J0NIPAuCOUjtNgwaDQWujm974
Yng9Rq3BO3TTsqzWYPzumMk8ok/xHeaw/Pki8CnopRPHTpjcU7oZiMuu1b6gbVqnvX5v/A5R
ms9640F3NEJnQwu10FXLGvfa1/2Wha6uravhqNtEaIRZTzAIKwbBlA2kGCMPJ44fkJz7d1GK
CKUw8NDMuYMudbF/R+lzkBst7tcPMC7kIApvuX4lijiPQZvDKGmgZewnGNSiNPRY+3z4NVAv
dJsN9MN/fY8uHUJQ6w43UNuZT2Lfu6VfL1to//Dg1Y8NdD1qoRpl7M4nfpKNaz9GSzxBBNA5
iWqibsMUzNJeXTKvWlYYjNMoCKIlKNDCiROCwDDk5lJIomwnm9ubxIIRfuO7CWVk9Kvz3qF4
X/vhNPqZ/IqDO0x+bc7Sn1gj+plN7CkZ4aQbx1FcqxeLO/juMvJw4YGFHa/vxLfF8hvoE9OD
dhp3/Pg0nU5rlX7j7xHBqO8Efohee/hXx/3ZjWJ85ztNN5rr9LZnnfjOgKJU2CPGMgrVxUZK
wHuifur/iixn6uAAtdPAf49eu/DPzySgtIT4QzPEiaQo+4Bv6zh3vofOm+gCHO5r5nd//jfx
doPALbPRjczioEQccHGc+3Mc4l9R7e9n53X0+t/TW17w89IJHS+KmpiU6Kj4vE6wG/pu1CR+
jP2QOD+7yZ3avuV52EO2fdMbvDq0beTOsPuejXPwQpT4hR+Ap4xQZqxv/PDVoWx+1UOuEwTM
Bzig9iha4DAE5XdClIaBP/fBAobpfELhRFPuMrL2xJ+nQeKEOEpJcJ+bE7BHXuTuBcKwJx8S
RhT/zWwz+O3iEESD4bh7hHoh6gxHe52/n19dCVdPqR6Mv8s0HL+voeks9BqUoCnBCXqN9hvo
bGSPuuM6s8wUaPaB58A4EI4WkR8mXCBQtnAIAe7wrZP4dxjdOUGKG0wr4DFJJwT/J8VhosDL
B02tzoTHXcHU8YMmkN5u7bYDf7GgWHJy63mlhgKL0SBIYhWYi8VoHt1hL6MjJdz7GPGqjKau
iwmZpkFwn1la2m6STqc5x24ax5SfTBrEB2vbRP+4I9zq/At6ggJj7nDmEEoNDpEb0VbM007u
0SJJ3fc4lv32Fz90g9TD6LWb3C9wc/aTVvrNbOIs/Obsm1LZlLBSKJ8iD0/9EHs12z4fXLdt
u45evEDP8tLL3uD8BnS8zujLkZJ7sgd4CUNcekQSJyk/SUOfJF65fOqGSVAuxnEcRoIx9mCa
kzYc2deD3lu7Pby8ao17p/1uPeuUHIAfSaA49PypBJMzyNQ9Y09r7Plx1hrKeRNk3+LEi0Fr
4YtP3pcquDP+HIaArJDhLzNy0XrTta+GI8pLb1gvQtOeliHhDwmOQwirUIxDZ45ryI1CkiB3
5sToZUP7herHrNslAF0SN61xe3jZNne1uT8JhYs37k6lN1Qhg3te0fV69YhU6MNjxahUmiZx
GrpOgpE7I/6vuFpUp0Or3xp02Hj5+FF50Du9bDN10oovR237Tdcq1F01tP75peRdwdXa0VDq
kWL50g+9aEmK46+MdiPhlOQTRC5MNgwDNO9FO+tGhj8guLqqUnMzxVqpWwX1Uk1PWb+rdOzy
6qasGnlPm5tdnNrDkd0ZjooNs27SmoW0GRrap71By3qnDYWskPGyLxjee5mXg8cUSGEa2PfD
9ANzTGUEI7vXfdtta/BFGYe7/2F//7t9Bj9ahjhGc+deTD+lxkbxPSLYid3ZT9VorJu310U0
UCbRHLQ5GuumixY4nvsEFgoIRUh4+MbxVyO4HlklBLQsR7Bf5CPGjlcN8MYA8EYFuP/fRYA8
xKiE+NYA8a0G8ROI+kK4XR1RVpohEjrTjuYLJ/EnfuAn99UQO93BO+umCJGXcogHGcQODrlg
91YKg7e+KYgjK+UwDzWYG4CzOkYSOxzcqxKJq6ENhiZogyGH9p0GLYySGcTwOkBwFL6LrkcX
Q2uMiJ36bHrad0iCTtD+cclCaOZsSzcFFiAM8hkO4asOVxHxP8CaCfuyG/jvMertDRFJF4so
TthUXnzHXCCq+Ty1z0b2Wa/fZeazwhyuo63CDTOSxzNMsEIzzMkITLhqdRQ7bEUumTkh4kUN
NMFykc2PGa1iRZGteIqGXsRsYMYihT5hxnBos/nD6MJG08C5JWZ2R8Or7qDIbK2qk168UJ8x
Ez8cHWo854Zfk8QN98KFQpi11hEP9RWptd+d00cgzNUqwOW5CJxkGsEysFjkywXM1rLoz3kU
Ih4LBziByVYmLaNMOlaPct3vjsddqyia695gbF+23qKTE3TdHw7O4YcBRr9lnXft4dW4d9n7
n24HwGR+P6vIqwCsWg52Fx30UV3FygxXeIcptRct63R4bYn+TCLUG7I56j1J8Fzp5ZIrzvW6
rgxVCNZdDtoGZbIZhFo2hFP/jEGkTX5jhFNKJvcA1kmDBJ0Nbavb6qBv4Zuwtz5h020hVT4Z
gLVhDlmaAfqMEjW2Wu1ujX2xO93T6/MGqn1joOf5LK1/08jIqdczEBrojycyJDg2IegNzoZm
+Eewq8HGC2/+z/AbgaMsRDZaeETjT2uoJmUE4+JsaN9YvXEXfcxkw3+CFp+cSHnx5lyiRi6s
znDQF1w8jhEOIWOEwniQ+vdZaa9J3BRO7oXrT+clh1bkSonm915yR/dCuE/N7AHPOceS37W9
cWM9tTc4BJ1uM0mK3NcryY31NLHeWEWS2GyjWuP3XiI27fPKgi3wwQIRpi9CefKC1XzJIObx
rEkQBoHDEChLvfu23b8e9d6slbqMAp9O3c3G1PEYcQOdkPHkk6kra4ZJWXl8ONiUrsHwyXQN
hpvQNbpoWd1NNe0zUKWZpC2AcgrBhe5/eL7/3QcKtaGRrXq+JI1D7SF99FDh2gnG77d07Wwl
fb03H3W7v0DNTZ26QkmVUy9058i2uv3WOB+cxa4URLSvrUoI3UFndWNaYXPJ3kW+J0XrxthJ
sFm4DSaxlxosynBI/FsIz+WDxRz2o2VPrJOhhvL5LG2g5wv4X5GmrjYNDVEu6UKXt+3B0Lps
9dVeZ/VeFkQmV14+0q9tq9sas29j63rQZt9y1/RSY/FELlJ8zFYXKvqszTwh8/uFYVwBcdNB
rArvKGu8zqS07Ytep9Md5Eqki+SjEtaWmo7ejcbdy02abkU6NxEN1VRokBu6pBiHD/qau9zz
hpkBJbMJm4Fn14P2uDccjNDurtzgObtoDTr9Lt+BGsKsE52+G3dp0wUkGcFqf6PSssjGUPXC
Cb0ArzMXOR6m2txSKKh0o1HYO+AboXWBQipO52ZodZC3PFMmIvqTEcQ29AmbKDEnwmPej2oJ
88QZ/TCI9gwhZ/ZwZcjJPxlBH0/QeXfQtXrtEoq1UWIlJKio06rGbyr8LeO3DKNBZEXqNwtq
VgAsMLFZCFeEt69CgAXvQpminAimMZnS1lGbDTt4DFLKtq9UbRSCV7d1dfwNNLju9xsIImlK
aW807g3OG5zH1nhs9U6vx11hfXldVC/0v0afTmBv8KbV73VsXmDTH9e6FDJ+z3ECa3EiZ0RB
UFyqYw3UaQEOqpftCis3ynoXj2kVYZfkzBawKqRqWpeQtiWbUVZRXqRZLtoVrQJ4aD9TEluN
CZ88OkpgrceqcRnSzSMHWAnSjVUxMHLmRRsVjN6LNnl0PzYk9GOVnWpUT9aYrdV9o6XdFUr1
eXTqk6nUJ9OoT6hQX06fvpA6yXU3HTtMTSxraJltmfK0MKcUcxQ9oHooBWrccz09VBMaHYEM
+E85h2Gx5UbRnCBmk3jOIIvy5tHmgV7Bzbas9kXvzYr4qjT3KIVXBYhZ9VUgixOIlQB55VXg
ipOKleB45c8XAJXjHvioMSj6qAe3DcjW4zERmz9Savs3rXejClBZgPXHD41KGy1lI2heOZAT
9xdsmNF/xarAtmGTaK61Nkhp96A4sd4TGfCUnQmktMAyQIz/k/oxJCJmG5GcmSz1nWA1L9Kf
5mmWnu+xTUn8AY6VwDbkzPGy4wCMcwoUcuGV9suZSI3nFdg6hMxofJatQv3BLC5bDZLZzEFE
cM1kRtcv7ygA+FqO0rpyO2qFqhmyqnKLyeXIsHEMoE5y2Gh0H5eTllzOprGaIrSVwbnsoM07
QdkH3emFd07ge+gSzyFJ5BQ0dgf0Sz7hhO2omxQFVCfox9wYFMn4wdjBSm69qZcVzyqqbdjv
ClzFQ2qQJUjjqseWaYAy11QvzbfdtWI1HdNk0sjST9xZTedatS2uQzA664h1wyNlzBOczJk0
NV7lCmMeZdHPJMbOe8U2Z1DH3bfjTWBCPTNEbjgeM5+szk74xIKyzVzZTxNVNdSnCmvb8V01
1ixnucaglgamxooUJqqvGNFj/CF5KhopMYZEGIL85E2FwciCczhlo5iPNjvKJpHLcoC0UbzN
UPKNAbM9ERgFqs/kYX5T9CeLy4GyQvBJP1CaxZgmR1QkuIFecFBKVCiBcTmxOFZIri4Qq7Uq
gz/++KHs+CTcmHXoCvK2cogywufQNbJloKai3y+NMu3RY0IbqVpl7eVHTj6J+gKoBIcbaTBH
+4dUYcFGWYsZzVursQBn1uQcl6bMuSQfpc/6zFJ2V5lllYAlV4QN1F4FLttX6nUZ036B6sI6
ThWB+yp2mVJfoDgg7PiYVrbfb8htZG1x52HdnKMwyvUxWaLsEcMy72g+MiHlsHyic6PRyZqm
QXFwiuKtXAvHKgdnUD04g885ODf3GkE23DijpbG2avCYJvmF9M7cRgfrXURQcBEVmp11TB9P
k3EkwIrGqqJL68orGR8VH2SacZXEFCgjTLdkko+ChVvOmLg1qtSBrDKQZYzDUU/Id51FSzRP
3RnM09imKTsjzm4zyCf3iulQcfwExoMJBJZ1eKpswYAUULMRKOUm2qgyyBhVsOyeKGhMAlVN
gnF9eR0diglUMa+h6wTt91eTsTI0uUriRk6EZqN5H+0ewNGZCX2oNCyRhPahFhwkRHDGtPDc
2IUVIc3Hj8qj/WJHGiYwmlJ+q/eSQX5Mr2m18sOHojuUJ6I2m85o4+JRFj3QAi3VnCsH8T+B
Pd861vqD2PQtYijFqFfFUGvsej52ucUpREJl3qrsPlONzUIl3fwX6SgbEN0PMPGYHYHuC1jF
qseG8HETr1DgsuAbyu6BE7vWTld6iewQe5WbKHgKjm4DV2GkQhjqTMCVHkMxzrxuyWuYRF82
2UbnsQllBh9SgbFEqsGRGAlbG/ZLlyK6uAx0c7eyzrMYnMv62QVzMcpTk5epdDSanhfcjXno
aE7HXEWV8oPhdO6qSU5h0H2OSc4j1u4NZD3CH66a4fCrPozOkFULhuz+j+ot7cx4XkXkWF2L
OBOZvZuszVMSuEf0zOsQkojSPna2B23KxJakqqmjAhTcZwKZVaJ9nmidLxiXPGl+Gi/XZlWH
Wlc9iwKIMXRLJ4K1TGDiKomLepKrCXOtV5FCZD72ANCz4rgq2C7euKCzBi1Rhi4FWxWvVU7G
CgEHNz63lL7sshNxS0xuRcqZKauDEoWXTG781pbqIEVucTPq2teW1R2oS+pFr5/BNw5ddeQq
EFTbAX3C2dJ7Rbcjhv5YsSxZtQBjaHX4/TFIfQeGC2IP+N6badWpTMaW0BQz8iCPznz+kSEH
erZZ/+ccHF9A+aWkxBCQlm573deFvrX6b6RuhdW8LZVV83FF/SxsXF+H78NoGcJVBHPKIN+z
Lmp5zlFpy/rwUGPNMG60kwzSyXL/V3awYxwEa3a+dBe63mEykJ8kh2GtZn5Sm6xv9ayyxlog
pW/0bBE7aWr1iLhJ7VJ1v4bPcfk5pc3SD8Ss+JvSATONqqr9U4FPRmDs9+aJD7y5PA7GflZn
AopfGS2QmChp6eAAmxIec1pYZq7FzsVspMoC4nMCtNUg3+qlkm1lUunCFT0mlRYEADMh3FRq
TuV6dIr7dikJOTExhkvnnkBMfrpcwtw9eKR2550ku1nsPfCrxbIuHgbegOW9ZQUDvBw8qcsF
huekgQrdLnHJEoHskaZNFT3nShV9jk0plNz9vt1xOhz25ajrQ7IgUvIu9YQo4TxGiRMnFfmd
6hJXeJvMlNmcnkO1bV8CaWLqlmZ/TKlVgjqFAI7Z3LF6LCmDOpLEqZsg1un9YfsXNA0asJqh
BIemxNs8J0hJCCrnBPVtgHmkBZrToJnNF08yJtTwEJ5bTnjLlws5a9rzVAWgryukStvCMt/e
S8QSRGN8yy7qPUQEu1Ho8TW6KE0acJ11kBK4bsVhCZxoF+5sdpJo7rv6Wk6unDXWvXUlAIfu
IwXf+4JSBn/pH7j1tQ/eeJPcp759PVgjQV0ABf4rhGaSuio6Rey6BNPwzyRDcUj4yIhU26x/
5CGbqvNZmWEYBh4Pl5RVIfMYFkfX1TlZeb6zdtCVxx1SPjnv4vK/Yv5c/xfWLLcopQVSw7pj
SVG3RUkbbovT0LHVfbvB3Elftyv0EO9ErYvWn7n6s2mE/TuoxAqcvOX/DaVQ7gXW3TFcv1tS
FDjQMOwMj9QrsRcLHHpsBBFUy65+yOfTyhED7synzEjDHxvuYn+qK1+tQ2o1/pGIm4ENNxzT
ohN0Zt9Y/fYvhW4s1Cag+sjsoMq1AxwihCqihHJ1OKjhYvX6D3E5EEM6jaM5v3ca3/r8JvFI
ORli2MlRYS/43PIElm/pd+0wjkEV2S2kxVxcIKn/SwO9kICLS3TKYUQB6nXVBlGO6+AYFUMg
uM47v0dw7c5eYRSVwC0d9chLCWxhm25be7GxfjE/cqzFKWt67Qur259Vg7IuX6M+6/t5Kwv9
yY75m06VsAshlSeZjTafNll7LqL6UETZZOohUZX3Nzu+tZMEAxY+FJ6GZ5NAepvTFap1etLU
nm2Rmw+1RfO5v+50xOpTbRzCJkvChsNGthcR2xVEFM+crT6BqWmtcltpudgYQcBcyksX9ky7
tKbC+ecV6QP6w3g+TpgMpe4z5SymdrpOqfOkA6kVqxUmFmTEtIRXHDkT9r4itpjL3pjEHHsn
IhYmOIHcIByLF1H8TTFhhQqGHns8I2ovyZeFcHnV0TQN3YRdjRvjADsEE3ihiVyqcGIPXnVF
YfrsjjVHHD19iaLYv/VDJ6BfQOqBD/kUHo9WZnnKSnZTrKqt3D6O3g3aF9ZwAAlh6s3slMQp
ZQ7HaBdNg5TMKH7PSRzxRg6CojC4b8hXQ6UL+hDCpfzya/A88uKoyvOvNTQFsOQ+dAvyRq+Z
dqG/STuAjuTOihqiQPQWREuNVJAeP8yr0gxnef3dkL9Ca0PqtqbMlE6/kWUrL09evu/4cb5g
TH88bUuAwyssDQuoazcEtlibL79XQrWNBX+sHv9c4amr36aiuZL5e8+P9dVowWBD3gr/Ud7l
Zkym3ADWE84Mfx6vp6lNe/Zp1YbD+/xqo0nHna0T/h9G3tb808qbw/vC8o7nf2R5S4/J73ng
r3NMZuwkBnGmWHrQBvKTHfbOqZi/MtBV35vQZLZeAtsHPUt5mhW7Yb2BDmhRC9a0T9BpA72i
/7QbCCcub/n1V6KT1ZfMKdvHHQCSd7y4dZO1IfbkXryRDsf/QKLDrlrjC5bk+y3F/K/NRiNH
KjedGc5807n49rusRkOnoGGkoLiHLpW6rrc2dEveFXfipaPRVJNS/cmy1zIFVBZ1+ecbqpP7
jFllk27TwD+HXyVq2mz07vJ0CFOv61G3U8s1IKsiSfgHZfhflKOdf+7vPGrn/RYn7tLTB2jO
n+Bsy233teaBvaaLoZWyfRTSx92YMUpif8FW3wLseCy6ZNIlC+zy98tl5RPHfU8Ch8zERS4x
3oEIFTfzxDs5e8iVg81+4bBAxpI+n+B62kJJ7PgBYGFv8yPwjsjMAvFhwl/ew18aKl7nUN4t
JhFaYuRF4U6CQozZhTKEMegn6ivscorFhCsj9B9gIcAo7hztaJMuycm3J+hQm6tR+O4srqHh
iA/zTrffu+yNu5bd743GDQU0KGfdCPXbbxWpCHq4tGD+J3GrTed4ztMxFF3JKha05sHU21Lg
NejXuqljDf2qDvETYD0o3jQkCVfnchvKKRvFHP4u64uSwEyV5JAvZ7YZM5RyA3nSOmqgg5NT
+vfwpE3/vjrp0L/NptkesjeUcu0OC35IOUq5TdBH4T33WBDih0ldQK1MGFFfPMLNiVoHKTMA
ZNrv2JEXs1FkO8hmbz9JIlu8phiK0Y2TuNHcsOWhtqVsjmjb44pn4yhx1LwGipr5nSPheI6E
5zlirifHxddyXmqTdT6aYTd9h5m7HQNprFn2tsMaesGp01SQVSGyiui9b9EBZOlygpVFmDLA
Yg1+RWMOht/LKOuZT6Ib1l8rLrPb8HB7gSvOt5EjHb9+z9XarFWVGvj7FzWdunByjEn+JH/5
pLa+Xt5Xzd5BqctyjZgV4E8T9Qap7Jq4JbGKhn0W+XInXbzBwwj9UVd5qNlaW1hDtgJ41nsr
5wgwNuFE1j2bAwS+EybyLrh2a7cdvFwscIy8CLOqPFNF9dvgi3jEMcFT8PpsN9YPb5vc5PZI
J75jC2GCfILG1nVXBZF5LbZqxw+J+WEO2GjJGdhPaMk5vP8flvwE/a6WvNpcGkf9FzD8z9YY
/rUjf43xeKjgpcrc/3820Z/ACJf51q29aqG/lI3W1sJ6pIPvfHfdTZKszWQ7I8bhbn44o2zG
Sho0UbMPiZMk98Wlfn76dpspbg7zrNUfddcK2biQYNorLPfE5NHOkjkXdbUIPI5+6uJRkwYO
SZ7G2KxTfqse34rW6ibBdPYr26rXs1XV0S7n645w7GE6n8D0dAJ76PtNxdqXL1jIkyV++N5s
N7bCdqBiU1jd3d3coqxDGOAkwXEFIjj7/8P3ZWT62bTt9jq/UHAgVqN+12lcvtK3he9Xrz8Q
ELKDDaXrf8teaGtTLaLIej6KQVAWf5iHt6ZR8CBjathV780XAZ7j7ChL90MyXOBQGBPt5nbx
yHR1u9wgwVNaq/pAhXYcPm925SQz+vPq4tTuwQ3ii20Oa2Vk8bMx7CyFuCtmYTwfpe68cHJz
gjJKFmvOexXPVpbNfOmQkqEKR19dQT2Lb4bAyF3xXMhxk/Nz+SRLmUGxK7WdIIiW8NVzndgj
2TRnKhhs8lkZmUVp4KGJll/oeB5fD71w4kmUxoblUBYvsI7kt+tUH5PjkUWP1dvIZzGAq0/J
yWHQZum4/hSd2cNfYE4n7B5wCykHMNGkTWPCyFa9k8gAsdvDy6vWuHfa72bWUdDKjAOfg7JV
yygkifGWdIZaCUwMq/pXN5kX1PKBlKBCsZw8RlYDjuyWdgXp0LbEawXofz9VntGvvl1bpJRJ
XmGivPacfl5dCaUeCuHWluLbL8rOEFZJ7XnQda8bTVfFteZoZINrqo3KwVJDw1vYJNvuOC9r
RdnaoFV30NFahXhZ3YoT0lDu88jvf80aQkZYv5gEWThsy6M8ZcKivLVFwHl2krG9GpTMv9Gg
iW4UEH46EcI4loqT18HQo3rE/4y7WyUr538BUEsDBBQAAAAIAIqLTSruBsU81QAAAG4BAAAL
AAAAQ0hBTkdFUy5UWFRl0E9LxDAQBfB7od/hHdV1u2n3JiL+Y4uLoujCHiU20zaaNiWTIvrp
bbZ4iF5/8+aFSZoUQuRLUSzzNdr2rOtQPuwWObaWCaXuqKdvHG035THO3+tmhstP2UtlbUZ8
kSbACdiOrqKV82ZVa0P8xVkVJmHWvr3W/DhQH8GNI+kpJjM9GskzSRXB3uk/SyFyL10T6yH3
n1+IPiLYkTEzLCCVIgVjG13BW4zTB+x1vy5w9XSHShrDITnf64k9z6dmg2t+OwNPHeMQCgpx
KoTA7fUGh2Ca/ABQSwECFAAUAAAACABpi00qVZ+UXq8CAADzBQAACQAAAAAAAAABACAAAAAA
AAAARklMRVMuUFJHUEsBAhQAFAAAAAgAbIpNKhEQTeE8HgAA/5IAAAkAAAAAAAAAAQAgAAAA
1gIAAEZJTEVTWVMuQ1BLAQIUABQAAAAIAIqLTSruBsU81QAAAG4BAAALAAAAAAAAAAEAIAAA
ADkhAABDSEFOR0VTLlRYVFBLBQYAAAAAAwADAKcAAAA3IgAAAAA=




--------------9588FFF47260F8A982110DBE--


From harbour@lists.harbour-project.org  Tue Feb 20 08:31:03 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Tue Feb 20 08:31:03 2001
Subject: [Harbour] Release 0.36
In-Reply-To: <7623331795.20010220151823@belacy.belgorod.su>; from alex@belacy.belgorod.su on Tue, Feb 20, 2001 at 03:18:23PM +0300
References: <7623331795.20010220151823@belacy.belgorod.su>
Message-ID: <20010220130451.F26682@hagbard.davep.org>

On Tue, Feb 20, 2001 at 03:18:23PM +0300, Alexander S.Kresin wrote:

>  I can also upload
>      harbour-0.36.src.tar.gz ( Linux sources ) and

That should be called harbour-0.36.tar.gz, the "src" isn't required.

As soon as it's publicly visible I'll build RPMs.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Tue Feb 20 08:35:03 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Tue Feb 20 08:35:03 2001
Subject: [Harbour] Release 0.36
References: <7623331795.20010220151823@belacy.belgorod.su>
Message-ID: <3A927268.79F0FBF6@libero.it>

I have uploaded:

harbour-slx-0_36_bin_os2_gcc.zip

regards.


"Alexander S.Kresin" ha scritto:

> harbour-0.36.src.zip
> hbcontrib-0.36.src.zip
>
>  are uploaded to the ftp://ftp.harbour-project.org/upload .
>
>  I can also upload
>      harbour-0.36.src.tar.gz ( Linux sources ) and
>      harbour-0.36.bin.w32.bcc32-55.zip ( BC5.5 binaries ).
>
>
> Best regards,
>  Alexander
> http://members.xoom.com/alkresin/
>
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

--
 __________
|  |  | |__| md2520@mclink.it
|_|_|_|____| Team OS/2 Italia



From harbour@lists.harbour-project.org  Tue Feb 20 08:42:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Tue Feb 20 08:42:02 2001
Subject: [Harbour] Re: Release 0.36
In-Reply-To: <7623331795.20010220151823@belacy.belgorod.su>
References: <7623331795.20010220151823@belacy.belgorod.su>
Message-ID: <31119746.20010220164054@belacy.belgorod.su>

   harbour-0.36.src.tar.gz ( Linux sources ) uploaded.

   At last minute I did a minor modifications there, related only to
   Linux, because not all tests was builded:

   I've removed LIBMISC ans readfile.prg from /tests/Makefile and include
   there testntx.prg .
   Also 'USE Test.dbf' changed to 'USE test.dbf' in testntx.prg .


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Tue Feb 20 08:43:01 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Tue Feb 20 08:43:01 2001
Subject: [Harbour] Re: What's New in 0.36?
In-Reply-To: <20010220102352.B26682@hagbard.davep.org>
References: <20010220093613.Y26682@hagbard.davep.org>
 <NCBBJKNMIDPJNLJCHCHIMEJNFPAA.harbour@winfakt.com>
 <20010220102352.B26682@hagbard.davep.org>
Message-ID: <14522829756.20010220151001@belacy.belgorod.su>

On 20.02.2001 13:23, Dave Pearson <davep@davep.org> wrote:

DP> There was a conversation about the advisability of promoting it until we
DP> know what was happening with it. See the archives.

 I think, we can declare that Inline-C is an experimental feature and
 it design may be changed later.
 Let users to play with it and express their opinions.
 

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Tue Feb 20 09:00:03 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Tue Feb 20 09:00:03 2001
Subject: [Harbour] Release 0.36
References: <7623331795.20010220151823@belacy.belgorod.su> <3A927268.79F0FBF6@libero.it>
Message-ID: <3A927821.AD8D4A97@libero.it>

And 

harbour-0_36_bin_os2_gcc.zip

as soon as ftp server starts answering again :-)

regards.


Maurilio Longo ha scritto:
> 
> I have uploaded:
> 
> harbour-slx-0_36_bin_os2_gcc.zip
> 
> regards.
> 
> "Alexander S.Kresin" ha scritto:
> 
> > harbour-0.36.src.zip
> > hbcontrib-0.36.src.zip
> >
> >  are uploaded to the ftp://ftp.harbour-project.org/upload .
> >
> >  I can also upload
> >      harbour-0.36.src.tar.gz ( Linux sources ) and
> >      harbour-0.36.bin.w32.bcc32-55.zip ( BC5.5 binaries ).
> >
> >
> > Best regards,
> >  Alexander
> > http://members.xoom.com/alkresin/
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@lists.harbour-project.org
> > http://www.matrixlist.com/mailman/listinfo/harbour
> >
> > Thank you for participating in The Harbour Project.  Be sure to check
> > http://www.Harbour-Project.org
> 
> --
>  __________
> |  |  | |__| md2520@mclink.it
> |_|_|_|____| Team OS/2 Italia
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Tue Feb 20 09:02:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Tue Feb 20 09:02:02 2001
Subject: [Harbour] Re: What's New in 0.36?
In-Reply-To: <14522829756.20010220151001@belacy.belgorod.su>; from alex@belacy.belgorod.su on Tue, Feb 20, 2001 at 03:10:01PM +0300
References: <20010220093613.Y26682@hagbard.davep.org> <NCBBJKNMIDPJNLJCHCHIMEJNFPAA.harbour@winfakt.com> <20010220102352.B26682@hagbard.davep.org> <14522829756.20010220151001@belacy.belgorod.su>
Message-ID: <20010220140141.G26682@hagbard.davep.org>

On Tue, Feb 20, 2001 at 03:10:01PM +0300, Alexander S.Kresin wrote:
> On 20.02.2001 13:23, Dave Pearson <davep@davep.org> wrote:
> 
> DP> There was a conversation about the advisability of promoting it until we
> DP> know what was happening with it. See the archives.
> 
>  I think, we can declare that Inline-C is an experimental feature and it
>  design may be changed later. Let users to play with it and express their
>  opinions.

That seems reasonable.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Tue Feb 20 09:55:03 2001
From: harbour@lists.harbour-project.org (John Skelton)
Date: Tue Feb 20 09:55:03 2001
Subject: [Harbour] What's New in 0.36?
Message-ID: <200102200952_MC2-C629-CB4F@compuserve.com>

Patrick,

"- Better Classy and topClass compatibility"

Please make it TopClass. :-)  Also, should it be Class(y)?

John.

From harbour@lists.harbour-project.org  Tue Feb 20 10:36:00 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Tue Feb 20 10:36:00 2001
Subject: [Harbour] Re: Release 0.36
In-Reply-To: <20010220130451.F26682@hagbard.davep.org>
References: <7623331795.20010220151823@belacy.belgorod.su>
 <20010220130451.F26682@hagbard.davep.org>
Message-ID: <116541048.20010220183113@belacy.belgorod.su>

On  Tuesday, February 20, 2001, 16:04 Dave Pearson <davep@davep.org> wrote:

>>  I can also upload
>>      harbour-0.36.src.tar.gz ( Linux sources ) and

DP> That should be called harbour-0.36.tar.gz, the "src" isn't required.

  Sorry, already uploaded.
  I think, this won't be a problem for Patrick to rename it ?


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Tue Feb 20 11:05:03 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Tue Feb 20 11:05:03 2001
Subject: [Harbour] Re: Unlimited filehandles for Harbour !
In-Reply-To: <3A927019.6C384103@corevia.com>
References: <3A927019.6C384103@corevia.com>
Message-ID: <1082381063.20010220190152@belacy.belgorod.su>

On  Tuesday, February 20, 2001, 16:24 J. Lalin <dezac@corevia.com> wrote:

JL> José Giménez did a great job and fixed Harbour to open a very big number
JL> of files on Win32 platforms. I tested it with BC55 (it should work with
JL> any Win32 C compiler) and Harbour has been able to open up to 20.000
JL> files.

 I'll upload it after the release 0.36 will be done, Ok ?


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Tue Feb 20 11:11:01 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Tue Feb 20 11:11:01 2001
Subject: [Harbour] Release 0.36
References: <7623331795.20010220151823@belacy.belgorod.su> <3A927268.79F0FBF6@libero.it> <3A927821.AD8D4A97@libero.it>
Message-ID: <3A9296E3.584BB115@libero.it>

resent as 

harbour-0_36_bin_os2_gcc.zip.ok

since I have no overwrite rights.

regards.

Maurilio Longo ha scritto:
> 
> And
> 
> harbour-0_36_bin_os2_gcc.zip
> 
> as soon as ftp server starts answering again :-)
> 
> regards.
> 
> Maurilio Longo ha scritto:
> >
> > I have uploaded:
> >
> > harbour-slx-0_36_bin_os2_gcc.zip
> >
> > regards.
> >
> > "Alexander S.Kresin" ha scritto:
> >
> > > harbour-0.36.src.zip
> > > hbcontrib-0.36.src.zip
> > >
> > >  are uploaded to the ftp://ftp.harbour-project.org/upload .
> > >
> > >  I can also upload
> > >      harbour-0.36.src.tar.gz ( Linux sources ) and
> > >      harbour-0.36.bin.w32.bcc32-55.zip ( BC5.5 binaries ).
> > >
> > >
> > > Best regards,
> > >  Alexander
> > > http://members.xoom.com/alkresin/
> > >
> > > _______________________________________________
> > > Harbour mailing list
> > > Harbour@lists.harbour-project.org
> > > http://www.matrixlist.com/mailman/listinfo/harbour
> > >
> > > Thank you for participating in The Harbour Project.  Be sure to check
> > > http://www.Harbour-Project.org
> >
> > --
> >  __________
> > |  |  | |__| md2520@mclink.it
> > |_|_|_|____| Team OS/2 Italia
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@lists.harbour-project.org
> > http://www.matrixlist.com/mailman/listinfo/harbour
> >
> > Thank you for participating in The Harbour Project.  Be sure to check
> > http://www.Harbour-Project.org
> 
> --
>  __________
> |  |  | |__| md2520@mclink.it
> |_|_|_|____| Team OS/2 Italia
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Tue Feb 20 12:06:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Tue Feb 20 12:06:02 2001
Subject: [Harbour] Re: Release 0.36
In-Reply-To: <116541048.20010220183113@belacy.belgorod.su>; from alex@belacy.belgorod.su on Tue, Feb 20, 2001 at 06:31:13PM +0300
References: <7623331795.20010220151823@belacy.belgorod.su> <20010220130451.F26682@hagbard.davep.org> <116541048.20010220183113@belacy.belgorod.su>
Message-ID: <20010220155447.N26682@hagbard.davep.org>

On Tue, Feb 20, 2001 at 06:31:13PM +0300, Alexander S.Kresin wrote:
> On  Tuesday, February 20, 2001, 16:04 Dave Pearson <davep@davep.org> wrote:
> 
> >>  I can also upload
> >>      harbour-0.36.src.tar.gz ( Linux sources ) and
> 
> DP> That should be called harbour-0.36.tar.gz, the "src" isn't required.
> 
>   Sorry, already uploaded.
>   I think, this won't be a problem for Patrick to rename it ?

It shouldn't be, he knows I'm moan like a ${THING_THAT_COMPLAINS_A_LOT}
until it is renamed. ;>

BTW, is that tarball available for me to download somewhere so I can build
the RPM? I've got a really impatient harbour.spec sat here waiting for a
chance to do its thing.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Tue Feb 20 13:01:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Tue Feb 20 13:01:02 2001
Subject: [Harbour] Re: Release 0.36
In-Reply-To: <116541048.20010220183113@belacy.belgorod.su>
Message-ID: <NCBBJKNMIDPJNLJCHCHIEEKDFPAA.harbour@winfakt.com>

Alexander,

> DP> That should be called harbour-0.36.tar.gz, the "src" isn't required.
>   Sorry, already uploaded.
>   I think, this won't be a problem for Patrick to rename it ?
No problem! ;-))

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Tue Feb 20 13:08:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Tue Feb 20 13:08:02 2001
Subject: [Harbour] Release 0.36
In-Reply-To: <3A9296E3.584BB115@libero.it>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIELADJAA.Ron@Profit-Master.com>

We seem to have a problem with hbtest, hbtest.prg (268)

  rddSetDefault( "DBFCDX" )

has to be commented or else we get an Argument Error.

If I comment the line, all is ok with BCC55, but building with msvc I get a
GPF when testing arrays.

Ron


From harbour@lists.harbour-project.org  Tue Feb 20 13:23:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Tue Feb 20 13:23:02 2001
Subject: [Harbour] Re:  Release 0.36
Message-ID: <3510135597.20010220211201@belacy.belgorod.su>

 harbour-0.36.bin.w32.bcc32-55.zip ( BC5.5 binaries )
  is uploaded, too.

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Tue Feb 20 13:23:21 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Tue Feb 20 13:23:21 2001
Subject: [Harbour] Re:  Release 0.36
In-Reply-To: <20010220155447.N26682@hagbard.davep.org>
References: <7623331795.20010220151823@belacy.belgorod.su>
 <20010220130451.F26682@hagbard.davep.org>
 <116541048.20010220183113@belacy.belgorod.su>
 <20010220155447.N26682@hagbard.davep.org>
Message-ID: <2810752512.20010220212218@belacy.belgorod.su>

On  Tuesday, February 20, 2001, 18:54 Dave Pearson <davep@davep.org> wrote:

DP> BTW, is that tarball available for me to download somewhere so I can build
DP> the RPM? I've got a really impatient harbour.spec sat here waiting for a
DP> chance to do its thing.

 I can't send it to you now or somewhere else, because it's on my
 computer at work.
 So wait for Patrick will make it available.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Tue Feb 20 13:53:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Tue Feb 20 13:53:02 2001
Subject: [Harbour] GNU MAKE / !pack_bin.bat question
In-Reply-To: <3510135597.20010220211201@belacy.belgorod.su>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIELBDJAA.Ron@Profit-Master.com>

Hi All,

1. What is maker in make_gnu.bat? Should I rename the GNU make to maker.exe?

2. Is there away to have the GNU build place the executables in /bin and the
libs in /lib? I see settings like:

if "%HB_BIN_INSTALL%" == "" set HB_BIN_INSTALL=bin\
if "%HB_LIB_INSTALL%" == "" set HB_LIB_INSTALL=lib\
if "%HB_INC_INSTALL%" == "" set HB_INC_INSTALL=include\

But they don't seem to be utilized (at least as I would expect).

3. If make_gnu.bat can't place the EXEs in /bin and LIBs in /lib, why does
!pack-bin.bat expect them there?

TIA

Ron


From harbour@lists.harbour-project.org  Tue Feb 20 14:03:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Tue Feb 20 14:03:02 2001
Subject: [Harbour] GNU MAKE / !pack_bin.bat question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIELBDJAA.Ron@Profit-Master.com>
References: <3510135597.20010220211201@belacy.belgorod.su>
Message-ID: <200102201901.f1KJ1tR07750@thor.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Tue,
20 Feb 2001 10:50:23 -0800

> 1. What is maker in make_gnu.bat? Should I rename the GNU make to maker.exe?

I believe that should be "make -r".

> 2. Is there away to have the GNU build place the executables in /bin and the
> libs in /lib? I see settings like:
> ...
> But they don't seem to be utilized (at least as I would expect).

You need to run "make_gnu install".

> 3. If make_gnu.bat can't place the EXEs in /bin and LIBs in /lib, why does
> !pack-bin.bat expect them there?

!pack-bin.bat expects you to have run "make_gnu install".
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Tue Feb 20 14:12:22 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Tue Feb 20 14:12:22 2001
Subject: [Harbour] GNU MAKE / !pack_bin.bat question
In-Reply-To: <200102201901.f1KJ1tR07750@thor.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEELCDJAA.Ron@Profit-Master.com>

David,

> > 1. What is maker in make_gnu.bat? Should I rename the GNU make
> to maker.exe?
>
> I believe that should be "make -r".

Should that be fixed?

> > 2. Is there away to have the GNU build place the executables in
> /bin and the
> > libs in /lib? I see settings like:
 > ...
> > But they don't seem to be utilized (at least as I would expect).
>
> You need to run "make_gnu install".
>
> > 3. If make_gnu.bat can't place the EXEs in /bin and LIBs in
> /lib, why does
> > !pack-bin.bat expect them there?
>
> !pack-bin.bat expects you to have run "make_gnu install".

I do use make install (after trying make_gnu install which gave an error for
maker!)

I do have these envvar set:

HB_BIN_DIR=C:/CVS/HARBOUR/BIN
HB_LIB_DIR=C:/CVS/HARBOUR/LIB
HB_INC_DIR=C:/CVS/HARBOUR/INCLUDE

It seems that make_gnu would in return just call make install, which is what
I do manually.

What am I missing?

Ron


From harbour@lists.harbour-project.org  Tue Feb 20 14:19:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Tue Feb 20 14:19:02 2001
Subject: [Harbour] Re: Release 0.36
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIELADJAA.Ron@Profit-Master.com>
References: <LOBBKAFMMFGJIKLMEPAKIELADJAA.Ron@Profit-Master.com>
Message-ID: <11714073169.20010220221738@belacy.belgorod.su>

On  Tuesday, February 20, 2001, 21:05 Ron Pinkas <Ron@Profit-Master.com> wrote:

RP> We seem to have a problem with hbtest, hbtest.prg (268)
RP>   rddSetDefault( "DBFCDX" )
RP> has to be commented or else we get an Argument Error.

 Oh, yes, that's because I set DBFNTX as default RDD.
 We need replace that line in hbtest.prg
 
   rddSetDefault( "DBFCDX" ) to rddSetDefault( "DBFNTX" )
   
 or add before it

   request _DBFCDX
   rddRegister( "DBFCDX", 1 )
   


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Tue Feb 20 14:25:07 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Tue Feb 20 14:25:07 2001
Subject: [Harbour] GNU MAKE / !pack_bin.bat question
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEELCDJAA.Ron@Profit-Master.com>
References: <200102201901.f1KJ1tR07750@thor.parrett.net>
Message-ID: <200102201924.f1KJOFR10231@thor.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Tue,
20 Feb 2001 11:09:32 -0800

> > > 1. What is maker in make_gnu.bat? Should I rename the GNU make
> > to maker.exe?
> >
> > I believe that should be "make -r".
> 
> Should that be fixed?

I would think so.

> > > 3. If make_gnu.bat can't place the EXEs in /bin and LIBs in
> > /lib, why does
> > > !pack-bin.bat expect them there?
> >
> > !pack-bin.bat expects you to have run "make_gnu install".
> 
> I do use make install (after trying make_gnu install which gave an error for
> maker!)

Try it again after changing 'maker' (which is the name of the old
Borland 16-bit real-mode make utility) to 'make -r'.

> I do have these envvar set:
> 
> HB_BIN_DIR=C:/CVS/HARBOUR/BIN
> HB_LIB_DIR=C:/CVS/HARBOUR/LIB
> HB_INC_DIR=C:/CVS/HARBOUR/INCLUDE

I only set the following two, because the include files are already in
the correct directory:

   set hb_bin_install=%Harbourdir%\bin
   set hb_lib_install=%Harbourdir%\lib

> It seems that make_gnu would in return just call make install, which is what
> I do manually.

The reason make_gnu doesn't automatically use install is that make_gnu
is for both development work, when you don't want the binaries to be
installed, and for production work, when you do.

> What am I missing?

I'm not entirely sure, because I don't use make_gnu.bat (I have my own
set of 4NT build tools, although I do use '!pack-bin.bat' to create the
archives that I submit for use as an official Harbour download.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Tue Feb 20 15:48:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Tue Feb 20 15:48:02 2001
Subject: [Harbour] Release 0.36
In-Reply-To: <7623331795.20010220151823@belacy.belgorod.su>
Message-ID: <200102202047.f1KKleR17935@thor.parrett.net>

** Reply to message from "Alexander S.Kresin" <alex@belacy.belgorod.su>
on Tue, 20 Feb 2001 15:18:23 +0300

I have uploaded the OS/2 ICC build:

> 1-02-20  15:36       1,498,255  harbour-0.36.bin.os2.icc.zip
> 1-02-20  15:36           8,508  harbour-0.36.log.os2.icc.zip
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Tue Feb 20 16:03:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Tue Feb 20 16:03:02 2001
Subject: [Harbour] Release 0.36
In-Reply-To: <7623331795.20010220151823@belacy.belgorod.su>
Message-ID: <200102202102.f1KL2uR19468@thor.parrett.net>

** Reply to message from "Alexander S.Kresin" <alex@belacy.belgorod.su>
on Tue, 20 Feb 2001 15:18:23 +0300

I have uploaded the Win32 RSXNT build:

> 1-02-20  15:57       1,703,753  harbour-0.36.bin.w32.rsxnt.zip
> 1-02-20  15:57           6,027  harbour-0.36.log.w32.rsxnt.zip
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Tue Feb 20 16:09:02 2001
From: harbour@lists.harbour-project.org (Robert Haley)
Date: Tue Feb 20 16:09:02 2001
Subject: [Harbour] Changelog 2001-02-20 13:10 GMT+3
Message-ID: <20010220210736.YAEV4763.mta06.onebox.com@onebox.com>

Greetings,

PMFJI, there appears to be a stability issue on Indexes generated w/
 DBFNTX lib.

Using CVS snapshot from 2/19/2001, BCC 5.5(SP2)-Flex, testing I ran locally
shows indexes generated w/ too few keys, too many keys, invalid index
pages (corrupted) on Databases containing a large# (350,000+) of records,
this vs. comparable .NTX files generated w/ Clipper 5.2(e).

I will put together some samples & forward to Alexander today.

Regards,
---
Robert Haley
r_haley@zdnetonebox.com - email



___________________________________________________________________
To get your own FREE ZDNet Onebox - FREE voicemail, email, and fax,
all in one place - sign up today at http://www.zdnetonebox.com


From harbour@lists.harbour-project.org  Tue Feb 20 18:54:01 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Tue Feb 20 18:54:01 2001
Subject: [Harbour] hbmake and build 16
Message-ID: <3A93026C.C49279F5@nh.conex.com.br>

This is a multi-part message in MIME format.
--------------88668FA98C54D3B0B210EB5C
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Dear Friends

If possible attach this files to the binaries

Regards

Luiz Rafael Culik
--------------88668FA98C54D3B0B210EB5C
Content-Type: text/plain; charset=us-ascii;
 name="hbmake.txt"
Content-Transfer-Encoding: 7bit
Content-Disposition: inline;
 filename="hbmake.txt"

Hbmake Readme


Hbmake is an powerfull make system for Harbour.It include an Editor mode for the creation of the make file.
Due compatibility with Linux, all source files must be in lower case letters.

Hbmake support the follow Switchs

-b Use Bcc as the C compiler.This options is default
-g Use Gcc as the C compiler.
-v Use MSVC as the C compiler
-D Define an macro. Multiple macros can be used in an single line
Ex:
-DOB=c.obj;d.obj
and also Multiple -D is also supported
-p Print all command and defines
-f Force all files to be rebuild
-e Open the editor mode.

The hbmake dont support old styles .RMK/.Lnk Files. hbmake create it own when the editor mode is used with include both compile and link sections on the same file.

Now How to use the editor mode

go to the directory from with the application source that you to
convert.
call hbmake <filename>.bc -e
this will evoke hbmake editor mode.

then select your OS,C Compiler
If you need an Graphic library such as  FWH or C4W, select the appropiate box, if you also use rddads. also check this box.

Select the harbour compiler options that you also what to use, along
with
the defaut values
Select the files that will be part of your app

then select the main file

then the new make file is create.
then call hbmake <filename>.bc

If you have compiler errors use hbmake <filename>.bc -f

--------------88668FA98C54D3B0B210EB5C--




From harbour@lists.harbour-project.org  Tue Feb 20 18:54:21 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Tue Feb 20 18:54:21 2001
Subject: [Harbour] Build 36 binaries
Message-ID: <3A9302F1.BA1EAADD@nh.conex.com.br>

Dear Friends

I´ll upload the bcc50/w32,bcc52/w32 and bcc53/w32 in this weekend due
i´m responsable from some Mexicans that is makeing an training course on
the conmpany that I work

Regards

Luiz Rafael Culik


From harbour@lists.harbour-project.org  Tue Feb 20 19:46:01 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Tue Feb 20 19:46:01 2001
Subject: [Harbour] GetGrip
Message-ID: <004d01c09ba0$81ee61d0$921a5e18@bh>

Does anyone have any comments about my suggestions for
GetGrip/DropGrip  ?????????????????????????

 Did that look like an appropriate way to handle that issue?
 There was much discussion 4 months ago with no real resolution; do my
 proposals appear to be a sound response?  There are lots of 3rd-Party
 routines that used these functions, so I think a well- thought out
 implementation is called for.  Since I'm pretty new to low-level memory
 handling you probably don't want me making these decisions on my own ;-)...

Brian Hays
P.S. Our email server has been having problems, please excuse me if this is
a re-post


From harbour@lists.harbour-project.org  Tue Feb 20 20:29:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Tue Feb 20 20:29:02 2001
Subject: [Harbour] Release 0.36
In-Reply-To: <7623331795.20010220151823@belacy.belgorod.su>
Message-ID: <200102210128.f1L1SrR08613@thor.parrett.net>

** Reply to message from "Alexander S.Kresin" <alex@belacy.belgorod.su>
on Tue, 20 Feb 2001 15:18:23 +0300

I have uploaded the Win32 GCC (Cygwin) build:

> 1-02-20  20:07       1,424,665  harbour-0.36.bin.w32.gcc.zip
> 1-02-20  20:07           5,354  harbour-0.36.log.w32.gcc.zip
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Tue Feb 20 21:14:01 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Tue Feb 20 21:14:01 2001
Subject: [Harbour] Release 0.36
In-Reply-To: <7623331795.20010220151823@belacy.belgorod.su>
Message-ID: <200102210213.f1L2DLR11549@thor.parrett.net>

** Reply to message from "Alexander S.Kresin" <alex@belacy.belgorod.su>
on Tue, 20 Feb 2001 15:18:23 +0300

I have uploaded the Win32 Mingw32 (GCC) build:

> 1-02-20  20:45       1,425,140  harbour-0.36.bin.w32.mingw32.zip
> 1-02-20  20:45           5,380  harbour-0.36.log.w32.mingw32.zip

Note: My first attempt to transfer the harbour-0.36.bin.w32.mingw32.zip
file failed after one third of the way through. The good upload is named
harbour-0.36.bin.w32.mingw32.zip-2 and needs to be renamed.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Tue Feb 20 21:18:01 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Tue Feb 20 21:18:01 2001
Subject: [Harbour] Release 0.36
In-Reply-To: <7623331795.20010220151823@belacy.belgorod.su>
Message-ID: <200102210216.f1L2GxR11816@thor.parrett.net>

** Reply to message from "Alexander S.Kresin" <alex@belacy.belgorod.su>
on Tue, 20 Feb 2001 15:18:23 +0300

I have uploaded the DOS 32-bit DJGPP build:

> 1-02-20  21:08       1,601,044  harbour-0.36.bin.dos.djgpp.zip
> 1-02-20  21:08           7,772  harbour-0.36.log.dos.djgpp.zip
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Wed Feb 21 00:39:01 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb 21 00:39:01 2001
Subject: [Harbour] GetGrip
In-Reply-To: <004d01c09ba0$81ee61d0$921a5e18@bh>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMELGDJAA.Ron@Profit-Master.com>

Brian,

It did appear logical, but we will have to wait for Ryszard's response... 

Ron

> Does anyone have any comments about my suggestions for
> GetGrip/DropGrip  ?????????????????????????
> 
>  Did that look like an appropriate way to handle that issue?
>  There was much discussion 4 months ago with no real resolution; do my
>  proposals appear to be a sound response?  There are lots of 3rd-Party
>  routines that used these functions, so I think a well- thought out
>  implementation is called for.  Since I'm pretty new to low-level memory
>  handling you probably don't want me making these decisions on my 
> own ;-)...
> 
> Brian Hays


From harbour@lists.harbour-project.org  Wed Feb 21 01:08:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb 21 01:08:02 2001
Subject: [Harbour] ChangeLog 2001-02-20 22:00 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <004d01c09ba0$81ee61d0$921a5e18@bh>
Message-ID: <LOBBKAFMMFGJIKLMEPAKCELHDJAA.Ron@Profit-Master.com>

2001-02-20 22:00 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * make_gnu.bat
     ! Fixed maker to make -r
     * Added %HARBOURDIR% and removed trailing slash from HB_BIN_INSTALL,
HB_LIB_INSTALL and HB_INC_INSTALL

   * contrib/dot/pp.prg
     * Minor corrections to stringifys

   * utils/hbtest/hbtest.prg
     * Commented out RddSetDefault( "DBFCDX" )


From harbour@lists.harbour-project.org  Wed Feb 21 01:14:01 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb 21 01:14:01 2001
Subject: [Harbour] Re: Release 0.36
In-Reply-To: <11714073169.20010220221738@belacy.belgorod.su>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGELHDJAA.Ron@Profit-Master.com>

genc.c: In function `hb_p_statics':
genc.c:1610: warning: suggest parentheses around assignment used as truth
value

gtapi.c: In function `hb_gtColorToN':
gtapi.c:446: warning: suggest parentheses around assignment used as truth
value



From harbour@lists.harbour-project.org  Wed Feb 21 01:28:01 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb 21 01:28:01 2001
Subject: [Harbour] ChangeLog 2001-02-20 22:20 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <004d01c09ba0$81ee61d0$921a5e18@bh>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKELHDJAA.Ron@Profit-Master.com>

2001-02-20 22:20 UTC-0800 Ron Pinkas <ron@profit-master.com>
    * utils/hbpp/hbpp.c
      - Removed unused variables and function warned by djgpp

From harbour@lists.harbour-project.org  Wed Feb 21 02:11:01 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Wed Feb 21 02:11:01 2001
Subject: [Harbour] Re: Changelog 2001-02-20 13:10 GMT+3
In-Reply-To: <20010220210736.YAEV4763.mta06.onebox.com@onebox.com>
References: <20010220210736.YAEV4763.mta06.onebox.com@onebox.com>
Message-ID: <1741155918.20010221100916@belacy.belgorod.su>

 Robert,

RH> Using CVS snapshot from 2/19/2001, BCC 5.5(SP2)-Flex, testing I ran locally
RH> shows indexes generated w/ too few keys, too many keys, invalid index
RH> pages (corrupted) on Databases containing a large# (350,000+) of records,
RH> this vs. comparable .NTX files generated w/ Clipper 5.2(e).

RH> I will put together some samples & forward to Alexander today.

 Thanks for your very valuable information.
 I'll check the problem.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Wed Feb 21 02:16:03 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb 21 02:16:03 2001
Subject: [Harbour] Re: Release 0.36
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGELHDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIELIDJAA.Ron@Profit-Master.com>

Uploaded SimpLex build of BCC55, DJGPP, and MSVC:

harbour-slx-0.36.bin.w32.bcc32.zip
harbour-slx-0.36.bin.w32.msvc.zip
harbour-slx-0.36.log.dos.djgpp.zip
harbour-slx-0.36.bin.dos.djgpp.zip

Ron

From harbour@lists.harbour-project.org  Wed Feb 21 04:53:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb 21 04:53:02 2001
Subject: [Harbour] ChangeLog 2001-02-21 01:45 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIELIDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIELJDJAA.Ron@Profit-Master.com>

2001-02-21 01:45 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * contrib/dot/pp.prg
     * Changed all extensions to lower case (.prg, .pp$, .cch ).
     * Changed Chr(13) + Chr(10) to CRLF which is #defined as HB_OsNewLine()
if __HARBOUR__ is defined.
     * Changed literal size of buffer 16384 to PP_BUFFER_SIZE which is
#defined as 16384

     /* Could Linux users please report results... */


From harbour@lists.harbour-project.org  Wed Feb 21 10:57:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Wed Feb 21 10:57:02 2001
Subject: [Harbour] Re: Release 0.36
In-Reply-To: <116541048.20010220183113@belacy.belgorod.su>; from alex@belacy.belgorod.su on Tue, Feb 20, 2001 at 06:31:13PM +0300
References: <7623331795.20010220151823@belacy.belgorod.su> <20010220130451.F26682@hagbard.davep.org> <116541048.20010220183113@belacy.belgorod.su>
Message-ID: <20010221155644.L26682@hagbard.davep.org>

On Tue, Feb 20, 2001 at 06:31:13PM +0300, Alexander S.Kresin wrote:
> On  Tuesday, February 20, 2001, 16:04 Dave Pearson <davep@davep.org> wrote:
> 
> >>  I can also upload
> >>      harbour-0.36.src.tar.gz ( Linux sources ) and
> 
> DP> That should be called harbour-0.36.tar.gz, the "src" isn't required.
> 
>   Sorry, already uploaded.

I forgot that I already had access to the upload directory. I've renamed it
for you.

This (the rediscovered access) also means I can download the file and build
the RPM...

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Wed Feb 21 11:29:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Wed Feb 21 11:29:02 2001
Subject: [Harbour] Warning when building 0.36
Message-ID: <20010221160249.M26682@hagbard.davep.org>

I noticed this warning:

,----
| gcc -I. -I../../../../include -Wall -g  -c ../../genc.c -ogenc.o
| ../../genc.c: In function `hb_p_statics':
| ../../genc.c:1610: warning: suggest parentheses around assignment used as truth value
`----

while building the RPM from the 0.36 sources. Although not fatal it might be
worth cleaning it up.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Wed Feb 21 11:39:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Wed Feb 21 11:39:02 2001
Subject: [Harbour] Release 0.36
In-Reply-To: <7623331795.20010220151823@belacy.belgorod.su>; from alex@belacy.belgorod.su on Tue, Feb 20, 2001 at 03:18:23PM +0300
References: <7623331795.20010220151823@belacy.belgorod.su>
Message-ID: <20010221163745.N26682@hagbard.davep.org>

--+nBD6E3TurpgldQp
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

The source and i386 RPMs are now in the upload directory of the ftp server:

,----
| ncftp ...project.org/ftp/upload > dir *.rpm
| -rw-r--r--   1     898879 Feb 21 16:31 harbour-0.36-1.i386.rpm
| -rw-r--r--   1    1573021 Feb 21 16:36 harbour-0.36-1.src.rpm
`----

Both files are signed with my public key.

The updated .spec file is on my web site.

--=20
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/
--+nBD6E3TurpgldQp
Content-Type: application/pgp-signature
Content-Disposition: inline

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.0.4 (GNU/Linux)
Comment: For info see http://www.gnupg.org

iD8DBQE6k+7ZFHnHju9FN8sRAijhAJ4zmqlHsZaLP5TvDw4z8WaoR9INVwCfcG27
NtAFkrZSkdaPZiU0X0ANFNU=
=4d3L
-----END PGP SIGNATURE-----

--+nBD6E3TurpgldQp--

From harbour@lists.harbour-project.org  Wed Feb 21 12:14:02 2001
From: harbour@lists.harbour-project.org (Ryszard Glab)
Date: Wed Feb 21 12:14:02 2001
Subject: [Harbour] GetGrip
In-Reply-To: <004d01c09ba0$81ee61d0$921a5e18@bh>
Message-ID: <3A940683.20873.47BB88C@localhost>

On 20 Feb 2001, at 16:52, Brian Hays wrote:

> Does anyone have any comments about my suggestions for
> GetGrip/DropGrip  ?????????????????????????
> 
>  Did that look like an appropriate way to handle that issue?
>  There was much discussion 4 months ago with no real resolution; do my
>  proposals appear to be a sound response?  There are lots of 3rd-Party
>  routines that used these functions, so I think a well- thought out
>  implementation is called for.  Since I'm pretty new to low-level memory
>  handling you probably don't want me making these decisions on my own ;-)...

  Sorry, for the delays in responding, I am very busy lately. I am 
working on CDX although slowly - just to assure all :)

Regarding to GetGrip/DropGrip...
  First we should decide for what purposes getgrip/dropgrip were used. It 
seems that they just allocated/deallocated items. For this purposes we 
have hb_itemNew()/hb_itemRelease() already. So we can simple define 
__GetGrip as hb_itemNew and __DropGrip as hb_itemRelease. 
  However this simple solutions has a drawback: it requires that the 
programmer have to explicitly lock/unlock items - this locking is more 
complicated because, in fact, only item's value is locked (arrays and 
codeblocks at this moment). Then calling hb_gcLockItem() before the item 
has assigned a value is useless. The programmer will have to lock an item 
after an every assignment to its item.
  To give all the getgrip/dropgrip (thus ignoring all the garbage 
collector issues) Clipper compatible functionality we will have to choose 
a different approach. __GetGrip have to allocate a memory that can be 
checked by the GC. Notice that it is not important if hb_itemNew() will 
just call getgrip or if getgrip will call hb_itemNew - in Clipper they 
have exactly the same functionality.

  So the proper solution will be a linked list of allocated items and a 
parallel list of deallocated items. __getGrip() should just grab a memory 
from the deallocated items list (move a pointer from deallocated to 
allocated items list) or should allocate a new memory block and add its 
pointer to the allocated items list. __DropGrip() should just move the 
pointer to the deallocated items list. The garbage collector will have to 
walk the list of allocated items similar to walking local/static/memvar 
variables. 

  In an alternative solution the handling of item allocation/deallocation 
can be done by the GC so every memory allocated with __GetGrip() will be 
automatically moved into a locked blocks list - which is managed by the 
GC. This will eliminate the walking through allocated items list speeding 
a garbage collecting. In this case __DropGrip() will remove a memory 
block from locked list into the garbage list which will allow to collect 
a value stored in the item and will move this item into a list of 
deallocated items which will serve as some kind of cache.

Regards, Ryszard

From harbour@lists.harbour-project.org  Wed Feb 21 12:51:02 2001
From: harbour@lists.harbour-project.org (Marek Paliwoda)
Date: Wed Feb 21 12:51:02 2001
Subject: [Harbour] Preprocessor error
References: <LOBBKAFMMFGJIKLMEPAKGEKKDJAA.Ron@Profit-Master.com>
Message-ID: <000c01c09a2e$21ba3b40$71b572c3@map>

Hi Ron,

> Marek,
>
> > Is there any way to define such a recursive translation
> > with a #xcommand ?
> > #xtranslate is not good here because it matches partially.
>
> #XCOMMAND ArrBEG <a> [ ArrayItem(<i>) ] ArrEND => <a> := { [<i>,]{} }
> #XTRANSLATE ArrITEM <i> => ArrayItem( { <(i)> , 0 } )
> #XTRANSLATE SubArrBEG [ArrayItem(<i>)] SubArrEND => ArrayItem( { [<i>, ]>
{} } )
>
> This does work in both Clipper and Harbour.
>
> Maybe Alexander can review the bug you reported, I'll be too busy the next
> few weeks.
>
> Ron

Thanks very much Ron. It really works well both with
Clipper and with Harbour. I really appreciate your work.

Marek



From harbour@lists.harbour-project.org  Wed Feb 21 13:11:01 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Gustavo_A._Gonz=E1lez_M.?=)
Date: Wed Feb 21 13:11:01 2001
Subject: [Harbour] __MvPrivate()
Message-ID: <001301c09c31$ba8e6a80$02f4c4a1@gustavo>

Hi all.

The __MvPrivate() function is an extension that harbour that let create a
private var.

What is the function in Clipper that do this work.

I know the function to do a Public var, but i need so urgent the function to
create a private var from a function without use the command PRIVATE,
because it will be create from a code block.

Please, i need solve me problem in any way...

Regards

--
Gustavo A. González M.
gonzalezgustavo@cantv.net
Caracas - Venezuela


From harbour@lists.harbour-project.org  Wed Feb 21 13:17:02 2001
From: harbour@lists.harbour-project.org (John Skelton)
Date: Wed Feb 21 13:17:02 2001
Subject: [Harbour] GetGrip
Message-ID: <200102211316_MC2-C647-ECFA@compuserve.com>

Brian,

"Does anyone have any comments about my suggestions for
GetGrip/DropGrip  ?"

Good idea.

"Did that look like an appropriate way to handle that issue?"

Having ones used in essentially the same way as Clipper, yes.  But
as to whether you got the code right, I don't know.  I'd like to. :-)

John.

From harbour@lists.harbour-project.org  Wed Feb 21 19:00:03 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Wed Feb 21 19:00:03 2001
Subject: [Harbour] GetGrip
References: <3A940683.20873.47BB88C@localhost>
Message-ID: <002d01c09c63$253353b0$921a5e18@bh>

Ryszard:
Thanks.  I had a different understanding of what __GetGrip did.

It is my understanding that it was primarily for *copying* existing items
for safe keeping.  If this is true, perhaps the solution is simpler?
Here's the description provided by Andi from Tom Groeger:
=======================
_GetGrip  PROTO FAR C, _itemPtr:NEAR PTR  -> nearPtr Item

  Copies a ClipValue to a save place and locks it, so that the garbage
  Collector wan't destroy it. The ItemApi makes extensive use of
  __getGrip/__dropGrip.
  ItemNew for instance creates a new Item on __tos and calles __getgrip,
  which stores the Item away and returnes a (near) pointer to it.

  You must use __dropgrip afterwards to release the Item again !
=======================

If its purpose is just protection of an existing value from the GC, perhaps
a locked copy is good enough?

Related question: Is the reason we only lock arrays and codeblocks
(potentially self-referential items) because our reference counting is
better than Clipper's, so that simple items are not in danger of being
destroyed by the GC?
If so, why would we ever lock "simple" items?
If not, does that mean existing Harbour code leaves some items vulnerable?

Brian

----- Original Message -----
From: "Ryszard Glab" <rglab@imid.med.pl>
To: <harbour@lists.harbour-project.org>
Sent: Wednesday, February 21, 2001 9:18 AM
Subject: Re: [Harbour] GetGrip


> Regarding to GetGrip/DropGrip...
>   First we should decide for what purposes getgrip/dropgrip were used. It
> seems that they just allocated/deallocated items. For this purposes we
> have hb_itemNew()/hb_itemRelease() already. So we can simple define
> __GetGrip as hb_itemNew and __DropGrip as hb_itemRelease.
>   However this simple solutions has a drawback: it requires that the
> programmer have to explicitly lock/unlock items - this locking is more
> complicated because, in fact, only item's value is locked (arrays and
> codeblocks at this moment). Then calling hb_gcLockItem() before the item
> has assigned a value is useless. The programmer will have to lock an item
> after an every assignment to its item.
>   To give all the getgrip/dropgrip (thus ignoring all the garbage
> collector issues) Clipper compatible functionality we will have to choose
> a different approach. __GetGrip have to allocate a memory that can be
> checked by the GC. Notice that it is not important if hb_itemNew() will
> just call getgrip or if getgrip will call hb_itemNew - in Clipper they
> have exactly the same functionality.
>
>   So the proper solution will be a linked list of allocated items and a
> parallel list of deallocated items. __getGrip() should just grab a memory
> from the deallocated items list (move a pointer from deallocated to
> allocated items list) or should allocate a new memory block and add its
> pointer to the allocated items list. __DropGrip() should just move the
> pointer to the deallocated items list. The garbage collector will have to
> walk the list of allocated items similar to walking local/static/memvar
> variables.
>
>   In an alternative solution the handling of item allocation/deallocation
> can be done by the GC so every memory allocated with __GetGrip() will be
> automatically moved into a locked blocks list - which is managed by the
> GC. This will eliminate the walking through allocated items list speeding
> a garbage collecting. In this case __DropGrip() will remove a memory
> block from locked list into the garbage list which will allow to collect
> a value stored in the item and will move this item into a list of
> deallocated items which will serve as some kind of cache.
>
> Regards, Ryszard
>


From harbour@lists.harbour-project.org  Wed Feb 21 19:34:01 2001
From: harbour@lists.harbour-project.org (Andi Jahja)
Date: Wed Feb 21 19:34:01 2001
Subject: [Harbour] __MvPrivate()
Message-ID: <482569FB.0002A463.00@smtp.aon-asia.com>


Gustavo,

The "equivalent" may be __QQPUB(). I know it is not a "private" but its=

"father" :)

Andi Jahja





"Gustavo A. Gonz=E1lez M." <gonzalezgustavo@cantv.net> on 02/22/2001 01=
:10:47
AM

Please respond to harbour@lists.harbour-project.org
                                                             =20
                                                             =20
                                                             =20
  To:          "Grupo harbour"                               =20
               <harbour@lists.harbour-project.org>           =20
                                                             =20
  cc:          (bcc: Andi Jahja/ARS/ID/AON)                  =20
                                                             =20
                                                             =20
                                                             =20
  Subject      [Harbour] __MvPrivate()                       =20
  :                                                          =20
                                                             =20





=


Hi all.

The __MvPrivate() function is an extension that harbour that let create=
 a
private var.

What is the function in Clipper that do this work.

I know the function to do a Public var, but i need so urgent the functi=
on
to
create a private var from a function without use the command PRIVATE,
because it will be create from a code block.

Please, i need solve me problem in any way...

Regards

--
Gustavo A. Gonz=E1lez M.
gonzalezgustavo@cantv.net
Caracas - Venezuela

_______________________________________________
Harbour mailing list
Harbour@lists.harbour-project.org
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org


=



From harbour@lists.harbour-project.org  Wed Feb 21 19:45:03 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Gustavo_A._Gonz=E1lez_M.?=)
Date: Wed Feb 21 19:45:03 2001
Subject: [Harbour] __MvPrivate()
References: <482569FB.0002A463.00@smtp.aon-asia.com>
Message-ID: <00b201c09c68$c7050260$40f4c4a1@gustavo>

Andi.

Right, __qqpub() create a public var. I need create a private var.

Regards.

--
Gustavo A. González M.
gonzalezgustavo@cantv.net
Caracas - Venezuela

----- Original Message -----
From: Andi Jahja <Andi_Jahja@aon-asia.com>
To: <harbour@lists.harbour-project.org>
Sent: Wednesday, February 21, 2001 8:32 PM
Subject: Re: [Harbour] __MvPrivate()




Gustavo,

The "equivalent" may be __QQPUB(). I know it is not a "private" but its
"father" :)

Andi Jahja



"Gustavo A. González M." <gonzalezgustavo@cantv.net> on 02/22/2001 01:10:47
AM

Please respond to harbour@lists.harbour-project.org



  To:          "Grupo harbour"
               <harbour@lists.harbour-project.org>

  cc:          (bcc: Andi Jahja/ARS/ID/AON)



  Subject      [Harbour] __MvPrivate()
  :








Hi all.

The __MvPrivate() function is an extension that harbour that let create a
private var.

What is the function in Clipper that do this work.

I know the function to do a Public var, but i need so urgent the function
to
create a private var from a function without use the command PRIVATE,
because it will be create from a code block.

Please, i need solve me problem in any way...

Regards

--
Gustavo A. González M.
gonzalezgustavo@cantv.net
Caracas - Venezuela

_______________________________________________
Harbour mailing list
Harbour@lists.harbour-project.org
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org




_______________________________________________
Harbour mailing list
Harbour@lists.harbour-project.org
http://www.matrixlist.com/mailman/listinfo/harbour

Thank you for participating in The Harbour Project.  Be sure to check
http://www.Harbour-Project.org



From harbour@lists.harbour-project.org  Wed Feb 21 21:26:01 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb 21 21:26:01 2001
Subject: [Harbour] __MvPrivate()
In-Reply-To: <001301c09c31$ba8e6a80$02f4c4a1@gustavo>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEELNDJAA.Ron@Profit-Master.com>

Gustavo,

I don't think you can create a private from *within* a CodeBlock because if
you did the scope of it would be the EVAL() function so it would be of no
value to anyone else!!!

This is why a macro assignment which normally creates a private variable if
it does not exist doe NOT work in block. Consider this:

Function Test()

   LOCAL cVar := "Var1"

   &cVar := "New private"

   ? M->Var1 // New Private

   Eval( {|cMacro| &cMacro := "Error" }, "Var2" ) // Syntax error &

   ? M->Var2 // Will never get here

RETURN NIL

Why should you create a PRIVATE from a block? Who should be the owner of the
PRIVATE?

Ron

> Hi all.
>
> The __MvPrivate() function is an extension that harbour that let create a
> private var.
>
> What is the function in Clipper that do this work.
>
> I know the function to do a Public var, but i need so urgent the
> function to
> create a private var from a function without use the command PRIVATE,
> because it will be create from a code block.
>
> Please, i need solve me problem in any way...
>
> Regards
>
> --
> Gustavo A. González M.
> gonzalezgustavo@cantv.net
> Caracas - Venezuela


From harbour@lists.harbour-project.org  Wed Feb 21 22:10:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb 21 22:10:02 2001
Subject: [Harbour] GetGrip
In-Reply-To: <3A940683.20873.47BB88C@localhost>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAELODJAA.Ron@Profit-Master.com>

Ryszard,

The same problem you describe is true for hb_gcLockItem() and
hb_gcUnlockItem()!

If we lock the item and later assign new value, we will have the exact same
problem. It might later result in "orphan" locked blocks, which will never
be unlocked (and never released), or might result in an item which is
considered locked to "lose" it value!

I would like to suggest an alternative approach:

1. Add a bit representing a LOCK to the item type so we can have a macro
IS_LOCKED( pItem ).

2. hb_gcLockItem() will set this bit ON.

3. All functions that assign new value into a pItem parameter, will check if
the Item is Locked. If LOCKED:

  a. If of type ARRAY they will issue hb_gcUnlock(
pItem->item.asArray.value ) (not resetting the LOCK bit).

  b. If of type BLOCK they will issue hb_gcUnlock(
pItem->item.asBlock.value ) (not resetting the LOCK bit).

  c. If the new assigned value is Block or Array, they will issue
hb_gcLock( pItem->item.asArray.value ) or hb_gcLock(
pItem->item.asBlock.value ).

  d. Otherwise the LOCK bit will just remain ON.

  e. As long as the LOCK bit is *not* reset by hb_gcUnlockItem() all
assignments will continue to issue a hb_gcLock() once a block or array are
assigned.

4. hb_gcUnlockItem() will reset the LOCK bit.

This will assure that a locked item will "survive" an assignment, and will
eliminate "orphan" locked memory blocks.

This will allow a very simple implementation of Get/DropGrip along as
described by Brian.

Ron

> Regarding to GetGrip/DropGrip...
>   First we should decide for what purposes getgrip/dropgrip were used. It
> seems that they just allocated/deallocated items. For this purposes we
> have hb_itemNew()/hb_itemRelease() already. So we can simple define
> __GetGrip as hb_itemNew and __DropGrip as hb_itemRelease.
>   However this simple solutions has a drawback: it requires that the
> programmer have to explicitly lock/unlock items - this locking is more
> complicated because, in fact, only item's value is locked (arrays and
> codeblocks at this moment). Then calling hb_gcLockItem() before the item
> has assigned a value is useless. The programmer will have to lock an item
> after an every assignment to its item.
>   To give all the getgrip/dropgrip (thus ignoring all the garbage
> collector issues) Clipper compatible functionality we will have to choose
> a different approach. __GetGrip have to allocate a memory that can be
> checked by the GC. Notice that it is not important if hb_itemNew() will
> just call getgrip or if getgrip will call hb_itemNew - in Clipper they
> have exactly the same functionality.
>
>   So the proper solution will be a linked list of allocated items and a
> parallel list of deallocated items. __getGrip() should just grab a memory
> from the deallocated items list (move a pointer from deallocated to
> allocated items list) or should allocate a new memory block and add its
> pointer to the allocated items list. __DropGrip() should just move the
> pointer to the deallocated items list. The garbage collector will have to
> walk the list of allocated items similar to walking local/static/memvar
> variables.
>
>   In an alternative solution the handling of item allocation/deallocation
> can be done by the GC so every memory allocated with __GetGrip() will be
> automatically moved into a locked blocks list - which is managed by the
> GC. This will eliminate the walking through allocated items list speeding
> a garbage collecting. In this case __DropGrip() will remove a memory
> block from locked list into the garbage list which will allow to collect
> a value stored in the item and will move this item into a list of
> deallocated items which will serve as some kind of cache.
>
> Regards, Ryszard


From harbour@lists.harbour-project.org  Thu Feb 22 01:44:04 2001
From: harbour@lists.harbour-project.org (Jonce Huang)
Date: Thu Feb 22 01:44:04 2001
Subject: [Harbour] About db.... functions
References: <NCBBJKNMIDPJNLJCHCHIEEJIFPAA.harbour@winfakt.com>
Message-ID: <010e01c09c9b$0af0efc0$0201a8c0@jonce>

I saw there are many funcitons lead with 'db' is not completed yet.
Maybe you guys can use anoter GPL named "Xbase" or ask the author for
some help. ^_^

http://linux.techass.com/projects/xdb/

In my opinion, db funcion is the most important part of Clipper user.

BTW may I know is MYSQL support is still working?

Sorry for my English.

summary from the homepage:

What is it?
Xbase is a colletion of specifiations, programs, utilities and a C++ class library for manipulating Xbase type datafiles and indices
What we have here is not only a C++ class library compatible with older .dbf, .ndx and .ntx files, and various utilities, but a
viable database development environment for future projects requiring a lightweight database engine.

We define XBase here to mean any dBase, Clipper, FoxPro, etc. compatible database (including index and memo files). Currently, XBase
supports DBF (dBase and other) database files, NDX (dbase) and NTX (Clipper) index files, and DBT (dBase and other) memo field
files. xBase (with a lowercase 'x') means the xBase library. We hope to add support for other XBase file formats in the future.

We intend to provide complete backwards compatibility with the original xBase library.

We welcome any bugfixes and/or enhancements. Please see the developer section (below) for more details.




From harbour@lists.harbour-project.org  Thu Feb 22 01:58:03 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb 22 01:58:03 2001
Subject: [Harbour] MAKE_GNU with MingW32
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKAELODJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKCEMADJAA.Ron@Profit-Master.com>

Can anyone help me understand these errors reported when using

   make_gnu install

with the following setting:

HB_BIN_INSTALL=C:/CVS/HARBOUR/bin
HB_LIB_INSTALL=C:/CVS/HARBOUR/lib
HB_INC_INSTALL=C:/CVS/HARBOUR/include
HARBOURDIR=C:/CVS/HARBOUR
HB_ARCHITECTURE=w32
HB_COMPILER=mingw32
HB_GT_LIB=gtw32
HB_LEX=SIMPLEX
HB_BIN_DIR=C:/CVS/HARBOUR/BIN
HB_LIB_DIR=C:/CVS/HARBOUR/LIB
HB_INC_DIR=C:/CVS/HARBOUR/INCLUDE

Strangely, the make_gnu.log file does not reveal any error!

---------------------------------------
No command name seen.
make.exe[3]: *** [libcommon.a] Error -1
make.exe[2]: *** [descend] Error 2
No command name seen.
make.exe[3]: *** [libpp.a] Error -1
make.exe[2]: *** [descend] Error 2
../../genc.c: In function `hb_p_statics':
../../genc.c:1610: warning: suggest parentheses around assignment used as
truth
value
GCC.EXE: hbfi: No such file or directory
make.exe[3]: *** [harbour.exe] Error 1
make.exe[2]: *** [descend] Error 2
Directory already exists
Directory already exists
../../gtapi.c: In function `hb_gtColorToN':
../../gtapi.c:446: warning: suggest parentheses around assignment used as
truth
value
make.exe[3]: *** [achoice.c] Error -1
make.exe[2]: *** [descend] Error 2
make.exe[3]: *** [harbinit.c] Error -1
make.exe[2]: *** [descend] Error 2
No command name seen.
make.exe[3]: *** [libmacro.a] Error -1
make.exe[2]: *** [descend] Error 2
C:\MINGW32\BIN\AR.EXE: ms: No such file or directory
No command name seen.
make.exe[3]: *** [liblang.a] Error -1
make.exe[2]: *** [descend] Error 2
Directory already exists
Directory already exists
In file included from ../../dbcmd.c:3205:
../../rddcpy.c: In function `rddMoveRecords':
../../rddcpy.c:122: warning: unused variable `pEvalInfo'
../../rddcpy.c:116: warning: unused variable `szFileName'
../../dbcmd.c: At top level:
../../dbcmd.c:92: warning: `hb_waNull' defined but not used
make.exe[3]: *** [dbf0.c] Error -1
make.exe[2]: *** [descend] Error 2
make.exe[3]: *** [dbgmenu.c] Error -1
make.exe[2]: *** [descend] Error 2
../../hbpp.c: In function `main':
../../hbpp.c:89: warning: unused variable `szDefText'
make.exe[3]: *** [hbrun.c] Error -1
make.exe[2]: *** [descend] Error 2
make.exe[3]: *** [hbdoc.c] Error -1
make.exe[2]: *** [descend] Error 2
make.exe[3]: *** [hbtest.c] Error -1
make.exe[2]: *** [descend] Error 2
make.exe[3]: *** [hbmake.c] Error -1
make.exe[2]: *** [descend] Error 2


From harbour@lists.harbour-project.org  Thu Feb 22 02:15:05 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb 22 02:15:05 2001
Subject: [Harbour] MAKE_GNU with MingW32
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEMADJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEMADJAA.Ron@Profit-Master.com>

Apparently it has to do with too long command line so that file name is
being cut off.

I already experienced this problem with makefile.vc on my WinMe system, the
same make file works on Win98 SE!

Is there anyway to allow a longer command line in WinMe?

Ron

> > Can anyone help me understand these errors reported when using
>
>    make_gnu install
>
> with the following setting:
>
> HB_BIN_INSTALL=C:/CVS/HARBOUR/bin
> HB_LIB_INSTALL=C:/CVS/HARBOUR/lib
> HB_INC_INSTALL=C:/CVS/HARBOUR/include
> HARBOURDIR=C:/CVS/HARBOUR
> HB_ARCHITECTURE=w32
> HB_COMPILER=mingw32
> HB_GT_LIB=gtw32
> HB_LEX=SIMPLEX
> HB_BIN_DIR=C:/CVS/HARBOUR/BIN
> HB_LIB_DIR=C:/CVS/HARBOUR/LIB
> HB_INC_DIR=C:/CVS/HARBOUR/INCLUDE
>
> Strangely, the make_gnu.log file does not reveal any error!


From harbour@lists.harbour-project.org  Thu Feb 22 02:22:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb 22 02:22:02 2001
Subject: [Harbour] MAKE_GNU with MingW32
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEMADJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKCEMBDJAA.Ron@Profit-Master.com>

FWIW, I'm able to type 117 characters at the command prompt.

> Apparently it has to do with too long command line so that file name is
> being cut off.
> 
> I already experienced this problem with makefile.vc on my WinMe 
> system, the
> same make file works on Win98 SE!
> 
> Is there anyway to allow a longer command line in WinMe?
> 
> Ron
> 
> > > Can anyone help me understand these errors reported when using
> >
> >    make_gnu install
> >
> > with the following setting:
> >
> > HB_BIN_INSTALL=C:/CVS/HARBOUR/bin
> > HB_LIB_INSTALL=C:/CVS/HARBOUR/lib
> > HB_INC_INSTALL=C:/CVS/HARBOUR/include
> > HARBOURDIR=C:/CVS/HARBOUR
> > HB_ARCHITECTURE=w32
> > HB_COMPILER=mingw32
> > HB_GT_LIB=gtw32
> > HB_LEX=SIMPLEX
> > HB_BIN_DIR=C:/CVS/HARBOUR/BIN
> > HB_LIB_DIR=C:/CVS/HARBOUR/LIB
> > HB_INC_DIR=C:/CVS/HARBOUR/INCLUDE
> >
> > Strangely, the make_gnu.log file does not reveal any error!


From harbour@lists.harbour-project.org  Thu Feb 22 02:23:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Thu Feb 22 02:23:02 2001
Subject: [Harbour] MAKE_GNU with MingW32
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEMADJAA.Ron@Profit-Master.com>
References: <LOBBKAFMMFGJIKLMEPAKCEMADJAA.Ron@Profit-Master.com>
Message-ID: <200102220722.f1M7M3R10514@thor.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Wed, 21 Feb 2001 23:13:11 -0800

> Is there anyway to allow a longer command line in WinMe?

Try downloading and installing TakeCommand/32 from http://www.jpsoft.com/
and then running the make file from inside a TakeCommand/32 window. I do
not know if this will work, but it's worth a try (there's a 20-day trial
use period).
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Thu Feb 22 02:26:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb 22 02:26:02 2001
Subject: [Harbour] MAKE_GNU with MingW32
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEMBDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEMBDJAA.Ron@Profit-Master.com>

Sorry 127.

1. Isn't this the same limit in Win98?
2. Why am I not seeing this problem with djgpp?

> FWIW, I'm able to type 117 characters at the command prompt.
> 
> > Apparently it has to do with too long command line so that file name is
> > being cut off.
> > 
> > I already experienced this problem with makefile.vc on my WinMe 
> > system, the
> > same make file works on Win98 SE!
> > 
> > Is there anyway to allow a longer command line in WinMe?
> > 
> > Ron
> > 
> > > > Can anyone help me understand these errors reported when using
> > >
> > >    make_gnu install
> > >
> > > with the following setting:
> > >
> > > HB_BIN_INSTALL=C:/CVS/HARBOUR/bin
> > > HB_LIB_INSTALL=C:/CVS/HARBOUR/lib
> > > HB_INC_INSTALL=C:/CVS/HARBOUR/include
> > > HARBOURDIR=C:/CVS/HARBOUR
> > > HB_ARCHITECTURE=w32
> > > HB_COMPILER=mingw32
> > > HB_GT_LIB=gtw32
> > > HB_LEX=SIMPLEX
> > > HB_BIN_DIR=C:/CVS/HARBOUR/BIN
> > > HB_LIB_DIR=C:/CVS/HARBOUR/LIB
> > > HB_INC_DIR=C:/CVS/HARBOUR/INCLUDE
> > >
> > > Strangely, the make_gnu.log file does not reveal any error!
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 

From harbour@lists.harbour-project.org  Thu Feb 22 02:29:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Thu Feb 22 02:29:02 2001
Subject: [Harbour] Release 0.36
In-Reply-To: <7623331795.20010220151823@belacy.belgorod.su>
Message-ID: <200102220727.f1M7RxR10816@thor.parrett.net>

** Reply to message from "Alexander S.Kresin" <alex@belacy.belgorod.su>
on Tue, 20 Feb 2001 15:18:23 +0300

I have uploaded a dos.bcc16 package that uses the HARBOUR.EXE from the
dos.djgpp package (the note below the quoted directory listing is the
same one that is on my web site - feel free to use it verbatim or
edited):

> 1-02-22   1:43       1,509,008  harbour-0.36.bin.dos.bcc16.zip
> 1-02-22   1:43          12,436  harbour-0.36.log.dos.bcc16.zip

Note: While it is possible to build a 16-bit Harbour compiler, it runs
out of memory easily, rendering it useless except for trivial programs.
But it isn't necessary to compile Harbour programs with a 16-bit
compiler in order to run them on a 16-bit platform. Which is why the
dos.bcc16 package uses the 32-bit compiler (HARBOUR.EXE) from the
dos.djgpp package. All other Harbour binaries in the dos.bcc16 package
were created with BCC 3.1.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Thu Feb 22 02:32:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb 22 02:32:02 2001
Subject: [Harbour] MAKE_GNU with MingW32
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEMBDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMEMBDJAA.Ron@Profit-Master.com>

Here is a small sample:

make.exe[3]: Entering directory `c:/cvs/harbour/source/lang/w32/mingw32'
ar  r liblang.a msgca.o msgcs852.o msgcsiso.o msgcskam.o msgcswin.o msgde.o
msge
n.o msges.o msgeu.o msgfr.o msggl.o msghe862.o msghewin.o msghr852.o
msghriso.o
msghu852.o msghucwi.o msghuwin.o msgid.o msgis850.o msgit.o msgko.o msgpt.o
msgr
o.o msgsr852.o msgsriso.o || del liblang.a

This is way too long for command.com, is it not?

Any ideas?


From harbour@lists.harbour-project.org  Thu Feb 22 02:34:01 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Thu Feb 22 02:34:01 2001
Subject: [Harbour] MAKE_GNU with MingW32
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEMBDJAA.Ron@Profit-Master.com>
References: <LOBBKAFMMFGJIKLMEPAKKEMADJAA.Ron@Profit-Master.com>
Message-ID: <200102220733.f1M7XYR11086@thor.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Wed, 21 Feb 2001 23:19:55 -0800

> FWIW, I'm able to type 117 characters at the command prompt.

TakeCommand/2 should be able to expand that to at least 255.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Thu Feb 22 02:38:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Thu Feb 22 02:38:02 2001
Subject: [Harbour] Changelog 2001-02-22 10:25 GMT+3
Message-ID: <36600220.20010222103409@belacy.belgorod.su>

2001-02-22 10:25 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/source/rdd/dbfntx/dbfntx1.c
     * few bugs fixed, reported by Robert Haley
   * harbour/tests/Makefile
     * readfile.prg moved to BAD SOURCES, because it doesn't compiled under Linux,
     * testntx.prg added
   * harbour/tests/testntx.prg
     * minor fixes

     I didn't tried yet big databases ( 350 000+ records ), Robert
     wrote about,
     but the tests he sent me works Ok now.
     Clipper still hangs opening some of indexes, build by Harbour,
     though Harbour reads them well. Maybe, that's bugs in Clipper :)
     ...

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Thu Feb 22 02:38:23 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Thu Feb 22 02:38:23 2001
Subject: [Harbour] release 0.36 ( Patrick )
Message-ID: <736744749.20010222103633@belacy.belgorod.su>

Patrick,
 are you got all what is needed for releasing 0.36 ?


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Thu Feb 22 02:48:01 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Thu Feb 22 02:48:01 2001
Subject: [Harbour] MAKE_GNU with MingW32
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEMBDJAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Wed, Feb 21, 2001 at 11:24:02PM -0800
References: <LOBBKAFMMFGJIKLMEPAKCEMBDJAA.Ron@Profit-Master.com> <LOBBKAFMMFGJIKLMEPAKIEMBDJAA.Ron@Profit-Master.com>
Message-ID: <20010222074659.U26682@hagbard.davep.org>

On Wed, Feb 21, 2001 at 11:24:02PM -0800, Ron Pinkas wrote:

> 2. Why am I not seeing this problem with djgpp?

The DJGPP suite of tools use special measures to get round the restricted
command line length problem.

See <URL:http://www.delorie.com/djgpp/v2faq/faq16_4.html> for some detail
about how this happens.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Thu Feb 22 03:14:01 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Thu Feb 22 03:14:01 2001
Subject: [Harbour] release 0.36 ( Patrick )
In-Reply-To: <736744749.20010222103633@belacy.belgorod.su>
Message-ID: <NCBBJKNMIDPJNLJCHCHIMELFFPAA.harbour@winfakt.com>

Alexander,

>  are you got all what is needed for releasing 0.36 ?
Let me check.
If everything is there I can make the release in about 8 hours from now.

Is the WhatsNew Completed? :

- Inline C code
- Dot prompt
- More support for ADS databases
- Improved and fixed stack handling
- Improved OOP
- Better Class(y) and TopClass compatibility
- MemoEdit() - 95% complete :-)
- More improved TBrowse class
- NTX read and write support
- Debugger: lots of improvements.
- Finished APPEND FROM & COPY TO <==??

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Thu Feb 22 03:36:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb 22 03:36:02 2001
Subject: [Harbour] MAKE_GNU with MingW32
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKMEMBDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEMDDJAA.Ron@Profit-Master.com>

I changed config/w32/mingw32.cf to use temp files like djgpp.cf uses, but
when issuing:

gcc @__link__.tmp

I get:

GCC.EXE: @__link__.tmp: No such file or directory
GCC.EXE: No input files

__link__.tmp does exist, it seems as @ is not considered a script
directive???

Any ideas...

Ron


From harbour@lists.harbour-project.org  Thu Feb 22 04:08:01 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Thu Feb 22 04:08:01 2001
Subject: [Harbour] Re: release 0.36 ( Patrick )
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIMELFFPAA.harbour@winfakt.com>
References: <NCBBJKNMIDPJNLJCHCHIMELFFPAA.harbour@winfakt.com>
Message-ID: <1411587649.20010222115715@belacy.belgorod.su>

On 22.02.2001 11:13, Patrick Mast <harbour@winfakt.com> wrote:

PM> Is the WhatsNew Completed? :

PM> - Inline C code
PM> - Dot prompt
PM> - More support for ADS databases
PM> - Improved and fixed stack handling
PM> - Improved OOP
PM> - Better Class(y) and TopClass compatibility
PM> - MemoEdit() - 95% complete :-)
PM> - More improved TBrowse class
PM> - NTX read and write support
PM> - Debugger: lots of improvements.
PM> - Finished APPEND FROM & COPY TO <==??

 Yes, I think.

Best regards,
 Alexander



From harbour@lists.harbour-project.org  Thu Feb 22 04:12:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Thu Feb 22 04:12:02 2001
Subject: [Harbour] About db.... functions
References: <NCBBJKNMIDPJNLJCHCHIEEJIFPAA.harbour@winfakt.com> <010e01c09c9b$0af0efc0$0201a8c0@jonce>
Message-ID: <3A94D78C.67DF051A@libero.it>

Jonce,

MySQL support should work without problems since it does not rely upon a
particular harbour version.

regards.

Jonce Huang ha scritto:
> 
> I saw there are many funcitons lead with 'db' is not completed yet.
> Maybe you guys can use anoter GPL named "Xbase" or ask the author for
> some help. ^_^
> 
> http://linux.techass.com/projects/xdb/
> 
> In my opinion, db funcion is the most important part of Clipper user.
> 
> BTW may I know is MYSQL support is still working?
> 
> Sorry for my English.
> 
> summary from the homepage:
> 
> What is it?
> Xbase is a colletion of specifiations, programs, utilities and a C++ class library for manipulating Xbase type datafiles and indices
> What we have here is not only a C++ class library compatible with older .dbf, .ndx and .ntx files, and various utilities, but a
> viable database development environment for future projects requiring a lightweight database engine.
> 
> We define XBase here to mean any dBase, Clipper, FoxPro, etc. compatible database (including index and memo files). Currently, XBase
> supports DBF (dBase and other) database files, NDX (dbase) and NTX (Clipper) index files, and DBT (dBase and other) memo field
> files. xBase (with a lowercase 'x') means the xBase library. We hope to add support for other XBase file formats in the future.
> 
> We intend to provide complete backwards compatibility with the original xBase library.
> 
> We welcome any bugfixes and/or enhancements. Please see the developer section (below) for more details.
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 

 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Thu Feb 22 04:23:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb 22 04:23:02 2001
Subject: [Harbour] ChangeLog 2001-02-22 01:10 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEMDDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEMEDJAA.Ron@Profit-Master.com>

2001-02-22 01:10 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * source/pp/ppcore.c
     ! Fixed NextName() to skip over .AND., .NOT. and .OR.

   * config/w32/mingw32.cf
     + Added rules to use script files for long command lines, but commented
out because @scripts did not work.


From harbour@lists.harbour-project.org  Thu Feb 22 04:44:01 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb 22 04:44:01 2001
Subject: [Harbour] PP problems.
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEMEDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEMEDJAA.Ron@Profit-Master.com>

Alexander,

Check the following:

//--------------------------------------------------------------------------
-----//
#xcommand Repeat Dumb   [<bar>]     => RepeatDumb( [#<bar>,] )
#xcommand Repeat Normal [<bar>]     => RepeatNormal( [<"bar">,] )
#xcommand Repeat Smart  [<bar>]     => RepeatSmart( [<(bar)>,] )
#xcommand List   Dumb   [<bar,...>] => ListDumb( #<bar> )
#xcommand List   Normal [<bar,...>] => ListNormal( <"bar"> )
#xcommand List   Smart  [<bar,...>] => ListSmart( <(bar)> )

Function Main()

   PRIVATE cMacro := "Macro"

   Repeat Dumb   Var &cMacro "Str-1'" "Str-1a]" 'Str-2"' 'Str-2a]' [Str-3'"]

   Repeat Normal Var &cMacro "Str-1'" "Str-1a]" 'Str-2"' 'Str-2a]' [Str-3'"]

   Repeat Smart  Var &cMacro "Str-1'" "Str-1a]" 'Str-2"' 'Str-2a]' [Str-3'"]


   List   Dumb   Var, &cMacro, "Str-1'", "Str-1a]", 'Str-2"', 'Str-2a]',
[Str-3'"]

   List   Normal Var, &cMacro, "Str-1'", "Str-1a]", 'Str-2"', 'Str-2a]',
[Str-3'"]

   List   Smart  Var, &cMacro, "Str-1'", "Str-1a]", 'Str-2"', 'Str-2a]',
[Str-3'"]

RETURN NIL
//--------------------------------------------------------------------------
-----//

Ron


From harbour@lists.harbour-project.org  Thu Feb 22 04:45:03 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Thu Feb 22 04:45:03 2001
Subject: [Harbour] MAKE_GNU with MingW32
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEMDDJAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Thu, Feb 22, 2001 at 12:33:50AM -0800
References: <LOBBKAFMMFGJIKLMEPAKMEMBDJAA.Ron@Profit-Master.com> <LOBBKAFMMFGJIKLMEPAKIEMDDJAA.Ron@Profit-Master.com>
Message-ID: <20010222094249.X26682@hagbard.davep.org>

On Thu, Feb 22, 2001 at 12:33:50AM -0800, Ron Pinkas wrote:
> I changed config/w32/mingw32.cf to use temp files like djgpp.cf uses, but
> when issuing:
> 
> gcc @__link__.tmp
> 
> I get:
> 
> GCC.EXE: @__link__.tmp: No such file or directory
> GCC.EXE: No input files
> 
> __link__.tmp does exist, it seems as @ is not considered a script
> directive???

See the URL I posted a little earlier. The "@" thing is specific to DJGPP,
it's a method of getting round restrictive command line lengths in the
environments in which DJGPP works. It isn't a DJGPP thing.

Does the documentation for the port of GCC in question suggest to you that
it does allow you to use "@" in this way?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Thu Feb 22 04:57:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Thu Feb 22 04:57:02 2001
Subject: [Harbour] MAKE_GNU with MingW32
In-Reply-To: <20010222094249.X26682@hagbard.davep.org>; from davep@davep.org on Thu, Feb 22, 2001 at 09:42:49AM +0000
References: <LOBBKAFMMFGJIKLMEPAKMEMBDJAA.Ron@Profit-Master.com> <LOBBKAFMMFGJIKLMEPAKIEMDDJAA.Ron@Profit-Master.com> <20010222094249.X26682@hagbard.davep.org>
Message-ID: <20010222095613.Y26682@hagbard.davep.org>

On Thu, Feb 22, 2001 at 09:42:49AM +0000, Dave Pearson wrote:

> See the URL I posted a little earlier. The "@" thing is specific to DJGPP,
> it's a method of getting round restrictive command line lengths in the
> environments in which DJGPP works. It isn't a DJGPP thing.

Ooops, that last sentence should have read "It isn't a *GCC* thing". IOW, it
is a DJGPP thing.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Thu Feb 22 04:59:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb 22 04:59:02 2001
Subject: [Harbour] MAKE_GNU with MingW32
In-Reply-To: <20010222094249.X26682@hagbard.davep.org>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEMFDJAA.Ron@Profit-Master.com>

Both the DJGPP and the MingW32 have no mention of the '@' when issuing:

gcc --help

Ron

> > I changed config/w32/mingw32.cf to use temp files like djgpp.cf
> uses, but
> > when issuing:
> >
> > gcc @__link__.tmp
> >
> > I get:
> >
> > GCC.EXE: @__link__.tmp: No such file or directory
> > GCC.EXE: No input files
> >
> > __link__.tmp does exist, it seems as @ is not considered a script
> > directive???
>
> See the URL I posted a little earlier. The "@" thing is specific to DJGPP,
> it's a method of getting round restrictive command line lengths in the
> environments in which DJGPP works. It isn't a DJGPP thing.
>
> Does the documentation for the port of GCC in question suggest to you that
> it does allow you to use "@" in this way?
>
> --
> The Harbour Project: A free software Clipper compatible compiler
> Home Page..........: http://www.harbour-project.org/
> FAQ................: http://www.harbour-project.org/faq/harbour.html
> My harbour page....: http://www.davep.org/harbour/


From harbour@lists.harbour-project.org  Thu Feb 22 05:02:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb 22 05:02:02 2001
Subject: [Harbour] PP problems.
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEMEDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMEMFDJAA.Ron@Profit-Master.com>

For a very interesting Clipper PP bug, check this:

   Repeat Dumb   Var (Exp)

   Repeat Normal Var (Exp)

   Repeat Smart  Var (Exp)

Ron

> Alexander,
> 
> Check the following:
> 
> //----------------------------------------------------------------
> ----------
> -----//
> #xcommand Repeat Dumb   [<bar>]     => RepeatDumb( [#<bar>,] )
> #xcommand Repeat Normal [<bar>]     => RepeatNormal( [<"bar">,] )
> #xcommand Repeat Smart  [<bar>]     => RepeatSmart( [<(bar)>,] )
> #xcommand List   Dumb   [<bar,...>] => ListDumb( #<bar> )
> #xcommand List   Normal [<bar,...>] => ListNormal( <"bar"> )
> #xcommand List   Smart  [<bar,...>] => ListSmart( <(bar)> )
> 
> Function Main()
> 
>    PRIVATE cMacro := "Macro"
> 
>    Repeat Dumb   Var &cMacro "Str-1'" "Str-1a]" 'Str-2"' 
> 'Str-2a]' [Str-3'"]
> 
>    Repeat Normal Var &cMacro "Str-1'" "Str-1a]" 'Str-2"' 
> 'Str-2a]' [Str-3'"]
> 
>    Repeat Smart  Var &cMacro "Str-1'" "Str-1a]" 'Str-2"' 
> 'Str-2a]' [Str-3'"]
> 
> 
>    List   Dumb   Var, &cMacro, "Str-1'", "Str-1a]", 'Str-2"', 'Str-2a]',
> [Str-3'"]
> 
>    List   Normal Var, &cMacro, "Str-1'", "Str-1a]", 'Str-2"', 'Str-2a]',
> [Str-3'"]
> 
>    List   Smart  Var, &cMacro, "Str-1'", "Str-1a]", 'Str-2"', 'Str-2a]',
> [Str-3'"]
> 
> RETURN NIL
> //----------------------------------------------------------------
> ----------
> -----//
> 
> Ron


From harbour@lists.harbour-project.org  Thu Feb 22 05:09:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb 22 05:09:02 2001
Subject: [Harbour] PP problems.
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKMEMFDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEMGDJAA.Ron@Profit-Master.com>

Actually, this is better example:

   Repeat Dumb   Var "Str" (Exp)

   Repeat Normal Var "Str" (Exp)

   Repeat Smart  Var "Str" (Exp)

Because in the prior example it *is* correct for the Var and (Exp) to be
treated as var(Exp), but certainly "Str" and (Exp) can not be considered a
single expression.

Ron

> For a very interesting Clipper PP bug, check this:
>
>    Repeat Dumb   Var (Exp)
>
>    Repeat Normal Var (Exp)
>
>    Repeat Smart  Var (Exp)
>
> Ron
>
> > Alexander,
> >
> > Check the following:
> >
> > //----------------------------------------------------------------
> > ----------
> > -----//
> > #xcommand Repeat Dumb   [<bar>]     => RepeatDumb( [#<bar>,] )
> > #xcommand Repeat Normal [<bar>]     => RepeatNormal( [<"bar">,] )
> > #xcommand Repeat Smart  [<bar>]     => RepeatSmart( [<(bar)>,] )
> > #xcommand List   Dumb   [<bar,...>] => ListDumb( #<bar> )
> > #xcommand List   Normal [<bar,...>] => ListNormal( <"bar"> )
> > #xcommand List   Smart  [<bar,...>] => ListSmart( <(bar)> )
> >
> > Function Main()
> >
> >    PRIVATE cMacro := "Macro"
> >
> >    Repeat Dumb   Var &cMacro "Str-1'" "Str-1a]" 'Str-2"'
> > 'Str-2a]' [Str-3'"]
> >
> >    Repeat Normal Var &cMacro "Str-1'" "Str-1a]" 'Str-2"'
> > 'Str-2a]' [Str-3'"]
> >
> >    Repeat Smart  Var &cMacro "Str-1'" "Str-1a]" 'Str-2"'
> > 'Str-2a]' [Str-3'"]
> >
> >
> >    List   Dumb   Var, &cMacro, "Str-1'", "Str-1a]", 'Str-2"', 'Str-2a]',
> > [Str-3'"]
> >
> >    List   Normal Var, &cMacro, "Str-1'", "Str-1a]", 'Str-2"', 'Str-2a]',
> > [Str-3'"]
> >
> >    List   Smart  Var, &cMacro, "Str-1'", "Str-1a]", 'Str-2"', 'Str-2a]',
> > [Str-3'"]
> >
> > RETURN NIL
> > //----------------------------------------------------------------
> > ----------
> > -----//
> >
> > Ron


From harbour@lists.harbour-project.org  Thu Feb 22 05:12:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb 22 05:12:02 2001
Subject: [Harbour] MAKE_GNU with MingW32
In-Reply-To: <20010222095613.Y26682@hagbard.davep.org>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMEMGDJAA.Ron@Profit-Master.com>

Dave,

We need to find out how is addressed in MingW32 ???

Ron

> Ooops, that last sentence should have read "It isn't a *GCC* 
> thing". IOW, it
> is a DJGPP thing.
> 
> -- 
> The Harbour Project: A free software Clipper compatible compiler
> Home Page..........: http://www.harbour-project.org/
> FAQ................: http://www.harbour-project.org/faq/harbour.html
> My harbour page....: http://www.davep.org/harbour/


From harbour@lists.harbour-project.org  Thu Feb 22 05:13:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Thu Feb 22 05:13:02 2001
Subject: [Harbour] ntx & dbu
Message-ID: <3A94E5EC.C87EF0A7@libero.it>

Hi,

dbu with latest cvs code (.36) dies as soon as it tries to open a .ntx
index.

regards.



Error DBF/1003  Open error: .ntx   
Called from ORDLISTADD(0)  
Called from SETUP(141)      
Called from DBU(435)
Unrecoverable error 9010: hb_xfree called with an invalid pointer
Called from SETUP(141)     
Called from DBU(435)       
                           



-- 

 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Thu Feb 22 05:30:03 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Thu Feb 22 05:30:03 2001
Subject: [Harbour] MAKE_GNU with MingW32
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEMFDJAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Thu, Feb 22, 2001 at 01:57:03AM -0800
References: <20010222094249.X26682@hagbard.davep.org> <LOBBKAFMMFGJIKLMEPAKIEMFDJAA.Ron@Profit-Master.com>
Message-ID: <20010222102923.Z26682@hagbard.davep.org>

On Thu, Feb 22, 2001 at 01:57:03AM -0800, Ron Pinkas wrote:

> Both the DJGPP and the MingW32 have no mention of the '@' when issuing:
> 
> gcc --help

DJGPP won't mention it because it isn't a feature of the GCC command line,
it's a feature of the DJGPP CRTL. Neither DJGPP or MingW32 will mention it
because it isn't, as far as I know, something that is part of the GCC
command line.

Follow the pointer to the DJGPP FAQ that I provided, everything is explained
there.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Thu Feb 22 06:49:01 2001
From: harbour@lists.harbour-project.org (Juan Agustin Barriga)
Date: Thu Feb 22 06:49:01 2001
Subject: [Harbour] Re: release 0.36 ( Patrick )
References: <NCBBJKNMIDPJNLJCHCHIMELFFPAA.harbour@winfakt.com> <1411587649.20010222115715@belacy.belgorod.su>
Message-ID: <002f01c09ccd$2870be40$366410ac@jharrier>

> PM> - Finished APPEND FROM & COPY TO
Well, it's NOT completely finished, table creation on COPY TO is missing,
but I thing that we need an RDD entry to check file existence... After a
thought, this should be a "virtual" function at the RDD_NODE, not at the
WORKAREA, as you should test for table/index with no opened file! At this
point it's intresting to see the HACK made at Clipper on table creation:
dbCreate is a "kind of" OPEN, up to now I never realized why when you create
a table it was also opened... and it's because the virtual function is on
the wrong place!

Regards
Harrier

----- Original Message -----
From: "Alexander S.Kresin" <alex@belacy.belgorod.su>
To: <harbour@lists.harbour-project.org>
Sent: Thursday, February 22, 2001 4:57 AM
Subject: [Harbour] Re: release 0.36 ( Patrick )


> On 22.02.2001 11:13, Patrick Mast <harbour@winfakt.com> wrote:
>
> PM> Is the WhatsNew Completed? :
>
> PM> - Inline C code
> PM> - Dot prompt
> PM> - More support for ADS databases
> PM> - Improved and fixed stack handling
> PM> - Improved OOP
> PM> - Better Class(y) and TopClass compatibility
> PM> - MemoEdit() - 95% complete :-)
> PM> - More improved TBrowse class
> PM> - NTX read and write support
> PM> - Debugger: lots of improvements.
> PM> - Finished APPEND FROM & COPY TO <==??
>
>  Yes, I think.
>
> Best regards,
>  Alexander
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@lists.harbour-project.org  Thu Feb 22 07:09:00 2001
From: harbour@lists.harbour-project.org (Ryszard Glab)
Date: Thu Feb 22 07:09:00 2001
Subject: [Harbour] GetGrip
In-Reply-To: <002d01c09c63$253353b0$921a5e18@bh>
Message-ID: <3A95107A.26246.359473A@localhost>

On 21 Feb 2001, at 16:05, Brian Hays wrote:

> _GetGrip  PROTO FAR C, _itemPtr:NEAR PTR  -> nearPtr Item
> 
>   Copies a ClipValue to a save place and locks it, so that the garbage
>   Collector wan't destroy it. The ItemApi makes extensive use of
>   __getGrip/__dropGrip.

  IMHO, this description is not correct. _GetGrip() allocates a memory in 
the DGROUP area (going down from the top of DGROUP) or grabs a pointer 
from deleted items list. With every allocation the memory available for 
the eval stack (local variables) is decreased. Additionally if not NULL 
pointer is passed then it copies the item's value.

>   ItemNew for instance creates a new Item on __tos and calles __getgrip,
>   which stores the Item away and returnes a (near) pointer to it.

   Again incorrect (at least in Clipper 5.3) - ItemNew() does not 
allocate a memory - it is calling _GetGrip() only.

> If its purpose is just protection of an existing value from the GC, perhaps
> a locked copy is good enough?

  _GetGrip() allocates a memory for an item. It either allocates a new 
memory block or polls a memory from the deleted items list. Notice that 
if we integrate this memory allocation with the GC (so the GC will be 
aware of items created dynamically with hb_itemNew()) then we will no 
longer need to lock/unlock items - hb_gcLockItem/hb_gcUnlockItem will be 
no longer needed. 

> Related question: Is the reason we only lock arrays and codeblocks
> (potentially self-referential items) because our reference counting is
> better than Clipper's, so that simple items are not in danger of being
> destroyed by the GC?

  It is not related with the reference counting. Notice that in case of 
simple items (numeric, date, string, logical data types) we are coping a 
value during item coping (hb_itemCopy). Only in case of arrays and 
codeblocks we are coping a pointer to the value. The GC collects arrays 
and codeblocks only because only these data types can create a circual 
references that cannot be managed with simple reference counting.

Regards, Ryszard

From harbour@lists.harbour-project.org  Thu Feb 22 07:20:01 2001
From: harbour@lists.harbour-project.org (Ryszard Glab)
Date: Thu Feb 22 07:20:01 2001
Subject: [Harbour] GetGrip
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKAELODJAA.Ron@Profit-Master.com>
References: <3A940683.20873.47BB88C@localhost>
Message-ID: <3A9512ED.28472.362D7C9@localhost>

On 21 Feb 2001, at 19:08, Ron Pinkas wrote:

> If we lock the item and later assign new value, we will have the exact same
> problem. It might later result in "orphan" locked blocks, which will never
> be unlocked (and never released), or might result in an item which is
> considered locked to "lose" it value!

  This just means that locking/unlocking items (using any method) is not 
the correct mechanism. We need some list where all dynamically allocated 
items (hb_itemNew) will be stored similar like static/local/memvar 
variables. The locking/unlocking is, in fact, a workaround of the lack of 
such list. Since we need to make it the GC friendly then the best 
solution will be adding the list maintanence to the GC.

> I would like to suggest an alternative approach:
> 
> 1. Add a bit representing a LOCK to the item type so we can have a macro
> IS_LOCKED( pItem ).
> 
> 2. hb_gcLockItem() will set this bit ON.
> 
> 3. All functions that assign new value into a pItem parameter, will check if
> the Item is Locked. If LOCKED:

  This has the main drawback: it will manage also all local/static/memvar 
items that doesn't require locking unless we will add an another bit that 
will allow to distinguish items allocated dynamically. Additionally it 
will solve the wrong problem because we can avoid locking at all.

Regards, Ryszard

From harbour@lists.harbour-project.org  Thu Feb 22 08:05:01 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Thu Feb 22 08:05:01 2001
Subject: [Harbour] Re: ntx & dbu
In-Reply-To: <3A94E5EC.C87EF0A7@libero.it>
References: <3A94E5EC.C87EF0A7@libero.it>
Message-ID: <13426157819.20010222160003@belacy.belgorod.su>

On 22.02.2001 13:11, Maurilio Longo <maurilio.longo@libero.it> wrote:

ML> dbu with latest cvs code (.36) dies as soon as it tries to open a .ntx
ML> index.

ML> Error DBF/1003  Open error: .ntx   
ML> Called from ORDLISTADD(0)  
ML> ...

 That was because the line in dbuutil.prg is:

    SET INDEX TO &k_1,&k_2,&k_3,&k_4,&k_5,&k_6,&k_7

    where most of these k_... are empty, and ntxOrderListAdd()
    returned an error, trying to open file with empty name.
    Now it's fixed:

2001-02-22 15:45 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/source/rdd/dbfntx/dbfntx1.c
     * fixed a bug while index opening, before ntxOrderListAdd have tried to
       open an index even index name was empty.
    

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Thu Feb 22 08:05:17 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Thu Feb 22 08:05:17 2001
Subject: [Harbour] Re: PP problems.
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEMEDJAA.Ron@Profit-Master.com>
References: <LOBBKAFMMFGJIKLMEPAKOEMEDJAA.Ron@Profit-Master.com>
Message-ID: <5226335218.20010222160301@belacy.belgorod.su>

On 22.02.2001 12:41, Ron Pinkas <Ron@Profit-Master.com> wrote:

RP> Alexander,
RP> Check the following:

 I'll check, but not right now, I'm busy with dbfntx.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Thu Feb 22 08:12:01 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Thu Feb 22 08:12:01 2001
Subject: [Harbour] Re: PP problems.
In-Reply-To: <5226335218.20010222160301@belacy.belgorod.su>
Message-ID: <000001c09cd0$96d75940$0f2aa8c0@antonio>

Alexander,

Thanks a lot, my friend, 
for the superb work you are doing for Harbour,


Antonio


From harbour@lists.harbour-project.org  Thu Feb 22 08:46:01 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Thu Feb 22 08:46:01 2001
Subject: [Harbour] Re: ntx & dbu
References: <3A94E5EC.C87EF0A7@libero.it> <13426157819.20010222160003@belacy.belgorod.su>
Message-ID: <3A9517DA.C63CFCC5@libero.it>

Alexander,

thanks for your quick fix.

And now, for something different :-)

dbu, latest code, trying to create an index on a date field.

[a few screens full of...]
reateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrdern
ntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOr
rderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCrea
ateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrderntx
xCreateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrde
erntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreate
eOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrder

Exception c0000005 at address 6b6ff
Called from ORDCREATE(0)
Called from DBCREATEINDEX(41)
Called from DO_INDEX(240)
Called from OK_BUTTON(602)
Called from MULTIBOX(384)
Called from MAKE_NTX(80)

Process terminated by SIGSEGV
SYS1808:
Il processo è terminato. Il codice per la diagnostica
software (codice dell'errore) è  0005.


regards.


"Alexander S.Kresin" ha scritto:
> 
> On 22.02.2001 13:11, Maurilio Longo <maurilio.longo@libero.it> wrote:
> 
> ML> dbu with latest cvs code (.36) dies as soon as it tries to open a .ntx
> ML> index.
> 
> ML> Error DBF/1003  Open error: .ntx
> ML> Called from ORDLISTADD(0)
> ML> ...
> 
>  That was because the line in dbuutil.prg is:
> 
>     SET INDEX TO &k_1,&k_2,&k_3,&k_4,&k_5,&k_6,&k_7
> 
>     where most of these k_... are empty, and ntxOrderListAdd()
>     returned an error, trying to open file with empty name.
>     Now it's fixed:
> 
> 2001-02-22 15:45 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
>    * harbour/source/rdd/dbfntx/dbfntx1.c
>      * fixed a bug while index opening, before ntxOrderListAdd have tried to
>        open an index even index name was empty.
> 
> 
> Best regards,
>  Alexander
> http://members.xoom.com/alkresin/
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Thu Feb 22 08:50:18 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Thu Feb 22 08:50:18 2001
Subject: [Harbour] Re: ntx & dbu
References: <3A94E5EC.C87EF0A7@libero.it> <13426157819.20010222160003@belacy.belgorod.su> <3A9517DA.C63CFCC5@libero.it>
Message-ID: <3A9518D9.E047E97A@libero.it>

Alexander,

one more thing, trying to open an index created with harbour compiled
dbu (OS/2 gcc) with original dos clipper 5.2 dbu I get:

Internal error 2155, __DBSETIND (0)

regards.



Maurilio Longo ha scritto:
> 
> Alexander,
> 
> thanks for your quick fix.
> 
> And now, for something different :-)
> 
> dbu, latest code, trying to create an index on a date field.
> 
> [a few screens full of...]
> reateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrdern
> ntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOr
> rderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCrea
> ateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrderntx
> xCreateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrde
> erntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreate
> eOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrder
> 
> Exception c0000005 at address 6b6ff
> Called from ORDCREATE(0)
> Called from DBCREATEINDEX(41)
> Called from DO_INDEX(240)
> Called from OK_BUTTON(602)
> Called from MULTIBOX(384)
> Called from MAKE_NTX(80)
> 
> Process terminated by SIGSEGV
> SYS1808:
> Il processo è terminato. Il codice per la diagnostica
> software (codice dell'errore) è  0005.
> 
> regards.
> 
> "Alexander S.Kresin" ha scritto:
> >
> > On 22.02.2001 13:11, Maurilio Longo <maurilio.longo@libero.it> wrote:
> >
> > ML> dbu with latest cvs code (.36) dies as soon as it tries to open a .ntx
> > ML> index.
> >
> > ML> Error DBF/1003  Open error: .ntx
> > ML> Called from ORDLISTADD(0)
> > ML> ...
> >
> >  That was because the line in dbuutil.prg is:
> >
> >     SET INDEX TO &k_1,&k_2,&k_3,&k_4,&k_5,&k_6,&k_7
> >
> >     where most of these k_... are empty, and ntxOrderListAdd()
> >     returned an error, trying to open file with empty name.
> >     Now it's fixed:
> >
> > 2001-02-22 15:45 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
> >    * harbour/source/rdd/dbfntx/dbfntx1.c
> >      * fixed a bug while index opening, before ntxOrderListAdd have tried to
> >        open an index even index name was empty.
> >
> >
> > Best regards,
> >  Alexander
> > http://members.xoom.com/alkresin/
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@lists.harbour-project.org
> > http://www.matrixlist.com/mailman/listinfo/harbour
> >
> > Thank you for participating in The Harbour Project.  Be sure to check
> > http://www.Harbour-Project.org
> 
> --
>  __________
> |  |  | |__| md2520@mclink.it
> |_|_|_|____| Team OS/2 Italia
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Thu Feb 22 09:37:01 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Thu Feb 22 09:37:01 2001
Subject: [Harbour] Re: release 0.36 ( Patrick )
In-Reply-To: <002f01c09ccd$2870be40$366410ac@jharrier>
Message-ID: <NCBBJKNMIDPJNLJCHCHIEELLFPAA.harbour@winfakt.com>

Harrier

> > PM> - Finished APPEND FROM & COPY TO
> Well, it's NOT completely finished, table creation on COPY TO is missing,
> but I thing that we need an RDD entry to check file existence...
So can I say in the What's New:

- APPEND FROM & COPY TO started

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Thu Feb 22 09:55:03 2001
From: harbour@lists.harbour-project.org (Davor Siklic)
Date: Thu Feb 22 09:55:03 2001
Subject: [Harbour] ChangeLog 2001-02-21 01:45 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIELJDJAA.Ron@Profit-Master.com>
Message-ID: <Pine.GSO.3.96.1010222154009.3310A-100000@hema>

On Wed, 21 Feb 2001, Ron Pinkas wrote:

> 2001-02-21 01:45 UTC-0800 Ron Pinkas <ron@profit-master.com>
>    * contrib/dot/pp.prg
>      * Changed all extensions to lower case (.prg, .pp$, .cch ).
>      * Changed Chr(13) + Chr(10) to CRLF which is #defined as HB_OsNewLine()
> if __HARBOUR__ is defined.
>      * Changed literal size of buffer 16384 to PP_BUFFER_SIZE which is
> #defined as 16384
> 
>      /* Could Linux users please report results... */
> 
I made quick test
	all seems to go fine, browse work great :)
	but when I try:
		
		use test
		index on first to test1
		set index to test1

	I got the message: Sorry. could not execute last request

	there are some problems with cursor blinking key handling and
        screen redriwing
	in linux

regards 
siki




From harbour@lists.harbour-project.org  Thu Feb 22 10:29:02 2001
From: harbour@lists.harbour-project.org (Chen Kedem)
Date: Thu Feb 22 10:29:02 2001
Subject: [Harbour] Release 0.36 and recent Changelogs
Message-ID: <3A952FB1.55B1@synel.co.il>

just to make it clear,
all those last changes are NOT part on 0.36 right ?
if not some of the packages already uploaded do not contain them.

 Chen.

From harbour@lists.harbour-project.org  Thu Feb 22 10:49:01 2001
From: harbour@lists.harbour-project.org (Jim D'Andrea)
Date: Thu Feb 22 10:49:01 2001
Subject: [Harbour] change of address
Message-ID: <3A955E5C.1090706@worldnet.att.net>

Hi,
   I wanted to change my address for you mailings to 
jdandrea@bellsouth.net. DSL RULES!!! Thanks.


From harbour@lists.harbour-project.org  Thu Feb 22 11:07:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Thu Feb 22 11:07:02 2001
Subject: [Harbour] Release 0.36 and recent Changelogs
In-Reply-To: <3A952FB1.55B1@synel.co.il>; from niki@synel.co.il on Thu, Feb 22, 2001 at 05:26:41PM +0200
References: <3A952FB1.55B1@synel.co.il>
Message-ID: <20010222153621.A6331@hagbard.davep.org>

On Thu, Feb 22, 2001 at 05:26:41PM +0200, Chen Kedem wrote:

> just to make it clear,
> all those last changes are NOT part on 0.36 right ?
> if not some of the packages already uploaded do not contain them.

Everyone building source and binary packages should be working from the
source archives that are already in the upload directory of the ftp server.
IOW, that question is best asked of those who have built source and binary
distributions.

For example, the RPM and SPRM that I uploaded were both build from the
source tar.gz file that is a "snapshot" of what was designated 0.36.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Thu Feb 22 11:30:03 2001
From: harbour@lists.harbour-project.org (Alex Schaft)
Date: Thu Feb 22 11:30:03 2001
Subject: [Harbour] Re: ntx & dbu
References: <3A94E5EC.C87EF0A7@libero.it> <13426157819.20010222160003@belacy.belgorod.su> <3A9517DA.C63CFCC5@libero.it> <3A9518D9.E047E97A@libero.it>
Message-ID: <007301c09cec$60ec7ce0$2d01010a@alexhome>

After lurking for the past 6 months, let me throw something in here.

   2155     Read error on index heading page

   A read error occurred when reading the heading page of the index file,
   or the header did not contain the NTX signature, or the macro compiler
   returned a syntax error when attempting to compile the key expression.

Alex


----- Original Message -----
From: "Maurilio Longo" <maurilio.longo@libero.it>
To: <harbour@lists.harbour-project.org>
Sent: Thursday, February 22, 2001 3:49 PM
Subject: Re: [Harbour] Re: ntx & dbu


> Alexander,
>
> one more thing, trying to open an index created with harbour compiled
> dbu (OS/2 gcc) with original dos clipper 5.2 dbu I get:
>
> Internal error 2155, __DBSETIND (0)
>
> regards.
>
>
>
> Maurilio Longo ha scritto:
> >
> > Alexander,
> >
> > thanks for your quick fix.
> >
> > And now, for something different :-)
> >
> > dbu, latest code, trying to create an index on a date field.
> >
> > [a few screens full of...]
> > reateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrdern
> > ntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOr
> > rderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCrea
> > ateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrderntx
> > xCreateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrde
> > erntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreate
> > eOrderntxCreateOrderntxCreateOrderntxCreateOrderntxCreateOrder
> >
> > Exception c0000005 at address 6b6ff
> > Called from ORDCREATE(0)
> > Called from DBCREATEINDEX(41)
> > Called from DO_INDEX(240)
> > Called from OK_BUTTON(602)
> > Called from MULTIBOX(384)
> > Called from MAKE_NTX(80)
> >
> > Process terminated by SIGSEGV
> > SYS1808:
> > Il processo è terminato. Il codice per la diagnostica
> > software (codice dell'errore) è  0005.
> >
> > regards.
> >
> > "Alexander S.Kresin" ha scritto:
> > >
> > > On 22.02.2001 13:11, Maurilio Longo <maurilio.longo@libero.it> wrote:
> > >
> > > ML> dbu with latest cvs code (.36) dies as soon as it tries to open a
.ntx
> > > ML> index.
> > >
> > > ML> Error DBF/1003  Open error: .ntx
> > > ML> Called from ORDLISTADD(0)
> > > ML> ...
> > >
> > >  That was because the line in dbuutil.prg is:
> > >
> > >     SET INDEX TO &k_1,&k_2,&k_3,&k_4,&k_5,&k_6,&k_7
> > >
> > >     where most of these k_... are empty, and ntxOrderListAdd()
> > >     returned an error, trying to open file with empty name.
> > >     Now it's fixed:
> > >
> > > 2001-02-22 15:45 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
> > >    * harbour/source/rdd/dbfntx/dbfntx1.c
> > >      * fixed a bug while index opening, before ntxOrderListAdd have
tried to
> > >        open an index even index name was empty.
> > >
> > >
> > > Best regards,
> > >  Alexander
> > > http://members.xoom.com/alkresin/
> > >
> > > _______________________________________________
> > > Harbour mailing list
> > > Harbour@lists.harbour-project.org
> > > http://www.matrixlist.com/mailman/listinfo/harbour
> > >
> > > Thank you for participating in The Harbour Project.  Be sure to check
> > > http://www.Harbour-Project.org
> >
> > --
> >  __________
> > |  |  | |__| md2520@mclink.it
> > |_|_|_|____| Team OS/2 Italia
> > _______________________________________________
> > Harbour mailing list
> > Harbour@lists.harbour-project.org
> > http://www.matrixlist.com/mailman/listinfo/harbour
> >
> > Thank you for participating in The Harbour Project.  Be sure to check
> > http://www.Harbour-Project.org
>
> --
>  __________
> |  |  | |__| md2520@mclink.it
> |_|_|_|____| Team OS/2 Italia
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>
>


From harbour@lists.harbour-project.org  Thu Feb 22 12:56:02 2001
From: harbour@lists.harbour-project.org (Marek Paliwoda)
Date: Thu Feb 22 12:56:02 2001
Subject: [Harbour] MAKE_GNU with MingW32
References: <LOBBKAFMMFGJIKLMEPAKCEMADJAA.Ron@Profit-Master.com>
Message-ID: <006501c09a9f$baa92a20$51b572c3@map>

> Can anyone help me understand these errors reported when using
>
>    make_gnu install
>
> with the following setting:
>
> HB_BIN_INSTALL=C:/CVS/HARBOUR/bin
> HB_LIB_INSTALL=C:/CVS/HARBOUR/lib
> HB_INC_INSTALL=C:/CVS/HARBOUR/include
> HARBOURDIR=C:/CVS/HARBOUR
> HB_ARCHITECTURE=w32
> HB_COMPILER=mingw32
> HB_GT_LIB=gtw32
> HB_LEX=SIMPLEX
> HB_BIN_DIR=C:/CVS/HARBOUR/BIN
> HB_LIB_DIR=C:/CVS/HARBOUR/LIB
> HB_INC_DIR=C:/CVS/HARBOUR/INCLUDE
>
> Strangely, the make_gnu.log file does not reveal any error!
>
> ---------------------------------------
> No command name seen.
> make.exe[3]: *** [libcommon.a] Error -1
> make.exe[2]: *** [descend] Error 2
> No command name seen.
> make.exe[3]: *** [libpp.a] Error -1
> make.exe[2]: *** [descend] Error 2
> ../../genc.c: In function `hb_p_statics':
> ../../genc.c:1610: warning: suggest parentheses around assignment used as
> truth
> value
> GCC.EXE: hbfi: No such file or directory
> make.exe[3]: *** [harbour.exe] Error 1
> make.exe[2]: *** [descend] Error 2
> Directory already exists
> Directory already exists
> ../../gtapi.c: In function `hb_gtColorToN':
> ../../gtapi.c:446: warning: suggest parentheses around assignment used as
> truth
> value
> make.exe[3]: *** [achoice.c] Error -1
> make.exe[2]: *** [descend] Error 2
> make.exe[3]: *** [harbinit.c] Error -1
> make.exe[2]: *** [descend] Error 2
> No command name seen.
> make.exe[3]: *** [libmacro.a] Error -1
> make.exe[2]: *** [descend] Error 2
> C:\MINGW32\BIN\AR.EXE: ms: No such file or directory
> No command name seen.
> make.exe[3]: *** [liblang.a] Error -1
> make.exe[2]: *** [descend] Error 2
> Directory already exists
> Directory already exists
> In file included from ../../dbcmd.c:3205:
> ../../rddcpy.c: In function `rddMoveRecords':
> ../../rddcpy.c:122: warning: unused variable `pEvalInfo'
> ../../rddcpy.c:116: warning: unused variable `szFileName'
> ../../dbcmd.c: At top level:
> ../../dbcmd.c:92: warning: `hb_waNull' defined but not used
> make.exe[3]: *** [dbf0.c] Error -1
> make.exe[2]: *** [descend] Error 2
> make.exe[3]: *** [dbgmenu.c] Error -1
> make.exe[2]: *** [descend] Error 2
> ../../hbpp.c: In function `main':
> ../../hbpp.c:89: warning: unused variable `szDefText'
> make.exe[3]: *** [hbrun.c] Error -1
> make.exe[2]: *** [descend] Error 2
> make.exe[3]: *** [hbdoc.c] Error -1
> make.exe[2]: *** [descend] Error 2
> make.exe[3]: *** [hbtest.c] Error -1
> make.exe[2]: *** [descend] Error 2
> make.exe[3]: *** [hbmake.c] Error -1
> make.exe[2]: *** [descend] Error 2

I had exactly the same problems. The reason for me was that I used Djgpp make
instead of Cygwin make from Cygwin environment. They both using diffrent 
approach when dealing with long commands. Try this, maybe it helps you
too.

Marek Paliwoda





From harbour@lists.harbour-project.org  Thu Feb 22 13:43:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Thu Feb 22 13:43:02 2001
Subject: [Harbour] Missing files for Releasing 0.36
In-Reply-To: <006501c09a9f$baa92a20$51b572c3@map>
Message-ID: <NCBBJKNMIDPJNLJCHCHIEEMBFPAA.harbour@winfakt.com>

Hi,

Please look at http://www.Harbour-Project.org for the missing files on the
download page.

Do we need binaries for *every* version of Borland's C compiler.
Maybe for version 5.5 is enough?

Regards,

Patrick Mast
www.Patrick.Be.kz


From harbour@lists.harbour-project.org  Thu Feb 22 13:58:02 2001
From: harbour@lists.harbour-project.org (Marek Horodyski)
Date: Thu Feb 22 13:58:02 2001
Subject: [Harbour] Missing files for Releasing 0.36
References: <NCBBJKNMIDPJNLJCHCHIEEMBFPAA.harbour@winfakt.com>
Message-ID: <07ab01c09d01$cfbad530$1321000a@altkomhomar>

----- Original Message -----
From: "Patrick Mast" <harbour@winfakt.com>
To: <harbour@lists.harbour-project.org>
Sent: Thursday, February 22, 2001 7:42 PM
Subject: [Harbour] Missing files for Releasing 0.36


> Hi,
>
> Please look at http://www.Harbour-Project.org for the missing files on the
> download page.
>
> Do we need binaries for *every* version of Borland's C compiler.
> Maybe for version 5.5 is enough?
>
> Regards,
>
> Patrick Mast
> www.Patrick.Be.kz
>
I can't download files :((
Marek Horodyski


From harbour@lists.harbour-project.org  Thu Feb 22 14:03:01 2001
From: harbour@lists.harbour-project.org (Marek Horodyski)
Date: Thu Feb 22 14:03:01 2001
Subject: [Harbour] Missing files for Releasing 0.36
References: <NCBBJKNMIDPJNLJCHCHIEEMBFPAA.harbour@winfakt.com>
Message-ID: <07af01c09d02$7fa7e960$1321000a@altkomhomar>

----- Original Message -----
From: "Patrick Mast" <harbour@winfakt.com>
To: <harbour@lists.harbour-project.org>
Sent: Thursday, February 22, 2001 7:42 PM
Subject: [Harbour] Missing files for Releasing 0.36


> Hi,
>
> Please look at http://www.Harbour-Project.org for the missing files on the
> download page.

For example i can't try :
ftp://ftp.harbour-project.org/source/harbour-0.36.src.zip

regards,
Marek Horodyski




From harbour@lists.harbour-project.org  Thu Feb 22 14:04:03 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Thu Feb 22 14:04:03 2001
Subject: [Harbour] Missing files for Releasing 0.36
In-Reply-To: <07ab01c09d01$cfbad530$1321000a@altkomhomar>
Message-ID: <NCBBJKNMIDPJNLJCHCHIGEMCFPAA.harbour@winfakt.com>

Marek,

Please try again.
What files does not work for you?

> I can't download files :((
> Marek Horodyski

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Thu Feb 22 14:07:01 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Thu Feb 22 14:07:01 2001
Subject: [Harbour] Missing files for Releasing 0.36
In-Reply-To: <07af01c09d02$7fa7e960$1321000a@altkomhomar>
Message-ID: <NCBBJKNMIDPJNLJCHCHIMEMCFPAA.harbour@winfakt.com>

Marek,

Please wait for 5 minutes and than try again.
Let me know if it works than ok? ;-))

Patrick


From harbour@lists.harbour-project.org  Thu Feb 22 14:51:02 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Thu Feb 22 14:51:02 2001
Subject: [Harbour] release 0.36 ( Patrick )
References: <NCBBJKNMIDPJNLJCHCHIMELFFPAA.harbour@winfakt.com>
Message-ID: <004701c09d09$9fe9cca0$921a5e18@bh>

Patrick:
> - Finished APPEND FROM & COPY TO <==??
I don't think the problems with COPY TO were ever resolved.  It fails with
ADS, and I think it still is expecting to append to an open table instead of
creating a file as it should.

Brian


From harbour@lists.harbour-project.org  Thu Feb 22 16:16:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Thu Feb 22 16:16:02 2001
Subject: [Harbour] release 0.36 ( Patrick )
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIMELFFPAA.harbour@winfakt.com>
References: <736744749.20010222103633@belacy.belgorod.su>
Message-ID: <200102221615.0000000J@Internet>

** Reply to message from "Patrick Mast" <harbour@winfakt.com> on Thu,
22 Feb 2001 09:13:54 +0100

> - Inline C code

*Experimental* inline C code that has *no* guarantee of surviving
through to the 1.0 release...
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Thu Feb 22 16:16:24 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Thu Feb 22 16:16:24 2001
Subject: [Harbour] Changelog 2001-02-22 10:25 GMT+3
In-Reply-To: <36600220.20010222103409@belacy.belgorod.su>
Message-ID: <200102221615.0000000H@Internet>

** Reply to message from "Alexander S.Kresin" <alex@belacy.belgorod.su>
on Thu, 22 Feb 2001 10:34:09 +0300

> * harbour/tests/Makefile
>      * readfile.prg moved to BAD SOURCES, because it doesn't compiled under Linux,

Could you please provide detailed information regarding how it fails to
compile under Linux, so that I can make the appropriate corrections?
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Thu Feb 22 16:16:51 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Thu Feb 22 16:16:51 2001
Subject: [Harbour] Release 0.36 and recent Changelogs
In-Reply-To: <3A952FB1.55B1@synel.co.il>
Message-ID: <200102221615.0000000L@Internet>

** Reply to message from Chen Kedem <niki@synel.co.il> on Thu, 22 Feb
2001 17:26:41 +0200

> just to make it clear,
> all those last changes are NOT part on 0.36 right ?

That is correct for all of my packages.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Thu Feb 22 16:52:02 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Thu Feb 22 16:52:02 2001
Subject: [Harbour] Re: release 0.36 ( Patrick )
References: <NCBBJKNMIDPJNLJCHCHIMELFFPAA.harbour@winfakt.com> <1411587649.20010222115715@belacy.belgorod.su>
Message-ID: <3A958A20.8F8EB930@nh.conex.com.br>

Patrick,Alexander

You forget

Hbmake

Regards

Luiz Rafael Culik

From harbour@lists.harbour-project.org  Thu Feb 22 18:04:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Thu Feb 22 18:04:02 2001
Subject: [Harbour] Missing files for Releasing 0.36
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIEEMBFPAA.harbour@winfakt.com>
References: <006501c09a9f$baa92a20$51b572c3@map>
Message-ID: <200102222303.f1MN32X14053@thor.parrett.net>

** Reply to message from "Patrick Mast" <harbour@winfakt.com> on Thu,
22 Feb 2001 19:42:08 +0100

> Please look at http://www.Harbour-Project.org for the missing files on the
> download page.

1) The Cygnus/Ming binary is not missing. It's still sitting in the FTP
upload directory.

2) There should be no comments for Cygnus/Ming, GCC/RSXNT, or
Cygnus/Cygwin, as no extra switches were used to produce those binaries.

3) The Cygnus/Ming package description should read "GNU C (2.91) /
Cygnus (B20) / MingW32 (0.2)"

4) The RSXNT package description should read "GNU C (2.8.1) / RSXNT
(09d) / EMX (09d)".

5) The Cygnus/Cygwin package description should read "GCC 2.91 / Cygnus
(B20) / Cygwin".

6) The Borland C++ 3.1 package needs a comment to indicate that
programs must be compiled in a 32-bit DOS environment, but will run in a
16-bit DOS environment.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Thu Feb 22 20:21:01 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb 22 20:21:01 2001
Subject: [Harbour] ChangeLog 2001-02-22 17:10 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <006501c09a9f$baa92a20$51b572c3@map>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAEMNDJAA.Ron@Profit-Master.com>

2001-02-22 17:10 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * contrib/dot/pp.prg
     ! Fixed order of production in multi line result, where some of the
resulting lines are re-processed
     + Added DOT support for IF, ELSE, ELSEIF, ENDIF, DO CASE, CASE,
OTHERWISE, ENDCASE
     ! Fixed cursor position in Dot prompt to simulate running program
cursor position.

   * contrib/dot/rp_dot.ch
     ! Fixed literal coordinates to use MaxRow() and MaxCol()
     + Added #command CLS to only clean the work region.
     + Added #commands to "steal" handling of IF, ELSE, ELSEIF, ENDIF, DO
CASE, CASE, OTHERWISE, ENDCASE


From harbour@lists.harbour-project.org  Thu Feb 22 20:24:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb 22 20:24:02 2001
Subject: [Harbour] MAKE_GNU with MingW32
In-Reply-To: <006501c09a9f$baa92a20$51b572c3@map>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEMNDJAA.Ron@Profit-Master.com>

> I had exactly the same problems. The reason for me was that I
> used Djgpp make
> instead of Cygwin make from Cygwin environment. They both using different
> approach when dealing with long commands. Try this, maybe it helps you
> too.

Where can I get MingW32 make.exe? I downloaded latest release 0.4 from:

http://sourceforge.net/project/showfiles.php?group_id=2435&release_id=15084

I don't see any reference to make.exe so I am indeed using the DJGPP make

Ron


From harbour@lists.harbour-project.org  Thu Feb 22 20:26:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Thu Feb 22 20:26:02 2001
Subject: [Harbour] ChangeLog 2001-02-21 01:45 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <Pine.GSO.3.96.1010222154009.3310A-100000@hema>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEMNDJAA.Ron@Profit-Master.com>

Siki,

> >      /* Could Linux users please report results... */
> > 
> I made quick test
> 	all seems to go fine, browse work great :)
> 	but when I try:
> 		
> 		use test
> 		index on first to test1
> 		set index to test1
> 
> 	I got the message: Sorry. could not execute last request

Thanks for the info - Fixed!

> 	there are some problems with cursor blinking key handling and
>         screen redriwing
> 	in linux

This will have to be handled by the GT masters.

Ron

From harbour@lists.harbour-project.org  Fri Feb 23 08:38:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Fri Feb 23 08:38:02 2001
Subject: [Harbour] Re: ntx & dbu
In-Reply-To: <3A9517DA.C63CFCC5@libero.it>
References: <3A94E5EC.C87EF0A7@libero.it>
 <13426157819.20010222160003@belacy.belgorod.su> <3A9517DA.C63CFCC5@libero.it>
Message-ID: <531101698.20010223085820@belacy.belgorod.su>

 Maurilio,


ML> dbu, latest code, trying to create an index on a date field.

 Harbour's DBFNTX doesn't support numeric and date indexes yet, only
 character, so try Dtos( date field ).


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Fri Feb 23 08:38:30 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Fri Feb 23 08:38:30 2001
Subject: [Harbour] Re: Changelog 2001-02-22 10:25 GMT+3
In-Reply-To: <200102221615.0000000H@Internet>
References: <200102221615.0000000H@Internet>
Message-ID: <89146808.20010223091840@belacy.belgorod.su>

On 23.02.2001 0:15, David G. Holm <dholm@jsd-llc.com> wrote:

>> * harbour/tests/Makefile
>>      * readfile.prg moved to BAD SOURCES, because it doesn't compiled under Linux,

DGH> Could you please provide detailed information regarding how it fails to
DGH> compile under Linux, so that I can make the appropriate corrections?

/apps/harbour/tests/linux/gcc/readfile.c:63: undefined reference to `HB_FUN_TFILEREAD'

 It seems that some library isn't linked.



Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Fri Feb 23 08:38:55 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Fri Feb 23 08:38:55 2001
Subject: [Harbour] Re: ntx & dbu
In-Reply-To: <3A9518D9.E047E97A@libero.it>
References: <3A94E5EC.C87EF0A7@libero.it>
 <13426157819.20010222160003@belacy.belgorod.su> <3A9517DA.C63CFCC5@libero.it>
 <3A9518D9.E047E97A@libero.it>
Message-ID: <721632177.20010223090711@belacy.belgorod.su>

 Maurilio,

ML> one more thing, trying to open an index created with harbour compiled
ML> dbu (OS/2 gcc) with original dos clipper 5.2 dbu I get:
ML> Internal error 2155, __DBSETIND (0)

 Is it only under OS/2 gcc, or under other OS / compilers too ?
 It could be more easy for me to check the problem, if you sent me
 that dbf and ntx, if it possible.
 I know that clipper hangs opening some indexes, created by Harbour
 and already know the reason ( for the occasions I had ).
 Probably, in you case there is something else.

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Fri Feb 23 08:39:20 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Fri Feb 23 08:39:20 2001
Subject: [Harbour] Re: ntx & dbu
In-Reply-To: <007301c09cec$60ec7ce0$2d01010a@alexhome>
References: <3A94E5EC.C87EF0A7@libero.it>
 <13426157819.20010222160003@belacy.belgorod.su> <3A9517DA.C63CFCC5@libero.it>
 <3A9518D9.E047E97A@libero.it> <007301c09cec$60ec7ce0$2d01010a@alexhome>
Message-ID: <1741845878.20010223091044@belacy.belgorod.su>

On 22.02.2001 19:25, Alex Schaft <aschaft@xsinet.co.za> wrote:

AS> After lurking for the past 6 months, let me throw something in here.

AS>    2155     Read error on index heading page

AS>    A read error occurred when reading the heading page of the index file,
AS>    or the header did not contain the NTX signature, or the macro compiler
AS>    returned a syntax error when attempting to compile the key expression.

 I hadn't problems yet with corrupted header page.
 Is your index character ? Other doesn't supported yet.
 Can you send me the dbf and ntx ?


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Fri Feb 23 08:44:01 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Fri Feb 23 08:44:01 2001
Subject: [Harbour] harbour/contrib/dot (Ron)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEMNDJAA.Ron@Profit-Master.com>
Message-ID: <000701c09d5f$991f6780$0f2aa8c0@antonio>

Ron,

regarding harbour/contrib/dot

I am amazed that you have written a PRG 207.316 bytes
without using classes...

Some suggestions:

1. The cursor should remain ON to see that the environment is
waiting for input. Also up and down arrow keys, could show
previous typed input lines.

2. You should provide some sort of help writting HELP from
the input line.

3. Remember the info bottom line that dBase uses ? It could be
a great add-on for your dot pp.prg

4. I have tried to write a "DO <file.prg>", without success.

more... :-)

Antonio



From harbour@lists.harbour-project.org  Fri Feb 23 08:44:29 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Fri Feb 23 08:44:29 2001
Subject: [Harbour] ChangeLog 2001-02-22 17:10 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKAEMNDJAA.Ron@Profit-Master.com>
Message-ID: <000501c09d5a$b992d880$0f2aa8c0@antonio>

Ron,

I have been testing your pp.prg and my first impression is that
it is really impressive the amount of work you have done there.

Do you have some guidelines, instructions or samples about what can 
be done with pp.prg ? 

Does it pretend to be a dBase (or VFP) alike environment ?
Why not ? :-)

Antonio

> 2001-02-22 17:10 UTC-0800 Ron Pinkas <ron@profit-master.com>
>    * contrib/dot/pp.prg
>      ! Fixed order of production in multi line result, where some of the
> resulting lines are re-processed
>      + Added DOT support for IF, ELSE, ELSEIF, ENDIF, DO CASE, CASE,
> OTHERWISE, ENDCASE
>      ! Fixed cursor position in Dot prompt to simulate running program
> cursor position.
> 
>    * contrib/dot/rp_dot.ch
>      ! Fixed literal coordinates to use MaxRow() and MaxCol()
>      + Added #command CLS to only clean the work region.
>      + Added #commands to "steal" handling of IF, ELSE, ELSEIF, ENDIF, DO
> CASE, CASE, OTHERWISE, ENDCASE
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 


From harbour@lists.harbour-project.org  Fri Feb 23 08:44:55 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Fri Feb 23 08:44:55 2001
Subject: [Harbour] Missing files for Releasing 0.36
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIEEMBFPAA.harbour@winfakt.com>; from harbour@winfakt.com on Thu, Feb 22, 2001 at 07:42:08PM +0100
References: <006501c09a9f$baa92a20$51b572c3@map> <NCBBJKNMIDPJNLJCHCHIEEMBFPAA.harbour@winfakt.com>
Message-ID: <20010223134335.S7328@hagbard.davep.org>

On Thu, Feb 22, 2001 at 07:42:08PM +0100, Patrick Mast wrote:

> Please look at http://www.Harbour-Project.org for the missing files on the
> download page.

You might want to comment in the binary RPM entry that it is an Intel RPM
built on RedHat 6.2.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Fri Feb 23 09:16:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Fri Feb 23 09:16:02 2001
Subject: [Harbour] Missing files for Releasing 0.36
In-Reply-To: <20010223134335.S7328@hagbard.davep.org>
Message-ID: <NCBBJKNMIDPJNLJCHCHIOEMMFPAA.harbour@winfakt.com>

Dave,

> > Please look at http://www.Harbour-Project.org for the missing 
> files on the download page.
> You might want to comment in the binary RPM entry that it is an Intel RPM
> built on RedHat 6.2.

Done!
Thanks!

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Fri Feb 23 09:59:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Fri Feb 23 09:59:02 2001
Subject: [Harbour] Missing files for Releasing 0.36
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIEEMBFPAA.harbour@winfakt.com>; from harbour@winfakt.com on Thu, Feb 22, 2001 at 07:42:08PM +0100
References: <006501c09a9f$baa92a20$51b572c3@map> <NCBBJKNMIDPJNLJCHCHIEEMBFPAA.harbour@winfakt.com>
Message-ID: <20010223135035.V7328@hagbard.davep.org>

On Thu, Feb 22, 2001 at 07:42:08PM +0100, Patrick Mast wrote:

> Please look at http://www.Harbour-Project.org for the missing files on the
> download page.

Just noticed that the source table says that the RPM is for Unix and that
the .tar.gz is for Linux (GNU/Linux would be more correct BTW). If anything
it's actually the other way round.

-- 
Dave Pearson:                   |     lbdb.el - LBDB interface.
http://www.davep.org/           |  sawfish.el - Sawfish mode.
Emacs:                          |  uptimes.el - Record emacs uptimes.
http://www.davep.org/emacs/     | quickurl.el - Recall lists of URLs.

From harbour@lists.harbour-project.org  Fri Feb 23 10:01:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Fri Feb 23 10:01:02 2001
Subject: [Harbour] Missing files for Releasing 0.36
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIEEMBFPAA.harbour@winfakt.com>; from harbour@winfakt.com on Thu, Feb 22, 2001 at 07:42:08PM +0100
References: <006501c09a9f$baa92a20$51b572c3@map> <NCBBJKNMIDPJNLJCHCHIEEMBFPAA.harbour@winfakt.com>
Message-ID: <20010223073919.C7328@hagbard.davep.org>

On Thu, Feb 22, 2001 at 07:42:08PM +0100, Patrick Mast wrote:

> Please look at http://www.Harbour-Project.org for the missing files on the
> download page.

I've just gone to have a look and the site appears to be down. Anyone know
if there is a problem?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Fri Feb 23 10:24:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Fri Feb 23 10:24:02 2001
Subject: [Harbour] ChangeLog 2001-02-22 22:25 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEMNDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKENADJAA.Ron@Profit-Master.com>

2001-02-22 22:25 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * contrib/dot/pp.prg
     + Started support for interpreting prg files.
   * contrib/dot/rp_dot.ch
     + Added #command for stealing END

   /* PP can already "Run" simple prgs :-). It actually support most Clipper
commands.
      It does *not* support LOCAL/STATIC/PRIVATE/PUBLIC, but any reference
to a variable will create it as PUBLIC.
      It does not (yet) support creation of FUNCTIONs/PROCEDUREs but will
execute any built-in, or linked, procedure/function.
      It does not (yet) support WHILE and FOR loops.

      It can execute code like this:

      //------------------------------//
      CLS

      Alert( "Testing PP as Interpreter... " )

      USE test
      IF ! File( "test" + IndexExt() )
         INDEX on FIELD->First TO First
      ELSE
   	   SET INDEX TO First
      ENDIF

      GO TOP

      cName := FIELD->First + FIELD->Last

      IF cName == FIELD->First + FIELD->Last
         ? "Ok"
      ELSE
         ? "Err"
      ENDIF

      DO CASE
         CASE cName == First // Not exact!
            ? "Err"

         CASE cName = First // But still equal
            ? "Ok"

         OTHERWISE
            ? "Err"
      ENDCASE

      REPLACE First WITH "From PP"

      ? FIELD->First
      //------------------------------//

      To have PP execute a PRG use: PP filename -R
    */


From harbour@lists.harbour-project.org  Fri Feb 23 11:25:35 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Fri Feb 23 11:25:35 2001
Subject: [Harbour] harbour/contrib/dot (Ron)
In-Reply-To: <000701c09d5f$991f6780$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOENCDJAA.Ron@Profit-Master.com>

Antonio,

> Ron,
>
> regarding harbour/contrib/dot
>
> I am amazed that you have written a PRG 207.316 bytes
> without using classes...

Well for 2 reasons:

1. There was no task that lends itself to simplification using OO.
2. I wanted it to be one self contained simple prg, that can be used with
either Harbour or Clipper.

> Some suggestions:
>
> 1. The cursor should remain ON to see that the environment is
> waiting for input. Also up and down arrow keys, could show
> previous typed input lines.

This appears to be a GT problem, the Cursor is set ON. Check line 259 in.

> 2. You should provide some sort of help writing HELP from
> the input line.

Well this is a PRG code, I hope, we can have volunteers, to help complete
what still missing (not a lot).

> 3. Remember the info bottom line that dBase uses ? It could be
> a great add-on for your dot pp.prg

Ditto.

> 4. I have tried to write a "DO <file.prg>", without success.

Added!

>
> more... :-)
>
> Antonio

Thanks.

Ron


From harbour@lists.harbour-project.org  Fri Feb 23 11:37:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Fri Feb 23 11:37:02 2001
Subject: [Harbour] ChangeLog 2001-02-23 08:25 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKENADJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGENDDJAA.Ron@Profit-Master.com>

2001-02-23 08:25 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * contrib/dot/pp.prg
     + Added DOT support for DO <>.prg

   * contrib/dot/rp_dot.ch
      + Added #command DO <>.prg (no support for WITH yet)

From harbour@lists.harbour-project.org  Fri Feb 23 11:48:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Fri Feb 23 11:48:02 2001
Subject: [Harbour] harbour/contrib/dot (Ron)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOENCDJAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Fri, Feb 23, 2001 at 08:22:46AM -0800
References: <000701c09d5f$991f6780$0f2aa8c0@antonio> <LOBBKAFMMFGJIKLMEPAKOENCDJAA.Ron@Profit-Master.com>
Message-ID: <20010223164753.D7328@hagbard.davep.org>

On Fri, Feb 23, 2001 at 08:22:46AM -0800, Ron Pinkas wrote:

> 1. There was no task that lends itself to simplification using OO.

Might the rules not benefit from being held as objects? Failing that,
wouldn't it make things a little more readable if manifest constants were
used to referencing into that array (or am I missing something that
describes the structure and use of the various arrays defined at the bottom
of the file)?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Fri Feb 23 11:50:04 2001
From: harbour@lists.harbour-project.org (Alex Shashkov)
Date: Fri Feb 23 11:50:04 2001
Subject: [Harbour] ChangeLog 2001-02-23 19:35 UTC+0300 Alex Shashkov <shashkov@ostu.ru>
Message-ID: <5212575693.20010223195031@orel.ru>

2001-02-23 19:35 UTC+0300 Alex Shashkov <shashkov@ostu.ru>
   * harbour/source/rtl/filesys.c
   * harbour/source/rtl/math.c
   * harbour/source/vm/item.c
     ! Fixed support for Watcom C 11.0

This is my first update and I desire to begin with small things.



From harbour@lists.harbour-project.org  Fri Feb 23 11:59:02 2001
From: harbour@lists.harbour-project.org (Alex Schaft)
Date: Fri Feb 23 11:59:02 2001
Subject: [Harbour] Re: ntx & dbu
References: <3A94E5EC.C87EF0A7@libero.it><13426157819.20010222160003@belacy.belgorod.su> <3A9517DA.C63CFCC5@libero.it><3A9518D9.E047E97A@libero.it> <007301c09cec$60ec7ce0$2d01010a@alexhome> <1741845878.20010223091044@belacy.belgorod.su>
Message-ID: <001101c09db9$907e97e0$2d01010a@alexhome>

I'm replying to Maurillio's message. Haven't tried it myself yet.


----- Original Message -----
From: "Alexander S.Kresin" <alex@belacy.belgorod.su>
To: <harbour@lists.harbour-project.org>
Sent: Friday, February 23, 2001 8:10 AM
Subject: [Harbour] Re: ntx & dbu


> On 22.02.2001 19:25, Alex Schaft <aschaft@xsinet.co.za> wrote:
>
> AS> After lurking for the past 6 months, let me throw something in here.
>
> AS>    2155     Read error on index heading page
>
> AS>    A read error occurred when reading the heading page of the index
file,
> AS>    or the header did not contain the NTX signature, or the macro
compiler
> AS>    returned a syntax error when attempting to compile the key
expression.
>
>  I hadn't problems yet with corrupted header page.
>  Is your index character ? Other doesn't supported yet.
>  Can you send me the dbf and ntx ?
>
>
> Best regards,
>  Alexander
> http://members.xoom.com/alkresin/
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>
>


From harbour@lists.harbour-project.org  Fri Feb 23 12:09:02 2001
From: harbour@lists.harbour-project.org (J. Lalin)
Date: Fri Feb 23 12:09:02 2001
Subject: [Harbour] Re: Unlimited filehandles for Harbour !
References: <3A927019.6C384103@corevia.com> <1082381063.20010220190152@belacy.belgorod.su>
Message-ID: <3A969938.991D2176@corevia.com>

Alexander,
>  I'll upload it after the release 0.36 will be done, Ok ?
Yes !

I was in the hoping to include it in the new release but we didn't got
time enough to update the rest of the hb_fs* functions.

If I get some time I'll try to finish all the functions.

WM_Thanks,
José Lalín

From harbour@lists.harbour-project.org  Fri Feb 23 12:15:05 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Fri Feb 23 12:15:05 2001
Subject: [Harbour] harbour/contrib/dot (Ron)
In-Reply-To: <20010223164753.D7328@hagbard.davep.org>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEENEDJAA.Ron@Profit-Master.com>

Dave,

> > 1. There was no task that lends itself to simplification using OO.
>
> Might the rules not benefit from being held as objects? Failing that,
> wouldn't it make things a little more readable if manifest constants were
> used to referencing into that array (or am I missing something that
> describes the structure and use of the various arrays defined at
> the bottom
> of the file)?

1. I don't think the rules would benefit from objects representation to the
point where it would be worth its "cost".

OTOH, Manifest constants will definitely improve readability. Hopefully,
myself, or someone else, will find the time to make this very welcome
change.

Ron


From harbour@lists.harbour-project.org  Fri Feb 23 12:59:01 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Fri Feb 23 12:59:01 2001
Subject: [Harbour] Re: ntx & dbu
References: <3A94E5EC.C87EF0A7@libero.it>
 <13426157819.20010222160003@belacy.belgorod.su> <3A9517DA.C63CFCC5@libero.it>
 <3A9518D9.E047E97A@libero.it> <007301c09cec$60ec7ce0$2d01010a@alexhome> <1741845878.20010223091044@belacy.belgorod.su>
Message-ID: <3A96A4B4.D225A31F@libero.it>

Questo è un messaggio a più sezioni in formato MIME.
--------------A5DBA6E6077A4EB1B3B1D5AC
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit

Alexander,

I've attached them to this message.

regards.



"Alexander S.Kresin" ha scritto:
> 
> On 22.02.2001 19:25, Alex Schaft <aschaft@xsinet.co.za> wrote:
> 
> AS> After lurking for the past 6 months, let me throw something in here.
> 
> AS>    2155     Read error on index heading page
> 
> AS>    A read error occurred when reading the heading page of the index file,
> AS>    or the header did not contain the NTX signature, or the macro compiler
> AS>    returned a syntax error when attempting to compile the key expression.
> 
>  I hadn't problems yet with corrupted header page.
>  Is your index character ? Other doesn't supported yet.
>  Can you send me the dbf and ntx ?
> 
> Best regards,
>  Alexander
> http://members.xoom.com/alkresin/
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia
--------------A5DBA6E6077A4EB1B3B1D5AC
Content-Type: application/x-zip-compressed;
 name="atc.zip"
Content-Transfer-Encoding: base64
Content-Disposition: inline;
 filename="atc.zip"

UEsDBBQAAAAIAFBiRir2ndd7UgAAAC8BAAAHAAAAQVRDLkRCRmNmZGJjZmBgSGJwYcAGnP1d
PJ1dGUTj7QOcKwpO8bIzFJWaChnHczAYXGsq9WV1cQ12DvJEyNugyfMyKBgqgIGjAgXACEI5
UWKGMYRypsAIKQBQSwMEFAAAAAgAupVXKiONLplHAAAAAAgAAAcAAABBVEMubnR442dgZGBg
YQADfgZ2IGnFIMuQnJ+SmZzKMApGwSgY1oCZoYKhnWEaw9IBsBtY8jAYKoABiMsExEYILjMQ
GyO4o2AUjAKqAwBQSwECFAYUAAAACABQYkYq9p3Xe1IAAAAvAQAABwAAAAAAAAAAACAAtoEA
AAAAQVRDLkRCRlBLAQIUBhQAAAAIALqVVyojjS6ZRwAAAAAIAAAHAAAAAAAAAAAAIAC2gXcA
AABBVEMubnR4UEsFBgAAAAACAAIAagAAAOMAAAAAAA==
--------------A5DBA6E6077A4EB1B3B1D5AC--


From harbour@lists.harbour-project.org  Fri Feb 23 13:11:02 2001
From: harbour@lists.harbour-project.org (Marek Paliwoda)
Date: Fri Feb 23 13:11:02 2001
Subject: [Harbour] MAKE_GNU with MingW32
References: <LOBBKAFMMFGJIKLMEPAKEEMNDJAA.Ron@Profit-Master.com>
Message-ID: <001101c09b12$13053980$09b572c3@map>

> Where can I get MingW32 make.exe? I downloaded latest release 0.4 from:
> 
> http://sourceforge.net/project/showfiles.php?group_id=2435&release_id=15084
> 
> I don't see any reference to make.exe so I am indeed using the DJGPP make

Try http://sourceware.cygnus.com and browse the site.

Marek Paliwoda


From harbour@lists.harbour-project.org  Fri Feb 23 13:45:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Fri Feb 23 13:45:02 2001
Subject: [Harbour] Changelog 2001-02-23 21:40 GMT+3
Message-ID: <52817929.20010223214225@belacy.belgorod.su>

2001-02-23 21:40 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/source/rdd/dbfntx/dbfntx1.c
     * building of indexes optimized
2001-02-13 hh:mm GMT+1 Jose Gimenez (JFG) <jfgimenez@wanadoo.es>
  * source/rtl/filesys.c
    * hb_fsOpen
    * hb_fsCreate
    * hb_fsClose
    * hb_fsRead
    * hb_fsWrite
    * hb_fsReadLarge
    * hb_fsWriteLarge
    * hb_fsSeek
    * hb_fsTell
    + added logic to use Win32 API calls
  
  * tests/files.prg
    * tested up to 20,000 DBF files


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Fri Feb 23 13:47:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Fri Feb 23 13:47:02 2001
Subject: [Harbour] Whatsnew ( Patrick )
Message-ID: <1032937989.20010223214425@belacy.belgorod.su>

Patrick,
 it seems that you forgot to include a line about hbmake to whatsnew
 info on the site.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Fri Feb 23 13:55:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Fri Feb 23 13:55:02 2001
Subject: [Harbour] MAKE_GNU with MingW32
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEMNDJAA.Ron@Profit-Master.com>
References: <006501c09a9f$baa92a20$51b572c3@map>
Message-ID: <200102231854.f1NIsmX32292@thor.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Thu,
22 Feb 2001 17:21:53 -0800

> I don't see any reference to make.exe so I am indeed using the DJGPP make

Try using the Cygwin make instead.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Fri Feb 23 13:57:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Fri Feb 23 13:57:02 2001
Subject: [Harbour] Re: Changelog 2001-02-22 10:25 GMT+3
In-Reply-To: <89146808.20010223091840@belacy.belgorod.su>
References: <200102221615.0000000H@Internet> <200102221615.0000000H@Internet>
Message-ID: <200102231856.f1NIuEX32415@thor.parrett.net>

** Reply to message from "Alexander S.Kresin" <alex@belacy.belgorod.su>
on Fri, 23 Feb 2001 09:18:40 +0300

So the problem isn't that readfile doesn't compile, but that it doesn't
link, because you haven't built the contrib/libmisc library.

> >>      * readfile.prg moved to BAD SOURCES, because it doesn't compiled under Linux,
> 
> DGH> Could you please provide detailed information regarding how it fails to
> DGH> compile under Linux, so that I can make the appropriate corrections?
> 
> /apps/harbour/tests/linux/gcc/readfile.c:63: undefined reference to `HB_FUN_TFILEREAD'
> 
>  It seems that some library isn't linked.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Fri Feb 23 14:10:03 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Fri Feb 23 14:10:03 2001
Subject: [Harbour] Missing files for Releasing 0.36
In-Reply-To: <20010223073919.C7328@hagbard.davep.org>
References: <006501c09a9f$baa92a20$51b572c3@map> <NCBBJKNMIDPJNLJCHCHIEEMBFPAA.harbour@winfakt.com>
 <NCBBJKNMIDPJNLJCHCHIEEMBFPAA.harbour@winfakt.com> ; from harbour@winfakt.com on Thu, Feb 22, 2001 at 07:42:08PM +0100
Message-ID: <200102231909.f1NJ9MX00907@thor.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Fri, 23 Feb
2001 07:39:19 +0000

> > Please look at http://www.Harbour-Project.org for the missing files on the
> > download page.
> 
> I've just gone to have a look and the site appears to be down. Anyone know
> if there is a problem?

I had no trouble getting there just now.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Fri Feb 23 14:19:01 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Fri Feb 23 14:19:01 2001
Subject: [Harbour] Re: ntx & dbu
In-Reply-To: <3A96A4B4.D225A31F@libero.it>
References: <3A94E5EC.C87EF0A7@libero.it>
 <13426157819.20010222160003@belacy.belgorod.su> <3A9517DA.C63CFCC5@libero.it>
 <3A9518D9.E047E97A@libero.it> <007301c09cec$60ec7ce0$2d01010a@alexhome>
 <1741845878.20010223091044@belacy.belgorod.su> <3A96A4B4.D225A31F@libero.it>
Message-ID: <1764476470.20010223221003@belacy.belgorod.su>

 Maurilio,

ML> I've attached them to this message.

 Fixed.

2001-02-23 21:40 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/source/rdd/dbfntx/dbfntx1.c
     * bug fixed, reported by Maurilio Longo 

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Fri Feb 23 15:20:03 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Fri Feb 23 15:20:03 2001
Subject: [Harbour] Missing files for Releasing 0.36
In-Reply-To: <200102231909.f1NJ9MX00907@thor.parrett.net>; from dholm@jsd-llc.com on Fri, Feb 23, 2001 at 02:09:16PM -0500
References: <006501c09a9f$baa92a20$51b572c3@map> <NCBBJKNMIDPJNLJCHCHIEEMBFPAA.harbour@winfakt.com> <NCBBJKNMIDPJNLJCHCHIEEMBFPAA.harbour@winfakt.com> <20010223073919.C7328@hagbard.davep.org> <200102231909.f1NJ9MX00907@thor.parrett.net>
Message-ID: <20010223201910.H7328@hagbard.davep.org>

On Fri, Feb 23, 2001 at 02:09:16PM -0500, David G. Holm wrote:
> ** Reply to message from Dave Pearson <davep@davep.org> on Fri, 23 Feb
> 2001 07:39:19 +0000
> 
> > > Please look at http://www.Harbour-Project.org for the missing files on the
> > > download page.
> > 
> > I've just gone to have a look and the site appears to be down. Anyone know
> > if there is a problem?
> 
> I had no trouble getting there just now.

I came back a handful of hours after I mailed out the above. I checked from
a couple of different locations on the net and it wasn't there, I ever had
an email from someone (I don't know where he is but English wasn't his
native language) asking where harbour had gone.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Fri Feb 23 16:21:02 2001
From: harbour@lists.harbour-project.org (Phil Barnett)
Date: Fri Feb 23 16:21:02 2001
Subject: [Harbour] Missing files for Releasing 0.36
In-Reply-To: <07ab01c09d01$cfbad530$1321000a@altkomhomar>
Message-ID: <3A966BF5.15851.84B5C1A@localhost>

On 22 Feb 2001, at 20:01, Marek Horodyski wrote:

> ----- Original Message -----
> From: "Patrick Mast" <harbour@winfakt.com>
> To: <harbour@lists.harbour-project.org>
> Sent: Thursday, February 22, 2001 7:42 PM
> Subject: [Harbour] Missing files for Releasing 0.36
> 
> 
> > Hi,
> >
> > Please look at http://www.Harbour-Project.org for the missing files on the
> > download page.
> >
> > Do we need binaries for *every* version of Borland's C compiler.
> > Maybe for version 5.5 is enough?

Access was down for 8 hours last night. 

But, TAZ remained up although disconnected...

[philb@taz2 philb]$ uptime
  1:42pm  up 134 days, 42 min,  1 user,  
   load average: 0.08, 0.07, 0.05


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@lists.harbour-project.org  Fri Feb 23 17:52:02 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Fri Feb 23 17:52:02 2001
Subject: [Harbour] stack problems
Message-ID: <000b01c09deb$c8c60570$921a5e18@bh>

I'm not sure if this is the same problem Alexander described several days
ago, but:

A function called by a codeblock will have its first local variable
initialized to some value (instead of NIL).
In the example below, BuildMenu's x should be nil.  It prints out as .T.
here.
In my app, a more complex example has 2 as the value du jour....

function Main()
local o
  o := {|| buildmenu(2, .t.) }
  eval(o)
RETURN

FUNCTION buildmenu(aTmp)
  local x,y, z
  ? x, y, "both nil ??????????????"
RETURN .t.


Brian Hays



From harbour@lists.harbour-project.org  Fri Feb 23 18:15:03 2001
From: harbour@lists.harbour-project.org (Phil Barnett)
Date: Fri Feb 23 18:15:03 2001
Subject: [Harbour] Now that we have released...
Message-ID: <3A96A875.8792.937B043@localhost>

What does everyone think about releasing .37 in a few 
days...weeks to settle out the things that will come from releasing 
.36, instead of jumping ahead and adding a bunch of stuff that will 
take weeks to evolve?

It seems like this would be a good time to just take some bug 
reports and deal only with them.

What do you think?


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@lists.harbour-project.org  Fri Feb 23 18:32:01 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Fri Feb 23 18:32:01 2001
Subject: [Harbour] stack problems
In-Reply-To: <000b01c09deb$c8c60570$921a5e18@bh>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGENHDJAA.Ron@Profit-Master.com>

Brian,

Check this:

Procedure Main()

   LOCAL bBlock := {|| Test(1) }

   Eval( bBlock )

   Test(2)

RETURN

PROCEDURE Test()

   LOCAL cVar

   ? cVar

RETURN

The problem has nothing to do with blocks. We simply don't reset extra
parameters as we should. This should be an easy fix, I'll try to fix later
today.

Ron


From harbour@lists.harbour-project.org  Fri Feb 23 19:37:02 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Fri Feb 23 19:37:02 2001
Subject: [Harbour] Now that we have released...
References: <3A96A875.8792.937B043@localhost>
Message-ID: <3A9700B2.218BE9ED@nh.conex.com.br>

Phil



> 
> What does everyone think about releasing .37 in a few
> days...weeks to settle out the things that will come from releasing
> .36, instead of jumping ahead and adding a bunch of stuff that will
> take weeks to evolve?
> 
> It seems like this would be a good time to just take some bug
> reports and deal only with them.
> 
> What do you think?

I fully agree with you. It´s better to release an 0.37 as sonn all bugs
of 0.36 is reported and fixed

Regards

Luiz Rafael Culik



From harbour@lists.harbour-project.org  Fri Feb 23 19:37:26 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Fri Feb 23 19:37:26 2001
Subject: [Harbour] Help needed(Alex Schaft)
Message-ID: <3A9701D4.8F8B47EE@nh.conex.com.br>

Dear Friend Alex

I need you help since you are the only using the Watcom C compiler

I need to add WatCom  support to hbmake.

What i need from you is the follow

The name of the watcom c compiler executable.

The default watcom lib needed

The options need by the watcom C compiler to build harbour.

The lib utlity name and options

and example of watcom C link file

Regards

Luiz Rafael Culik


From harbour@lists.harbour-project.org  Fri Feb 23 20:25:04 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Fri Feb 23 20:25:04 2001
Subject: [Harbour] Now that we have released...
References: <3A96A875.8792.937B043@localhost>
Message-ID: <001c01c09e01$6a77dcd0$921a5e18@bh>

Phil:
Sounds good to me.  I've got several bugs I need to write up succinctly in a
list.
I'll post it by tomorrow.

It's been a while since I reviewed the bug handling on the web page--it
didn't seem to be getting used.
Should we implement SourceForge's tools?  Or keep it simple and just use the
mailing list?

Brian

----- Original Message -----
From: "Phil Barnett" <midnight@the-oasis.net>
To: <Harbour@lists.harbour-project.org>
Sent: Friday, February 23, 2001 3:14 PM
Subject: [Harbour] Now that we have released...


>
> What does everyone think about releasing .37 in a few
> days...weeks to settle out the things that will come from releasing
> .36, instead of jumping ahead and adding a bunch of stuff that will
> take weeks to evolve?
>
> It seems like this would be a good time to just take some bug
> reports and deal only with them.
>
> What do you think?
>
>
> --
>               Phil Barnett  mailto:midnight@the-oasis.net
>                        WWW  http://www.the-oasis.net/
>                   FTP Site  ftp://ftp.the-oasis.net
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@lists.harbour-project.org  Fri Feb 23 20:30:04 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Fri Feb 23 20:30:04 2001
Subject: [Harbour] ChangeLog 2001-02-23 17:20 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKGENHDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAENIDJAA.Ron@Profit-Master.com>

2001-02-23 17:20 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * source/vm/hvm.c
     ! Added logic to clear items of extraneous parameters in hb_vmFrame().

From harbour@lists.harbour-project.org  Fri Feb 23 21:45:04 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Fri Feb 23 21:45:04 2001
Subject: [Harbour] 0.36 Problems
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKAENIDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMENIDJAA.Ron@Profit-Master.com>

Hi,

1. One of the recent changes causes hbtest to choke on what appears to be an
infinite loop. This might be related to the following problems.

2. FRead() no longer functional after last change in filesys.c (BCC55 WinMe)
Here is a small test program that works perfect in Clipper:

//-----------------------//
Procedure Main( sSource )

   LOCAL hSource, sBuffer := Space( 40 )

   hSource := FOpen( sSource, 0 )
   IF hSource == -1
      Alert( "ERROR! opening: [" + sSource + "] O/S Error: " + Str(
FError(), 2 ) )
      RETURN .F.
   ENDIF

   nLen := FRead( hSource, @sBuffer, 40 )
   ? nLen, sBuffer

RETURN
//-----------------------//

3. SET ORDER TO 0 when no order is active causes a GPF (with default RDD)

Ron


From harbour@lists.harbour-project.org  Fri Feb 23 23:41:01 2001
From: harbour@lists.harbour-project.org (mitchelle)
Date: Fri Feb 23 23:41:01 2001
Subject: [Harbour] (no subject)
Message-ID: <000801c09ea1$fb98eb00$0300a8c0@mozcom.com>

This is a multi-part message in MIME format.

------=_NextPart_000_0005_01C09E5E.EA178BE0
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello all!!

The file include\hbapigt.h line: 83, 84, 85, 86 may be modify to:

#define HB_B_SINGLE_V          0xb3 // '?
#define HB_B_SINGLE_H          0xc4 // '?
#define HB_B_DOUBLE_V          0xb3 // '?
#define HB_B_DOUBLE_H          0xc4 // '?

Because these code will occur error when compiler at my environment.
We are from TAIWAN, We are use double bytes code.....





------=_NextPart_000_0005_01C09E5E.EA178BE0
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META content=3D"text/html; charset=3Diso-8859-1" =
http-equiv=3DContent-Type>
<META content=3D"MSHTML 5.00.2614.3500" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>Hello all!!<BR><BR>The file =
include\hbapigt.h line:=20
83, 84, 85, 86 may be modify to:<BR><BR>#define=20
HB_B_SINGLE_V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0xb3 =
//=20
'?<BR>#define=20
HB_B_SINGLE_H&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0xc4 =
//=20
'?<BR>#define=20
HB_B_DOUBLE_V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0xb3 =
//=20
'?<BR>#define=20
HB_B_DOUBLE_H&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0xc4 =
//=20
'?<BR><BR>Because these code will occur error when compiler at my=20
environment.<BR>We are from TAIWAN, We are use double bytes=20
code.....<BR><BR><BR><BR></FONT></DIV></BODY></HTML>

------=_NextPart_000_0005_01C09E5E.EA178BE0--


From harbour@lists.harbour-project.org  Fri Feb 23 23:52:02 2001
From: harbour@lists.harbour-project.org (Phil Barnett)
Date: Fri Feb 23 23:52:02 2001
Subject: [Harbour] Now that we have released...
In-Reply-To: <001c01c09e01$6a77dcd0$921a5e18@bh>
Message-ID: <3A96F76D.19640.A6C29CA@localhost>

On 23 Feb 2001, at 17:30, Brian Hays wrote:

> Phil:
> Sounds good to me.  I've got several bugs I need to write up succinctly in a
> list.
> I'll post it by tomorrow.
> 
> It's been a while since I reviewed the bug handling on the web page--it
> didn't seem to be getting used.
> Should we implement SourceForge's tools?  Or keep it simple and just use the
> mailing list?

It does not look like a mountain of bugs, so I think the list is 
appropriate.


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@lists.harbour-project.org  Sat Feb 24 01:16:01 2001
From: harbour@lists.harbour-project.org (=?big5?B?ufml1lwoc3MtYmJzXCk=?=)
Date: Sat Feb 24 01:16:01 2001
Subject: [Harbour] (no subject)
References: <000801c09ea1$fb98eb00$0300a8c0@mozcom.com>
Message-ID: <002301c09e29$cba7e680$637ba8c0@zzz.com.tw>

This is a multi-part message in MIME format.

------=_NextPart_000_0020_01C09E6C.D9912AC0
Content-Type: text/plain;
	charset="big5"
Content-Transfer-Encoding: quoted-printable

I suggest, set one switch to change different country when run =
compiler!!
  ----- Original Message -----=20
  =B1H=A5=F3=AA=CC: mitchelle=20
  =A6=AC=A5=F3=AA=CC: harbour@lists.harbour-project.org=20
  =B6=C7=B0e=A4=E9=B4=C1: 2001=A6~2=A4=EB25=A4=E9 AM 04:40
  =A5D=A6=AE: [Harbour] (no subject)


  Hello all!!

  The file include\hbapigt.h line: 83, 84, 85, 86 may be modify to:

  #define HB_B_SINGLE_V          0xb3 // '?
  #define HB_B_SINGLE_H          0xc4 // '?
  #define HB_B_DOUBLE_V          0xb3 // '?
  #define HB_B_DOUBLE_H          0xc4 // '?

  Because these code will occur error when compiler at my environment.
  We are from TAIWAN, We are use double bytes code.....





------=_NextPart_000_0020_01C09E6C.D9912AC0
Content-Type: text/html;
	charset="big5"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; charset=3Dbig5">
<META content=3D"MSHTML 5.50.4134.100" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3D=B2=D3=A9=FA=C5=E9>I suggest, set one switch to change =
different country when=20
run compiler!!</FONT></DIV>
<BLOCKQUOTE dir=3Dltr=20
style=3D"PADDING-RIGHT: 0px; PADDING-LEFT: 5px; MARGIN-LEFT: 5px; =
BORDER-LEFT: #000000 2px solid; MARGIN-RIGHT: 0px">
  <DIV style=3D"FONT: 10pt =B7s=B2=D3=A9=FA=C5=E9">----- Original =
Message ----- </DIV>
  <DIV=20
  style=3D"BACKGROUND: #e4e4e4; FONT: 10pt =B7s=B2=D3=A9=FA=C5=E9; =
font-color: black"><B>=B1H=A5=F3=AA=CC:</B> <A=20
  title=3Dlmitchelle_23@yahoo.com=20
  href=3D"mailto:lmitchelle_23@yahoo.com">mitchelle</A> </DIV>
  <DIV style=3D"FONT: 10pt =
=B7s=B2=D3=A9=FA=C5=E9"><B>=A6=AC=A5=F3=AA=CC:</B> <A=20
  title=3Dharbour@lists.harbour-project.org=20
  =
href=3D"mailto:harbour@lists.harbour-project.org">harbour@lists.harbour-p=
roject.org</A>=20
  </DIV>
  <DIV style=3D"FONT: 10pt =
=B7s=B2=D3=A9=FA=C5=E9"><B>=B6=C7=B0e=A4=E9=B4=C1:</B> =
2001=A6~2=A4=EB25=A4=E9 AM 04:40</DIV>
  <DIV style=3D"FONT: 10pt =B7s=B2=D3=A9=FA=C5=E9"><B>=A5D=A6=AE:</B> =
[Harbour] (no subject)</DIV>
  <DIV><BR></DIV>
  <DIV><FONT face=3DArial size=3D2>Hello all!!<BR><BR>The file =
include\hbapigt.h=20
  line: 83, 84, 85, 86 may be modify to:<BR><BR>#define=20
  HB_B_SINGLE_V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
0xb3 //=20
  '?<BR>#define=20
  HB_B_SINGLE_H&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
0xc4 //=20
  '?<BR>#define=20
  HB_B_DOUBLE_V&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
0xb3 //=20
  '?<BR>#define=20
  HB_B_DOUBLE_H&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =
0xc4 //=20
  '?<BR><BR>Because these code will occur error when compiler at my=20
  environment.<BR>We are from TAIWAN, We are use double bytes=20
  code.....<BR><BR><BR><BR></FONT></DIV></BLOCKQUOTE></BODY></HTML>

------=_NextPart_000_0020_01C09E6C.D9912AC0--



From harbour@lists.harbour-project.org  Sat Feb 24 03:07:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Sat Feb 24 03:07:02 2001
Subject: [Harbour] ChangeLog 2001-02-22 17:10 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <000501c09d5a$b992d880$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKCENKDJAA.Ron@Profit-Master.com>

Antonio,

> Ron,
>
> I have been testing your pp.prg and my first impression is that
> it is really impressive the amount of work you have done there.

Thanks.

> Do you have some guidelines, instructions or samples about what can
> be done with pp.prg ?

Well PP has 3 personalities which are tied tightly together.

1. What is supposed to be 100% Clipper compatible Pre-Processor. Executing
PP followed by a source file name will create <filename.pp$> which is the
equivalent of the Clipper <filename.ppo> file. In this mode there are few
optional switches.

PP filename[.ext] [-U][-DM][-DE][-DP][-CCH]

  -U   = Don't load standard rules.
  -DM  = Show tracing information into the Match Engine process.
  -DE  = Show tracing information into the Expression Scanning.
  -DP  = Show tracing information into the Output Generator construction.
  -CCH = Generate a .cch file (compiled command header).

At this point all switches must *not* be separated by any spaces!

2. DOT prompt, which suppose to allow most of Harbour syntax, with few
exceptions as detailed in previous message. Executing PP with no source
filename will start the DOT prompt mode. In this mode you can execute a
single line at a time, by typing the line and pressing the [Enter] key.
Additionally you may type:

DO filename.prg [Enter]

So that DOT will "run" the specified source file.

3. Finally, PP is a limited Harbour Interpreter. Subject to those same few
limitations it can execute most of Harbour syntax. Executing PP followed by
a source file name and the -R switch, will "RUN" that source (it will also
create the .pp$ file). Thus this final syntax is:

PP filename[.ext] -R

I intend to add support for UDFs, LOOPs, and Variable scoping, so that the
Interpreter will be as complete as possible.

> Does it pretend to be a dBase (or VFP) alike environment ?
> Why not ? :-)

Well, it's getting closer, and closer...

Ron


From harbour@lists.harbour-project.org  Sat Feb 24 03:55:03 2001
From: harbour@lists.harbour-project.org (Andrzej P. Wozniak)
Date: Sat Feb 24 03:55:03 2001
Subject: [Harbour] What about new documentation???
Message-ID: <009701c09e3f$46fd2f60$4d684cd5@andrzejw>

So many news and the documentation is still missing :-(

( 
-- 
Regards from the Harbour mirror in Poland
Andrzej P. Wozniak
alias@polnet.cc   harbour@harbour.pl.eu.org


From harbour@lists.harbour-project.org  Sat Feb 24 04:01:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Sat Feb 24 04:01:02 2001
Subject: [Harbour] What about new documentation???
In-Reply-To: <009701c09e3f$46fd2f60$4d684cd5@andrzejw>; from alias@polnet.cc on Sat, Feb 24, 2001 at 09:26:28AM +0100
References: <009701c09e3f$46fd2f60$4d684cd5@andrzejw>
Message-ID: <20010224090032.Q7328@hagbard.davep.org>

On Sat, Feb 24, 2001 at 09:26:28AM +0100, Andrzej P. Wozniak wrote:

> So many news and the documentation is still missing :-(

What documentation is missing and who are you expecting to write it? Perhaps
you could help the documentation effort by documenting what documentation is
missing?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Sat Feb 24 04:06:01 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb 24 04:06:01 2001
Subject: [Harbour] What about new documentation???
In-Reply-To: <20010224090032.Q7328@hagbard.davep.org>
Message-ID: <000b01c09e40$80531d00$0f2aa8c0@antonio>

Dave,

> What documentation is missing and who are you expecting to write 
> it? Perhaps
> you could help the documentation effort by documenting what 
> documentation is
> missing?

<rbg>

Antonio


From harbour@lists.harbour-project.org  Sat Feb 24 04:07:02 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb 24 04:07:02 2001
Subject: [Harbour] What about new documentation???
In-Reply-To: <20010224090032.Q7328@hagbard.davep.org>
Message-ID: <000c01c09e40$aa5d2320$0f2aa8c0@antonio>

Dave,

<rbg> again...

You are turning into a real Zen master

<rbg>

Antonio


From harbour@lists.harbour-project.org  Sat Feb 24 04:34:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Sat Feb 24 04:34:02 2001
Subject: [Harbour] Whatsnew ( Patrick )
In-Reply-To: <1032937989.20010223214425@belacy.belgorod.su>
Message-ID: <NCBBJKNMIDPJNLJCHCHIMENJFPAA.harbour@winfakt.com>

Alexander,

>  it seems that you forgot to include a line about hbmake to whatsnew
>  info on the site.
Fixed.
Sorry Luiz! ;-))

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Sat Feb 24 04:39:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Sat Feb 24 04:39:02 2001
Subject: [Harbour] Missing files for Releasing 0.36
In-Reply-To: <20010223135035.V7328@hagbard.davep.org>
Message-ID: <NCBBJKNMIDPJNLJCHCHIAENKFPAA.harbour@winfakt.com>

Dave,

> > Please look at http://www.Harbour-Project.org for the missing 
> > files on the download page.
> Just noticed that the source table says that the RPM is for Unix and that
> the .tar.gz is for Linux (GNU/Linux would be more correct BTW). 
> If anything it's actually the other way round.
Fixed!

Thanks for noticing it.

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Sat Feb 24 04:45:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Sat Feb 24 04:45:02 2001
Subject: [Harbour] Re: release 0.36 ( Patrick )
In-Reply-To: <3A958A20.8F8EB930@nh.conex.com.br>
Message-ID: <NCBBJKNMIDPJNLJCHCHIGENKFPAA.harbour@winfakt.com>

Luiz,

> You forget
> Hbmake
Fixed.
I have put it on the download page of Harbour.

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Sat Feb 24 04:58:01 2001
From: harbour@lists.harbour-project.org (Alex Shashkov)
Date: Sat Feb 24 04:58:01 2001
Subject: [Harbour] Re: Help needed
Message-ID: <128628063.20010224103331@orel.ru>

>Dear Friend Alex
>I need you help since you are the only using the Watcom C compiler
>I need to add WatCom  support to hbmake.
>What i need from you is the follow

>The name of the watcom c compiler executable.
wpp386.exe

>The default watcom lib needed


>The options need by the watcom C compiler to build harbour.
-d2 -w2 -5r -zq -zt0 -bt=DOS4G

>The lib utlity name and options
wlib.exe -c

>and example of watcom C link file
wlink.exe

__link__.tmp
---------------------
debug Watcom all OP osn=DOS4G OP stack=65536 OP CASEEXACT
ac_test.exe
FILE ac_test.obj
LIB ..\..\..\source\debug\dos\watcom\debug
LIB ..\..\..\source\vm\dos\watcom\vm
LIB ..\..\..\source\rtl\dos\watcom\rtl
LIB ..\..\..\source\lang\dos\watcom\lang
LIB ..\..\..\source\rdd\dos\watcom\rdd
LIB ..\..\..\source\rtl\dos\watcom\rtl
LIB ..\..\..\source\vm\dos\watcom\vm
LIB ..\..\..\source\macro\dos\watcom\macro
LIB ..\..\..\source\pp\dos\watcom\pp
LIB ..\..\..\source\common\dos\watcom\common
LIB ..\..\..\source\rdd\nulsys\dos\watcom\nulsys
LIB ..\..\..\source\rdd\dbfntx\dos\watcom\dbfntx
LIB ..\..\..\source\rdd\dbfcdx\dos\watcom\dbfcdx
LIB ..\..\..\source\rtl\gtdos\dos\watcom\gtdos
-------------------------------

This is the configuration from \config\dos\watcom.cf.


 Alex                          mailto:shashkov@orel.ru

P.S. I have some problems with my email shashkov@orel.ru, that is why,
please, mail me to shashkov@ostu.ru.



From harbour@lists.harbour-project.org  Sat Feb 24 04:58:26 2001
From: harbour@lists.harbour-project.org (Alex Shashkov)
Date: Sat Feb 24 04:58:26 2001
Subject: [Harbour] dynsym.c
Message-ID: <559102468.20010224104125@orel.ru>

Alexandr,

I have just looked at dynsym.c which you fixed according to my
recommendations.

You haven't fixed it correctly!!!!!

You have fixed it like that:

         if( ( ! pDynSym->pFunPtr ) && pSymbol->pFunPtr )
            pDynSym->pFunPtr = pSymbol->pFunPtr;
         pDynSym->pSymbol = pSymbol;

And you should have done it like that:
         if( ( ! pDynSym->pFunPtr ) && pSymbol->pFunPtr )
         {
            pDynSym->pFunPtr = pSymbol->pFunPtr;
            pDynSym->pSymbol = pSymbol;
         }
  
I will correct it today.
         
-- 
Best regards,
 Alex                          mailto:shashkov@orel.ru



From harbour@lists.harbour-project.org  Sat Feb 24 04:58:53 2001
From: harbour@lists.harbour-project.org (Alex Shashkov)
Date: Sat Feb 24 04:58:53 2001
Subject: [Harbour] ntx support
Message-ID: <10510469166.20010224110412@orel.ru>

Alexandr,

At last I have taken my time to consider Harbour project. I have
already sent you my comments. Now I see that I was right.

Function SUPER_APPEND() doesn't add a new record physically in the
.dbf file. And function SUPER_PUTVALUE() doesn't change .dbf file !!!!!
This happens either when the function DBCOMMIT() is called or when the
number of the current record is changed.
There are 2 functions for that: pArea->GoHot() and pArea->GoCold().

Now ntxAppend() adds an empty key because DBAPPEND() adds a blank
line. Then each function FIELDPUT() causes the changes of the index
key. Though the changes appear only in the buffer, but not in .dbf
file.
  
I am going to upload my code for DBFCDX support today. Have a look at
how I have done it for DBFCDX.
I have some questions which are also acute for .ntx. That will be my
next message.

-- 
Best regards,
 Alex                          mailto:shashkov@orel.ru


P.S. I have some problems with my email shashkov@orel.ru, that is why,
please, mail me to shashkov@ostu.ru.



From harbour@lists.harbour-project.org  Sat Feb 24 04:59:22 2001
From: harbour@lists.harbour-project.org (Alex Shashkov)
Date: Sat Feb 24 04:59:22 2001
Subject: [Harbour] Some questions
Message-ID: <9413346403.20010224115209@orel.ru>

I have some questions.
1. What do you think about nation support of such functions as:
UPPER(), LOWER(), ISALPHA(), ISDIGIT(), ISLOWER(), ISUPPER() and
character compare? In the Clipper this is solved by means of
.obj files such as ntxrus.obj. Harbour is a multiplatform compiler and
on various platforms may be various code pages for one language. That
is why very many .obj files are needed.

2. When creating the index tag the sorting of all the keys is
performed in the memory and only then it is recorded to the index
file (for DBFCDX). For that purpose the memory is allocated by the
function hb_xgrab(). For very big .dbf files the physical memory may
not be enough and the application terminates errors. Maybe OS swaps
automatically on the disc and hb_xgrab() will work without errors?
(Though it doesn't seem to me that it will be so.)
There is another way to solve that problem. When there is no free
memory left, we just need to write all the keys to the index file and
then to continue the sorting. In order to realize that way we are to
know beforehand how much of the free memory is left. Now the function
MEMORY() works only under OS Windows. We may use the function hb_xalloc()
instead of hb_xgrab() and react to the error ourselves.
To cut the long story short, does it make sense for me to write the
support in order to make this work: when there is not enough memory, all
the keys should be written to the index file and then the sorting will
continue and in the end the correction of the index file takes place?
Maybe someone will try to do it with very big .dbf files at first?

3. Maybe someone can describe the work of FOR CONDITION, ORDSCOPE(),
ORDCONDSET(), custom order and ORDKEYADD(), ORDKEYDEL() to me? Maybe
you will send a sample on Clipper to me?

-- 
Best regards,
 Alex                          mailto:shashkov@orel.ru


P.S. I have some problems with my email shashkov@orel.ru, that is why,
please, mail me to shashkov@ostu.ru.



From harbour@lists.harbour-project.org  Sat Feb 24 05:03:02 2001
From: harbour@lists.harbour-project.org (Alex Shashkov)
Date: Sat Feb 24 05:03:02 2001
Subject: [Harbour] ChangeLog 2001-02-24 12:45 UTC+0300 Alex Shashkov <shashkov@ostu.ru>
Message-ID: <12717599606.20010224130301@orel.ru>

2001-02-24 12:45 UTC+0300 Alex Shashkov <shashkov@ostu.ru>
   * harbour/source/vm/dynsym.c
     ! Fixed
   * harbour/include/hbrddcdx.h
     + Added support ORDSETFOCUS() and update keys
   * harbour/source/rdd/dbfcdx1.c
     + Added support ORDSETFOCUS(), update keys, keys any type
     - remove hb_cdxltoa()
   * harbour/source/rdd/dbfcdx1.h
     ! Fixed support for Watcom C 11.0
     + Added support keys any type
   * harbour/source/rdd/dbfcdx2.h
     + Added some new functions
     * Changed the declaration of some functions

   Not finished yet.



From harbour@lists.harbour-project.org  Sat Feb 24 05:05:03 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sat Feb 24 05:05:03 2001
Subject: [Harbour] ntx support
In-Reply-To: <10510469166.20010224110412@orel.ru>
Message-ID: <000d01c09e48$c28e1820$0f2aa8c0@antonio>

Alex,

> I am going to upload my code for DBFCDX support today. Have a look at
> how I have done it for DBFCDX.

Thanks so much for your help building the Harbour :-)

Antonio


From harbour@lists.harbour-project.org  Sat Feb 24 06:54:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Sat Feb 24 06:54:02 2001
Subject: [Harbour] What about new documentation???
In-Reply-To: <000c01c09e40$aa5d2320$0f2aa8c0@antonio>; from alinares@fivetech.com on Sat, Feb 24, 2001 at 10:03:33AM +0100
References: <20010224090032.Q7328@hagbard.davep.org> <000c01c09e40$aa5d2320$0f2aa8c0@antonio>
Message-ID: <20010224103622.R7328@hagbard.davep.org>

On Sat, Feb 24, 2001 at 10:03:33AM +0100, Antonio Linares wrote:
> Dave,
> 
> <rbg> again...
> 
> You are turning into a real Zen master

The one true harbour is the harbour that cannot be documented. ;>

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Sat Feb 24 10:09:02 2001
From: harbour@lists.harbour-project.org (Alex Shashkov)
Date: Sat Feb 24 10:09:02 2001
Subject: [Harbour] ChangeLog 2001-02-24 19:35 UTC+0300 Alex Shashkov <shashkov@ostu.ru>
Message-ID: <2735950934.20010224180850@orel.ru>

2001-02-23 18:10 UTC+0300 Alex Shashkov <shashkov@ostu.ru>
   * harbour/source/rtl/console.c
     ! Fixed bug STDOUT(..,"",..) on Watcom C 11.0

   * harbour/source/pp/ppcore.c
   * harbour/source/pp/pragma.c
     ! Fixed extern declaration for Watcom C 11.0
       ( Maybe it is worth while doing for other compilers? )



From harbour@lists.harbour-project.org  Sat Feb 24 20:36:02 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Sat Feb 24 20:36:02 2001
Subject: [Harbour] Missing files for Releasing 0.36
References: <NCBBJKNMIDPJNLJCHCHIAENKFPAA.harbour@winfakt.com>
Message-ID: <3A980092.BACF0F9C@nh.conex.com.br>

Patrick

I´ve uploaded the binaries for bcc50/w32 both flex and simplex version

Regards

Luiz Rafael Culik


From harbour@lists.harbour-project.org  Sat Feb 24 21:05:03 2001
From: harbour@lists.harbour-project.org (Alejandro Mery Pellegrini)
Date: Sat Feb 24 21:05:03 2001
Subject: [Harbour] 'save to' problem
Message-ID: <001c01c09ecf$5dc98280$67a41cc8@calula>

dGhlICdzYXZlIHRvJyBzdGF0ZW1lbnQgZG9lc24ndCB3b3JrIGxpa2UgY2xpcHBlcidzLg0KaS5l
Lg0KbGlrZSBub20/PyB3b3JrcyBmb3Igbm9tMTAsIGJ1dCBub3QgZm9yIG5vbTEgDQoNCnByb2Nl
ZHVyZSBwYXJfZW1wDQoqLS0tLS0tLS0tLS0tLS0tLS8NCnByaXZhdGUgbm9tMSxub20yLG5vbTMs
bm9tNCxub201LG5vbTYsbm9tNyxub204LG5vbTksbm9tMTANCmNsZWFyDQpzdG9yZSBzcGFjZSgz
MCkgdG8gbm9tMSxub20yLG5vbTMsbm9tNCxub201LG5vbTYsbm9tNyxub204LG5vbTksbm9tMTAN
CmlmIGZpbGUoJ2RhdF9lbXAubWVtJykNCiAgICByZXN0b3JlIGZyb20gZGF0X2VtcCBhZGRpdGl2
ZQ0KZW5kaWYNCg0KQCAwOCwyNSBnZXQgbm9tMQ0KQCAwOSwyNSBnZXQgbm9tMg0KQCAxMCwyNSBn
ZXQgbm9tMw0KQCAxMSwyNSBnZXQgbm9tNA0KQCAxMiwyNSBnZXQgbm9tNQ0KQCAxMywyNSBnZXQg
bm9tNg0KQCAxNCwyNSBnZXQgbm9tNw0KQCAxNSwyNSBnZXQgbm9tOA0KQCAxNiwyNSBnZXQgbm9t
OQ0KQCAxNywyNSBnZXQgbm9tMTANCnJlYWQNCg0Kc2F2ZSB0byBkYXRfZW1wIGFsbCBsaWtlIG5v
bT8/DQpyZXR1cm4NCg==


From harbour@lists.harbour-project.org  Sat Feb 24 22:39:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Sat Feb 24 22:39:02 2001
Subject: [Harbour] DBfCDX Compile Errors (Alex)
In-Reply-To: <001c01c09ecf$5dc98280$67a41cc8@calula>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOENMDJAA.Ron@Profit-Master.com>

Alex,

Could you please correct these. I can no longer build Harbour with BCC 5.5.
(Didn't try other compilers)!

Borland C++ 5.5 for Win32 Copyright (c) 1993, 2000 Borland
source\rdd\dbfcdx\dbfcdx1.c:
Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 1235: Comparing signed and
unsigned values in function hb_cdxKeyCompare
Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 2108: Comparing signed and
unsigned values in function hb_cdxTagTagLoad
Warning W8004 source\rdd\dbfcdx\dbfcdx1.c 2769: 'pKey' is assigned a value
that is never used in function hb_cdxPageRetrieveKey
Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 3003: Comparing signed and
unsigned values in function hb_cdxIndexPageRead
Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 3010: Comparing signed and
unsigned values in function hb_cdxIndexPageWrite
Warning W8008 source\rdd\dbfcdx\dbfcdx1.c 3203: Condition is always true in
function hb_cdxSortInsertWord
Warning W8008 source\rdd\dbfcdx\dbfcdx1.c 3676: Condition is always false in
function hb_cdxOrderCreate
Warning W8066 source\rdd\dbfcdx\dbfcdx1.c 3677: Unreachable code in function
hb_cdxOrderCreate
Warning W8008 source\rdd\dbfcdx\dbfcdx1.c 3678: Condition is always false in
function hb_cdxOrderCreate
Warning W8066 source\rdd\dbfcdx\dbfcdx1.c 3679: Unreachable code in function
hb_cdxOrderCreate

*****
Error E2140 source\rdd\dbfcdx\dbfcdx1.c 4115: Declaration is not allowed
here in function hb_cdxOrderListFocus
Error E2140 source\rdd\dbfcdx\dbfcdx1.c 4137: Declaration is not allowed
here in function hb_cdxGoTop
Error E2140 source\rdd\dbfcdx\dbfcdx1.c 4154: Declaration is not allowed
here in function hb_cdxGoBottom
Error E2140 source\rdd\dbfcdx\dbfcdx1.c 4172: Declaration is not allowed
here in function hb_cdxSkipRaw
Error E2140 source\rdd\dbfcdx\dbfcdx1.c 4240: Declaration is not allowed
here in function hb_cdxSeek
*****

Warning W8066 source\rdd\dbfcdx\dbfcdx1.c 4291: Unreachable code in function
hb_cdxSeek
Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 4313: Comparing signed and
unsigned values in function hb_cdxGoTo
Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 4339: Comparing signed and
unsigned values in function hb_cdxGoTo
*** 5 errors in Compile ***

Ron


From harbour@lists.harbour-project.org  Sat Feb 24 23:02:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Sat Feb 24 23:02:02 2001
Subject: [Harbour] ChangeLog 2001-02-24 19:45 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOENMDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKGENNDJAA.Ron@Profit-Master.com>

2001-02-24 19:45 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * contrib/dot/pp.prg
     + Added CompileNestedBlocks() #ifdef __CLIPPER__, because Clipper's
Macro Compiler can *not* compile nested blocks.

     /* Clipper macro compiler can't compile literal blocks which contain
nested blocks. This is needed by #commands like:
        INDEX ON ... TO ...
        Now PP will pre-compile such nested blocks. This makes PP fully
functional when compiled with Clipper too :-) */

   * harbour/source/rdd/dbfcdx1.c
     ! Moved few declarations above the HB_TRACE() line, to fix compilation
errors.


From harbour@lists.harbour-project.org  Sat Feb 24 23:05:03 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Sat Feb 24 23:05:03 2001
Subject: [Harbour] DBfCDX Compile Errors (Alex)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOENMDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIENNDJAA.Ron@Profit-Master.com>

Alex,

I fixed the errors, by moving the declarations above the HB_TRACE() line.

I'm curious, does watcom allows declaration to follow executable code?

Ron

> Alex,
>
> Could you please correct these. I can no longer build Harbour
> with BCC 5.5.
> (Didn't try other compilers)!
>
> Borland C++ 5.5 for Win32 Copyright (c) 1993, 2000 Borland
> source\rdd\dbfcdx\dbfcdx1.c:
> Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 1235: Comparing signed and
> unsigned values in function hb_cdxKeyCompare
> Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 2108: Comparing signed and
> unsigned values in function hb_cdxTagTagLoad
> Warning W8004 source\rdd\dbfcdx\dbfcdx1.c 2769: 'pKey' is assigned a value
> that is never used in function hb_cdxPageRetrieveKey
> Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 3003: Comparing signed and
> unsigned values in function hb_cdxIndexPageRead
> Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 3010: Comparing signed and
> unsigned values in function hb_cdxIndexPageWrite
> Warning W8008 source\rdd\dbfcdx\dbfcdx1.c 3203: Condition is
> always true in
> function hb_cdxSortInsertWord
> Warning W8008 source\rdd\dbfcdx\dbfcdx1.c 3676: Condition is
> always false in
> function hb_cdxOrderCreate
> Warning W8066 source\rdd\dbfcdx\dbfcdx1.c 3677: Unreachable code
> in function
> hb_cdxOrderCreate
> Warning W8008 source\rdd\dbfcdx\dbfcdx1.c 3678: Condition is
> always false in
> function hb_cdxOrderCreate
> Warning W8066 source\rdd\dbfcdx\dbfcdx1.c 3679: Unreachable code
> in function
> hb_cdxOrderCreate
>
> *****
> Error E2140 source\rdd\dbfcdx\dbfcdx1.c 4115: Declaration is not allowed
> here in function hb_cdxOrderListFocus
> Error E2140 source\rdd\dbfcdx\dbfcdx1.c 4137: Declaration is not allowed
> here in function hb_cdxGoTop
> Error E2140 source\rdd\dbfcdx\dbfcdx1.c 4154: Declaration is not allowed
> here in function hb_cdxGoBottom
> Error E2140 source\rdd\dbfcdx\dbfcdx1.c 4172: Declaration is not allowed
> here in function hb_cdxSkipRaw
> Error E2140 source\rdd\dbfcdx\dbfcdx1.c 4240: Declaration is not allowed
> here in function hb_cdxSeek
> *****
>
> Warning W8066 source\rdd\dbfcdx\dbfcdx1.c 4291: Unreachable code
> in function
> hb_cdxSeek
> Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 4313: Comparing signed and
> unsigned values in function hb_cdxGoTo
> Warning W8012 source\rdd\dbfcdx\dbfcdx1.c 4339: Comparing signed and
> unsigned values in function hb_cdxGoTo
> *** 5 errors in Compile ***
>
> Ron


From harbour@lists.harbour-project.org  Sun Feb 25 02:33:04 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Sun Feb 25 02:33:04 2001
Subject: [Harbour] Self references in codeblocks
Message-ID: <002401c09efd$efd4f780$921a5e18@bh>

Antonio, Ron and others:
Is there a way to reference two different "Self"s ?

We are regularly running into a serious problem with ambiguous references to
Self when defining a codeblock from within a class method.

For example, in our TFolder class, a method is used to add a page, which
creates a dialog (following code is simplified for demo purposes).  Notice
the reference to TFolder's iVar ::nFdHeight:

    ACTIVATE DIALOG oDlg NOWAIT ;
      ON INIT (  oDlg:Move( ::nFdHeight + 2, 3 ) ) ;
      VALID .f.

BTW the preprocessor directive for ON INIT produces <uInit> (notice the
parameter |Self| )...

         <oDlg>:Activate( <oDlg>:bLClicked [ :=
{|nRow,nCol,nFlags|<uClick>}], ;
                           [ ! <.NonModal.> ], [{|Self|<uInit>}],;

::nFdHeight is referring to an ivar of TFolder, hopefully passed in to the
bInit codeblock created for later execution.  However, when the bInit
codeblock
    [{|Self|<uInit>}]
is eval'ed, it passes in a parameter received as Self which represents the
DIALOG, not the FOLDER. So ::nFdHeight is dereferenced as an ivar of the
wrong class and an un-trapped error occurs.  BTW this causes a very nasty
explosion in the computer, creating a need for reboot even in Win2K, and can
be very hard to debug initially.

The only fixes we've come up with is either to store the iVar to a local and
use that in the codeblock (or store the outer Self to a different local and
reference iVars from that), or to change the class code or pre-processor
directives to stop passing in the "other" self--or to receive it as a
different variable name.  But it is awkward to have to change the
lower-level code, and we don't know where these need to change until one
blows up.

Is there a "standard" for how one should code such references?  Perhaps
"never use :: or Self in an expression stored in a codebloc to be used by a
different object"?  Should library developers be guided to NOT pass in Self
as a parameter so users don't get trapped by this?  Can the preprocessor and
compiler be coordinated to handle the early/later binding idea to somehow
make the right choice of who "Self" is?
As long as my app was procedural code using objects, this wasn't often a
problem.  But as we move to more object-oriented code, it pops up a
lot......

TIA

Brian Hays



From harbour@lists.harbour-project.org  Sun Feb 25 02:47:03 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Sun Feb 25 02:47:03 2001
Subject: [Harbour] Self references in codeblocks
In-Reply-To: <002401c09efd$efd4f780$921a5e18@bh>
Message-ID: <000001c09efe$99f00660$0f2aa8c0@antonio>

Brian,

What I normally do is:

   local oThis := Self

>     ACTIVATE DIALOG oDlg NOWAIT ;
>       ON INIT ( oDlg:Move( oThis:nFdHeight + 2, 3 ) ) ;
>       VALID .f.


Antonio



From harbour@lists.harbour-project.org  Sun Feb 25 03:02:04 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Sun Feb 25 03:02:04 2001
Subject: [Harbour] Missing files for Releasing 0.36
In-Reply-To: <3A980092.BACF0F9C@nh.conex.com.br>
Message-ID: <NCBBJKNMIDPJNLJCHCHICEOCFPAA.harbour@winfakt.com>

Luiz,

> I´ve uploaded the binaries for bcc50/w32 both flex and simplex version
I only see this file:
,--------
| harbour-slx-0.36.bin.w32.bcc32-50.zip
`-------------------
An it is corrupted.

Can you try to upload them again please.
Thanks!

Regards,

Patrick Mast
www.Patrick.Be.kz


From harbour@lists.harbour-project.org  Sun Feb 25 04:00:03 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Sun Feb 25 04:00:03 2001
Subject: [Harbour] Missing files for Releasing 0.36
References: <NCBBJKNMIDPJNLJCHCHICEOCFPAA.harbour@winfakt.com>
Message-ID: <3A98C98B.7EBB0B14@nh.conex.com.br>

Patrick

It should be online now + some docs

Regards

Luiz Rafael Culik

From harbour@lists.harbour-project.org  Sun Feb 25 12:33:02 2001
From: harbour@lists.harbour-project.org (Alex Shashkov)
Date: Sun Feb 25 12:33:02 2001
Subject: [Harbour] ChangeLog 2001-02-25 20:25 UTC+0300 Alex Shashkov <shashkov@ostu.ru>
Message-ID: <701717837.20010225203313@orel.ru>

2001-02-25 20:25 UTC+0300 Alex Shashkov <shashkov@ostu.ru>
   * harbour/source/rdd/dbfcdx2.h
   * harbour/source/rdd/dbfcdx1.c
     ! Fixed some bugs

Some Warnings have really proved to be errors.
Thanks to Ron for his corrections.



From harbour@lists.harbour-project.org  Sun Feb 25 12:35:04 2001
From: harbour@lists.harbour-project.org (Alex Shashkov)
Date: Sun Feb 25 12:35:04 2001
Subject: [Harbour] Re: DBfCDX Compile Errors
In-Reply-To: <E14X4XT-0003BL-00@tts.orel.ru>
References: <E14X4XT-0003BL-00@tts.orel.ru>
Message-ID: <101820617.20010225203456@orel.ru>

>Alex,

>I fixed the errors, by moving the declarations above the HB_TRACE() line.
Thanks.

>I'm curious, does watcom allows declaration to follow executable code?
It's really so!

-- 
Best regards,
 Alex                            mailto:shashkov@ostu.ru



From harbour@lists.harbour-project.org  Sun Feb 25 16:10:08 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Sun Feb 25 16:10:08 2001
Subject: [Harbour] 0.36 Problems
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKMENIDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEENPDJAA.Ron@Profit-Master.com>

1. Can anyone please confirm if fread() works correctly after:

   2001-02-13 hh:mm GMT+1 Jose Gimenez (JFG) <jfgimenez@wanadoo.es> 

2. Can anyone run hbtest.exe?

Are these problems I am experiencing BCC55 specific?

Ron

> Hi,
> 
> 1. One of the recent changes causes hbtest to choke on what 
> appears to be an
> infinite loop. This might be related to the following problems.
> 
> 2. FRead() no longer functional after last change in filesys.c 
> (BCC55 WinMe)
> Here is a small test program that works perfect in Clipper:
> 
> //-----------------------//
> Procedure Main( sSource )
> 
>    LOCAL hSource, sBuffer := Space( 40 )
> 
>    hSource := FOpen( sSource, 0 )
>    IF hSource == -1
>       Alert( "ERROR! opening: [" + sSource + "] O/S Error: " + Str(
> FError(), 2 ) )
>       RETURN .F.
>    ENDIF
> 
>    nLen := FRead( hSource, @sBuffer, 40 )
>    ? nLen, sBuffer
> 
> RETURN
> //-----------------------//
> 
> 3. SET ORDER TO 0 when no order is active causes a GPF (with default RDD)
> 
> Ron



From harbour@lists.harbour-project.org  Sun Feb 25 16:27:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Sun Feb 25 16:27:02 2001
Subject: [Harbour] ChangeLog 2001-02-25 13:20 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <000001c09efe$99f00660$0f2aa8c0@antonio>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIENPDJAA.Ron@Profit-Master.com>

2001-02-25 13:20 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * contrib/dot/pp.prg
     * Minor optimization.

   + contrib/dot/pp.txt

From harbour@lists.harbour-project.org  Sun Feb 25 16:49:02 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Sun Feb 25 16:49:02 2001
Subject: [Harbour] 0.36 Problems
References: <LOBBKAFMMFGJIKLMEPAKEENPDJAA.Ron@Profit-Master.com>
Message-ID: <3A997DBC.9CEA0D9@nh.conex.com.br>

Ron

> 
> 1. Can anyone please confirm if fread() works correctly after:
> 
>    2001-02-13 hh:mm GMT+1 Jose Gimenez (JFG) <jfgimenez@wanadoo.es>

No. It not working.I´ve tried with hbdoc.since it use extensivaly the
file IO functions

Regards

Luiz Rafael Culik

From harbour@lists.harbour-project.org  Sun Feb 25 17:48:02 2001
From: harbour@lists.harbour-project.org (Norberto Lara)
Date: Sun Feb 25 17:48:02 2001
Subject: [Harbour] 0.36 Problems
References: <LOBBKAFMMFGJIKLMEPAKEENPDJAA.Ron@Profit-Master.com> <3A997DBC.9CEA0D9@nh.conex.com.br>
Message-ID: <002d01c09f7d$5a126fe0$080000bc@terminalx>

Hi to all

whats tugboat ? an harbour 16 bits ???? this works ????
http://www.geocities.com/cl2cru/

thanks


From harbour@lists.harbour-project.org  Sun Feb 25 19:49:03 2001
From: harbour@lists.harbour-project.org (=?iso-8859-1?Q?Gustavo_A._Gonz=E1lez_M.?=)
Date: Sun Feb 25 19:49:03 2001
Subject: [Harbour] TugBoat programmer !
Message-ID: <006701c09f8d$e6e2c400$6b472cc8@gustavo>

Hello.

I believe that the rusian that create the tugboat can be a good programmer
to harbour.

Any one know the work or know the personage ?

Regards
--
Gustavo A. González M.
gonzalezgustavo@cantv.net
Caracas - Venezuela


From harbour@lists.harbour-project.org  Sun Feb 25 20:18:01 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Sun Feb 25 20:18:01 2001
Subject: [Harbour] TugBoat programmer !
In-Reply-To: <006701c09f8d$e6e2c400$6b472cc8@gustavo>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEOBDJAA.Ron@Profit-Master.com>

I did download and played with this product, and this is an amazing amount
of work.

He had to clone the Clipper Lexer and Parser, and to have complete
understanding of the Clipper VM, internal, and undocumented features. This
is an enormous power.

We will definitely benefit from his participation.

I sent him a private message, and I hope he'll reply.

Ron

> Hello.
>
> I believe that the rusian that create the tugboat can be a good programmer
> to harbour.
>
> Any one know the work or know the personage ?
>
> Regards
> --
> Gustavo A. González M.
> gonzalezgustavo@cantv.net
> Caracas - Venezuela


From harbour@lists.harbour-project.org  Sun Feb 25 21:21:01 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Sun Feb 25 21:21:01 2001
Subject: [Harbour] TugBoat programmer !
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEOBDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKCEOCDJAA.Ron@Profit-Master.com>

I just found that the author? *did* introduce himself and his product in the
HarbourTalk list back in October 8, 2000.

It seems his name is Vladislav Bulatov but the message is signed ai.

Here is his original message:

//-----------------------------
  HI by ALL!
I present to your attention my last development Cl2C - additional
intellectual compiler from
the language CA-Clipper into the language C.

It is the "additional" compiler, that is you can use it together with the
standard
compiler of the language CA-Clipper.
It is the compiler into the language C, that is you can increase speed of
your applications
approximately twice.
It is the "intellectual" compiler, that is you can find out semantic errors
at a stage of
compilation.
Example:
>>   local i := 0
>>   i := str (i) + i
>>----------- message ------------
>>Error a.PRG 4: Type clash, SHORTINT to STRING

Besides, Cl2C is:
100 % compatibility on syntax and semantics with the standard compiler of
the language
CA-Clipper.
100 % binary compatibility with existing software products.
Habitual options of the command line.
Possibility to declare variable as Integer, String and other standard
types. Example:
>> external function qwerty(__integer,__integer|__real,__array)__nil
>> function qwerty (a,b,c)
>> local __shortint i
>> if a == int(b)
>>   for i = 1 to len (c)
>>      c[i] := str (i)
>>   next
>> endif
>> return nil
Autodetect types of variables -- I do full stream analysis !
You must not indicate types variable - compiler is computed their
itself.
>>Warning chtype.prg 535: Local variable I type SHORTINT in function
TEDOWNUP
Global optimizations.
<<<------ END OF SELF-ADVERTISMENT ------->>>
But what charge per all these advantages?
1. Stream analysis executed too sleepily
1.1 (can be therefore that translator is written on Clipper...
1.1.1 But presently I several has accelerated processing. I has compiled
translator
 to it itself.

2. Cl2C not include preprocessor. You must have CA-Clipper or Harbour or
FlagShip or any Clipper-compatible preprocessor.
3.
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
!!! Cl2C  N_O_T   I_N_C_L_U_D_E     R_T_L !!!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
It simply uses run-time library of CA-Clipper.
There is small library CLCLIB In distribution program, but in her only stubs
to internal functions CA-Clipper.
4. CA-Clipper is internally 16-bit, and Cl2C make C-code for 16-bits
compilation. I use BCC 3.1 together with Cl2C and CA-Clipper.
5. Main defect: currently Cl2C is not OpenSource, it is shareware 8 $.


Best regards,
 Ai                          mailto:ai@bogorod.tula.net
//---------------------------------

Ron


From harbour@lists.harbour-project.org  Mon Feb 26 06:37:02 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Mon Feb 26 06:37:02 2001
Subject: [Harbour] What about new documentation???
References: <000c01c09e40$aa5d2320$0f2aa8c0@antonio>
Message-ID: <3A9A3D54.8E7EB270@nh.conex.com.br>

Antonio

The new docs has already being uploaded

Regards

Luiz Rafael Culik



From harbour@lists.harbour-project.org  Mon Feb 26 06:38:02 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Mon Feb 26 06:38:02 2001
Subject: [Harbour] Re: Help needed
References: <128628063.20010224103331@orel.ru>
Message-ID: <3A9A3FA4.7977F46E@nh.conex.com.br>

Alex

Many thanks

 
 
> >The lib utlity name and options
> wlib.exe -c
One little question  on wlib.exe
Does it support response files. Exemple

I use the follow response file with Bcc
///begin test.rsp
+-obj\b32\filesys.obj &
+-obj\b32\gtapi.obj

///end test.rsp
tlib test @test.rsp

Regards

Luiz Rafael Culik


From harbour@lists.harbour-project.org  Mon Feb 26 06:46:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Mon Feb 26 06:46:02 2001
Subject: [Harbour] ChangeLog 2001-02-26 03:30 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKCEOCDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEOCDJAA.Ron@Profit-Master.com>

2001-02-26 03:30 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * contrib/dot/pp.prg
     + Added support for UDFs, PRIVATEs, PUBLICs, LOCALs, and STATICs

   + contrib/dot/rp_run.ch
     * Command Header for PP Interpreter Mode.

   * contrib/dot/test.prg
     * Sample prg runable by PP.

   * contrib/dot/pp.txt
     * Updated documentation.

From harbour@lists.harbour-project.org  Mon Feb 26 07:25:04 2001
From: harbour@lists.harbour-project.org (Alexey Shashkov)
Date: Mon Feb 26 07:25:04 2001
Subject: [Harbour] Re: Help needed
Message-ID: <627268414.20010226151845@ostu.ru>

///begin test.lnk
test.lib
+-obj\filesys.obj
+-obj\gtapi.obj

///end test.lnk

wlib -c @test.lnk

 Alexey                          mailto:shashkov@ostu.ru



From harbour@lists.harbour-project.org  Mon Feb 26 07:37:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Mon Feb 26 07:37:02 2001
Subject: [Harbour] ChangeLog 2001-02-26 03:30 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEOCDJAA.Ron@Profit-Master.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHIEEOLFPAA.harbour@winfakt.com>

Ron,

This looks GREAT!
If we link in the FiveWin library's, can we use Fivewin code?

Regards,

Patrick Mast
www.Patrick.Be.kz 


> 2001-02-26 03:30 UTC-0800 Ron Pinkas <ron@profit-master.com>
>    * contrib/dot/pp.prg
>      + Added support for UDFs, PRIVATEs, PUBLICs, LOCALs, and STATICs
>    + contrib/dot/rp_run.ch
>      * Command Header for PP Interpreter Mode.
>    * contrib/dot/test.prg
>      * Sample prg runable by PP.
>    * contrib/dot/pp.txt
>      * Updated documentation.

From harbour@lists.harbour-project.org  Mon Feb 26 09:49:02 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Mon Feb 26 09:49:02 2001
Subject: [Harbour] Harbour function List
Message-ID: <3A9A6C87.C25CF9B6@nh.conex.com.br>

Dear Friends

Can I Tag the Follow functions with 'R' from doc/funclist.txt
All GTAPI, Get and Tbrowse Class, So i can update the html page also

Regards	

Luiz Rafael Culik



From harbour@lists.harbour-project.org  Mon Feb 26 09:49:28 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Mon Feb 26 09:49:28 2001
Subject: [Harbour] TugBoat programmer !
References: <LOBBKAFMMFGJIKLMEPAKCEOCDJAA.Ron@Profit-Master.com>
Message-ID: <3A9A6CFC.A143EDEB@nh.conex.com.br>

Ron

> 
> It seems his name is Vladislav Bulatov but the message is signed ai.
> 
> Here is his original message:
> 
> //-----------------------------
>   HI by ALL!
> I present to your attention my last development Cl2C - additional
> intellectual compiler from
> the language CA-Clipper into the language C.

Do you think that the author can join us. His work on cl2c is incredible

Regards

Luiz Rafael Culik


From harbour@lists.harbour-project.org  Mon Feb 26 12:46:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 26 12:46:02 2001
Subject: [Harbour] (no subject)
In-Reply-To: <000801c09ea1$fb98eb00$0300a8c0@mozcom.com>
Message-ID: <200102261745.f1QHjhX30402@thor.parrett.net>

** Reply to message from "mitchelle" <lmitchelle_23@yahoo.com> on Sat,
24 Feb 2001 12:40:05 -0800

> Because these code will occur error when compiler at my environment.
> We are from TAIWAN, We are use double bytes code.....

That file currently only has DBCS for line drawing characters for
Windows, because I wasn't aware that there were any DOS versions with
DBCS. I'll remove the non-DBCS lines for the next release. In the
meantime, the simplest way for you to enable DBCS for both DOS and
Windows is to change the "#ifdef HB_OS_DOS" on line 78 to "ifdef 0".
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 26 12:53:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 26 12:53:02 2001
Subject: [Harbour] DBfCDX Compile Errors (Alex)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIENNDJAA.Ron@Profit-Master.com>
References: <LOBBKAFMMFGJIKLMEPAKOENMDJAA.Ron@Profit-Master.com>
Message-ID: <200102261752.f1QHqiX31103@thor.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Sat,
24 Feb 2001 20:02:06 -0800

> I'm curious, does watcom allows declaration to follow executable code?

All C++ compilers allow that when in C++ mode. So either Alex is using
C++ mode or Watcom extended their C mode to allow that.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 26 13:14:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 26 13:14:02 2001
Subject: [Harbour] ChangeLog 2001-02-26 13:15 UTC-0500
Message-ID: <200102261813.f1QIDPX00740@thor.parrett.net>

2001-02-26 13:15 UTC-0500 David G. Holm <dholm@jsd-llc.com>

  * make_gnu.cmd
    * Added -r to make command to match make_gnu.bat.
    * Added output redirection to make command to match make_gnu.bat.

  * include/hbapigt.h
    * Changed '#ifdef HB_OS_DOS' on line 78 to '#ifdef 0',
      so that the DBCS compatible definitions of the line
      draw characters are always used.

  * source/Makefile
    * When building the bcc16 version of Harbour, don't build the compiler,
      because the djgpp version of the compiler needs to be used, because
      the bcc16 version of the compiler runs out of memory while building
      some of the Harbour library files.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 26 13:33:01 2001
From: harbour@lists.harbour-project.org (Night Walker)
Date: Mon Feb 26 13:33:01 2001
Subject: [Harbour] (no subject)

At 12:45 PM 2001/2/26 -0500, you wrote:
>** Reply to message from "mitchelle" <lmitchelle_23@yahoo.com> on Sat,
>Windows, because I wasn't aware that there were any DOS versions with
>DBCS. I'll remove the non-DBCS lines for the next release. In the
>meantime, the simplest way for you to enable DBCS for both DOS and
>Windows is to change the "#ifdef HB_OS_DOS" on line 78 to "ifdef 0".

  Thank so much ^_^

Tom Huang 2001/2/27
NightWalker....



From harbour@lists.harbour-project.org  Mon Feb 26 13:35:04 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Mon Feb 26 13:35:04 2001
Subject: [Harbour] Re: 0.36 Problems
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKMENIDJAA.Ron@Profit-Master.com>
References: <LOBBKAFMMFGJIKLMEPAKMENIDJAA.Ron@Profit-Master.com>
Message-ID: <591767986.20010226212846@belacy.belgorod.su>

On  Saturday, February 24, 2001, 5:42 Ron Pinkas <Ron@Profit-Master.com> wrote:

RP> 2. FRead() no longer functional after last change in filesys.c (BCC55 WinMe)

 It was me, who posted that changes, implemented by Jose Gimenez. I
 did a little test before - rebuild some ntx tests - they use
 fsRead(), fsWrite(), fsCreate() - and it worked Ok.
 I can restore previous version of filesys.c, but, maybe, it's better
 to fix it ?
 

RP> 3. SET ORDER TO 0 when no order is active causes a GPF (with default RDD)

 Yes, I got the same. I'll check it.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Mon Feb 26 13:35:36 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Mon Feb 26 13:35:36 2001
Subject: [Harbour] Re: ntx support
In-Reply-To: <10510469166.20010224110412@orel.ru>
References: <10510469166.20010224110412@orel.ru>
Message-ID: <1931971036.20010226213209@belacy.belgorod.su>

On  Saturday, February 24, 2001, 11:04 Alex Shashkov <shashkov@orel.ru> wrote:

AS> At last I have taken my time to consider Harbour project. I have
AS> already sent you my comments. Now I see that I was right.

AS> Function SUPER_APPEND() doesn't add a new record physically in the
AS> .dbf file. And function SUPER_PUTVALUE() doesn't change .dbf file !!!!!
AS> This happens either when the function DBCOMMIT() is called or when the
AS> number of the current record is changed.
AS> There are 2 functions for that: pArea->GoHot() and pArea->GoCold().

 Yes, I missed some things here, the main point for me was to
 implement appropriate low level functions. Now I'll review it again.


Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Mon Feb 26 13:36:06 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Mon Feb 26 13:36:06 2001
Subject: [Harbour] Re: Now that we have released...
In-Reply-To: <3A96A875.8792.937B043@localhost>
References: <3A96A875.8792.937B043@localhost>
Message-ID: <47938916.20010226211457@belacy.belgorod.su>

On  Saturday, February 24, 2001, 2:14 Phil Barnett <midnight@the-oasis.net> wrote:

PB> What does everyone think about releasing .37 in a few
PB> days...weeks to settle out the things that will come from releasing 
PB> .36, instead of jumping ahead and adding a bunch of stuff that will 
PB> take weeks to evolve?

PB> It seems like this would be a good time to just take some bug 
PB> reports and deal only with them.

PB> What do you think?

 100% agree.

 
Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Mon Feb 26 13:36:36 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Mon Feb 26 13:36:36 2001
Subject: [Harbour] Re: Changelog 2001-02-22 10:25 GMT+3
In-Reply-To: <200102231856.f1NIuEX32415@thor.parrett.net>
References: <200102221615.0000000H@Internet> <200102221615.0000000H@Internet>
 <200102231856.f1NIuEX32415@thor.parrett.net>
Message-ID: <41882996.20010226211401@belacy.belgorod.su>

On  Friday, February 23, 2001, 21:56 David G. Holm <dholm@jsd-llc.com> wrote:

DGH> So the problem isn't that readfile doesn't compile, but that it doesn't
DGH> link, because you haven't built the contrib/libmisc library.

 Yes, it is.
 But all libraries should be built automatically while Harbour
 building, isn't it ? Libmisc haven't been built ( I don't sure that I
 use the verbs right here :) ) and the make process finishes
 abnormally on building tests. So, we should fix makefiles. I didn't
 know how and have chose the easiest way :) .
 

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Mon Feb 26 13:49:44 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 26 13:49:44 2001
Subject: [Harbour] ChangeLog 2001-02-26 13:45 UTC-0500
Message-ID: <200102261848.f1QImeX05212@thor.parrett.net>

2001-02-26 13:45 UTC-0500 David G. Holm <dholm@jsd-llc.com>

  * include/hbapigt.h
    * Changed '#ifdef 0' block on line 78 to a comment block in order to
      avoid GCC warnings about the #ifdef argument starting with a digit.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 26 14:03:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Mon Feb 26 14:03:02 2001
Subject: [Harbour] ChangeLog 2001-02-26 03:30 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIEEOLFPAA.harbour@winfakt.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAEOGDJAA.Ron@Profit-Master.com>

Patrick,

> Ron,
>
> This looks GREAT!
> If we link in the FiveWin library's, can we use Fivewin code?

I don't know that this will ever be possible. But I'll try to come as close
as I can.

Ron


From harbour@lists.harbour-project.org  Mon Feb 26 14:20:03 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Mon Feb 26 14:20:03 2001
Subject: [Harbour] ChangeLog 2001-02-26 03:30 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKAEOGDJAA.Ron@Profit-Master.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHIAEPBFPAA.harbour@winfakt.com>

> > This looks GREAT!
> > If we link in the FiveWin library's, can we use Fivewin code?
> I don't know that this will ever be possible. But I'll try to 
> come as close as I can.
Thanks Ron, I appriciate your work!

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Mon Feb 26 14:23:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Mon Feb 26 14:23:02 2001
Subject: [Harbour] 0.36 Problems
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKMENIDJAA.Ron@Profit-Master.com>
References: <LOBBKAFMMFGJIKLMEPAKAENIDJAA.Ron@Profit-Master.com>
Message-ID: <200102261922.f1QJMUX09447@thor.parrett.net>

** Reply to message from "Ron Pinkas" <Ron@Profit-Master.com> on Fri,
23 Feb 2001 18:42:15 -0800

> 2. FRead() no longer functional after last change in filesys.c (BCC55 WinMe)
> Here is a small test program that works perfect in Clipper:

After correcting for the following errors (I always compile with
//ES2), your sample program fails for me also:

> ../../t.prg(9) Warning W0006  Procedure returns value
> ../../t.prg(12) Warning W0001  Ambiguous reference: 'NLEN'
> ../../t.prg(13) Warning W0001  Ambiguous reference: 'NLEN'
cls
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Mon Feb 26 14:30:03 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Mon Feb 26 14:30:03 2001
Subject: [Harbour] Re: 0.36 Problems
References: <LOBBKAFMMFGJIKLMEPAKMENIDJAA.Ron@Profit-Master.com> <591767986.20010226212846@belacy.belgorod.su>
Message-ID: <3A9AAE1B.58F79FAE@nh.conex.com.br>

Alexander

wrote:
> 
> RP> 2. FRead() no longer functional after last change in filesys.c (BCC55 WinMe)
> 
>  It was me, who posted that changes, implemented by Jose Gimenez. I
>  did a little test before - rebuild some ntx tests - they use
>  fsRead(), fsWrite(), fsCreate() - and it worked Ok.
>  I can restore previous version of filesys.c, but, maybe, it's better
>  to fix it ?

I´ve also get erros when using the new filesys, especialy the FREAD()
function, with hbdoc. Can you fixit. Btw other tests that i done with
the other file io functions such as fopen(),fclose(),fwrite()  they are
mush faster them the old one

Regards

Luiz Rafael Culik


From harbour@lists.harbour-project.org  Mon Feb 26 14:35:03 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Mon Feb 26 14:35:03 2001
Subject: [Harbour] ChangeLog 2001-02-26 03:30 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKAEOGDJAA.Ron@Profit-Master.com>
Message-ID: <000101c0a02a$bea922c0$0f2aa8c0@antonio>

Ron,

> > This looks GREAT!
> > If we link in the FiveWin library's, can we use Fivewin code?
> 
> I don't know that this will ever be possible. But I'll try to 
> come as close as I can.


I bet it will work ok :-)

Antonio


From harbour@lists.harbour-project.org  Mon Feb 26 14:49:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Mon Feb 26 14:49:02 2001
Subject: [Harbour] Changelog 2001-02-26 22:45 GMT+3
Message-ID: <15901367.20010226224611@belacy.belgorod.su>

2001-02-26 22:45 GMT+3 Alexander Kresin <alex@belacy.belgorod.su>
   * harbour/source/rdd/dbfntx/dbfntx1.c
     * bugs fixed in ntxOrderListFocus() and ntxSeek(), which appeared after
       Set Order To 0

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Mon Feb 26 16:59:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Mon Feb 26 16:59:02 2001
Subject: [Harbour] gtos2 and 16 subsystems inside OS/2
Message-ID: <3A9AD150.86BD603D@libero.it>

Hi,

I've found and corrected a bug inside gtos2.c

this little .prg file was failing inside hb_gt_readkey() because gtos2.c
does not respect the rule that, when calling a 16 bit subsystem inside
OS/2 (like KBD or VIO or MOU), you need to be _sure_ that memory objects
passed into these subsystems don't exceed 64Kb boundaries.


function Main()

   Test(1)
   Alert( "Test ok" )

return nil

function Test(n)

   local x := "THIS IS A STRING" + Space(16)

   if n < 8908
      Test(n + 1)
   endif

return nil

Now it works but dies as soon as I add a ? n inside Test(n) because all
other functions inside gtos2.c don't respect this rule as well.

I'll fix them in the coming days.

regards.



-- 

 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Mon Feb 26 17:05:03 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Mon Feb 26 17:05:03 2001
Subject: [Harbour] CHANGELOG: 2001-02-26 22:59 GMT+1
Message-ID: <3A9AD2A8.274346C2@libero.it>

2001-02-26 22:59 GMT+1 Maurilio Longo <maurilio.longo@libero.it>
   * source/rtl/gtos2/gtos2.c
     ! hb_gt_ReadKey() uses KBD subsystem of OS/2 instead of any
compiler runtime
       function to fetch characters from keyboard this way I can be sure
that used memory
       is tileable.


-- 

 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Mon Feb 26 17:09:01 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Mon Feb 26 17:09:01 2001
Subject: [Harbour] "class" field revisited (JF ??)
Message-ID: <000901c0a041$896749e0$921a5e18@bh>

I thought we had a fix to this months ago, but I can't make this work right:

I have a FIELD in a dbf called Class.  When I use FWH's TDatabase class,
which creates an iVar at runtime for each field name, I should be able to
refer to it as oDBF:Class, but this instead is an Object created by the
class system.

I thought we had a #define that  would protect such classes from this.
There was a #define HB_FWOCLASS in my code for that class, but it is not
referenced anywhere in Harbour.  I changed it to #define HB_CLS_FWO, but the
behavior was not changed.
I tried  #undef HB_CLS_ALLOWCLASS  as a guess, but that didn't help either.

So, what is the mechanism to allow an ivar called 'class' that is not
"reserved" by the class system???  Did we lose some code somewhere along the
line?

Brian Hays



From harbour@lists.harbour-project.org  Mon Feb 26 17:32:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Mon Feb 26 17:32:02 2001
Subject: [Harbour] CHANGELOG: 2001-02-26 22:59 GMT+1
References: <3A9AD2A8.274346C2@libero.it>
Message-ID: <3A9AD945.DF1B9E50@libero.it>

:-((

Now it works but it is _damn slooooooow_ :-))

I have to rethink it a little.

regards.


Maurilio Longo ha scritto:
> 
> 2001-02-26 22:59 GMT+1 Maurilio Longo <maurilio.longo@libero.it>
>    * source/rtl/gtos2/gtos2.c
>      ! hb_gt_ReadKey() uses KBD subsystem of OS/2 instead of any
> compiler runtime
>        function to fetch characters from keyboard this way I can be sure
> that used memory
>        is tileable.
> 
> --
> 
>  __________
> |  |  | |__| md2520@mclink.it
> |_|_|_|____| Team OS/2 Italia
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 

 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Tue Feb 27 00:29:02 2001
From: harbour@lists.harbour-project.org (Andrzej P. Wozniak)
Date: Tue Feb 27 00:29:02 2001
Subject: [Harbour] What about new documentation???
References: <009701c09e3f$46fd2f60$4d684cd5@andrzejw> <20010224090032.Q7328@hagbard.davep.org>
Message-ID: <000501c0a07e$12158ea0$09684cd5@andrzejw>

----- Original Message -----
From: "Dave Pearson" <davep@davep.org>
To: "Harbour" <harbour@lists.harbour-project.org>
Sent: Saturday, February 24, 2001 10:00 AM
Subject: Re: [Harbour] What about new documentation???


> On Sat, Feb 24, 2001 at 09:26:28AM +0100, Andrzej P. Wozniak wrote:
>
> > So many news and the documentation is still missing :-(
>
> What documentation is missing and who are you expecting to write it?
> Perhaps you could help the documentation effort by documenting what 
> documentation is missing?

You exactly know what I'm expecting, Dave:

ftp://ftp.harbour-project.org/doc/harbour-0.36.doc.en.ng.zip

and other 0.36 versions.

( 
-- 
Regards from the Harbour mirror in Poland
Andrzej P. Wozniak
alias@polnet.cc   harbour@harbour.pl.eu.org











From harbour@lists.harbour-project.org  Tue Feb 27 02:11:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Tue Feb 27 02:11:02 2001
Subject: [Harbour] What about new documentation???
In-Reply-To: <000501c0a07e$12158ea0$09684cd5@andrzejw>; from alias@polnet.cc on Mon, Feb 26, 2001 at 07:02:23AM +0100
References: <009701c09e3f$46fd2f60$4d684cd5@andrzejw> <20010224090032.Q7328@hagbard.davep.org> <000501c0a07e$12158ea0$09684cd5@andrzejw>
Message-ID: <20010227070245.U7328@hagbard.davep.org>

On Mon, Feb 26, 2001 at 07:02:23AM +0100, Andrzej P. Wozniak wrote:

> > On Sat, Feb 24, 2001 at 09:26:28AM +0100, Andrzej P. Wozniak wrote:
> >
> > > So many news and the documentation is still missing :-(
> >
> > What documentation is missing and who are you expecting to write it?
> > Perhaps you could help the documentation effort by documenting what
> > documentation is missing?
> 
> You exactly know what I'm expecting, Dave:

It would appear not. It seemed to me that you were asking why the
documentation wasn't progressing at the same rate as actual development.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Tue Feb 27 02:21:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Tue Feb 27 02:21:02 2001
Subject: [Harbour] What about new documentation???
In-Reply-To: <000501c0a07e$12158ea0$09684cd5@andrzejw>
Message-ID: <NCBBJKNMIDPJNLJCHCHICEPMFPAA.harbour@winfakt.com>

Andrzej,

> > > So many news and the documentation is still missing :-(
> > What documentation is missing and who are you expecting to write it?
> > Perhaps you could help the documentation effort by documenting what 
> > documentation is missing?
> You exactly know what I'm expecting, Dave:
> ftp://ftp.harbour-project.org/doc/harbour-0.36.doc.en.ng.zip
> and other 0.36 versions.

Luiz has uploaded the documentation.
They will appear on the web site today I hope. ;-))

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Tue Feb 27 03:16:02 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Tue Feb 27 03:16:02 2001
Subject: [Harbour] CHANGELOG: 2001-02-27 09:09 GMT+1
Message-ID: <3A9B6229.9B7AD5E@libero.it>

2001-02-27 09:09 GMT+1 Maurilio Longo <maurilio.longo@libero.it>
   * source/rtl/gtos2/gtos2.c
     ! fixed (sort of) changing used variables to statics so that I
don't have to alloc them
       on every call to hb_gt_ReadKey(). Now as fast as it was.


-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Tue Feb 27 03:48:00 2001
From: harbour@lists.harbour-project.org (Antonio Linares)
Date: Tue Feb 27 03:48:00 2001
Subject: [Harbour] "class" field revisited (JF ??)
In-Reply-To: <000901c0a041$896749e0$921a5e18@bh>
Message-ID: <001101c0a099$8aa232e0$0f2aa8c0@antonio>

Brian,

Maybe you have a modified classes.c module, CVS code has this code:

     /*s_msgClass     = hb_dynsymGet( "CLASS" );*/

...

/* else if( pMsg == s_msgClass )
      return hb___msgClass;       */


Antonio


From harbour@lists.harbour-project.org  Tue Feb 27 05:26:01 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Tue Feb 27 05:26:01 2001
Subject: [Harbour] VIRUS WARNING (Ron)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIELIDJAA.Ron@Profit-Master.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHIAEPOFPAA.harbour@winfakt.com>

Ron and All,

The file <harbour-slx-0.36.bin.w32.msvc.zip> contains the W95.CIH Virus!
If you have downloaded this file, please delete it from your system.

The virus may cause damage to your computer on the 26th of the month. The
virus hides itself in unused portions of the host, so the host file size
does not change.

The file is deleted from the FTP server.
Should I post a warning on the Web site?

Ron, can you check your computer and upload a new virus free ZIP file?

Regards,

Patrick Mast
www.Patrick.Be.kz


From harbour@lists.harbour-project.org  Tue Feb 27 05:29:02 2001
From: harbour@lists.harbour-project.org (Alexander S.Kresin)
Date: Tue Feb 27 05:29:02 2001
Subject: [Harbour] clip
Message-ID: <8316775277.20010227132753@belacy.belgorod.su>

Returning to the thread about Tugboat, clipper clones development, I
recommend you take a look at ftp://ftp.itk.ru/pub/clip ( they have www
site too : http://www.itk.ru , but it is on Russian ).

This is a team of Russian programmers, who develop a Clipper clone (
clip ) for Unix ( but suppose to have it later in Win32 too ).

Now it is more close to be ready than Harbour. I think, that it is in
1.0 stage. I didn't play much with it, have tried only dbu - it works
perfectly. Currently they are busy with developing GUI, based
on Gtk.

I had ( and have now ) contact with them, invited them to participate
in Harbour, but they have their own opinion about core implementation
and want to go their own way.

Currently that project isn't Open Source. They think about it, but, as
they wrote me, they don't see now, what Open Source can give to their
project.
  

Best regards,
 Alexander
http://members.xoom.com/alkresin/



From harbour@lists.harbour-project.org  Tue Feb 27 05:44:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Tue Feb 27 05:44:02 2001
Subject: [Harbour] VIRUS WARNING (Ron)
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIAEPOFPAA.harbour@winfakt.com>; from harbour@winfakt.com on Tue, Feb 27, 2001 at 11:25:49AM +0100
References: <LOBBKAFMMFGJIKLMEPAKIELIDJAA.Ron@Profit-Master.com> <NCBBJKNMIDPJNLJCHCHIAEPOFPAA.harbour@winfakt.com>
Message-ID: <20010227104258.B7328@hagbard.davep.org>

On Tue, Feb 27, 2001 at 11:25:49AM +0100, Patrick Mast wrote:

> The file is deleted from the FTP server.
> Should I post a warning on the Web site?

If you are sure that your virus checker hasn't come up with a false positive
then, yes, posting a warning would make sense.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Tue Feb 27 05:50:03 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Tue Feb 27 05:50:03 2001
Subject: [Harbour] VIRUS WARNING (Ron)
In-Reply-To: <20010227104258.B7328@hagbard.davep.org>
Message-ID: <NCBBJKNMIDPJNLJCHCHIAEPPFPAA.harbour@winfakt.com>

Dave,
 
> > The file is deleted from the FTP server.
> > Should I post a warning on the Web site?
> If you are sure that your virus checker hasn't come up with a 
> false positive
> then, yes, posting a warning would make sense.
Maybe Ron can confirm the Virus. Ron?

Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Tue Feb 27 09:15:04 2001
From: harbour@lists.harbour-project.org (john hatzakis)
Date: Tue Feb 27 09:15:04 2001
Subject: [Harbour] Aspradakis to Aspradakis
Message-ID: <003b01c0a0c7$9c7010e0$0a0a36cb@user>

This is a multi-part message in MIME format.

------=_NextPart_000_0007_01C0A11B.5AE7BF20
Content-Type: text/plain;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

Hello from Hobart Tasmania Australia,
My name is Nikolaos Aspradakis, background from
Ierapetra, Greece.
I saw your Web page & was curious to find out who you are
given that our name is not that common, if you have the time, please =
reply, to

naspradakis@duke-energy.com

------=_NextPart_000_0007_01C0A11B.5AE7BF20
Content-Type: text/html;
	charset="iso-8859-1"
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD>
<META http-equiv=3DContent-Type content=3D"text/html; =
charset=3Diso-8859-1">
<META content=3D"MSHTML 5.50.4134.600" name=3DGENERATOR>
<STYLE></STYLE>
</HEAD>
<BODY bgColor=3D#ffffff>
<DIV><FONT face=3DArial size=3D2>Hello from Hobart Tasmania =
Australia,</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>My name is Nikolaos Aspradakis, =
background=20
from</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>Ierapetra, Greece.</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>I saw your Web page &amp; was curious =
to find out=20
who you are</FONT></DIV>
<DIV><FONT face=3DArial size=3D2>given that our name is not that common, =
if you have=20
the time, please reply, to</FONT></DIV>
<DIV><FONT face=3DArial size=3D2></FONT>&nbsp;</DIV>
<DIV><FONT face=3DArial=20
size=3D2>naspradakis@duke-energy.com</FONT></DIV></BODY></HTML>

------=_NextPart_000_0007_01C0A11B.5AE7BF20--


From harbour@lists.harbour-project.org  Tue Feb 27 10:31:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Tue Feb 27 10:31:02 2001
Subject: [Harbour] VIRUS WARNING (Ron)
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIAEPOFPAA.harbour@winfakt.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEONDJAA.Ron@Profit-Master.com>

Patrick,

I believe this is false alarm.

1. The machine on which the file was prepared is a new computer that has
never been connected to the net.

2. On my connected machine I absolutely never open any attachment, other
than verified files.

3. The 26th. has elapsed, and no sign of problem.

Ron

> Ron and All,
>
> The file <harbour-slx-0.36.bin.w32.msvc.zip> contains the W95.CIH Virus!
> If you have downloaded this file, please delete it from your system.
>
> The virus may cause damage to your computer on the 26th of the month. The
> virus hides itself in unused portions of the host, so the host file size
> does not change.
>
> The file is deleted from the FTP server.
> Should I post a warning on the Web site?
>
> Ron, can you check your computer and upload a new virus free ZIP file?
>
> Regards,
>
> Patrick Mast
> www.Patrick.Be.kz


From harbour@lists.harbour-project.org  Tue Feb 27 10:34:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Tue Feb 27 10:34:02 2001
Subject: [Harbour] VIRUS WARNING (Ron)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEONDJAA.Ron@Profit-Master.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHIMEACGAAA.harbour@winfakt.com>

Ron,

Can you check the file with your Anti Virus programme?
I have 2 reports of a Virus in it...

Regards,

Patrick Mast
www.Patrick.Be.kz

> I believe this is false alarm.
> 1. The machine on which the file was prepared is a new computer that has
> never been connected to the net.
> 2. On my connected machine I absolutely never open any attachment, other
> than verified files.
> 3. The 26th. has elapsed, and no sign of problem.
>
> > The file <harbour-slx-0.36.bin.w32.msvc.zip> contains the W95.CIH Virus!
> > If you have downloaded this file, please delete it from your system.
> > The virus may cause damage to your computer on the 26th of the
> > month. The
> > virus hides itself in unused portions of the host, so the host file size
> > does not change.
> > The file is deleted from the FTP server.
> > Should I post a warning on the Web site?
> > Ron, can you check your computer and upload a new virus free ZIP file?


From harbour@lists.harbour-project.org  Tue Feb 27 10:43:01 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Tue Feb 27 10:43:01 2001
Subject: [Harbour] VIRUS WARNING (Ron)
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIAEPOFPAA.harbour@winfakt.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEONDJAA.Ron@Profit-Master.com>

Patrick,

Out of curiosity, which file specifically was reported infected?

Ron

> Ron and All,
> 
> The file <harbour-slx-0.36.bin.w32.msvc.zip> contains the W95.CIH Virus!
> If you have downloaded this file, please delete it from your system.
> 
> The virus may cause damage to your computer on the 26th of the month. The
> virus hides itself in unused portions of the host, so the host file size
> does not change.
> 
> The file is deleted from the FTP server.
> Should I post a warning on the Web site?
> 
> Ron, can you check your computer and upload a new virus free ZIP file?
> 
> Regards,
> 
> Patrick Mast
> www.Patrick.Be.kz


From harbour@lists.harbour-project.org  Tue Feb 27 10:46:01 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Tue Feb 27 10:46:01 2001
Subject: [Harbour] VIRUS WARNING (Ron)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEONDJAA.Ron@Profit-Master.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHIOEADGAAA.harbour@winfakt.com>

Ron,

> Out of curiosity, which file specifically was reported infected?
Like the original message said:
<harbour-slx-0.36.bin.w32.msvc.zip>

Do you see the virus?

Regards,

Patrick Mast
www.Patrick.Be.kz

>
> Ron
>
> > Ron and All,
> >
> > The file <harbour-slx-0.36.bin.w32.msvc.zip> contains the W95.CIH Virus!
> > If you have downloaded this file, please delete it from your system.
> >
> > The virus may cause damage to your computer on the 26th of the
> month. The
> > virus hides itself in unused portions of the host, so the host file size
> > does not change.
> >
> > The file is deleted from the FTP server.
> > Should I post a warning on the Web site?
> >
> > Ron, can you check your computer and upload a new virus free ZIP file?
> >
> > Regards,
> >
> > Patrick Mast
> > www.Patrick.Be.kz
>
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>
>


From harbour@lists.harbour-project.org  Tue Feb 27 11:32:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Tue Feb 27 11:32:02 2001
Subject: [Harbour] VIRUS WARNING (Ron)
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIOEADGAAA.harbour@winfakt.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEOODJAA.Ron@Profit-Master.com>

Patrick,

But a zip file in itself is *not* any form executable
(com,exe,vbs,macro,etc.), how could it contain a virus?

How would such virus become effective?

Ron

> Ron,
>
> > Out of curiosity, which file specifically was reported infected?
> Like the original message said:
> <harbour-slx-0.36.bin.w32.msvc.zip>
>
> Do you see the virus?
>
> Regards,
>
> Patrick Mast
> www.Patrick.Be.kz


From harbour@lists.harbour-project.org  Tue Feb 27 11:36:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Tue Feb 27 11:36:02 2001
Subject: [Harbour] VIRUS WARNING (Ron)
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIOEADGAAA.harbour@winfakt.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEOODJAA.Ron@Profit-Master.com>

Patrick,

One can *safely* unzip any suspect zip file (other then self extracting
executables), and check the *resulting* files for any virus.

If you do that, I'm sure you'll find, there is no problem.

Ron

> Ron,
>
> > Out of curiosity, which file specifically was reported infected?
> Like the original message said:
> <harbour-slx-0.36.bin.w32.msvc.zip>
>
> Do you see the virus?
>
> Regards,
>
> Patrick Mast
> www.Patrick.Be.kz


From harbour@lists.harbour-project.org  Tue Feb 27 13:10:04 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Tue Feb 27 13:10:04 2001
Subject: [Harbour] VIRUS WARNING (Ron)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKOEOODJAA.Ron@Profit-Master.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHIAEAIGAAA.harbour@winfakt.com>

Ron,

> One can *safely* unzip any suspect zip file (other then self extracting
> executables), and check the *resulting* files for any virus.
> If you do that, I'm sure you'll find, there is no problem.

Please try it yourself Ron.
I use Norton Antivirus.

Regards,

Patrick Mast
www.Patrick.Be.kz 


From harbour@lists.harbour-project.org  Tue Feb 27 13:10:35 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Tue Feb 27 13:10:35 2001
Subject: [Harbour] VIRUS WARNING (Ron)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEOODJAA.Ron@Profit-Master.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHIOEAHGAAA.harbour@winfakt.com>

Ron,

> But a zip file in itself is *not* any form executable
> (com,exe,vbs,macro,etc.), how could it contain a virus?
> How would such virus become effective?
Please unzip the file. All the exe files IN the zip contain the virus.
I have double checked now.
 
Regards,

Patrick Mast
www.Patrick.Be.kz 

From harbour@lists.harbour-project.org  Tue Feb 27 15:41:02 2001
From: harbour@lists.harbour-project.org (JF Lefebvre)
Date: Tue Feb 27 15:41:02 2001
Subject: [Harbour] "class" field revisited (JF ??)
In-Reply-To: <001101c0a099$8aa232e0$0f2aa8c0@antonio>
References: <000901c0a041$896749e0$921a5e18@bh>
Message-ID: <200102272040.f1RKeG332192@ev6.be.wanadoo.com>

Brian,


Do you check your classes.c ? Any more problem ? I'm always 
100% busy with our product but could find some time to debug it if 
needed :-(


> 
> Maybe you have a modified classes.c module, CVS code has this code:
> 
>      /*s_msgClass     = hb_dynsymGet( "CLASS" );*/
> 
> ...
> 
> /* else if( pMsg == s_msgClass )
>       return hb___msgClass;       */
> 
> 
> Antonio
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 



Best regards,

J. Lefebvre,
Bruxelles,
Belgium


From harbour@lists.harbour-project.org  Tue Feb 27 16:46:01 2001
From: harbour@lists.harbour-project.org (Luiz Rafael Culik Guimaraes)
Date: Tue Feb 27 16:46:01 2001
Subject: [Harbour] Re: slow speed on harbour 0.36
References: <nvAl6.21201$Ut1.1862986@afrodite.telenet-ops.be> <3A9C15A4.8BED52D8@t-online.de>
Message-ID: <3A9C2025.9F85FA5F@nh.conex.com.br>


Peter Overkamp wrote:
> 
> hi,
> 
> i have use/test the release 0.35 with an application which use the lowlevel
> file-functions and dbf-files, dbfcdx/ads.
> 
> i must read a ascii-file and splitt this into much other based on much
> dbf-files. this should the first/test-app for future projects.
> 
> the release 0.36 are very slow in the low-level functions. the app are 3-5
> times slower.
> 
> i have used the released bins and have also build the harbour-exe with the
> borland 5.5 compiler. the speed-result was the same. the os was winnt4 and
> ads5701 on nt and novell.
> 
> who can me say, why the release 0.36 is so slow? and/or which change can i do.
> 
> thanks
>     peter

From harbour@lists.harbour-project.org  Tue Feb 27 21:03:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Tue Feb 27 21:03:02 2001
Subject: [Harbour] VIRUS WARNING (Ron)
In-Reply-To: <NCBBJKNMIDPJNLJCHCHIOEAHGAAA.harbour@winfakt.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEPADJAA.Ron@Profit-Master.com>

Patrick,

Yes, thank you, I did have infected exes on my system. I have no clue, why
it didn't attack yesterday, as its profile suggest it should have?

After wasting a full day work, fighting the damn thing, all is clean now!

1. Did the other files I uploaded passed the virus scan?

2. Do you have a log to indicate, whether the infected file was downloaded
by anyone?

Ron

> Ron,
>
> > But a zip file in itself is *not* any form executable
> > (com,exe,vbs,macro,etc.), how could it contain a virus?
> > How would such virus become effective?
> Please unzip the file. All the exe files IN the zip contain the virus.
> I have double checked now.
>
> Regards,
>
> Patrick Mast
> www.Patrick.Be.kz



From harbour@lists.harbour-project.org  Tue Feb 27 21:24:01 2001
From: harbour@lists.harbour-project.org (Phil Barnett)
Date: Tue Feb 27 21:24:01 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
Message-ID: <3A9C1AAC.15002.3EC5C32@localhost>

Ok, now that I have your attention, I'd like to raise a point for 
discussion while we are waiting for .36 to settle down and become 
.37(stable).

Several points have been raised in the last few months that make 
me believe that while we have a basic handle on our licensing 
terms which might keep someone from stealing our hard work, for 
real world development work the current 'Harbour License with the 
Harbour Exception' will create significant negative problems for 
those who wish to develop non-free software that customises parts 
of Harbour. That was never the intention of the developers (if I read 
the mood correctly) and I don't believe it is now.

Dave Pearson has raised this point, I have raised this point, and in 
the heat of code battle, many of us have put it off for a discussion 
in the future.

My feelings are that we are nearing commercial usability in the 
Harbour Project. Kudo's to you all. Glow with pride for the finely 
crafted tool you have helped to create! This means we really have 
to hammer out EXACTLY how (and how much) we will allow 
modifications of our copyrighted code to be included into 
commercial applications without invoking the GPL license.

It's my belief that our ultimate goal is to produce a GPL licensed 
compiler that can create non GPL executables.

** If you don't understand the ramifications of including GPL code in 
a commercial product, go here and read... 

http://www.gnu.org/copyleft/gpl.html 

Sections 2 and 3 on that page are most appropriate, but If you 
never have read it, it's time to read the whole thing.

Are you with me so far?

Good, I thought so.

I see at least one serious flaw in our current license, and I'm pretty 
sure that there are more. For starters, I'll throw this one out...

I have the Harbour compiler installed on my computer. According to 
the Harbour Exception, if I compile a program and it links in the 
RTL, I have not violated the intent of the license and I still have the 
capability of distributing that executable as non-GPL software.

But, what if I want to modify ERRORSYS.PRG and link it in? 
Suddenly, I have just boxed myself into a corner. I can't do that 
without including pure GPL code into my code base, which carries 
with it the full weight of making my entire application GPL.

What we don't want is:

1. Difficult licensing terms
2. Hard to keep up with exceptions
3. to loosen our license until anyone can steal the whole thing via a 
loophole in the license.
 
What we do want is:

1. Clarity
2. Easy to understand what is and isn't a violation of license terms
3. The ability to grab a part of Harbour Project source code, make 
modifications to it, include it into our executable and not invoke the 
GPL. We won't know which part ahead of time...

Ladies and Gentlemen, please spend some time thinking about 
this and send your ideas to the list. Hopefully, synergy will provide 
an answer as it has so many times before.

Think now. Post later, but don't forget. It is vital that we get this 
right.

Please keep this thread on the main list. It is certainly on topic.


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@lists.harbour-project.org  Tue Feb 27 23:03:02 2001
From: harbour@lists.harbour-project.org (Phil Barnett)
Date: Tue Feb 27 23:03:02 2001
Subject: [Harbour] VIRUS WARNING (Ron)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEPADJAA.Ron@Profit-Master.com>
References: <NCBBJKNMIDPJNLJCHCHIOEAHGAAA.harbour@winfakt.com>
Message-ID: <3A9C320C.31117.447AA14@localhost>

On 27 Feb 2001, at 18:01, Ron Pinkas wrote:

> Patrick,
> 
> Yes, thank you, I did have infected exes on my system. I have no clue, why
> it didn't attack yesterday, as its profile suggest it should have?
> 
> After wasting a full day work, fighting the damn thing, all is clean now!
> 
> 1. Did the other files I uploaded passed the virus scan?
> 
> 2. Do you have a log to indicate, whether the infected file was downloaded
> by anyone?

I have a log, but it shows the IP of the connection unless the 
downloader actually volunteered his/her actual email address.

I'll scan it...

Out of 32  downloads, (some of them multiples of getright or 
similar)I found:

jvtecheto@iname.com
root@cartesis.com 
abc@ibm.com
clipper@gospelcards.com.br

My guess is that the ibm one is fake.

I'll let you contact the others. ;-0


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@lists.harbour-project.org  Tue Feb 27 23:50:03 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Tue Feb 27 23:50:03 2001
Subject: [Harbour] VIRUS WARNING (Ron)
In-Reply-To: <3A9C320C.31117.447AA14@localhost>
Message-ID: <LOBBKAFMMFGJIKLMEPAKEEPBDJAA.Ron@Profit-Master.com>

Phil,

Are these individuals who downloaded the SimpLex MSVC build?

Ron
 
> > 2. Do you have a log to indicate, whether the infected file was 
> downloaded
> > by anyone?
> 
> I have a log, but it shows the IP of the connection unless the 
> downloader actually volunteered his/her actual email address.
> 
> I'll scan it...
> 
> Out of 32  downloads, (some of them multiples of getright or 
> similar)I found:
> 
> jvtecheto@iname.com
> root@cartesis.com 
> abc@ibm.com
> clipper@gospelcards.com.br
> 
> My guess is that the ibm one is fake.
> 
> I'll let you contact the others. ;-0
> 
> 
> -- 
>               Phil Barnett  mailto:midnight@the-oasis.net
>                        WWW  http://www.the-oasis.net/
>                   FTP Site  ftp://ftp.the-oasis.net


From harbour@lists.harbour-project.org  Wed Feb 28 01:10:04 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb 28 01:10:04 2001
Subject: [Harbour] The Oasis Mail Server (Phil)
In-Reply-To: <3A9C320C.31117.447AA14@localhost>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEPCDJAA.Ron@Profit-Master.com>

Phil,

I got this twice, while responding to your last (private) message:

   ----- The following addresses had permanent fatal errors -----
<midnight@the-oasis.net>

   ----- Transcript of session follows -----
550 <midnight@the-oasis.net>... Host unknown (Name server:
mail.the-oasis.net.: host not found)

Ron


From harbour@lists.harbour-project.org  Wed Feb 28 01:40:04 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb 28 01:40:04 2001
Subject: [Harbour] 0.36 Problems: HBTEST, filesys.c Errors!!! (Jose Gimenez)
In-Reply-To: <3A9C320C.31117.447AA14@localhost>
Message-ID: <LOBBKAFMMFGJIKLMEPAKKEPDDJAA.Ron@Profit-Master.com>

Does anyone have a contact with Jose?

filesys on win32 has serious problems. At the very least fread() and
freadstr() are not functional!!!

I posted the error before, but Jose did not reply. This is a serious
problem.

I also posted a message about a problem with hbtest, and later asked if
anyone else is having such problem, but got no replies???

I am experiencing very odd problems with hbtest, even after circumventing
rt_file.prg completely!!!

1. Running hbtest without parameter appear to enter some infinite loop.
2. Running hbtest /? produces no display and returns normally.

My tests were performed with BC55 on WinMe.

FWIW, other tests in tests like db_brows and testget seem to work fine.

Can anyone please report results of using hbtest with current CVS source.

TIA

Ron


From harbour@lists.harbour-project.org  Wed Feb 28 03:16:01 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb 28 03:16:01 2001
Subject: [Harbour] 2001-02-28 00:05 UTC-0800 Ron Pinkas <ron@profit-master.com>
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEPDDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAEPEDJAA.Ron@Profit-Master.com>

2001-02-28 00:05 UTC-0800 Ron Pinkas <ron@profit-master.com>
   * source/rtl/filesys.c
     * Temporarily changed all #if defined(__WIN32__) to #if
defined(X__WIN32__) to disable
       newly added logic, until fixed.

/* This also fixed the hbtest problem. */


From harbour@lists.harbour-project.org  Wed Feb 28 03:45:03 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Wed Feb 28 03:45:03 2001
Subject: [Harbour] New FileSys.c problems
Message-ID: <004301c0a163$9894d9a0$921a5e18@bh>

After a clean build with the new CVS code:
When I use FOPEN to open a binary file exclusively, the subsequent FREAD
succeeds, BUT FERROR returns a 6 (apparently "Invalid Handle")?  Also,
MEMOREAD fails both in FWH apps and simple harbour tests.

Is it just me???

Also, since the new system is trying to use Win32 HANDLEs instead of
"normal" file handles, there is probably some incompatibility with other
functions people may have that expect to use the file handle.  Though I like
the idea of unlimited handles and of upgrading to the modern CreateFile
mode, I have been unable to make FREAD work and have had to re-instate the
old filesys.c from a backup.

If someone knows how to fix the new filesys, one thing to look at is only
calling GetLastError if functions return false, for example:
         if(ReadFile( ( HANDLE ) hFileHandle, pBuff, uiCount, &dwRead,
NULL ))
            uiRead = ( USHORT ) dwRead;
         else
            errno = GetLastError();

The original set errno no matter what, and I'm suspicious GetLastError
returns some codes even if a ReadFile was successful (this and a similar fix
to ReadLarge seemed to fix the FERROR issue).


Brian Hays



From harbour@lists.harbour-project.org  Wed Feb 28 03:52:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Wed Feb 28 03:52:02 2001
Subject: [Harbour] VIRUS WARNING (Ron)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEPADJAA.Ron@Profit-Master.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHICEBEGAAA.harbour@winfakt.com>

Ron,

> Yes, thank you, I did have infected exes on my system. I have no clue, why
> it didn't attack yesterday, as its profile suggest it should have?
I cant garantee if the visur *works* ;-))

> After wasting a full day work, fighting the damn thing, all is clean now!
> 1. Did the other files I uploaded passed the virus scan?
Yes, I have found no other virusses.

Regards,

Patrick Mast
www.Patrick.Be.kz


From harbour@lists.harbour-project.org  Wed Feb 28 03:52:33 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Wed Feb 28 03:52:33 2001
Subject: [Harbour] 0.36 Problems: HBTEST, filesys.c Errors!!! (Jose Gimenez)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKKEPDDJAA.Ron@Profit-Master.com>
Message-ID: <NCBBJKNMIDPJNLJCHCHIAEBEGAAA.harbour@winfakt.com>

Ron,

> Does anyone have a contact with Jose?
Yes, I do.

I have forwarded your message to Jose's personal eMail.
I'll keep you posted on his reply's.

Regards,

Patrick Mast
www.Patrick.Be.kz 
 
> filesys on win32 has serious problems. At the very least fread() and
> freadstr() are not functional!!!
> I posted the error before, but Jose did not reply. This is a serious
> problem.
> I also posted a message about a problem with hbtest, and later asked if
> anyone else is having such problem, but got no replies???
> I am experiencing very odd problems with hbtest, even after circumventing
> rt_file.prg completely!!!
> 1. Running hbtest without parameter appear to enter some infinite loop.
> 2. Running hbtest /? produces no display and returns normally.
> My tests were performed with BC55 on WinMe.
> FWIW, other tests in tests like db_brows and testget seem to work fine.
> Can anyone please report results of using hbtest with current CVS source.


From harbour@lists.harbour-project.org  Wed Feb 28 03:57:02 2001
From: harbour@lists.harbour-project.org (Patrick Mast)
Date: Wed Feb 28 03:57:02 2001
Subject: [Harbour] New FileSys.c problems
In-Reply-To: <004301c0a163$9894d9a0$921a5e18@bh>
Message-ID: <NCBBJKNMIDPJNLJCHCHIKEBEGAAA.harbour@winfakt.com>

Brian,

There seems something to go wrong with the new file functions.
I have contacted Jose Ginminez on this.

I will keep you posted on this.

Regards,

Patrick Mast
www.Patrick.Be.kz

> After a clean build with the new CVS code:
> When I use FOPEN to open a binary file exclusively, the subsequent FREAD
> succeeds, BUT FERROR returns a 6 (apparently "Invalid Handle")?  Also,
> MEMOREAD fails both in FWH apps and simple harbour tests.
> Is it just me???
> Also, since the new system is trying to use Win32 HANDLEs instead of
> "normal" file handles, there is probably some incompatibility with other
> functions people may have that expect to use the file handle.
> Though I like
> the idea of unlimited handles and of upgrading to the modern CreateFile
> mode, I have been unable to make FREAD work and have had to re-instate the
> old filesys.c from a backup.
> If someone knows how to fix the new filesys, one thing to look at is only
> calling GetLastError if functions return false, for example:
>          if(ReadFile( ( HANDLE ) hFileHandle, pBuff, uiCount, &dwRead,
> NULL ))
>             uiRead = ( USHORT ) dwRead;
>          else
>             errno = GetLastError();
> The original set errno no matter what, and I'm suspicious GetLastError
> returns some codes even if a ReadFile was successful (this and a
> similar fix
> to ReadLarge seemed to fix the FERROR issue).


From harbour@lists.harbour-project.org  Wed Feb 28 04:15:04 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Wed Feb 28 04:15:04 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <3A9C1AAC.15002.3EC5C32@localhost>; from midnight@the-oasis.net on Tue, Feb 27, 2001 at 09:22:52PM -0500
References: <3A9C1AAC.15002.3EC5C32@localhost>
Message-ID: <20010228090635.S7328@hagbard.davep.org>

On Tue, Feb 27, 2001 at 09:22:52PM -0500, Phil Barnett wrote:

> What we don't want is:
> 
> 1. Difficult licensing terms
> 2. Hard to keep up with exceptions
> 3. to loosen our license until anyone can steal the whole thing via a 
> loophole in the license.
>  
> What we do want is:
> 
> 1. Clarity
> 2. Easy to understand what is and isn't a violation of license terms
> 3. The ability to grab a part of Harbour Project source code, make 
> modifications to it, include it into our executable and not invoke the 
> GPL. We won't know which part ahead of time...

Here's one suggestion (with two possible outcomes). In a nutshell, we[1]
want to extend exactly the same freedom to harbour users as Nantucket and CA
extended to Clipper users. In essence this means that harbour's versions of
what you find in the SOURCE directory of a CA-Clipper installation needs to
have a very liberal licence that has no "viral"[2] quality and which allows
people to modify the software in a "non free" way. IOW, it extends the
ultimate freedom (the freedom to modify for non-free purposes) to the users.

So, what I'd propose is that those who have the copyright on things like
GETSYS consider the idea of either using a very liberal licence (a BSD style
licence for example) or even consider placing those items of source in the
public domain.

Personally I'd favour follow the public domain route as this makes life nice
and easy all around. Obviously, what actually happens is that each copyright
holder needs to make up their own mind.

As Phil said, think now, act later. There's no need to go changing licence
terms right away, ponder the implications and if this affects you and any
code you've written. Have a think about how you'd like to further extend
freedoms to harbour users with your code.

Before any change can be made it's necessary that we make a list of which
items of source would be affected and who currently holds copyright on those
items of source (copyright holders would also do well to seek permission
from major contributers to those items of code before changing the terms of
the licence).

Also keep in mind that we're only talking about a small number of key source
files, we're not talking about harbour on the whole. Also note that every
one of these files doesn't have to use the same licence to extend the same
freedom, although it would be better and easier to explain if we can.

-----
[1]  When I say "we" I mean "we the copyright holders" even though that
doesn't include me when we're talking about code.

[2]  I hesitate to use this term as RMS hates it, as do I, because the likes
of the GPL aren't really viral in nature.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Wed Feb 28 06:11:01 2001
From: harbour@lists.harbour-project.org (John Skelton)
Date: Wed Feb 28 06:11:01 2001
Subject: [Harbour] Our current GPL license probably won't do what we
 want it to do.
Message-ID: <200102280609_MC2-C713-763A@compuserve.com>

Phil,

Thanks for re-raising it!

Below is a message I was sent recently and I was wondering how best
to bring up not so much how accurate/inaccurate it is but the way the
current licence can be (mis?)understood.  Also, the person concerned
potentially wanted to ship an app built now (or soon) with Harbour but
is very worried about the bit that reads "For the moment it might
affect your applications if and only if you distribute it as a binary
that was compiled with Harbour." -- as (unsurprisingly) they do want
to distribute as a binary.

BTW, the English is a bit suspect there ("applications ... it").

This person emailed me; I worry that others may have been put off and
not contacted anyone (yes, pathetic and so on but it would be nice if
we could avoid putting people off <g>).

John.
---
I took a quick look at the legal section on the Harbour website and the
following excerpts have me worried...

"Be assured that it isn't the intention of the Harbour developers that yo=
ur
applications will have to be released as free software. Supporting free
software would be the right thing to do but the Harbour developers have
decided not to insist on this; we think it is more useful in this situati=
on
to set up the final licenses so that they do not make any conditions on t=
he
status of your work that uses Harbour."

I see the writing on the wall that, if I use Harbour, I have to release m=
y
code as free software!

"Please remember that the GPL only really affects you when you distribute=

binary versions of GPLd code, in this case, the HVM and RTL linked into
your application. As it is, because Harbour isn't even at the beta stage
yet, you should not even be considering the idea of distributing Harbour
compiled applications."

Will I have to include "binary versions of GPLd code" (HVM and RTL) in th=
e
[snip] app? If so, I see a problem here.

"In a nutshell, Harbour will, post-beta, use a licence that won't in any
way affect your applications. For the moment it might affect your
applications if and only if you distribute it as a binary that was compil=
ed
with Harbour. This should be seen as a feature, not a bug."

So, not only is there a possible concern now, but who know if/when it wil=
l
change. I wish I could just buy a royalty free license like most other
software.

From harbour@lists.harbour-project.org  Wed Feb 28 06:31:01 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Wed Feb 28 06:31:01 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <200102280609_MC2-C713-763A@compuserve.com>; from John_Skelton@compuserve.com on Wed, Feb 28, 2001 at 06:09:47AM -0500
References: <200102280609_MC2-C713-763A@compuserve.com>
Message-ID: <20010228113015.X7328@hagbard.davep.org>

On Wed, Feb 28, 2001 at 06:09:47AM -0500, John Skelton wrote:

> Below is a message I was sent recently and I was wondering how best to
> bring up not so much how accurate/inaccurate it is but the way the current
> licence can be (mis?)understood. Also, the person concerned potentially
> wanted to ship an app built now (or soon) with Harbour but is very worried
> about the bit that reads "For the moment it might affect your applications
> if and only if you distribute it as a binary that was compiled with
> Harbour." -- as (unsurprisingly) they do want to distribute as a binary.

They do right to be concerned.

> This person emailed me; I worry that others may have been put off and not
> contacted anyone (yes, pathetic and so on but it would be nice if we could
> avoid putting people off <g>).

Perhaps, in future, you might want to direct them to the harbour users
mailing list or, considering it's my words they were reacting to, towards me
(if they don't wish to ask questions in a public arena).

Perhaps you'd be kind enough to forward this reply to that person?

> I took a quick look at the legal section on the Harbour website and the
> following excerpts have me worried...

There is no legal section on the harbour web site. The text that this person
has quoted is from the FAQ. The FAQ is not a legal document, it is my
attempt to answer frequently asked questions and to provide people with
enough pointers to further help themselves.

> "Be assured that it isn't the intention of the Harbour developers that
> your applications will have to be released as free software. Supporting
> free software would be the right thing to do but the Harbour developers
> have decided not to insist on this; we think it is more useful in this
> situation to set up the final licenses so that they do not make any
> conditions on the status of your work that uses Harbour."
> 
> I see the writing on the wall that, if I use Harbour, I have to release my
> code as free software!

Absolute rubbish. This couldn't be further from the truth.

> "Please remember that the GPL only really affects you when you distribute
> binary versions of GPLd code, in this case, the HVM and RTL linked into
> your application. As it is, because Harbour isn't even at the beta stage
> yet, you should not even be considering the idea of distributing Harbour
> compiled applications."
> 
> Will I have to include "binary versions of GPLd code" (HVM and RTL) in the
> [snip] app? If so, I see a problem here.

There is a *possible* problem here at the moment, nothing more, nothing
less. The above is an honest and open warning, it's telling people that they
should consider the licence implications when using harbour, as they should
with *any* product they use.

Harbour is free software. If this person really cares about free software
and about harbour I'm sure they'll come to the harbour users list and inform
us of their concerns so we can ensure that the licence fits their needs (as
long as their needs are reasonable and are compatible with the aims and
goals of harbour).

> "In a nutshell, Harbour will, post-beta, use a licence that won't in any
> way affect your applications. For the moment it might affect your
> applications if and only if you distribute it as a binary that was
> compiled with Harbour. This should be seen as a feature, not a bug."
> 
> So, not only is there a possible concern now, but who know if/when it will
> change. I wish I could just buy a royalty free license like most other
> software.

Harbour already has a royalty free licence.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Wed Feb 28 07:59:04 2001
From: harbour@lists.harbour-project.org (Maurilio Longo)
Date: Wed Feb 28 07:59:04 2001
Subject: [Harbour] 0.36 Problems: HBTEST, filesys.c Errors!!! (Jose Gimenez)
References: <LOBBKAFMMFGJIKLMEPAKKEPDDJAA.Ron@Profit-Master.com>
Message-ID: <3A9CF5EE.46A4585F@libero.it>

Ron,

it is ok here with OS/2 gcc:

! 3119 MAIN_MISC(498)  __CopyFile("$$COPYFR.TMP")               -> "E
BASE 2010
Argument error __COPYFILE "                                             
| "E BA
SE 2010 Argument error __COPYFILE A:1:C:$$COPYFR.TMP "

===========================================================================
Test calls passed:       2933 ( 88.00 % )
Test calls failed:        352 ( 12.00 % )
                   ----------
            Total:       3285 ( Time elapsed: 13.17 seconds )

WARNING ! Failures detected


regards.



Ron Pinkas ha scritto:
> 
> Does anyone have a contact with Jose?
> 
> filesys on win32 has serious problems. At the very least fread() and
> freadstr() are not functional!!!
> 
> I posted the error before, but Jose did not reply. This is a serious
> problem.
> 
> I also posted a message about a problem with hbtest, and later asked if
> anyone else is having such problem, but got no replies???
> 
> I am experiencing very odd problems with hbtest, even after circumventing
> rt_file.prg completely!!!
> 
> 1. Running hbtest without parameter appear to enter some infinite loop.
> 2. Running hbtest /? produces no display and returns normally.
> 
> My tests were performed with BC55 on WinMe.
> 
> FWIW, other tests in tests like db_brows and testget seem to work fine.
> 
> Can anyone please report results of using hbtest with current CVS source.
> 
> TIA
> 
> Ron
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org

-- 
 __________                   
|  |  | |__| md2520@mclink.it 
|_|_|_|____| Team OS/2 Italia

From harbour@lists.harbour-project.org  Wed Feb 28 11:29:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Wed Feb 28 11:29:02 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <3A9C1AAC.15002.3EC5C32@localhost>
Message-ID: <200102281628.f1SGSmh14940@thor.parrett.net>

** Reply to message from "Phil Barnett" <midnight@the-oasis.net> on
Tue, 27 Feb 2001 21:22:52 -0500

> But, what if I want to modify ERRORSYS.PRG and link it in? 
> Suddenly, I have just boxed myself into a corner. I can't do that 
> without including pure GPL code into my code base, which carries 
> with it the full weight of making my entire application GPL.

Baloney! This is covered by the Harbour Exception to the GPL.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Wed Feb 28 11:49:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Wed Feb 28 11:49:02 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <200102281628.f1SGSmh14940@thor.parrett.net>; from dholm@jsd-llc.com on Wed, Feb 28, 2001 at 11:28:41AM -0500
References: <3A9C1AAC.15002.3EC5C32@localhost> <200102281628.f1SGSmh14940@thor.parrett.net>
Message-ID: <20010228164744.G7328@hagbard.davep.org>

On Wed, Feb 28, 2001 at 11:28:41AM -0500, David G. Holm wrote:
> ** Reply to message from "Phil Barnett" <midnight@the-oasis.net> on
> Tue, 27 Feb 2001 21:22:52 -0500
> 
> > But, what if I want to modify ERRORSYS.PRG and link it in? 
> > Suddenly, I have just boxed myself into a corner. I can't do that 
> > without including pure GPL code into my code base, which carries 
> > with it the full weight of making my entire application GPL.
> 
> Baloney! This is covered by the Harbour Exception to the GPL.

No it isn't. The moment you modify ERRORSYS.PRG it becomes a derived work
and so falls squarely under the GPL.

The point and the intent of the GPL with harbour exception is that if you
use anything under that combination in it's "original" state and as part of
harbour as a whole then the exception lets you off the requirements of the
GPL. The moment you make a derived work, say, adding some error logging code
to ERRORSYS.PRG, and link that into your application you've using code
that's under the pure GPL. As such you then need to follow the terms of the
GPL.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Wed Feb 28 12:00:05 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Wed Feb 28 12:00:05 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <20010228164744.G7328@hagbard.davep.org>
References: <3A9C1AAC.15002.3EC5C32@localhost> <200102281628.f1SGSmh14940@thor.parrett.net>
 <200102281628.f1SGSmh14940@thor.parrett.net> ; from dholm@jsd-llc.com on Wed, Feb 28, 2001 at 11:28:41AM -0500
Message-ID: <200102281659.f1SGxoh18571@thor.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Wed, 28 Feb
2001 16:47:44 +0000

> The point and the intent of the GPL with harbour exception

Then you have misunderstood the intent of the Harbour Exception. The
intent of the Harbour Exception is that regardless of what you do with
the RTL and/or VM, your executable can remain non-free software, should
you so desire, even though you must include or make available the source
code for any of the RTL and/or VM source modules that you modified, when
you distribute your software.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Wed Feb 28 13:00:04 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb 28 13:00:04 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <20010228113015.X7328@hagbard.davep.org>
Message-ID: <LOBBKAFMMFGJIKLMEPAKMEPGDJAA.Ron@Profit-Master.com>

1. I don't understand why does the FAQ state,

> "Please remember that the GPL only really affects you when you
> distribute binary versions of GPLd code, in this case, the HVM
> and RTL linked into your application. As it is, because Harbour
> isn't even at the beta stage yet, you should not even be
> considering the idea of distributing Harbour compiled applications."

  It was my understanding that our exception says effectively the opposite
of the above.

2. Harbour is *not* the 1st open source "free" compiler project out there.
Most other compilers including GCC have RTL which might be subject to change
just as ours. Another great example is Bison, where the generated code
itself could have been "viral". It is my understanding that Bison license
was changed from GPL to LGPL to cover this issue, and as a result its
popularity increased. Here is a quoted message (forwarded to me by Phil,
regarding SimpLex) that might explain this point:

<<<<
I personally believe that the GPL can be dangerous, as it actually
discourages the reuse of code. And this can seriously hurt a program.
Here is an example: Bison is a wonderful tool, a really nice LALR(1)
parser generator, and far superior to YACC. However, when you use
Bison, it includes a large quantity of code in order to create the parser
generator used by the program. 7 or 8 years ago, Bison was under the
GPL, and, since it includes a good hunk of itself in any program
compiled by bison, the output of Bison was under the GPL. Therefore
any program which used Bison to construct it was under the GPL. As a
result, nobody used Bison, outside of GCC and class projects. Since
then, they changed Bison's license so the output is under the LGPL. As
a result, it can now be used as a general purpose tool, like GCC.
>>>>

My question therefore is, why do we have to reinvent a License, where it
appears that other before us, had already done that, and we should be able
to learn from their experience and use an already established license that
stood the test of time?

What makes Harbour different than Bison or GCC, in this context? GCC
generates code, that has to be linked with some RTL libs, Bison generates
code which include good portion of self, much like our macro compiler
concern. What am I missing?

Ron



From harbour@lists.harbour-project.org  Wed Feb 28 13:00:29 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Wed Feb 28 13:00:29 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <200102281659.f1SGxoh18571@thor.parrett.net>; from dholm@jsd-llc.com on Wed, Feb 28, 2001 at 11:59:43AM -0500
References: <3A9C1AAC.15002.3EC5C32@localhost> <200102281628.f1SGSmh14940@thor.parrett.net> <200102281628.f1SGSmh14940@thor.parrett.net> <20010228164744.G7328@hagbard.davep.org> <200102281659.f1SGxoh18571@thor.parrett.net>
Message-ID: <20010228175945.M7328@hagbard.davep.org>

On Wed, Feb 28, 2001 at 11:59:43AM -0500, David G. Holm wrote:
> ** Reply to message from Dave Pearson <davep@davep.org> on Wed, 28 Feb
> 2001 16:47:44 +0000
> 
> > The point and the intent of the GPL with harbour exception
> 
> Then you have misunderstood the intent of the Harbour Exception. 

Unlikely, I'm the one who introduced it to harbour. You might recall that
it's based on the guile <URL:http://www.gnu.org/software/guile/guile.html>
exception.

>                                                                  The
> intent of the Harbour Exception is that regardless of what you do with the
> RTL and/or VM, your executable can remain non-free software, should you so
> desire, even though you must include or make available the source code for
> any of the RTL and/or VM source modules that you modified, when you
> distribute your software.

That's not what it says. That might well be the desire of the copyright
holders, I would hope it is, but that isn't what the GPL plus the harbour
exception gives us.

The exception is quite clear, while you're making use of the code as part of
the HVM/RTL the GPL doesn't apply. The moment you remove it from the HVM/RTL
or create a derived work (the latter being a special case of the former) the
GPL applies and the GPL is quite explicit about the licensing requirements
for the host application.

If you modify something that is under the GPL plus harbour exception then
the exception becomes null and void, only the GPL applies. The exception
covers the work as the copyright holder released, any derived work isn't
covered by the exception.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Wed Feb 28 13:22:40 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Wed Feb 28 13:22:40 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKMEPGDJAA.Ron@Profit-Master.com>; from Ron@Profit-Master.com on Wed, Feb 28, 2001 at 09:57:29AM -0800
References: <20010228113015.X7328@hagbard.davep.org> <LOBBKAFMMFGJIKLMEPAKMEPGDJAA.Ron@Profit-Master.com>
Message-ID: <20010228182118.P7328@hagbard.davep.org>

On Wed, Feb 28, 2001 at 09:57:29AM -0800, Ron Pinkas wrote:

> 1. I don't understand why does the FAQ state,
> 
> > "Please remember that the GPL only really affects you when you
> > distribute binary versions of GPLd code, in this case, the HVM
> > and RTL linked into your application. As it is, because Harbour
> > isn't even at the beta stage yet, you should not even be
> > considering the idea of distributing Harbour compiled applications."
> 
>   It was my understanding that our exception says effectively the opposite
> of the above.

It attempts to. It very probably does. The FAQ reflects the fact that no
final decision has been made regarding the state of licensing of harbour and
that people need to beware.

> 2. Harbour is *not* the 1st open source "free" compiler project out there.
> Most other compilers including GCC have RTL which might be subject to change
> just as ours. 

GCC doesn't have a RTL. Perhaps you're thinking of the GNU libc library?
It's under the LGPL for obvious reasons.

>               Another great example is Bison, where the generated code
> itself could have been "viral". It is my understanding that Bison license
> was changed from GPL to LGPL to cover this issue, and as a result its
> popularity increased. 

Actually I think you'll find that the change was from the generated code
falling under the GPL to not falling under the GPL (or possibly LGPL). If
the output of bison is under the LGPL nobody would be able to include the
output in non-free applications.

To quote bison.simple:

,----
| /* Skeleton output parser for bison,
|    Copyright (C) 1984, 1989, 1990 Free Software Foundation, Inc.
| 
|    This program is free software; you can redistribute it and/or modify
|    it under the terms of the GNU General Public License as published by
|    the Free Software Foundation; either version 2, or (at your option)
|    any later version.
| 
|    This program is distributed in the hope that it will be useful,
|    but WITHOUT ANY WARRANTY; without even the implied warranty of
|    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
|    GNU General Public License for more details.
| 
|    You should have received a copy of the GNU General Public License
|    along with this program; if not, write to the Free Software
|    Foundation, Inc., 59 Temple Place - Suite 330,
|    Boston, MA 02111-1307, USA.  */
| 
| /* As a special exception, when this file is copied by Bison into a
|    Bison output file, you may use that output file without restriction.
|    This special exception was added by the Free Software Foundation
|    in version 1.24 of Bison.  */
`----

IOW, it's under the GPL but the GPL doesn't apply when bison produces
output. If you decide to modify bison.simple for your own purposes then the
exception no longer applies.

> What makes Harbour different than Bison or GCC, in this context? 

Bison isn't a compiler as such and GCC doesn't have a RTL to contend with.
If you are thinking of GNU LIBC I suggest you go and have a look at the
harbour FAQ regarding the LGPL and also go and have a read of the DJGPP FAQ
and look at why it doesn't use GLIBC.

>                                                                  GCC
> generates code, 

But makes no claim over the generated code, as with harbour.

>                 that has to be linked with some RTL libs, 

That doesn't enter into it. GCC can and does generate code that might be
linked with all sorts of libraries under all sorts of licences.

>                                                           Bison generates
> code which include good portion of self, much like our macro compiler
> concern. What am I missing?

The part about wanting to allow people to use modified parts of the HRTL
without having to observe the GPL.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Wed Feb 28 13:27:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Wed Feb 28 13:27:02 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <20010228175945.M7328@hagbard.davep.org>
References: <3A9C1AAC.15002.3EC5C32@localhost> <200102281628.f1SGSmh14940@thor.parrett.net>
 <200102281628.f1SGSmh14940@thor.parrett.net> <20010228164744.G7328@hagbard.davep.org>
 <200102281659.f1SGxoh18571@thor.parrett.net> <200102281659.f1SGxoh18571@thor.parrett.net>
 ; from dholm@jsd-llc.com on Wed, Feb 28, 2001 at 11:59:43AM -0500
Message-ID: <200102281826.f1SIQOh27204@thor.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Wed, 28 Feb
2001 17:59:45 +0000

> That's not what it says. That might well be the desire of the copyright
> holders, I would hope it is, but that isn't what the GPL plus the harbour
> exception gives us.

Not only is that the desire of the copyright holders, as I understand
it, but also, as far as I can tell, what the exception actually says:

>  The exception is that if you link the Harbour Runtime Library (HRL)
>  and/or the Harbour Virtual Machine (HVM) with other files to produce
>  an executable, this does not by itself cause the resulting executable
>  to be covered by the GNU General Public License. Your use of that
>  executable is in no way restricted on account of linking the HRL
>  and/or HVM code into it.

It was always my understanding that the Harbour exception always
applies to executables generated by Harbour, regardless of whether or
not the HRL and HVM has been modified. Because even if I modify the HRL
and/or HVM, once I've rebuilt the libraries, they are still the HRL
and/or HVM, so the Harbour exception still applies to any executables
that I create using the modified HRL and/or HVM, but if I distribute my
executable, then I must either include or make available my changes to
the HRL and/or HVM sources.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Wed Feb 28 13:44:01 2001
From: harbour@lists.harbour-project.org (John Skelton)
Date: Wed Feb 28 13:44:01 2001
Subject: [Harbour] Our current GPL license probably won't do what
 we want it to do.
Message-ID: <200102281342_MC2-C72E-C45D@compuserve.com>

Dave,

"Perhaps, in future, you might want to direct them to the harbour users
mailing list"

I did.

"Perhaps you'd be kind enough to forward this reply to that person?"

Will do.

John.

From harbour@lists.harbour-project.org  Wed Feb 28 15:17:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Wed Feb 28 15:17:02 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <200102281826.f1SIQOh27204@thor.parrett.net>; from dholm@jsd-llc.com on Wed, Feb 28, 2001 at 01:26:18PM -0500
References: <3A9C1AAC.15002.3EC5C32@localhost> <200102281628.f1SGSmh14940@thor.parrett.net> <200102281628.f1SGSmh14940@thor.parrett.net> <20010228164744.G7328@hagbard.davep.org> <200102281659.f1SGxoh18571@thor.parrett.net> <200102281659.f1SGxoh18571@thor.parrett.net> <20010228175945.M7328@hagbard.davep.org> <200102281826.f1SIQOh27204@thor.parrett.net>
Message-ID: <20010228201620.Q7328@hagbard.davep.org>

On Wed, Feb 28, 2001 at 01:26:18PM -0500, David G. Holm wrote:
> ** Reply to message from Dave Pearson <davep@davep.org> on Wed, 28 Feb
> 2001 17:59:45 +0000
> 
> >  The exception is that if you link the Harbour Runtime Library (HRL)
> >  and/or the Harbour Virtual Machine (HVM) with other files to produce an
> >  executable, this does not by itself cause the resulting executable to
> >  be covered by the GNU General Public License. Your use of that
> >  executable is in no way restricted on account of linking the HRL and/or
> >  HVM code into it.
> 
> It was always my understanding that the Harbour exception always applies
> to executables generated by Harbour, regardless of whether or not the HRL
> and HVM has been modified.

I'll interject here that harbour, it's main form anyway, doesn't actually
generate executables. That's a possible cause for confusion at some point.

>                                        Because even if I modify the HRL
> and/or HVM, once I've rebuilt the libraries, they are still the HRL and/or
> HVM, so the Harbour exception still applies to any executables that I
> create using the modified HRL and/or HVM, but if I distribute my
> executable, then I must either include or make available my changes to the
> HRL and/or HVM sources.

Can you point out the bit of the exception that actually says that?

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Wed Feb 28 15:18:03 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Wed Feb 28 15:18:03 2001
Subject: [Harbour] "class" field revisited (JF ??)
References: <001101c0a099$8aa232e0$0f2aa8c0@antonio>
Message-ID: <001e01c0a1c4$6f1c6e10$921a5e18@bh>

Antonio and JF:
We still have a problem.  I do not have a modified classes.c, and those
lines are indeed commented out.
I did a CLEAN make (Borland, Simplex) and hand-checked a fresh classes.obj
and vm.lib.
I've tested with the previous version of FWH and the new one from this week.

If I have a database called law1.dbf that has a field called CLASS, and use
the FWH database class:
    use law1
    database oDbf
    ? oDbf:class

The class iVar has an Object rather than the value of the class field.

Any help you can offer would be appreciated.

Brian

----- Original Message -----
From: "Antonio Linares" <alinares@fivetech.com>
To: <harbour@lists.harbour-project.org>
Sent: Tuesday, February 27, 2001 12:44 AM
Subject: RE: [Harbour] "class" field revisited (JF ??)


> Brian,
>
> Maybe you have a modified classes.c module, CVS code has this code:
>
>      /*s_msgClass     = hb_dynsymGet( "CLASS" );*/
>
> ...
>
> /* else if( pMsg == s_msgClass )
>       return hb___msgClass;       */
>
>
> Antonio
>
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
>
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
>


From harbour@lists.harbour-project.org  Wed Feb 28 15:23:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Wed Feb 28 15:23:02 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <20010228201620.Q7328@hagbard.davep.org>
References: <3A9C1AAC.15002.3EC5C32@localhost> <200102281628.f1SGSmh14940@thor.parrett.net>
 <200102281628.f1SGSmh14940@thor.parrett.net> <20010228164744.G7328@hagbard.davep.org>
 <200102281659.f1SGxoh18571@thor.parrett.net> <200102281659.f1SGxoh18571@thor.parrett.net>
 <20010228175945.M7328@hagbard.davep.org> <200102281826.f1SIQOh27204@thor.parrett.net>
 <200102281826.f1SIQOh27204@thor.parrett.net> ; from dholm@jsd-llc.com on Wed, Feb 28, 2001 at 01:26:18PM -0500
Message-ID: <200102282022.f1SKMKh07976@thor.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Wed, 28 Feb
2001 20:16:20 +0000

> Can you point out the bit of the exception that actually says that?

Can you point out the bit of the exception that claims the opposite?
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Wed Feb 28 15:25:03 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Wed Feb 28 15:25:03 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <20010228201620.Q7328@hagbard.davep.org>
References: <3A9C1AAC.15002.3EC5C32@localhost> <200102281628.f1SGSmh14940@thor.parrett.net>
 <200102281628.f1SGSmh14940@thor.parrett.net> <20010228164744.G7328@hagbard.davep.org>
 <200102281659.f1SGxoh18571@thor.parrett.net> <200102281659.f1SGxoh18571@thor.parrett.net>
 <20010228175945.M7328@hagbard.davep.org> <200102281826.f1SIQOh27204@thor.parrett.net>
 <200102281826.f1SIQOh27204@thor.parrett.net> ; from dholm@jsd-llc.com on Wed, Feb 28, 2001 at 01:26:18PM -0500
Message-ID: <200102282024.f1SKOWh08172@thor.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Wed, 28 Feb
2001 20:16:20 +0000

> > It was always my understanding that the Harbour exception always applies
> > to executables generated by Harbour, regardless of whether or not the HRL
> > and HVM has been modified.
> 
> I'll interject here that harbour, it's main form anyway, doesn't actually
> generate executables. That's a possible cause for confusion at some point.

So pretend that I wrote "executables generated from Harbour".
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Wed Feb 28 15:37:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Wed Feb 28 15:37:02 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <200102282022.f1SKMKh07976@thor.parrett.net>; from dholm@jsd-llc.com on Wed, Feb 28, 2001 at 03:22:14PM -0500
References: <200102281628.f1SGSmh14940@thor.parrett.net> <200102281628.f1SGSmh14940@thor.parrett.net> <20010228164744.G7328@hagbard.davep.org> <200102281659.f1SGxoh18571@thor.parrett.net> <200102281659.f1SGxoh18571@thor.parrett.net> <20010228175945.M7328@hagbard.davep.org> <200102281826.f1SIQOh27204@thor.parrett.net> <200102281826.f1SIQOh27204@thor.parrett.net> <20010228201620.Q7328@hagbard.davep.org> <200102282022.f1SKMKh07976@thor.parrett.net>
Message-ID: <20010228203633.R7328@hagbard.davep.org>

On Wed, Feb 28, 2001 at 03:22:14PM -0500, David G. Holm wrote:
> ** Reply to message from Dave Pearson <davep@davep.org> on Wed, 28 Feb
> 2001 20:16:20 +0000
> 
> > Can you point out the bit of the exception that actually says that?
> 
> Can you point out the bit of the exception that claims the opposite?

Well, I'm not sure this tit-for-tat approach is that helpful but, anyway,
yes and no. It doesn't say in explicit terms what I've been saying but you
need to look at the bit that says that it's an exception to the GPL. The GPL
is the paramount document, the exception is when you're using the HVM/RTL as
part of a target application.

If there is any confusion, if there is any doubt, the GPL kicks in first and
foremost. The GPL is quite clear about derived works.

In other words, if you don't read the text and take the worst case you're
not reading it well enough (not you personally, people in general reading
the document). If it doesn't say exactly what you're claiming it says then
it has to be saying what I'm suggesting because the files are under the GPL
first and foremost.

I'm still not sure what part of the exception says this isn't the case so
I'd appreciate it if you could point to the part of the exception that you
speak of.

Note that I'm asking all of this because I have a genuine desire to see that
the licence details are as unambiguous as possible and allow exactly the
right amount of freedom (hence the reason that I still think people were far
too quick to apply the harbour-oriented version of the guile exception
without thinking about all the possible methods of licensing harbour).

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Wed Feb 28 15:42:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Wed Feb 28 15:42:02 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <200102282024.f1SKOWh08172@thor.parrett.net>; from dholm@jsd-llc.com on Wed, Feb 28, 2001 at 03:24:26PM -0500
References: <200102281628.f1SGSmh14940@thor.parrett.net> <200102281628.f1SGSmh14940@thor.parrett.net> <20010228164744.G7328@hagbard.davep.org> <200102281659.f1SGxoh18571@thor.parrett.net> <200102281659.f1SGxoh18571@thor.parrett.net> <20010228175945.M7328@hagbard.davep.org> <200102281826.f1SIQOh27204@thor.parrett.net> <200102281826.f1SIQOh27204@thor.parrett.net> <20010228201620.Q7328@hagbard.davep.org> <200102282024.f1SKOWh08172@thor.parrett.net>
Message-ID: <20010228204146.S7328@hagbard.davep.org>

On Wed, Feb 28, 2001 at 03:24:26PM -0500, David G. Holm wrote:
> ** Reply to message from Dave Pearson <davep@davep.org> on Wed, 28 Feb
> 2001 20:16:20 +0000
> 
> > I'll interject here that harbour, it's main form anyway, doesn't actually
> > generate executables. That's a possible cause for confusion at some point.
> 
> So pretend that I wrote "executables generated from Harbour".

Hmm, sure, I know what you meant. However, I've been pondering the possible
pitfalls of talking in terms of executables instead of aggregations. I'm not
sure where that takes me yet but it could be a possible cause for confusion.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Wed Feb 28 15:59:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Wed Feb 28 15:59:02 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <20010228203633.R7328@hagbard.davep.org>
References: <200102281628.f1SGSmh14940@thor.parrett.net> <200102281628.f1SGSmh14940@thor.parrett.net>
 <20010228164744.G7328@hagbard.davep.org> <200102281659.f1SGxoh18571@thor.parrett.net>
 <200102281659.f1SGxoh18571@thor.parrett.net> <20010228175945.M7328@hagbard.davep.org>
 <200102281826.f1SIQOh27204@thor.parrett.net> <200102281826.f1SIQOh27204@thor.parrett.net>
 <20010228201620.Q7328@hagbard.davep.org> <200102282022.f1SKMKh07976@thor.parrett.net>
 <200102282022.f1SKMKh07976@thor.parrett.net> ; from dholm@jsd-llc.com on Wed, Feb 28, 2001 at 03:22:14PM -0500
Message-ID: <200102282058.f1SKwuh11637@thor.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Wed, 28 Feb
2001 20:36:33 +0000

> I'm still not sure what part of the exception says this isn't the case so
> I'd appreciate it if you could point to the part of the exception that you
> speak of.

The part that says that using the HRL and/or HVM in your executable
doesn't automatically apply the GPL to your executable. If I modify a
module in the HRL and/or HVM and rebuild the libraries that contains the
HRL and/or HVM, then it seems to me that I'm still using the HRL and/or
HVM.

> If there is any confusion, if there is any doubt, the GPL kicks in first and
> foremost. The GPL is quite clear about derived works.

If the GPL clearly indicates that my understanding, then the Harbour
Exception needs to be reworded.

In either case, certain core HRL modules, such as ERRORSYS.PRG, should
probably be turned over to the public domain, like you suggested, so
that they can be used standalone, without having to rebuild the HRL
library files.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Wed Feb 28 17:03:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Wed Feb 28 17:03:02 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <200102282058.f1SKwuh11637@thor.parrett.net>; from dholm@jsd-llc.com on Wed, Feb 28, 2001 at 03:58:49PM -0500
References: <200102281659.f1SGxoh18571@thor.parrett.net> <200102281659.f1SGxoh18571@thor.parrett.net> <20010228175945.M7328@hagbard.davep.org> <200102281826.f1SIQOh27204@thor.parrett.net> <200102281826.f1SIQOh27204@thor.parrett.net> <20010228201620.Q7328@hagbard.davep.org> <200102282022.f1SKMKh07976@thor.parrett.net> <200102282022.f1SKMKh07976@thor.parrett.net> <20010228203633.R7328@hagbard.davep.org> <200102282058.f1SKwuh11637@thor.parrett.net>
Message-ID: <20010228220219.T7328@hagbard.davep.org>

On Wed, Feb 28, 2001 at 03:58:49PM -0500, David G. Holm wrote:
> ** Reply to message from Dave Pearson <davep@davep.org> on Wed, 28 Feb
> 2001 20:36:33 +0000
> 
> > I'm still not sure what part of the exception says this isn't the case
> > so I'd appreciate it if you could point to the part of the exception
> > that you speak of.
> 
> The part that says that using the HRL and/or HVM in your executable
> doesn't automatically apply the GPL to your executable. If I modify a
> module in the HRL and/or HVM and rebuild the libraries that contains the
> HRL and/or HVM, then it seems to me that I'm still using the HRL and/or
> HVM.

It would appear to me that you'd be using a derivative work in this case.

> > If there is any confusion, if there is any doubt, the GPL kicks in first
> > and foremost. The GPL is quite clear about derived works.
> 
> If the GPL clearly indicates that my understanding, then the Harbour
> Exception needs to be reworded.

I'm not sure that would be required, if my reading and understanding is
correct then the GPL in connection with the exception affords a good degree
of freedom and a good degree of protection too. It's my understanding that
that's the aim of it (it's very much the spirit in which I offered the guile
exception as a possible avenue to explore).

> In either case, certain core HRL modules, such as ERRORSYS.PRG, should
> probably be turned over to the public domain, like you suggested, so that
> they can be used standalone, without having to rebuild the HRL library
> files.

Total agreement (see my reply to Phil's mail).

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Wed Feb 28 17:14:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Wed Feb 28 17:14:02 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <20010228220219.T7328@hagbard.davep.org>
References: <200102281659.f1SGxoh18571@thor.parrett.net> <200102281659.f1SGxoh18571@thor.parrett.net>
 <20010228175945.M7328@hagbard.davep.org> <200102281826.f1SIQOh27204@thor.parrett.net>
 <200102281826.f1SIQOh27204@thor.parrett.net> <20010228201620.Q7328@hagbard.davep.org>
 <200102282022.f1SKMKh07976@thor.parrett.net> <200102282022.f1SKMKh07976@thor.parrett.net>
 <20010228203633.R7328@hagbard.davep.org> <200102282058.f1SKwuh11637@thor.parrett.net>
 <200102282058.f1SKwuh11637@thor.parrett.net> ; from dholm@jsd-llc.com on Wed, Feb 28, 2001 at 03:58:49PM -0500
Message-ID: <200102282213.f1SMDb518505@thor.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Wed, 28 Feb
2001 22:02:19 +0000

> > The part that says that using the HRL and/or HVM in your executable
> > doesn't automatically apply the GPL to your executable. If I modify a
> > module in the HRL and/or HVM and rebuild the libraries that contains the
> > HRL and/or HVM, then it seems to me that I'm still using the HRL and/or
> > HVM.
> 
> It would appear to me that you'd be using a derivative work in this case.

Would that still be the case if the only reason for my changing the
source and rebuilding the HRL and/or HVM was to fix a bug in the current
version of Harbour that was preventing my program from working properly?
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Wed Feb 28 17:20:04 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Wed Feb 28 17:20:04 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <200102282213.f1SMDb518505@thor.parrett.net>; from dholm@jsd-llc.com on Wed, Feb 28, 2001 at 05:13:30PM -0500
References: <200102281826.f1SIQOh27204@thor.parrett.net> <200102281826.f1SIQOh27204@thor.parrett.net> <20010228201620.Q7328@hagbard.davep.org> <200102282022.f1SKMKh07976@thor.parrett.net> <200102282022.f1SKMKh07976@thor.parrett.net> <20010228203633.R7328@hagbard.davep.org> <200102282058.f1SKwuh11637@thor.parrett.net> <200102282058.f1SKwuh11637@thor.parrett.net> <20010228220219.T7328@hagbard.davep.org> <200102282213.f1SMDb518505@thor.parrett.net>
Message-ID: <20010228221929.A8427@hagbard.davep.org>

On Wed, Feb 28, 2001 at 05:13:30PM -0500, David G. Holm wrote:
> ** Reply to message from Dave Pearson <davep@davep.org> on Wed, 28 Feb
> 2001 22:02:19 +0000
> 
> > It would appear to me that you'd be using a derivative work in this case.
> 
> Would that still be the case if the only reason for my changing the source
> and rebuilding the HRL and/or HVM was to fix a bug in the current version
> of Harbour that was preventing my program from working properly?

The licence says nothing about motivations for making derivative works so I
don't think such a motivation would make any difference.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Wed Feb 28 17:26:02 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Wed Feb 28 17:26:02 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <20010228221929.A8427@hagbard.davep.org>
References: <200102281826.f1SIQOh27204@thor.parrett.net> <200102281826.f1SIQOh27204@thor.parrett.net>
 <20010228201620.Q7328@hagbard.davep.org> <200102282022.f1SKMKh07976@thor.parrett.net>
 <200102282022.f1SKMKh07976@thor.parrett.net> <20010228203633.R7328@hagbard.davep.org>
 <200102282058.f1SKwuh11637@thor.parrett.net> <200102282058.f1SKwuh11637@thor.parrett.net>
 <20010228220219.T7328@hagbard.davep.org> <200102282213.f1SMDb518505@thor.parrett.net>
 <200102282213.f1SMDb518505@thor.parrett.net> ; from dholm@jsd-llc.com on Wed, Feb 28, 2001 at 05:13:30PM -0500
Message-ID: <200102282225.f1SMPp519627@thor.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Wed, 28 Feb
2001 22:19:29 +0000

> The licence says nothing about motivations for making derivative works so I
> don't think such a motivation would make any difference.

Well, then the Harbour Exception *clearly* needs to be modified,
because what is the *point* of Harbour being open source if fixing bugs
in it requires one to GPL the code being created with it?
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Wed Feb 28 17:40:04 2001
From: harbour@lists.harbour-project.org (JF Lefebvre)
Date: Wed Feb 28 17:40:04 2001
Subject: [Harbour] "class" field revisited (JF ??)
In-Reply-To: <001e01c0a1c4$6f1c6e10$921a5e18@bh>
Message-ID: <200102282238.f1SMcX314432@ev6.be.wanadoo.com>

Hi Brian,

Yes indeed,  during my test to implement :Class message, I 
suppressed some IFDEF code from hbclass.ch wich should only 
be enable when allowing classy compatibility. I just repost the 
good one immediatly. Don't forget to #define what you need as 
compatibility #define _but_ the class(y) one (and probably 
TopClass).. This has to be done only within your code, not the 
Harbour compiler itself (and in fact probably only at the begining of 
the code where some object could use :Class for anything else but 
a try to call the class object.

#ifndef HB_CLS_FWO
/* #ifndef HB_CLS_CSY */
#ifndef HB_CLS_VO
/* #ifndef HB_CLS_TOP */

see you,


From:           	"Brian Hays" <bhays@abacuslaw.com>
To:             	<harbour@lists.harbour-project.org>
Subject:        	Re: [Harbour] "class" field revisited (JF ??)
Send reply to:  	harbour@lists.harbour-project.org
	<mailto:harbour-request@lists.harbour-project.org?subject=subscribe>
	<mailto:harbour-request@lists.harbour-project.org?subject=unsubscribe>
Date sent:      	Wed, 28 Feb 2001 12:24:20 -0800

> Antonio and JF:
> We still have a problem.  I do not have a modified classes.c, and those
> lines are indeed commented out. I did a CLEAN make (Borland, Simplex) and
> hand-checked a fresh classes.obj and vm.lib. I've tested with the previous
> version of FWH and the new one from this week.
> 
> If I have a database called law1.dbf that has a field called CLASS, and
> use the FWH database class:
>     use law1
>     database oDbf
>     ? oDbf:class
> 
> The class iVar has an Object rather than the value of the class field.
> 
> Any help you can offer would be appreciated.
> 
> Brian
> 
> ----- Original Message -----
> From: "Antonio Linares" <alinares@fivetech.com>
> To: <harbour@lists.harbour-project.org>
> Sent: Tuesday, February 27, 2001 12:44 AM
> Subject: RE: [Harbour] "class" field revisited (JF ??)
> 
> 
> > Brian,
> >
> > Maybe you have a modified classes.c module, CVS code has this code:
> >
> >      /*s_msgClass     = hb_dynsymGet( "CLASS" );*/
> >
> > ...
> >
> > /* else if( pMsg == s_msgClass )
> >       return hb___msgClass;       */
> >
> >
> > Antonio
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@lists.harbour-project.org
> > http://www.matrixlist.com/mailman/listinfo/harbour
> >
> > Thank you for participating in The Harbour Project.  Be sure to check
> > http://www.Harbour-Project.org
> >
> 
> _______________________________________________
> Harbour mailing list
> Harbour@lists.harbour-project.org
> http://www.matrixlist.com/mailman/listinfo/harbour
> 
> Thank you for participating in The Harbour Project.  Be sure to check
> http://www.Harbour-Project.org
> 
> 



Best regards,

J. Lefebvre,
Bruxelles,
Belgium


From harbour@lists.harbour-project.org  Wed Feb 28 17:40:32 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Wed Feb 28 17:40:32 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <200102282225.f1SMPp519627@thor.parrett.net>; from dholm@jsd-llc.com on Wed, Feb 28, 2001 at 05:25:44PM -0500
References: <200102282022.f1SKMKh07976@thor.parrett.net> <200102282022.f1SKMKh07976@thor.parrett.net> <20010228203633.R7328@hagbard.davep.org> <200102282058.f1SKwuh11637@thor.parrett.net> <200102282058.f1SKwuh11637@thor.parrett.net> <20010228220219.T7328@hagbard.davep.org> <200102282213.f1SMDb518505@thor.parrett.net> <200102282213.f1SMDb518505@thor.parrett.net> <20010228221929.A8427@hagbard.davep.org> <200102282225.f1SMPp519627@thor.parrett.net>
Message-ID: <20010228223922.B8427@hagbard.davep.org>

On Wed, Feb 28, 2001 at 05:25:44PM -0500, David G. Holm wrote:
> ** Reply to message from Dave Pearson <davep@davep.org> on Wed, 28 Feb
> 2001 22:19:29 +0000
> 
> > The licence says nothing about motivations for making derivative works so I
> > don't think such a motivation would make any difference.
> 
> Well, then the Harbour Exception *clearly* needs to be modified, because
> what is the *point* of Harbour being open source if fixing bugs in it
> requires one to GPL the code being created with it?

Can you think of a useful method of codifying the desires you've expressed
in regard to your copyrighted work? That is, a version of the exception that
affords a good degree of protection for your work (should you desire such
protection) while also allowing the freedom you desire for it too.

I can't help but wonder if the two are actually incompatible.

Interestingly we'd have none of these problems (modulo the GETSYS and
friends issue) if it were possible to LGPL the harbour VM and RTL.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Wed Feb 28 17:43:02 2001
From: harbour@lists.harbour-project.org (Dave Pearson)
Date: Wed Feb 28 17:43:02 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <200102282225.f1SMPp519627@thor.parrett.net>; from dholm@jsd-llc.com on Wed, Feb 28, 2001 at 05:25:44PM -0500
References: <200102282022.f1SKMKh07976@thor.parrett.net> <200102282022.f1SKMKh07976@thor.parrett.net> <20010228203633.R7328@hagbard.davep.org> <200102282058.f1SKwuh11637@thor.parrett.net> <200102282058.f1SKwuh11637@thor.parrett.net> <20010228220219.T7328@hagbard.davep.org> <200102282213.f1SMDb518505@thor.parrett.net> <200102282213.f1SMDb518505@thor.parrett.net> <20010228221929.A8427@hagbard.davep.org> <200102282225.f1SMPp519627@thor.parrett.net>
Message-ID: <20010228224227.C8427@hagbard.davep.org>

On Wed, Feb 28, 2001 at 05:25:44PM -0500, David G. Holm wrote:

> Well, then the Harbour Exception *clearly* needs to be modified, because
> what is the *point* of Harbour being open source if fixing bugs in it
> requires one to GPL the code being created with it?

One thing I forget to comment on: Fixing bugs doesn't and wouldn't require
that someone GPL their application. Distributing a binary-only build of a
derived work of the harbour VM/RTL would. It's a subtle but important
difference that I mention because it might have a bearing on how the
exception might be usefully modified.

-- 
The Harbour Project: A free software Clipper compatible compiler
Home Page..........: http://www.harbour-project.org/
FAQ................: http://www.harbour-project.org/faq/harbour.html
My harbour page....: http://www.davep.org/harbour/

From harbour@lists.harbour-project.org  Wed Feb 28 17:47:02 2001
From: harbour@lists.harbour-project.org (JF Lefebvre)
Date: Wed Feb 28 17:47:02 2001
Subject: [Harbour] 2001-28-02 23:41 GMT+1 JFL (Mafact) <jfl@mafact.com>
Message-ID: <200102282245.f1SMjj316669@ev6.be.wanadoo.com>

2001-28-02 23:41 GMT+1 JFL (Mafact) <jfl@mafact.com>
   *harbour/include/hb_class.ch
    * Reset :Class within the control of Class(y) define
      so as anyone can disable it as needed.



Best regards,

J. Lefebvre,
Bruxelles,
Belgium


From harbour@lists.harbour-project.org  Wed Feb 28 18:10:03 2001
From: harbour@lists.harbour-project.org (Brian Hays)
Date: Wed Feb 28 18:10:03 2001
Subject: [Harbour] "class" field revisited (JF ??)
References: <200102282238.f1SMcX314432@ev6.be.wanadoo.com>
Message-ID: <002601c0a1dc$6bdbae10$921a5e18@bh>

JF:
Thanks!!




From harbour@lists.harbour-project.org  Wed Feb 28 18:25:04 2001
From: harbour@lists.harbour-project.org (David G. Holm)
Date: Wed Feb 28 18:25:04 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <20010228223922.B8427@hagbard.davep.org>
References: <200102282022.f1SKMKh07976@thor.parrett.net> <200102282022.f1SKMKh07976@thor.parrett.net>
 <20010228203633.R7328@hagbard.davep.org> <200102282058.f1SKwuh11637@thor.parrett.net>
 <200102282058.f1SKwuh11637@thor.parrett.net> <20010228220219.T7328@hagbard.davep.org>
 <200102282213.f1SMDb518505@thor.parrett.net> <200102282213.f1SMDb518505@thor.parrett.net>
 <20010228221929.A8427@hagbard.davep.org> <200102282225.f1SMPp519627@thor.parrett.net>
 <200102282225.f1SMPp519627@thor.parrett.net> ; from dholm@jsd-llc.com on Wed, Feb 28, 2001 at 05:25:44PM -0500
Message-ID: <200102282324.f1SNOK524504@thor.parrett.net>

** Reply to message from Dave Pearson <davep@davep.org> on Wed, 28 Feb
2001 22:39:22 +0000

> Interestingly we'd have none of these problems (modulo the GETSYS and
> friends issue) if it were possible to LGPL the harbour VM and RTL.

After looking at ancient Harbour mailing list messages, I find that I
originally argued for using LGPL for the HRL and HVM, with GPL for
everything else. But the group elected to use the Harbour Exception, due
to claims that the LGPL was too ambiguous for commercial use of programs
created from Harbour. The intent of the Harbour Exception is *clearly*
to allow commercial programs that include bug fixes and/or enhancements
to Harbour without the commercial programs coming under the GPL, but
with the requirement that the bug fixes and/or enhancements be freely
available. So if the Harbour Exception, as currently worded, does not
accomplish this, then it needs to be corrected.
-- 
David G. Holm, Set Captain and all around
Harbour Project Clipper Compatibility fanatic.

From harbour@lists.harbour-project.org  Wed Feb 28 19:58:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb 28 19:58:02 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <200102282324.f1SNOK524504@thor.parrett.net>
Message-ID: <LOBBKAFMMFGJIKLMEPAKAEPLDJAA.Ron@Profit-Master.com>

David, Dave, Phil, All,

Tentatively, I too thought that using GPL for the compiler and LGPL for the
HVM and RTL would do (after all that's the scheme used by GCC and GLIBC).
But, after careful reading of the LGPL (Lesser General Public License 2.1),
it became perfectly clear that the LGPL is far to restrictive for the
defacto understanding of what we want for Harbour.

The LGPL is too complex for me to explain the problems, but those interested
should carefully read sections 5 and 6, to understand the problems.

After a discussion with Phil (who agrees the LGPL is far too restrictive),
he had asked me to post a proposal we have discussed. So here it is.

//---------------

1. The code generated by the Harbour Compiler (either in source or object
form), is not subject to the Harbour License Agreement, as long as it is
being linked with the HVM, and HRTL to form an Executable. Or  being
provided in a object/lib form to serve as a linkable "library" to be linked
with Harbour Compiler Generated Output (either in source or object form),
and the HVM and HRTL to form an executable.

2. Linking the HVM code, into an application, does not subject the
application to the Harbour License Agreement, as long as it is being linked
with an Harbour Compiler Generated Output (either in source or object form)
and the HRTL to form an executable.

2. Linking the HRTL code, into an application, does not subject the
application to the Harbour License Agreement, as long as it is being linked
with an Harbour Compiler Generated Output (either in source or object form)
and the HVM to form an executable.

3. You are free to modify any portion of the HVM and HRTL, and linking such
derived work into an application will not subject the application to the
Harbour License Agreement, as long as you  also link the unmodified portions
of the HVM and HRTL, along with Harbour Compiler Generated Output (either in
source or object form) to form an executable.

\\----------------

This is of course just a first draft, but if it ultimately replaces the
current exception, it should address the needs of both the protection we
deserve as well as the freedom we want to provide.

Ron


From harbour@lists.harbour-project.org  Wed Feb 28 22:21:01 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb 28 22:21:01 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKAEPLDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKIEPMDJAA.Ron@Profit-Master.com>

Ryszard,

In Clipper releasing a PUBLIC render the var undefined in Harbour it remains
valid and becomes NIL. Please note, than in both Clipper and Harbour this
will be true with PRIVATEs.

Also note that RELEASE uses __MXRelease(). If you manually use __MRelease()
then both Harbor and Clipper do release the var rendering it undefined.

   //----------
   //PRIVATE x // works differently.
   PUBLIC x

   ? x

   RELEASE x

   ? x // In Harbour NIL, in Clipper RT Err.

   //__MCLEAR( "x" )
   //----------

Ron


From harbour@lists.harbour-project.org  Wed Feb 28 22:29:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb 28 22:29:02 2001
Subject: [Harbour] MEMVARs problem (Ryszard)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKIEPMDJAA.Ron@Profit-Master.com>
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEPMDJAA.Ron@Profit-Master.com>

Sorry for the wrong subject line.

Correction, in Harbour even __MRelease() does not release the var as it
should.

> Ryszard,
>
> In Clipper releasing a PUBLIC render the var undefined in Harbour
> it remains
> valid and becomes NIL. Please note, than in both Clipper and Harbour this
> will be true with PRIVATEs.
>
> Also note that RELEASE uses __MXRelease(). If you manually use
> __MRelease()
> then both Harbor and Clipper do release the var rendering it undefined.
>
>    //----------
>    //PRIVATE x // works differently.
>    PUBLIC x
>
>    ? x
>
>    RELEASE x
>
>    ? x // In Harbour NIL, in Clipper RT Err.
>
>    //__MCLEAR( "x" )
>    //----------
>
> Ron


From harbour@lists.harbour-project.org  Wed Feb 28 22:31:01 2001
From: harbour@lists.harbour-project.org (Phil Barnett)
Date: Wed Feb 28 22:31:01 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <200102282058.f1SKwuh11637@thor.parrett.net>
References: <20010228203633.R7328@hagbard.davep.org>
Message-ID: <3A9D7BE5.20248.95021EE@localhost>

On 28 Feb 2001, at 15:58, David G. Holm wrote:

> > I'm still not sure what part of the exception says this isn't the case
> > so I'd appreciate it if you could point to the part of the exception
> > that you speak of.
> 
> The part that says that using the HRL and/or HVM in your executable
> doesn't automatically apply the GPL to your executable. If I modify a
> module in the HRL and/or HVM and rebuild the libraries that contains the
> HRL and/or HVM, then it seems to me that I'm still using the HRL and/or
> HVM.

So, what you are saying here is that if I want to modify errorsys, I 
must mix my modified version back into the source and recompile 
Harbour to generate my next executable?

This is a thin line. Of course, that can happen, but if I happen to 
not do that and I modify errorsys and compile it and don't mix it 
back into the compiler, then it is no longer part of the Harbour 
package and doesn't fall under the exception.

Now, it is a derivative work of the copyright holder. This is a much 
different matter under copyright law.

And, I can tell you right now, every time I want to modify errorsys, I 
don't want to reapply it to the original source and rebuild Harbour. I 
can't believe that this is what you are really suggesting...


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@lists.harbour-project.org  Wed Feb 28 22:31:28 2001
From: harbour@lists.harbour-project.org (Phil Barnett)
Date: Wed Feb 28 22:31:28 2001
Subject: [Harbour] Our current GPL license probably won't do what we want it to do.
In-Reply-To: <200102281659.f1SGxoh18571@thor.parrett.net>
References: <20010228164744.G7328@hagbard.davep.org>
Message-ID: <3A9D7BE5.7160.950228E@localhost>

On 28 Feb 2001, at 11:59, David G. Holm wrote:

> ** Reply to message from Dave Pearson <davep@davep.org> on Wed, 28 Feb
> 2001 16:47:44 +0000
> 
> > The point and the intent of the GPL with harbour exception
> 
> Then you have misunderstood the intent of the Harbour Exception. The
> intent of the Harbour Exception is that regardless of what you do with
> the RTL and/or VM, your executable can remain non-free software, should
> you so desire, even though you must include or make available the source
> code for any of the RTL and/or VM source modules that you modified, when
> you distribute your software.

The license excludes the RTL and or VM, not the code they are 
made from, which holds copyrights from various people.

Until the licensing of that code is dealt with, it can't be mixed into a 
commercial application or it is a derivative work and remains the 
copyright of the original author. This alone will drive off intelligent 
business users.


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@lists.harbour-project.org  Wed Feb 28 22:31:58 2001
From: harbour@lists.harbour-project.org (Phil Barnett)
Date: Wed Feb 28 22:31:58 2001
Subject: [Harbour] VIRUS WARNING (Ron)
In-Reply-To: <LOBBKAFMMFGJIKLMEPAKEEPBDJAA.Ron@Profit-Master.com>
References: <3A9C320C.31117.447AA14@localhost>
Message-ID: <3A9D7BE5.25945.950222A@localhost>

On 27 Feb 2001, at 20:47, Ron Pinkas wrote:

> Phil,
> 
> Are these individuals who downloaded the SimpLex MSVC build?

Yes, that is what I researched from my ftp logs.


-- 
              Phil Barnett  mailto:midnight@the-oasis.net
                       WWW  http://www.the-oasis.net/
                  FTP Site  ftp://ftp.the-oasis.net

From harbour@lists.harbour-project.org  Wed Feb 28 23:01:02 2001
From: harbour@lists.harbour-project.org (Ron Pinkas)
Date: Wed Feb 28 23:01:02 2001
Subject: [Harbour] Harbour Project VIRUS warning
Message-ID: <LOBBKAFMMFGJIKLMEPAKOEPNDJAA.Ron@Profit-Master.com>

Dear Harbour users,

Server logs indicate that you downloaded the recent MSVC SimpLex BUILD 0.36
of Harbour.

This message is to inform you that this zip file contains executables
infected with a virus.

I would like to offer my personal apology, and some instructions on how to
rid your system, from this Virus.

I successfully cleaned my system by performing the following:

1. Use FREE HouseCall from
http://housecall.antivirus.com/housecall/start_corp.asp

2. Choose Auto Clean, which will successfully clean most files on your
system, but will fail to clean executables currently in use. This in my case
included files like:

   \windows\
            explorer.exe
            taskmon.exe
            \system\
                    ddhelp.exe
                    mprexe.exe
                    rnaapp.exe
                    spool32.exe
                    tapisrv .exe
                    ssdpsrv.exe

   \Program Files\Internet Explorer\iexplore.exe

3. Record a list of all these files and copy them to any temp folder on your
system.

4. Run HouseCall again, this time pointing it to just that temp folder.
HouseCall will successfully clean these copies.

5. Create a DOS Boot disk, or reboot your system into DOS mode. If you did
create a BOOT disk, scan this disk by HouseCall, though in my case, there
was no such infection.

6. After rebooting in DOS mode, copy all clean copies from step 4. onto
their original location recorded in step 3.

7. Reboot your system, into Windows, and perform full scan of your system
again. All should be clean!

Again please accept my apologies.

Ron Pinkas


