From bedipritpal at hotmail.com  Tue Jan  1 01:04:36 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Jan  1 01:04:39 2008
Subject: [Harbour] Memoedit.prg & Teditor.prg
Message-ID: <14563311.post@talk.nabble.com>


Hello Everybody

xHarbour Memoedit.prg and Teditor.prg is ready to be ported to Harbour. In
current harbour implementation of Memoedit() is broken at places. Years back
I had restructed xHarbour Teditor.prg and lated a lot of useful features
were added. It is more near to Clipper's memoedit().

If group agrees, should I update SVN ?

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/Memoedit.prg---Teditor.prg-tp14563311p14563311.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From tomaz.zupan at orpo.si  Tue Jan  1 09:51:51 2008
From: tomaz.zupan at orpo.si (Tomaz Zupan)
Date: Tue Jan  1 09:54:34 2008
Subject: [Harbour] Harbour for the iPhone
In-Reply-To: <9471afc80712310123i5c4aa9b5p64f1e0d0a6e1f041@mail.gmail.com>
References: <9471afc80712310123i5c4aa9b5p64f1e0d0a6e1f041@mail.gmail.com>
Message-ID: <200801011051.51134.tomaz.zupan@orpo.si>

Dne ponedeljek 31. decembra 2007 je Antonio Linares napisal(a):
> I am about to start working on adapting Harbour for the iPhone (and
> the iPod touch).
>
> I wonder if the group wants me to share all the changes, etc., since
> the beginning, to avoid further misunderstandings, etc. and properly
> integrate them in the Harbour svn

I'd vote for this changes to wait after 1.0 is out. 

LP, Toma?
From tomaz.zupan at orpo.si  Tue Jan  1 09:52:46 2008
From: tomaz.zupan at orpo.si (Tomaz Zupan)
Date: Tue Jan  1 09:55:30 2008
Subject: [Harbour] Happy new year!!!
In-Reply-To: <20071231180743.GC7898@localhost.localdomain>
References: <20071231180743.GC7898@localhost.localdomain>
Message-ID: <200801011052.46852.tomaz.zupan@orpo.si>

>
> Happy new year !!!
>

... and all the best for everyone!

LP, Toma?

From info at fsgiudice.com  Tue Jan  1 11:37:09 2008
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Jan  1 11:37:17 2008
Subject: [Harbour] Happy new year!!!
References: <20071231180743.GC7898@localhost.localdomain>
Message-ID: <005101c84c6a$a6556dc0$6501a8c0@ASUSFSG>


Happy new year  !!!

Francesco

----- Original Message ----- 
From: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>; 
"Xharbour-Developers List" <xharbour-developers@lists.sourceforge.net>
Sent: Monday, December 31, 2007 7:07 PM
Subject: [Harbour] Happy new year!!!


> Hi All,
>
> Happy new year !!!
>
> I hope I will have more spare time in next year and in few days
> I'll answer to some pending letters waiting for me. I'm really
> sorry for delay.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From harbour at rglab.pl  Tue Jan  1 13:37:17 2008
From: harbour at rglab.pl (=?iso-8859-2?Q?Ryszard_G=B3=B1b?=)
Date: Tue Jan  1 13:37:18 2008
Subject: [Harbour] Happy new year!!!
References: <20071231180743.GC7898@localhost.localdomain>
Message-ID: <074c11a8761de6fb1563bda734c852b5.qmail@home.pl>

  Happy new year for all harbour users and their families.

I hope this will be a good year for harbour too.

Regards, Ryszard

From harbour.01 at syenar.hu  Tue Jan  1 19:57:37 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jan  1 19:57:39 2008
Subject: [Harbour] Memoedit.prg & Teditor.prg
In-Reply-To: <14563311.post@talk.nabble.com>
References: <14563311.post@talk.nabble.com>
Message-ID: <08A778DB-BFA7-464C-94D9-01FDA1BF28F3@syenar.hu>

Hi Pritpal,

I vote against adding xhb parts to Harbour.

Specific bugfixes are okey for current code, but xhb code
quality is dubious, but at least messy (speaking specifically
about these two files), with extensions which don't comply
with Harbour, also Harbour had its own fixes, which will pbly
be lost this way.

Could you pls post the files to see what changed and how?

Brgds,
Viktor

On 2008.01.01., at 2:04, Pritpal Bedi wrote:

>
> Hello Everybody
>
> xHarbour Memoedit.prg and Teditor.prg is ready to be ported to  
> Harbour. In
> current harbour implementation of Memoedit() is broken at places.  
> Years back
> I had restructed xHarbour Teditor.prg and lated a lot of useful  
> features
> were added. It is more near to Clipper's memoedit().
>
> If group agrees, should I update SVN ?
>
> Regards
> Pritpal Bedi, INDIA-USA
>
> -- 
> View this message in context: http://www.nabble.com/Memoedit.prg---Teditor.prg-tp14563311p14563311.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Tue Jan  1 21:49:05 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Jan  1 21:49:11 2008
Subject: [Harbour] Memoedit.prg & Teditor.prg
In-Reply-To: <08A778DB-BFA7-464C-94D9-01FDA1BF28F3@syenar.hu>
References: <14563311.post@talk.nabble.com>
	<08A778DB-BFA7-464C-94D9-01FDA1BF28F3@syenar.hu>
Message-ID: <14570504.post@talk.nabble.com>


Hello Viktor


Szak?ts Viktor wrote:
> 
> I vote against adding xhb parts to Harbour.
> 
> Specific bugfixes are okey for current code, but xhb code
> quality is dubious, but at least messy (speaking specifically
> about these two files), with extensions which don't comply
> with Harbour, also Harbour had its own fixes, which will pbly
> be lost this way.
> 
> Could you pls post the files to see what changed and how?
> 

Memoedit.prg  :   http://www.nabble.com/file/p14570504/memoedit.prg
memoedit.prg 
Teditor.prg  :   http://www.nabble.com/file/p14570504/teditor.prg
teditor.prg 

These files are brought as is from xHarbour and have applied the changes to
be compiled with Harbour core without xhb.ch or HB_COMPAT_XHB. Just ignore
the code under directives #ifdef HB_EXT_INKEY or #ifdef HB_GT_MULTI_WINDOWS.
If agreed this code will be stripped off. OR code under #ifdef HB_EXT_INKEY
can be retained for future usage.

Again, if we talk about compatibility, IMO xHarbour memoedit is much more
Clipper compatible than Harbour's, I have tested extensively. If you need
some sample I can forward key-by-key example. I tried to patch Harbour code
to Clipper compatibility but found it hard to rework all those details. If
you remember what Harbour fixes are not there in xHarbour, please forward.

Regards
Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/Memoedit.prg---Teditor.prg-tp14563311p14570504.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Jan  2 04:15:23 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jan  2 04:15:26 2008
Subject: [Harbour] A Question on Directives
Message-ID: <14573513.post@talk.nabble.com>


Hello All,

Is there a way to substitute another parameter if one defined in #xtranslate
is missing? Like,

#xtranslate DispOutAtX(<r>,<c>,<x>,[<l>],[<g>]) =>
DispOutAt(<r>,<c>,<x>,<l>,iif(<g>==NIL,hGT,<g>))

Please forgive me if I have put a stupid question, as I am soooo poor in PP.

Regards
Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/A-Question-on-Directives-tp14573513p14573513.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lostmyhearttoher at gmail.com  Wed Jan  2 09:57:54 2008
From: lostmyhearttoher at gmail.com (Lost)
Date: Wed Jan  2 09:58:04 2008
Subject: [Harbour] A Question on Directives
In-Reply-To: <14573513.post@talk.nabble.com>
References: <14573513.post@talk.nabble.com>
Message-ID: <477B6022.1080005@gmail.com>

Pritpal Bedi escribi? el 02/01/08 a las 02:15:

> Hello All,
> 
> Is there a way to substitute another parameter if one defined in #xtranslate
> is missing? Like,
> 
> #xtranslate DispOutAtX(<r>,<c>,<x>,[<l>],[<g>]) =>
> DispOutAt(<r>,<c>,<x>,<l>,iif(<g>==NIL,hGT,<g>))
> 

#xtranslate DispOutAtX(<r>,<c>,<x>,[<l>],[<g>]) =>
DispOutAt( <r>,<c>,<x>,<l>,iif( <.g.>,<g>,hGT ) )


Best regards,
Lost

From e.m.giordano at emagsoftware.it  Wed Jan  2 14:14:28 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Jan  2 14:14:32 2008
Subject: [Harbour] A Question on Directives
References: <14573513.post@talk.nabble.com>
Message-ID: <008e01c84d49$c92a40c0$ca64fea9@emag>


-----Messaggio Originale----- 
Da: "Pritpal Bedi" <bedipritpal@hotmail.com>
A: <harbour@harbour-project.org>
Data invio: mercoled? 2 gennaio 2008 5.15
Oggetto: [Harbour] A Question on Directives


> Hello All,
>
> Is there a way to substitute another parameter if one defined in 
> #xtranslate
> is missing? Like,
>
> #xtranslate DispOutAtX(<r>,<c>,<x>,[<l>],[<g>]) =>
> DispOutAt(<r>,<c>,<x>,<l>,iif(<g>==NIL,hGT,<g>))

#xtranslate DispOutAtX(<r>,<c>,<x>,[<l>],<g>) =>
DispOutAt(<r>,<c>,<x>,<l>,<g>)

#xtranslate DispOutAtX(<r>,<c>,<x>,[<l>],[<g>]) =>
DispOutAt(<r>,<c>,<x>,<l>,hGT)

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From e.m.giordano at emagsoftware.it  Wed Jan  2 14:21:01 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Jan  2 14:21:05 2008
Subject: [Harbour] A Question on Directives
References: <14573513.post@talk.nabble.com> <477B6022.1080005@gmail.com>
Message-ID: <009301c84d4a$b398e6c0$ca64fea9@emag>


-----Messaggio Originale----- 
Da: "Lost" <lostmyhearttoher@gmail.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 2 gennaio 2008 10.57
Oggetto: Re: [Harbour] A Question on Directives


> #xtranslate DispOutAtX(<r>,<c>,<x>,[<l>],[<g>]) =>
> DispOutAt( <r>,<c>,<x>,<l>,iif( <.g.>,<g>,hGT ) )

It doesn't seem to work.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From lostmyhearttoher at gmail.com  Wed Jan  2 14:55:13 2008
From: lostmyhearttoher at gmail.com (Lost)
Date: Wed Jan  2 15:09:42 2008
Subject: [Harbour] A Question on Directives
In-Reply-To: <009301c84d4a$b398e6c0$ca64fea9@emag>
References: <14573513.post@talk.nabble.com> <477B6022.1080005@gmail.com>
	<009301c84d4a$b398e6c0$ca64fea9@emag>
Message-ID: <477BA5D1.9030305@gmail.com>

Enrico Maria Giordano escribi? el 02/01/08 a las 12:21:

> 
> -----Messaggio Originale----- Da: "Lost" <lostmyhearttoher@gmail.com>
> A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
> Data invio: mercoled? 2 gennaio 2008 10.57
> Oggetto: Re: [Harbour] A Question on Directives
> 
> 
>> #xtranslate DispOutAtX(<r>,<c>,<x>,[<l>],[<g>]) =>
>> DispOutAt( <r>,<c>,<x>,<l>,iif( <.g.>,<g>,hGT ) )
> 
> It doesn't seem to work.
> 

It works here. See:

lost@lost-710:~/tmp$ cat temp.prg
#xtranslate DispOutAtX(<r>,<c>,<x>,[<l>],[<g>]) => ;
DispOutAt( <r>,<c>,<x>,<l>,iif( <.g.>,<g>,hGT ) )


procedure main()

   DispOutAtX( 1,1,"Curses","W/N",hCurses )
   DispOutAtX( 2,1,"GT","W/N",hGT )
   DispOutAtX( 3,1,"Default","W/N", )

return

lost@lost-710:~/tmp$ hbcmp -m -n -s -p test
Harbour devel build 1.1-1 Intl.
Copyright (c) 1999-2008, http://www.harbour-project.org/
Compiling 'test.prg' and generating preprocessed output to 'test.ppo'...

lost@lost-710:~/tmp$ cat temp.ppo




procedure main()

   DispOutAt( 1,1,"Curses","W/N",iif( .T.,hCurses,hGT ) )
   DispOutAt( 2,1,"GT","W/N",iif( .T.,hGT,hGT ) )
   DispOutAt( 3,1,"Default","W/N",iif( .F.,,hGT ) )

return



Best regards,
Lost

From e.m.giordano at emagsoftware.it  Wed Jan  2 15:24:27 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Jan  2 15:24:37 2008
Subject: [Harbour] A Question on Directives
References: <14573513.post@talk.nabble.com>
	<477B6022.1080005@gmail.com><009301c84d4a$b398e6c0$ca64fea9@emag>
	<477BA5D1.9030305@gmail.com>
Message-ID: <00e501c84d53$901356f0$ca64fea9@emag>


-----Messaggio Originale----- 
Da: "Lost" <lostmyhearttoher@gmail.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 2 gennaio 2008 15.55
Oggetto: Re: [Harbour] A Question on Directives


> > It doesn't seem to work.
>
> It works here. See:

Please try the following sample:

#xtranslate TestX(<r>,<c>,<x>,[<l>],[<g>]) => ;
Test( <r>,<c>,<x>,<l>,iif( <.g.>,<g>,hGT ) )


FUNCTION MAIN()

    LOCAL hGT := 6

    TESTX( 1, 2, 3, 4, 5 )
    TESTX( 1, 2, 3, 5 )

    INKEY( 0 )

    RETURN NIL


STATIC FUNCTION TEST( r, c, x, l, g )

    ? r, c, x, l, g

    RETURN NIL

It results in

Error: Unresolved external '_HB_FUN_TESTX'

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From lostmyhearttoher at gmail.com  Wed Jan  2 15:39:23 2008
From: lostmyhearttoher at gmail.com (Lost)
Date: Wed Jan  2 15:39:42 2008
Subject: [Harbour] A Question on Directives
In-Reply-To: <00e501c84d53$901356f0$ca64fea9@emag>
References: <14573513.post@talk.nabble.com>	<477B6022.1080005@gmail.com><009301c84d4a$b398e6c0$ca64fea9@emag>	<477BA5D1.9030305@gmail.com>
	<00e501c84d53$901356f0$ca64fea9@emag>
Message-ID: <477BB02B.4050707@gmail.com>

Enrico Maria Giordano escribi? el 02/01/08 a las 13:24:

>> > It doesn't seem to work.
>>
>> It works here. See:
> 
> Please try the following sample:
> 
> #xtranslate TestX(<r>,<c>,<x>,[<l>],[<g>]) => ;
> Test( <r>,<c>,<x>,<l>,iif( <.g.>,<g>,hGT ) )
> 
> 
> FUNCTION MAIN()
> 
>    LOCAL hGT := 6
> 
>    TESTX( 1, 2, 3, 4, 5 )
>    TESTX( 1, 2, 3, 5 )

Check the definition of your command. You are missing a comma after the
5. If you want to avoid it, use a definition like this:
#xtranslate TestX(<r>,<c>,<x>,[<l>][,<g>]) => ;
Test( <r>,<c>,<x>,<l>,iif( <.g.>,<g>,hGT ) )

> 
>    INKEY( 0 )
> 
>    RETURN NIL
> 
> 
> STATIC FUNCTION TEST( r, c, x, l, g )
> 
>    ? r, c, x, l, g
> 
>    RETURN NIL
> 
> It results in
> 
> Error: Unresolved external '_HB_FUN_TESTX'
> 

Works perfectly if you add the comma.

Best regards,
Lost

From e.m.giordano at emagsoftware.it  Wed Jan  2 15:56:23 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Jan  2 15:56:27 2008
Subject: [Harbour] A Question on Directives
References: <14573513.post@talk.nabble.com>	<477B6022.1080005@gmail.com><009301c84d4a$b398e6c0$ca64fea9@emag>	<477BA5D1.9030305@gmail.com><00e501c84d53$901356f0$ca64fea9@emag>
	<477BB02B.4050707@gmail.com>
Message-ID: <00ff01c84d58$06046030$ca64fea9@emag>


-----Messaggio Originale----- 
Da: "Lost" <lostmyhearttoher@gmail.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 2 gennaio 2008 16.39
Oggetto: Re: [Harbour] A Question on Directives


> Check the definition of your command.

Which command? My command (the splitted one) works fine.

> You are missing a comma after the 5.

This is intentional.

> If you want to avoid it, use a definition like this:
> #xtranslate TestX(<r>,<c>,<x>,[<l>][,<g>]) => ;
> Test( <r>,<c>,<x>,<l>,iif( <.g.>,<g>,hGT ) )

Ok, now your command works fine too.

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From lostmyhearttoher at gmail.com  Wed Jan  2 16:21:53 2008
From: lostmyhearttoher at gmail.com (Lost)
Date: Wed Jan  2 16:22:03 2008
Subject: [Harbour] A Question on Directives
In-Reply-To: <00ff01c84d58$06046030$ca64fea9@emag>
References: <14573513.post@talk.nabble.com>	<477B6022.1080005@gmail.com><009301c84d4a$b398e6c0$ca64fea9@emag>	<477BA5D1.9030305@gmail.com><00e501c84d53$901356f0$ca64fea9@emag>	<477BB02B.4050707@gmail.com>
	<00ff01c84d58$06046030$ca64fea9@emag>
Message-ID: <477BBA21.9000600@gmail.com>

Enrico Maria Giordano escribi? el 02/01/08 a las 13:56:

>> Check the definition of your command.
> 
> Which command? My command (the splitted one) works fine.

This one:

>> #xtranslate TestX(<r>,<c>,<x>,[<l>],[<g>]) => ;
>> Test( <r>,<c>,<x>,<l>,iif( <.g.>,<g>,hGT ) )

It works fine, indeed, as long as you pass *all* of the parameters it
expects.
I count five *mandatory* parameters (four non-optional commas)

You are attempting to use it like this:

>>    TESTX( 1, 2, 3, 5 )

You are passing only *four* parameters (three commas)

It will not work like that. The parameter count does not match your
command definition, i.e. *no match*. That's why you get the unresolved
external.

> This is intentional.

Then I don't get it. The preprocessor works as I expect it to. As far as
I can tell, it never matched something like that. Have you had a
different experience?


Best regards,
Lost

From e.m.giordano at emagsoftware.it  Wed Jan  2 16:31:41 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Jan  2 16:31:46 2008
Subject: [Harbour] A Question on Directives
References: <14573513.post@talk.nabble.com>	<477B6022.1080005@gmail.com><009301c84d4a$b398e6c0$ca64fea9@emag>	<477BA5D1.9030305@gmail.com><00e501c84d53$901356f0$ca64fea9@emag>	<477BB02B.4050707@gmail.com><00ff01c84d58$06046030$ca64fea9@emag>
	<477BBA21.9000600@gmail.com>
Message-ID: <012701c84d5c$f4ce7440$ca64fea9@emag>


-----Messaggio Originale----- 
Da: "Lost" <lostmyhearttoher@gmail.com>
A: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Data invio: mercoled? 2 gennaio 2008 17.21
Oggetto: Re: [Harbour] A Question on Directives


> > > Check the definition of your command.
> >
> > Which command? My command (the splitted one) works fine.
>
> This one:
>
> > > #xtranslate TestX(<r>,<c>,<x>,[<l>],[<g>]) => ;
> > > Test( <r>,<c>,<x>,<l>,iif( <.g.>,<g>,hGT ) )

This is not my command. This is yours. :-)

> It works fine, indeed, as long as you pass *all* of the
> parameters it expects.

Ok, but the original poster (Pritpal?) asked a different thing. Or did I 
misunderstand the question?

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From lostmyhearttoher at gmail.com  Wed Jan  2 17:08:04 2008
From: lostmyhearttoher at gmail.com (Lost)
Date: Wed Jan  2 17:08:22 2008
Subject: [Harbour] A Question on Directives
In-Reply-To: <012701c84d5c$f4ce7440$ca64fea9@emag>
References: <14573513.post@talk.nabble.com>	<477B6022.1080005@gmail.com><009301c84d4a$b398e6c0$ca64fea9@emag>	<477BA5D1.9030305@gmail.com><00e501c84d53$901356f0$ca64fea9@emag>	<477BB02B.4050707@gmail.com><00ff01c84d58$06046030$ca64fea9@emag>	<477BBA21.9000600@gmail.com>
	<012701c84d5c$f4ce7440$ca64fea9@emag>
Message-ID: <477BC4F4.3080607@gmail.com>

Enrico Maria Giordano escribi? el 02/01/08 a las 14:31:

>> > > Check the definition of your command.
>> >
>> > Which command? My command (the splitted one) works fine.
>>
>> This one:
>>
>> > > #xtranslate TestX(<r>,<c>,<x>,[<l>],[<g>]) => ;
>> > > Test( <r>,<c>,<x>,<l>,iif( <.g.>,<g>,hGT ) )
> 
> This is not my command. This is yours. :-)

It's *your* modification to *my* command. ;-)
> 
>> It works fine, indeed, as long as you pass *all* of the
>> parameters it expects.
> 
> Ok, but the original poster (Pritpal?) asked a different thing. Or did I
> misunderstand the question?

Maybe *I* did misunderstand. I quote the OP:

>> Is there a way to substitute another parameter if one defined in #xtranslate
>> is missing? Like,
>> 
>> #xtranslate DispOutAtX(<r>,<c>,<x>,[<l>],[<g>]) =>
>> DispOutAt(<r>,<c>,<x>,<l>,iif(<g>==NIL,hGT,<g>))

My version of the command does allow for a default value to be used when
a parameter is missing. We have somewhat slipped off-topic here, I agree
with you. Maybe it's time to clean up the thread.

So, to sum it up:
It is possible to supply a default value for missing parameters in
#command or #translate definitions. If typing the commas in every case
is unacceptable, then they should be included between the square braces
[] together with the optional parameter, but that was not the case in
the OP's sample. In this case, I adapted the OP sample to show how I'd
do it. It works for me, even though this is just one way to do it. There
are others, e.g.:

/* 2-command version */
#xtranslate DispOutAtX(<r>,<c>,<x>,[<l>],<g>) =>
DispOutAt(<r>,<c>,<x>,<l>,<g>)
#xtranslate DispOutAtX(<r>,<c>,<x>,[<l>]) =>
DispOutAt(<r>,<c>,<x>,<l>,YOUR_DEFAULT_VALUE_HERE)

EOT for me. :-)

Best regards,
Lost

From bedipritpal at hotmail.com  Wed Jan  2 20:24:33 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jan  2 20:44:36 2008
Subject: [Harbour] A Question on Directives
In-Reply-To: <477BC4F4.3080607@gmail.com>
References: <14573513.post@talk.nabble.com> <477B6022.1080005@gmail.com>
	<009301c84d4a$b398e6c0$ca64fea9@emag> <477BA5D1.9030305@gmail.com>
	<00e501c84d53$901356f0$ca64fea9@emag> <477BB02B.4050707@gmail.com>
	<00ff01c84d58$06046030$ca64fea9@emag> <477BBA21.9000600@gmail.com>
	<012701c84d5c$f4ce7440$ca64fea9@emag> <477BC4F4.3080607@gmail.com>
Message-ID: <14585574.post@talk.nabble.com>


Hi Enrico and Lost

Here are the results:

1st Approach:

#xtranslate DispOutAtX(<r>,<c>,<x>,[<l>][,<g>]) =>
DispOutAt(<r>,<c>,<x>,[<l>],iif(<.g.>,<g>,hGT))

Function Main()
   Local x, hGT

   DispOutAtX( 10,10,'dara','w+/r' )
   DispOutAtX( 10,10,'dara','w+/r',x )
 
   /* PPO

   DispOutAt(10,10,"dara","w+/r",iif(.F.,,hGT))
   DispOutAt(10,10,"dara","w+/r",iif(.T.,x,hGT))
   
   */

   Return nil

2nd Approach:

#xtranslate DispOutAtX(<r>,<c>,<x>,[<l>],<g>) =>
DispOutAt(<r>,<c>,<x>,[<l>],<g>)
#xtranslate DispOutAtX(<r>,<c>,<x>,[<l>])     =>
DispOutAt(<r>,<c>,<x>,[<l>],hGT)

Function Main()
   Local x, hGT

   DispOutAtX( 10,10,'dara','w+/r' )
   DispOutAtX( 10,10,'dara','w+/r',x )
 
   /* PPO

   DispOutAt(10,10,"dara","w+/r",hGT)
   DispOutAt(10,10,"dara","w+/r",x)
   
   */

   Return nil

Though first approach decreases the quantum of redefinition of directives,
but puts a runtime overhead to evaluate one IIF construct. Whereas in 2nd
approach, you end up writing more directives but you save one PCODE
evaluation at run-time. Also it provides the clean PPO code much tangible to
grasp. This is what I wanted to achive, thanks.

My goal was not to rewrite the base code to include <hGT> as the last
parameter to GT commands. I wanted it to be substituted by a Local/Public
variable if one is not provided on lines with <GetList>.

Now another question:

Instead of changing the name of the function in #xtranslate , I can keep
librray name as is, like:


#xtranslate DispOutAt(<r>,<c>,<x>,[<l>],<g>) =>
DispOutAt(<r>,<c>,<x>,[<l>],<g>)
#xtranslate DispOutAt(<r>,<c>,<x>,[<l>])       =>
DispOutAt(<r>,<c>,<x>,[<l>],hGT)

I have tried but then compile keeps on translating forever. If this can be
achieved in any way, a lot of amount of time will be saved.

Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/A-Question-on-Directives-tp14573513p14585574.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From e.m.giordano at emagsoftware.it  Wed Jan  2 21:04:54 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Wed Jan  2 21:05:01 2008
Subject: [Harbour] A Question on Directives
References: <14573513.post@talk.nabble.com>
	<477B6022.1080005@gmail.com><009301c84d4a$b398e6c0$ca64fea9@emag>
	<477BA5D1.9030305@gmail.com><00e501c84d53$901356f0$ca64fea9@emag>
	<477BB02B.4050707@gmail.com><00ff01c84d58$06046030$ca64fea9@emag>
	<477BBA21.9000600@gmail.com><012701c84d5c$f4ce7440$ca64fea9@emag>
	<477BC4F4.3080607@gmail.com> <14585574.post@talk.nabble.com>
Message-ID: <00d201c84d83$1fb66200$ca64fea9@emag>


-----Messaggio Originale----- 
Da: "Pritpal Bedi" <bedipritpal@hotmail.com>
A: <harbour@harbour-project.org>
Data invio: mercoled? 2 gennaio 2008 21.24
Oggetto: Re: [Harbour] A Question on Directives


> Now another question:
>
> Instead of changing the name of the function in #xtranslate , I can keep
> librray name as is, like:

Something like this:

#xtranslate TestX(<r>,<c>,<x>,[<l>],<g>) => TestY( <r>,<c>,<x>,<l>,<g> )
#xtranslate TestX(<r>,<c>,<x>,[<l>]) => TestY( <r>,<c>,<x>,<l>,h )

#define TEST TESTX


FUNCTION MAIN()

    LOCAL h := 6

    TEST( 1, 2, 3, 4, 5 )
    TEST( 1, 2, 3, 5 )

    INKEY( 0 )

    RETURN NIL


#undef TEST


STATIC FUNCTION TESTY( r, c, x, l, g )

    RETURN TEST( r, c, x, l, g )


STATIC FUNCTION TEST( r, c, x, l, g )

    ? r, c, x, l, g

    RETURN NIL

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From bedipritpal at hotmail.com  Wed Jan  2 22:41:29 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jan  2 22:41:31 2008
Subject: [Harbour] A Question on Directives
In-Reply-To: <00d201c84d83$1fb66200$ca64fea9@emag>
References: <14573513.post@talk.nabble.com> <477B6022.1080005@gmail.com>
	<009301c84d4a$b398e6c0$ca64fea9@emag> <477BA5D1.9030305@gmail.com>
	<00e501c84d53$901356f0$ca64fea9@emag> <477BB02B.4050707@gmail.com>
	<00ff01c84d58$06046030$ca64fea9@emag> <477BBA21.9000600@gmail.com>
	<012701c84d5c$f4ce7440$ca64fea9@emag>
	<477BC4F4.3080607@gmail.com> <14585574.post@talk.nabble.com>
	<00d201c84d83$1fb66200$ca64fea9@emag>
Message-ID: <14587812.post@talk.nabble.com>


Enrico


Enrico Maria Giordano wrote:
> 
> Something like this:
> 
> #xtranslate TestX(<r>,<c>,<x>,[<l>],<g>) => TestY( <r>,<c>,<x>,<l>,<g> )
> #xtranslate TestX(<r>,<c>,<x>,[<l>]) => TestY( <r>,<c>,<x>,<l>,h )
> 
> #define TEST TESTX
> 
> FUNCTION MAIN()
> 
>     LOCAL h := 6
> 
>     TEST( 1, 2, 3, 4, 5 )
>     TEST( 1, 2, 3, 5 )
> 
>     INKEY( 0 )
> 
>     RETURN NIL
> 
> #undef TEST
> 
> STATIC FUNCTION TESTY( r, c, x, l, g )
> 
>     RETURN TEST( r, c, x, l, g )
> 
> STATIC FUNCTION TEST( r, c, x, l, g )
> 
>     ? r, c, x, l, g
> 
>     RETURN NIL
> 

A little correction, nay the appropriate way, 

#define TEST TESTX           #xtranslate test( => testx(
#undef TEST                     #untranslate test(

You are never sure which case you have used in function calls. #xtranslate
covers this aspect.

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/A-Question-on-Directives-tp14573513p14587812.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour_ar at yahoo.com.ar  Thu Jan  3 00:36:41 2008
From: harbour_ar at yahoo.com.ar (harbour_ar)
Date: Thu Jan  3 00:36:53 2008
Subject: [Harbour] Happy new year!!!
In-Reply-To: <20071231180743.GC7898@localhost.localdomain>
References: <20071231180743.GC7898@localhost.localdomain>
Message-ID: <477C2E19.10503@yahoo.com.ar>

Happy New Year for everyone!

best regards,
Horacio




From antonioharbour at gmail.com  Thu Jan  3 01:23:41 2008
From: antonioharbour at gmail.com (Antonio Linares)
Date: Thu Jan  3 01:23:46 2008
Subject: [Harbour] Harbour running on the iPhone!
Message-ID: <9471afc80801021723x266bf3a1h2d313f53efac3622@mail.gmail.com>

http://img134.imageshack.us/img134/8962/iphone038tw6.png

:-)

Regards,

Antonio
From philb at philb.us  Thu Jan  3 01:26:27 2008
From: philb at philb.us (Phil Barnett)
Date: Thu Jan  3 01:26:31 2008
Subject: [Harbour] Harbour running on the iPhone!
In-Reply-To: <9471afc80801021723x266bf3a1h2d313f53efac3622@mail.gmail.com>
References: <9471afc80801021723x266bf3a1h2d313f53efac3622@mail.gmail.com>
Message-ID: <200801022026.27724.philb@philb.us>

On Wednesday 02 January 2008 08:23:41 pm Antonio Linares wrote:
> http://img134.imageshack.us/img134/8962/iphone038tw6.png

Bravo!
From cigcor at hotmail.com  Thu Jan  3 02:43:33 2008
From: cigcor at hotmail.com (dotNET future developer)
Date: Thu Jan  3 01:42:22 2008
Subject: [Harbour] Harbour running on the iPhone!
References: <9471afc80801021723x266bf3a1h2d313f53efac3622@mail.gmail.com>
Message-ID: <BAY128-DAV8312162A02DEEFBCEF158DC530@phx.gbl>

Hello Antonio Linares,
Will FiveWin run in dot NET? Time?
S?rgio

----- Original Message ----- 
From: "Antonio Linares" <antonioharbour@gmail.com>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Wednesday, January 02, 2008 10:23 PM
Subject: [Harbour] Harbour running on the iPhone!


> http://img134.imageshack.us/img134/8962/iphone038tw6.png
>
> :-)
>
> Regards,
>
> Antonio
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From antonioharbour at gmail.com  Thu Jan  3 01:43:45 2008
From: antonioharbour at gmail.com (Antonio Linares)
Date: Thu Jan  3 01:43:50 2008
Subject: [Harbour] Harbour running on the iPhone!
In-Reply-To: <200801022026.27724.philb@philb.us>
References: <9471afc80801021723x266bf3a1h2d313f53efac3622@mail.gmail.com>
	<200801022026.27724.philb@philb.us>
Message-ID: <9471afc80801021743w12c5c42r8b6816a6805f688d@mail.gmail.com>

Just in case you want to see the beauty of its GUI:

http://fivetechsoft.com/forums/viewtopic.php?t=9399
From M.Horodyski at pzuzycie.com.pl  Thu Jan  3 08:12:28 2008
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Thu Jan  3 08:12:34 2008
Subject: [Harbour] Multi GT ( Pripitals example )
In-Reply-To: <NLB02FE4Iu1B6gVs1tI0000655b@gatein.pzuzycie.com.pl>
Message-ID: <4A24C1FA7DEAF343BA8782FCB1F2593D35602A@PINK.zycie.pzu>

Pripital, can you prepare example with :
- Save\Restore screen
- child window created from another child window
- button and radiobutton with mouse piloting ?

Regards,
Marek Horodyski
From mbelgrano at deltain.it  Thu Jan  3 08:46:42 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jan  3 08:46:47 2008
Subject: R: [Harbour] Harbour running on the iPhone!
In-Reply-To: <BAY128-DAV8312162A02DEEFBCEF158DC530@phx.gbl>
References: <9471afc80801021723x266bf3a1h2d313f53efac3622@mail.gmail.com>
	<BAY128-DAV8312162A02DEEFBCEF158DC530@phx.gbl>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E76B@SRV02.deltain.net>

I am interested too

-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] Per conto di dotNET future developer
Inviato: gioved? 3 gennaio 2008 3.44
A: Harbour Project Main Developer List.
Oggetto: Re: [Harbour] Harbour running on the iPhone!

Hello Antonio Linares,
Will FiveWin run in dot NET? Time?
S?rgio

----- Original Message ----- 
From: "Antonio Linares" <antonioharbour@gmail.com>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Wednesday, January 02, 2008 10:23 PM
Subject: [Harbour] Harbour running on the iPhone!


> http://img134.imageshack.us/img134/8962/iphone038tw6.png
>
> :-)
>
> Regards,
>
> Antonio
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From e.m.giordano at emagsoftware.it  Thu Jan  3 10:19:23 2008
From: e.m.giordano at emagsoftware.it (Enrico Maria Giordano)
Date: Thu Jan  3 10:19:37 2008
Subject: [Harbour] A Question on Directives
References: <14573513.post@talk.nabble.com>
	<477B6022.1080005@gmail.com><009301c84d4a$b398e6c0$ca64fea9@emag>
	<477BA5D1.9030305@gmail.com><00e501c84d53$901356f0$ca64fea9@emag>
	<477BB02B.4050707@gmail.com><00ff01c84d58$06046030$ca64fea9@emag>
	<477BBA21.9000600@gmail.com><012701c84d5c$f4ce7440$ca64fea9@emag><477BC4F4.3080607@gmail.com>
	<14585574.post@talk.nabble.com><00d201c84d83$1fb66200$ca64fea9@emag>
	<14587812.post@talk.nabble.com>
Message-ID: <008001c84df2$209af630$ca64fea9@emag>


-----Messaggio Originale----- 
Da: "Pritpal Bedi" <bedipritpal@hotmail.com>
A: <harbour@harbour-project.org>
Data invio: mercoled? 2 gennaio 2008 23.41
Oggetto: Re: [Harbour] A Question on Directives


> A little correction, nay the appropriate way,
>
> #define TEST TESTX           #xtranslate test( => testx(
> #undef TEST                     #untranslate test(
>
> You are never sure which case you have used in function calls. #xtranslate
> covers this aspect.

Maybe I'm missing something but the following sample

#xtranslate TestX(<r>,<c>,<x>,[<l>],<g>) => TestY( <r>,<c>,<x>,<l>,<g> )
#xtranslate TestX(<r>,<c>,<x>,[<l>]) => TestY( <r>,<c>,<x>,<l>,h )

#xtranslate test( => testx(


FUNCTION MAIN()

    LOCAL h := 6

    TEST( 1, 2, 3, 4, 5 )
    TEST( 1, 2, 3, 5 )

    INKEY( 0 )

    RETURN NIL


#untranslate test( =>


STATIC FUNCTION TESTY( r, c, x, l, g )

    RETURN TEST( r, c, x, l, g )


STATIC FUNCTION TEST( r, c, x, l, g )

    ? r, c, x, l, g

    RETURN NIL

gives me

Redefinition of procedure or function: 'TESTY'

at line

STATIC FUNCTION TEST( r, c, x, l, g )

EMG

--
EMAG Software Homepage:     http://www.emagsoftware.it
The EMG's ZX-Spectrum Page: http://www.emagsoftware.it/spectrum
The Best of Spectrum Games: http://www.emagsoftware.it/tbosg
The EMG Music page:         http://www.emagsoftware.it/emgmusic 

From mbelgrano at deltain.it  Thu Jan  3 13:20:23 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jan  3 13:20:45 2008
Subject: [Harbour] WIch is best ide for harbour source code
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E76E@SRV02.deltain.net>

Wich is best ide for editing xharbour source for a newbies
Dev-C++
Eclipse C/C++
Netbean with c++ dev pack
C++ Builder 2007 codegear
Microsoft Visual C++


From dbtopas at dbtopas.lt  Thu Jan  3 14:42:47 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Jan  3 14:44:49 2008
Subject: [Harbour] Harbour for the iPhone
In-Reply-To: <9471afc80712310123i5c4aa9b5p64f1e0d0a6e1f041@mail.gmail.com>
References: <9471afc80712310123i5c4aa9b5p64f1e0d0a6e1f041@mail.gmail.com>
Message-ID: <477CF467.3050201@dbtopas.lt>

Antonio Linares wrote:
> I am about to start working on adapting Harbour for the iPhone (and
> the iPod touch).
> 
> I wonder if the group wants me to share all the changes, etc., since
> the beginning, to avoid further misunderstandings, etc. and properly
> integrate them in the Harbour svn
> 
> If some of you are also interested in these platforms, please email me
> to alinares@fivetechsoft.com or just comment it on this list, thanks

Hi,


I do not know that iPhone is, but if Harbour is multiplaform I vote to 
keep all code on SVN. Perhaps, we have to wait for release before 
commiting new code. Thanks for contribution.


Best regards,
Mindaugas

From bedipritpal at hotmail.com  Thu Jan  3 15:34:08 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jan  3 15:34:11 2008
Subject: [Harbour] Multi GT ( Pripitals example )
In-Reply-To: <4A24C1FA7DEAF343BA8782FCB1F2593D35602A@PINK.zycie.pzu>
References: <4A24C1FA7DEAF343BA8782FCB1F2593D35602A@PINK.zycie.pzu>
Message-ID: <14599096.post@talk.nabble.com>


Marek


Horodyski Marek (PZUZ) wrote:
> 
> Pripital, can you prepare example with :
> - Save\Restore screen
> - child window created from another child window
> - button and radiobutton with mouse piloting ?
> 

Let first this protocol be approved by the group in general and Przemek in
specific. Save/restore, child and modal windows is not a big deal. Buttons
and other gui elements will be implemented in GTWVG and not in GTWVT. These
are the next steps. There will be a better way to do all what I did, I am
awaiting Przemek's response.

Roadmap will be as:

1) Update core GT to provide constructs for various elements.
2) Core part of GTWVG be stripped to take use of GTWVT, in line with
xHarbour, to avoid duplicacy.
3) Build function/classes to embed GUI elements with a possibility to have
these available in Core.

Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/Multi-GT-%28-Pripitals-example-%29-tp14593359p14599096.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Thu Jan  3 18:43:52 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jan  3 18:43:55 2008
Subject: [Harbour] A Question on Directives
In-Reply-To: <008001c84df2$209af630$ca64fea9@emag>
References: <14573513.post@talk.nabble.com> <477B6022.1080005@gmail.com>
	<009301c84d4a$b398e6c0$ca64fea9@emag> <477BA5D1.9030305@gmail.com>
	<00e501c84d53$901356f0$ca64fea9@emag> <477BB02B.4050707@gmail.com>
	<00ff01c84d58$06046030$ca64fea9@emag> <477BBA21.9000600@gmail.com>
	<012701c84d5c$f4ce7440$ca64fea9@emag>
	<477BC4F4.3080607@gmail.com> <14585574.post@talk.nabble.com>
	<00d201c84d83$1fb66200$ca64fea9@emag>
	<14587812.post@talk.nabble.com>
	<008001c84df2$209af630$ca64fea9@emag>
Message-ID: <14602890.post@talk.nabble.com>


Enrico


Enrico Maria Giordano wrote:
> 
> Maybe I'm missing something but the following sample
> 
> #xtranslate TestX(<r>,<c>,<x>,[<l>],<g>) => TestY( <r>,<c>,<x>,<l>,<g> )
> #xtranslate TestX(<r>,<c>,<x>,[<l>]) => TestY( <r>,<c>,<x>,<l>,h )
> 
> #xtranslate test( => testx(
> 

I was experimenting with other example, not yours. Yours is OK too but it
needs that function call is always done in UPPER case, here as, TEST.

Here is what I experimented:

//-----------------------------------------//
//
// hGT will be the application defined variable name to hold GT context
handle
// This is along the line of GetList public variable.
//
#define VAR_GT   hGT                                 

#xtranslate DispOutAtX(<r>,<c>,<x>,[<l>],<g>) =>
DispOutAtY(<r>,<c>,<x>,[<l>],<g>)
#xtranslate DispOutAtX(<r>,<c>,<x>,[<l>])       =>
DispOutAtY(<r>,<c>,<x>,[<l>],VAR_GT)
#xtranslate DispOutAt( => DispOutAtX(

FUNCTION GTOutPut()
   Local nHandle
   Local hGT

   DispOutAt( 10,10,'dara','w+/r' )
   DispOutAt( 12,10,'lara','w+/b',nHandle )

   Return nil
//-----------------------------------------//
//    The code below be clubbed in another PRG
//----------------------------------------//
//
//  Only if the function below is part of same prg
//
#untranslate DispOutAt(    

Function DispOutAtY( a,b,c,d,e )
   Return DispOutAt( a,b,c,d,e )
//-----------------------------------------//

This way all GT commands/functions can be isolated in other PRG/INCLUDE and
if multi-window functionality is needed #include and link script is enough.
No need to change the code.

PPO output:

Function GTOutput()
   Local nHandle
   Local hGT

   DispOutAtY(10,10,"dara","w+/r",hGT)
   DispOutAtY(12,10,"lara","w+/b",nHandle)

   Return nil

Function DispOutAtY( a,b,c,d,e )
   Return DispOutAt( a,b,c,d,e )

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/A-Question-on-Directives-tp14573513p14602890.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From jacek at achilles.wam.lodz.pl  Thu Jan  3 23:06:56 2008
From: jacek at achilles.wam.lodz.pl (Jacek Kubica)
Date: Thu Jan  3 23:07:18 2008
Subject: [Harbour] WIch is best ide for harbour source code
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E76E@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815E76E@SRV02.deltain.net>
Message-ID: <301037972.20080104000656@achilles.wam.lodz.pl>

Hello Massimo,

Thursday, January 03, 2008, 2:20:23 PM, you wrote:

MB> Wich is best ide for editing xharbour source for a newbies
MB> Dev-C++
MB> Eclipse C/C++
MB> Netbean with c++ dev pack
MB> C++ Builder 2007 codegear
MB> Microsoft Visual C++

IMO xMate (author Andy Wos) is a best choice
for newbies but also for experts
(only for Windows env.)

Regarding to xMate Home Page
http://www.andywos.ih.co.za/xmate/

"xMate is a freeware  project manager and builder,
It includes a built-in, configurable source code editor.
xMate supports Clipper, C3, Flagship, Harbour, xBase++,
xHarbour  and Borland C, DJGPP, gcc, MingW, MSVC,
Pelles C, Watcom32, xCC"

I`m using this fantastic tool since years.


-- 
Best regards,

 Jacek Kubica


From bedipritpal at hotmail.com  Fri Jan  4 01:11:41 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Jan  4 01:11:47 2008
Subject: [Harbour] WIch is best ide for harbour source code
In-Reply-To: <301037972.20080104000656@achilles.wam.lodz.pl>
References: <AFB948164110ED43B5EB849E8DEEF03815E76E@SRV02.deltain.net>
	<301037972.20080104000656@achilles.wam.lodz.pl>
Message-ID: <14609049.post@talk.nabble.com>


Hi


Jacek Kubica-2 wrote:
> 
> Hello Massimo,
> 
> Thursday, January 03, 2008, 2:20:23 PM, you wrote:
> 
> MB> Wich is best ide for editing xharbour source for a newbies
> MB> Dev-C++
> MB> Eclipse C/C++
> MB> Netbean with c++ dev pack
> MB> C++ Builder 2007 codegear
> MB> Microsoft Visual C++
> 
> IMO xMate (author Andy Wos) is a best choice
> for newbies but also for experts
> (only for Windows env.)
> 
> Regarding to xMate Home Page
> http://www.andywos.ih.co.za/xmate/
> 
> "xMate is a freeware  project manager and builder,
> It includes a built-in, configurable source code editor.
> xMate supports Clipper, C3, Flagship, Harbour, xBase++,
> xHarbour  and Borland C, DJGPP, gcc, MingW, MSVC,
> Pelles C, Watcom32, xCC"
> 
> I`m using this fantastic tool since years.
> 

I too endorse it strongly.

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/WIch-is-best-ide-for-harbour-source-code-tp14596861p14609049.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mhsabado at gmail.com  Fri Jan  4 12:30:55 2008
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Fri Jan  4 12:31:19 2008
Subject: [Harbour] WIch is best ide for harbour source code
In-Reply-To: <477e1fe6.0708360a.5847.ffffa09dSMTPIN_ADDED@mx.google.com>
References: <477e1fe6.0708360a.5847.ffffa09dSMTPIN_ADDED@mx.google.com>
Message-ID: <477E26FF.6000206@gmail.com>

>
> Jacek Kubica-2 wrote:
>> > 
>> > Hello Massimo,
>> > 
>> > Thursday, January 03, 2008, 2:20:23 PM, you wrote:
>> > 
>> > MB> Wich is best ide for editing xharbour source for a newbies
>> > MB> Dev-C++
>> > MB> Eclipse C/C++
>> > MB> Netbean with c++ dev pack
>> > MB> C++ Builder 2007 codegear
>> > MB> Microsoft Visual C++
>> > 
>> > IMO xMate (author Andy Wos) is a best choice
>> > for newbies but also for experts
>> > (only for Windows env.)
>> > 
>> > Regarding to xMate Home Page
>> > http://www.andywos.ih.co.za/xmate/
>> > 
>> > "xMate is a freeware  project manager and builder,
>> > It includes a built-in, configurable source code editor.
>> > xMate supports Clipper, C3, Flagship, Harbour, xBase++,
>> > xHarbour  and Borland C, DJGPP, gcc, MingW, MSVC,
>> > Pelles C, Watcom32, xCC"
>> > 
>> > I`m using this fantastic tool since years.
>> > 
>>     
>
> I too endorse it strongly.
>   
I've been using xMate for years now and am happy to say also that it has greatly help a lot in the migration of my Clipper apps.


Regards,
Mario

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080104/2c95b1db/attachment.html
From m.renzi at maticasrl.it  Fri Jan  4 14:31:26 2008
From: m.renzi at maticasrl.it (Massimo Renzi (MaticaSrl))
Date: Fri Jan  4 14:32:52 2008
Subject: [Harbour] OrdListAdd() VS. dbSetIndex() "open error"
In-Reply-To: <301037972.20080104000656@achilles.wam.lodz.pl>
References: <AFB948164110ED43B5EB849E8DEEF03815E76E@SRV02.deltain.net>
	<301037972.20080104000656@achilles.wam.lodz.pl>
Message-ID: <000f01c84ede$7dcc5af0$2a00df0a@maxsoft>

Hi all.
I've a problem with the command "SET INDEXT TO ..."
It return the error "open error dos error 3".
I've seen the PPO and I see that it converts "SET INDEX TO " in
OrdListAdd().

I've substitute OrdListAdd with dbSetIndex and it works well.

Why? Exist a bug in OrdListAdd ?
Thank you

Max


No virus found in this outgoing message.
Checked by AVG Free Edition. 
Version: 7.5.516 / Virus Database: 269.17.13/1208 - Release Date: 03/01/2008
15.52
 

From lostmyhearttoher at gmail.com  Fri Jan  4 14:48:06 2008
From: lostmyhearttoher at gmail.com (Lost)
Date: Fri Jan  4 14:48:15 2008
Subject: [Harbour] OrdListAdd() VS. dbSetIndex() "open error"
In-Reply-To: <000f01c84ede$7dcc5af0$2a00df0a@maxsoft>
References: <AFB948164110ED43B5EB849E8DEEF03815E76E@SRV02.deltain.net>	<301037972.20080104000656@achilles.wam.lodz.pl>
	<000f01c84ede$7dcc5af0$2a00df0a@maxsoft>
Message-ID: <477E4726.5020808@gmail.com>

Massimo Renzi (MaticaSrl) escribi? el 04/01/08 a las 12:31:

> Hi all.
> I've a problem with the command "SET INDEXT TO ..."
> It return the error "open error dos error 3".
> I've seen the PPO and I see that it converts "SET INDEX TO " in
> OrdListAdd().
> 
> I've substitute OrdListAdd with dbSetIndex and it works well.
> 
> Why? Exist a bug in OrdListAdd ?

I don't think so. I think I remember that DOS error 3 is "path not found".
Could you please post some more data? Like OS, compiler version, the offending
code? A reduced sample, perhaps?

> Thank you

Best regards,
Lost

From josemisu at yahoo.com.ar  Fri Jan  4 15:30:20 2008
From: josemisu at yahoo.com.ar (Jose Miguel)
Date: Fri Jan  4 15:30:39 2008
Subject: [Harbour] MenuItem
Message-ID: <334757.62421.qm@web32807.mail.mud.yahoo.com>

Hola/Hello

Cuando presiono un numero en el menu se selecciona siempre el primer item, alguna solucion?
---------------------------------
When I press I number in menu always selects the first item, some solution?

Este el el codigo/this is the code

      // TopBar() creates the menu at the very top of the screen
oTopBar := TopBar( 2, 0, 79)
oTopBar:ColorSpec :="b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"

      // Create a new popup menu named FILE and add it to the TopBar object
oPopUpA:= PopUp()
oPopUpA:ColorSpec:= "b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
oTopBar:AddItem( MenuItem ( "&Remesas",oPopUpA) )

      // Add some menu items to the newly created File popup
   oItem :=MenuItem( "&1-Altas/modif. Remesas      " ,{|| REMALT()  }, 49,"Altas y modificacion de Remesas", 11)
   oPopUpA:AddItem( oItem)
   oItem :=MenuItem( "&2-Consultar Remesas         " ,{|| REMCON()  }, 50,"Consulta de Remesas", 12)
   oPopUpA:AddItem( oItem)
   oItem :=MenuItem( "&3-Apertura/Cambio Ejercicio " ,{|| REMEJE()  }, 51,"Aperturar o cambiar de ejerccio", 13)
   oPopUpA:AddItem( oItem)
   oPopUpA:AddItem( MenuItem( MENU_SEPARATOR ) )
   oItem :=MenuItem( "&4-TERMINAR                  " ,{|| .t.      }, 52,"Salir del programa", 999)
   oPopUpA:AddItem( oItem)

   // Return our TopBar object back to MENU_Test()
   return ( oTopBar)




Ejemplos y programas para MiniGUI Extended 
http://www.gateos.com/misdoc/programas/programas.html


       
---------------------------------

Yahoo! Encuentros
Ahora encontrar pareja es mucho m?s f?cil, prob? el nuevo Yahoo! Encuentros.
 Visit? http://yahoo.cupidovirtual.com/servlet/NewRegistration
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080104/06d60fa4/attachment.html
From m.renzi at maticasrl.it  Fri Jan  4 15:55:09 2008
From: m.renzi at maticasrl.it (Massimo Renzi (MaticaSrl))
Date: Fri Jan  4 15:56:27 2008
Subject: R: [Harbour] OrdListAdd() VS. dbSetIndex() "open error"
In-Reply-To: <000f01c84ede$7dcc5af0$2a00df0a@maxsoft>
References: <AFB948164110ED43B5EB849E8DEEF03815E76E@SRV02.deltain.net><301037972.20080104000656@achilles.wam.lodz.pl>
	<000f01c84ede$7dcc5af0$2a00df0a@maxsoft>
Message-ID: <002e01c84eea$2eb49700$2a00df0a@maxsoft>

Hi all.
The problem is on OrdListAdd() function.
The error occurs cause the index file name start with a space.
dbSetIndex() have a trim of space and OrdListAdd() no.

can you FIX it please?
Thank you.
Bye
Max


-----Messaggio originale-----
Da: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] Per conto di Massimo Renzi
(MaticaSrl)
Inviato: venerd? 4 gennaio 2008 15.31
A: 'Harbour Project Main Developer List.'
Oggetto: [Harbour] OrdListAdd() VS. dbSetIndex() "open error"

Hi all.
I've a problem with the command "SET INDEXT TO ..."
It return the error "open error dos error 3".
I've seen the PPO and I see that it converts "SET INDEX TO " in
OrdListAdd().

I've substitute OrdListAdd with dbSetIndex and it works well.

Why? Exist a bug in OrdListAdd ?
Thank you

Max


No virus found in this outgoing message.
Checked by AVG Free Edition. 
Version: 7.5.516 / Virus Database: 269.17.13/1208 - Release Date: 03/01/2008
15.52
 

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

No virus found in this incoming message.
Checked by AVG Free Edition. 
Version: 7.5.516 / Virus Database: 269.17.13/1208 - Release Date: 03/01/2008
15.52
 

No virus found in this outgoing message.
Checked by AVG Free Edition. 
Version: 7.5.516 / Virus Database: 269.17.13/1208 - Release Date: 03/01/2008
15.52
 

From lostmyhearttoher at gmail.com  Fri Jan  4 16:15:08 2008
From: lostmyhearttoher at gmail.com (Lost)
Date: Fri Jan  4 16:15:24 2008
Subject: R: [Harbour] OrdListAdd() VS. dbSetIndex() "open error"
In-Reply-To: <002e01c84eea$2eb49700$2a00df0a@maxsoft>
References: <AFB948164110ED43B5EB849E8DEEF03815E76E@SRV02.deltain.net><301037972.20080104000656@achilles.wam.lodz.pl>	<000f01c84ede$7dcc5af0$2a00df0a@maxsoft>
	<002e01c84eea$2eb49700$2a00df0a@maxsoft>
Message-ID: <477E5B8C.3020006@gmail.com>

Massimo Renzi (MaticaSrl) escribi? el 04/01/08 a las 13:55:

> Hi all.
> The problem is on OrdListAdd() function.
> The error occurs cause the index file name start with a space.
> dbSetIndex() have a trim of space and OrdListAdd() no.

Again, this doesn't seem to be the problem. DBSETINDEX() passes the received
parameter *unchanged* to ORDLISTADD(). Please, double check your source code.

Best regards,
Lost

From harbour.01 at syenar.hu  Fri Jan  4 16:31:58 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan  4 16:32:04 2008
Subject: [Harbour] MenuItem
In-Reply-To: <334757.62421.qm@web32807.mail.mud.yahoo.com>
References: <334757.62421.qm@web32807.mail.mud.yahoo.com>
Message-ID: <D8DE97F2-83AB-4838-98B2-0556337B4C02@syenar.hu>

Hi Jose,

Could you post a working example for this problem,
so that I can compare the behavior to C5.3.

Brgds,
Viktor

On 2008.01.04., at 16:30, Jose Miguel wrote:

> Hola/Hello
>
> Cuando presiono un numero en el menu se selecciona siempre el primer  
> item, alguna solucion?
> ---------------------------------
> When I press I number in menu always selects the first item, some  
> solution?
>
> Este el el codigo/this is the code
>
>       // TopBar() creates the menu at the very top of the screen
> oTopBar := TopBar( 2, 0, 79)
> oTopBar:ColorSpec :="b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
>
>       // Create a new popup menu named FILE and add it to the TopBar  
> object
> oPopUpA:= PopUp()
> oPopUpA:ColorSpec:= "b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
> oTopBar:AddItem( MenuItem ( "&Remesas",oPopUpA) )
>
>       // Add some menu items to the newly created File popup
>    oItem :=MenuItem( "&1-Altas/modif. Remesas      " ,{||  
> REMALT()  }, 49,"Altas y modificacion de Remesas", 11)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&2-Consultar Remesas         " ,{||  
> REMCON()  }, 50,"Consulta de Remesas", 12)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&3-Apertura/Cambio Ejercicio " ,{||  
> REMEJE()  }, 51,"Aperturar o cambiar de ejerccio", 13)
>    oPopUpA:AddItem( oItem)
>    oPopUpA:AddItem( MenuItem( MENU_SEPARATOR ) )
>    oItem :=MenuItem( "&4-TERMINAR                  " , 
> {|| .t.      }, 52,"Salir del programa", 999)
>    oPopUpA:AddItem( oItem)
>
>    // Return our TopBar object back to MENU_Test()
>    return ( oTopBar)
>
>
>
>
> Ejemplos y programas para MiniGUI Extended
> http://www.gateos.com/misdoc/programas/programas.html
>
>
>
> Yahoo! Encuentros
> Ahora encontrar pareja es mucho m?s f?cil, prob? el nuevo Yahoo!  
> Encuentros.
> Visit? http://yahoo.cupidovirtual.com/servlet/NewRegistration_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From m.renzi at maticasrl.it  Fri Jan  4 17:14:50 2008
From: m.renzi at maticasrl.it (Massimo Renzi (MaticaSrl))
Date: Fri Jan  4 17:16:30 2008
Subject: [Harbour] OrdListAdd() VS. dbSetIndex() "open error"
In-Reply-To: <477E5B8C.3020006@gmail.com>
References: <AFB948164110ED43B5EB849E8DEEF03815E76E@SRV02.deltain.net><301037972.20080104000656@achilles.wam.lodz.pl>	<000f01c84ede$7dcc5af0$2a00df0a@maxsoft>
	<002e01c84eea$2eb49700$2a00df0a@maxsoft>
	<477E5B8C.3020006@gmail.com>
Message-ID: <000301c84ef5$50997f10$2a00df0a@maxsoft>

Hi Lost,
thank you very much for your reply.
It's true... dbSetIndex() give error too.

But... I've about 800 source files.
In this case xHarbour it's not Clipper compatible.
It's possible trim the value of passed parameter?

Thank you
Max


-----Messaggio originale-----
Da: Lost [mailto:lostmyhearttoher@gmail.com] 
Inviato: venerd? 4 gennaio 2008 17.15
A: m.renzi@maticasrl.it; Harbour Project Main Developer List.
Oggetto: Re: R: [Harbour] OrdListAdd() VS. dbSetIndex() "open error"

Massimo Renzi (MaticaSrl) escribi? el 04/01/08 a las 13:55:

> Hi all.
> The problem is on OrdListAdd() function.
> The error occurs cause the index file name start with a space.
> dbSetIndex() have a trim of space and OrdListAdd() no.

Again, this doesn't seem to be the problem. DBSETINDEX() passes the received
parameter *unchanged* to ORDLISTADD(). Please, double check your source
code.

Best regards,
Lost

No virus found in this incoming message.
Checked by AVG Free Edition. 
Version: 7.5.516 / Virus Database: 269.17.13/1208 - Release Date: 03/01/2008
15.52
 

No virus found in this outgoing message.
Checked by AVG Free Edition. 
Version: 7.5.516 / Virus Database: 269.17.13/1208 - Release Date: 03/01/2008
15.52
 

From lostmyhearttoher at gmail.com  Fri Jan  4 17:41:19 2008
From: lostmyhearttoher at gmail.com (Lost)
Date: Fri Jan  4 17:41:30 2008
Subject: [Harbour] OrdListAdd() VS. dbSetIndex() "open error"
In-Reply-To: <000301c84ef5$50997f10$2a00df0a@maxsoft>
References: <AFB948164110ED43B5EB849E8DEEF03815E76E@SRV02.deltain.net><301037972.20080104000656@achilles.wam.lodz.pl>	<000f01c84ede$7dcc5af0$2a00df0a@maxsoft>	<002e01c84eea$2eb49700$2a00df0a@maxsoft>	<477E5B8C.3020006@gmail.com>
	<000301c84ef5$50997f10$2a00df0a@maxsoft>
Message-ID: <477E6FBF.4020004@gmail.com>

Massimo Renzi (MaticaSrl) escribi? el 04/01/08 a las 15:14:

> Hi Lost,
> thank you very much for your reply.

You're welcome.

> It's true... dbSetIndex() give error too.
> 
> But... I've about 800 source files.
> In this case xHarbour it's not Clipper compatible.
> It's possible trim the value of passed parameter?

Just two things:
1- xHarbour? This is the Harbour (no "x") developers list. Maybe you want to
try some xHarbour-specific forum.
2- Anyway, I don't think that the xHarbour sources are wrong in this case,
either. Have you checked the parameter passed to ORDLISTADD()? How do you
obtain it?

And I don't know about xHarbour, but the Harbour compiler has the "-u" switch
that comes in handy in a situation like this. I'd do as follows:
- Make a copy of std.ch, name it whatever you like (eg. "mystd.ch"). Make sure
the compiler will be able to find this copy!
- Open this copy in your favourite editor.
- Find the "SET INDEX TO" #command and modify it to look like this:

#command SET INDEX TO [<(i1)> [,<(iN)>]] [<add: ADDITIVE>] => ;
         if !<.add.> ; ordListClear() ; end ;
         [ ; ordListAdd( ALLTRIM( <(i1)> ) )] [ ; ordListAdd( ALLTRIM( <(iN)> ) )]

- Save and exit.
- Recompile all the afected sources, adding -umystd.ch to whatever compiler
switches you use.

HTH,
Lost

From harbour.01 at syenar.hu  Fri Jan  4 17:59:34 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan  4 17:59:33 2008
Subject: [Harbour] OrdListAdd() VS. dbSetIndex() "open error"
In-Reply-To: <000301c84ef5$50997f10$2a00df0a@maxsoft>
References: <AFB948164110ED43B5EB849E8DEEF03815E76E@SRV02.deltain.net><301037972.20080104000656@achilles.wam.lodz.pl>	<000f01c84ede$7dcc5af0$2a00df0a@maxsoft>
	<002e01c84eea$2eb49700$2a00df0a@maxsoft>
	<477E5B8C.3020006@gmail.com>
	<000301c84ef5$50997f10$2a00df0a@maxsoft>
Message-ID: <29FE7A6C-2843-4E7B-B0A6-5BE3763CA944@syenar.hu>

Hi Massimo,

Set( _SET_TRIMFILENAME, .T. ) is meant to cure that in Harbour
in a multiplatform way.

Try it, and report your results.

Brgds,
Viktor

On 2008.01.04., at 18:14, Massimo Renzi (MaticaSrl) wrote:

> Hi Lost,
> thank you very much for your reply.
> It's true... dbSetIndex() give error too.
>
> But... I've about 800 source files.
> In this case xHarbour it's not Clipper compatible.
> It's possible trim the value of passed parameter?
>
> Thank you
> Max
>
>
> -----Messaggio originale-----
> Da: Lost [mailto:lostmyhearttoher@gmail.com]
> Inviato: venerd? 4 gennaio 2008 17.15
> A: m.renzi@maticasrl.it; Harbour Project Main Developer List.
> Oggetto: Re: R: [Harbour] OrdListAdd() VS. dbSetIndex() "open error"
>
> Massimo Renzi (MaticaSrl) escribi? el 04/01/08 a las 13:55:
>
>> Hi all.
>> The problem is on OrdListAdd() function.
>> The error occurs cause the index file name start with a space.
>> dbSetIndex() have a trim of space and OrdListAdd() no.
>
> Again, this doesn't seem to be the problem. DBSETINDEX() passes the  
> received
> parameter *unchanged* to ORDLISTADD(). Please, double check your  
> source
> code.
>
> Best regards,
> Lost
>
> No virus found in this incoming message.
> Checked by AVG Free Edition.
> Version: 7.5.516 / Virus Database: 269.17.13/1208 - Release Date:  
> 03/01/2008
> 15.52
>
>
> No virus found in this outgoing message.
> Checked by AVG Free Edition.
> Version: 7.5.516 / Virus Database: 269.17.13/1208 - Release Date:  
> 03/01/2008
> 15.52
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From m.renzi at maticasrl.it  Fri Jan  4 18:04:57 2008
From: m.renzi at maticasrl.it (Massimo Renzi (MaticaSrl))
Date: Fri Jan  4 18:06:28 2008
Subject: R: [Harbour] OrdListAdd() VS. dbSetIndex() "open error"
In-Reply-To: <29FE7A6C-2843-4E7B-B0A6-5BE3763CA944@syenar.hu>
References: <AFB948164110ED43B5EB849E8DEEF03815E76E@SRV02.deltain.net><301037972.20080104000656@achilles.wam.lodz.pl>	<000f01c84ede$7dcc5af0$2a00df0a@maxsoft>
	<002e01c84eea$2eb49700$2a00df0a@maxsoft>
	<477E5B8C.3020006@gmail.com>
	<000301c84ef5$50997f10$2a00df0a@maxsoft>
	<29FE7A6C-2843-4E7B-B0A6-5BE3763CA944@syenar.hu>
Message-ID: <000801c84efc$50f9ea60$2a00df0a@maxsoft>

Well !
It works well
Thank you very very much.

Bye
Max
 

-----Messaggio originale-----
Da: Szak?ts Viktor [mailto:harbour.01@syenar.hu] 
Inviato: venerd? 4 gennaio 2008 19.00
A: m.renzi@maticasrl.it; Harbour Project Main Developer List.
Oggetto: Re: [Harbour] OrdListAdd() VS. dbSetIndex() "open error"

Hi Massimo,

Set( _SET_TRIMFILENAME, .T. ) is meant to cure that in Harbour
in a multiplatform way.

Try it, and report your results.

Brgds,
Viktor

On 2008.01.04., at 18:14, Massimo Renzi (MaticaSrl) wrote:

> Hi Lost,
> thank you very much for your reply.
> It's true... dbSetIndex() give error too.
>
> But... I've about 800 source files.
> In this case xHarbour it's not Clipper compatible.
> It's possible trim the value of passed parameter?
>
> Thank you
> Max
>
>
> -----Messaggio originale-----
> Da: Lost [mailto:lostmyhearttoher@gmail.com]
> Inviato: venerd? 4 gennaio 2008 17.15
> A: m.renzi@maticasrl.it; Harbour Project Main Developer List.
> Oggetto: Re: R: [Harbour] OrdListAdd() VS. dbSetIndex() "open error"
>
> Massimo Renzi (MaticaSrl) escribi? el 04/01/08 a las 13:55:
>
>> Hi all.
>> The problem is on OrdListAdd() function.
>> The error occurs cause the index file name start with a space.
>> dbSetIndex() have a trim of space and OrdListAdd() no.
>
> Again, this doesn't seem to be the problem. DBSETINDEX() passes the  
> received
> parameter *unchanged* to ORDLISTADD(). Please, double check your  
> source
> code.
>
> Best regards,
> Lost
>
> No virus found in this incoming message.
> Checked by AVG Free Edition.
> Version: 7.5.516 / Virus Database: 269.17.13/1208 - Release Date:  
> 03/01/2008
> 15.52
>
>
> No virus found in this outgoing message.
> Checked by AVG Free Edition.
> Version: 7.5.516 / Virus Database: 269.17.13/1208 - Release Date:  
> 03/01/2008
> 15.52
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

No virus found in this incoming message.
Checked by AVG Free Edition. 
Version: 7.5.516 / Virus Database: 269.17.13/1208 - Release Date: 03/01/2008
15.52
 

No virus found in this outgoing message.
Checked by AVG Free Edition. 
Version: 7.5.516 / Virus Database: 269.17.13/1208 - Release Date: 03/01/2008
15.52
 

From josemisu at yahoo.com.ar  Fri Jan  4 21:34:03 2008
From: josemisu at yahoo.com.ar (Jose Miguel)
Date: Fri Jan  4 21:34:08 2008
Subject: [Harbour] MenuItem
In-Reply-To: <D8DE97F2-83AB-4838-98B2-0556337B4C02@syenar.hu>
Message-ID: <505922.26996.qm@web32815.mail.mud.yahoo.com>

Skipped content of type multipart/alternative-------------- next part --------------
A non-text attachment was scrubbed...
Name: menu.prg
Type: application/octet-stream
Size: 6855 bytes
Desc: 1227121954-menu.prg
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080104/59aa29fb/menu-0001.obj
From harbour.01 at syenar.hu  Sat Jan  5 00:10:27 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jan  5 00:10:59 2008
Subject: [Harbour] CHANGELOG: 2008-01-05 01:07 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c84f2f$Blat.v2.6.2$605ca280$d741e289614@127.0.0.1>

2008-01-05 01:07 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * source/rtl/tpopup.prg
     ! Fixed typo in POPUPMENU():getAccel(), causing wrong 
       position being returned. Reported by Jose Miguel.

   * source/rtl/ttopbar.prg
     ! Changed HB_C52_STRICT guards to HB_EXTENSION.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jan  5 00:11:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jan  5 00:12:03 2008
Subject: [Harbour] MenuItem
In-Reply-To: <505922.26996.qm@web32815.mail.mud.yahoo.com>
References: <505922.26996.qm@web32815.mail.mud.yahoo.com>
Message-ID: <857F1C4C-5A7E-437F-8A64-C711AD101AE8@syenar.hu>

Thank you. Please try with lastest repository.

Brgds,
Viktor

On 2008.01.04., at 22:34, Jose Miguel wrote:

> hola adjunto envio el fichero del menu, selecciona "3-Apertura/ 
> Cambio Ejercicio" pulsando el numero 3 y comprobaras que se  
> selecciona la opcion 1, gracias
> --------------------
> hello attached envio the file of menu, selects "3-Apertura/Cambio  
> Ejercicio" pressing I number 3 and you verified that option 1 is  
> selected, thanks
>
> Saludos
> Jose Miguel
>
> Szak?ts Viktor <harbour.01@syenar.hu> escribi?: Hi Jose,
>
> Could you post a working example for this problem,
> so that I can compare the behavior to C5.3.
>
> Brgds,
> Viktor
>
> On 2008.01.04., at 16:30, Jose Miguel wrote:
>
> > Hola/Hello
> >
> > Cuando presiono un numero en el menu se selecciona siempre el primer
> > item, alguna solucion?
> > ---------------------------------
> > When I press I number in menu always selects the first item, some
> > solution?
> >
> > Este el el codigo/this is the code
> >
> /***
> *
> *  Menu.prg
> *
> *  Sample menu handling functions
> *
> *  Copyright (c) 1990-1995, Computer Associates International Inc.
> *  All rights reserved.
> *
> *  This is not meant to run as a standalone file.  There are function
> *  calls from within this file (such as MyCreateFile()) that do not
> *  exist.  This code can be modified, however, for your use.  If it
> *  is modified, use the /n switch when compiling.
> *
> *  Compile: CLIPPER menu /n
> *  Link: EXOSPACE FI menu
> *
> ***/
>
>    #include "button.ch"   // Menu definitions
>    #include "inkey.ch"    // Key definitions
>
>
> // This function sets up the environment and then calls  
> MENU_Create() to
> // create the menu.  Finally, it waits for a menu event to occur by  
> calling
> // the MenuModal() function.
>
> PROCEDURE MAIN()
>
>    local oInfo
>
>    // Allow mouse actions to take place
>    SET( _SET_EVENTMASK, INKEY_ALL )
>
>    // Make the mouse cursor visible
>    msetcursor(.T.)
>
>    // Clear the screen
>    cls
>
>    // Create the menu
>    oInfo=MENU_Create()
>
>    // Wait for a menu event and do not exit until File/Exit is chosen
>    MENUSELA:=0
>    MENUSEL1:=1
>    MENUSEL2:=1
>    MENUSEL3:=1
>    KEYBOAR CHR(13)
>    DO WHILE .T.
>       cls
>       SET CONSOLE ON
>       CLOSE DATABASES
>       MENUSELA:=MenuModal(oInfo,MENUSEL1,24,1,79,"r/w")
>       IF MENUSELA=999
>          EXIT
>       ENDIF
>       MENUSEL1:=VAL(SUBSTR(LTRIM(STR(MENUSELA)),1,1))
>       MENUSEL2:=VAL(SUBSTR(LTRIM(STR(MENUSELA)),2,1))
>       MENUSEL3:=VAL(SUBSTR(LTRIM(STR(MENUSELA)),3,1))
>       TECLA2:="CHR(13)"
>       IF MENUSEL2<>0
>          FOR N=2 TO MENUSEL2
>             TECLA2:=TECLA2+"+CHR(24)"
>          NEXT
>       ENDIF
>       IF MENUSEL3<>0
>          TECLA2:=TECLA2+"+CHR(13)"
>          FOR N=2 TO MENUSEL3
>             TECLA2:=TECLA2+"+CHR(24)"
>          NEXT
>       ENDIF
>       IF LEN(TECLA2)>0
>          KEYBOARD &TECLA2
>       ENDIF
>    ENDDO
> SET CONSOLE OFF
>
>    return
>
>
>
> // This function will create the menu and return the newly created
> // MenuObject as its return value.  This menu consists of three  
> "Main Menu choices" ..
> // File, Edit, and Options.  Additionally, the Edit TopBarMenu item  
> has a secondary menu for
> // one of its menu items.
>
> function MENU_Create()
>    local oTopBar, oPopUp, oPopUpB, oItem
>
>
>       // TopBar() creates the menu at the very top of the screen
> oTopBar := TopBar( 2, 0, 79)
> oTopBar:ColorSpec :="b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
>
>       // Create a new popup menu named FILE and add it to the TopBar  
> object
> oPopUpA:= PopUp()
> oPopUpA:ColorSpec:= "b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
> oTopBar:AddItem( MenuItem ( "&Remesas",oPopUpA) )
>
>       // Add some menu items to the newly created File popup
>    oItem :=MenuItem( "&1-Altas/modif. Remesas      " ,{||  
> MENU2(11)  }, 49,"Altas y modificacion de Remesas", 11)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&2-Consultar Remesas         " ,{||  
> MENU2(12)  }, 50,"Consulta de Remesas", 12)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&3-Apertura/Cambio Ejercicio " ,{||  
> MENU2(13)  }, 51,"Aperturar o cambiar de ejerccio", 13)
>    oPopUpA:AddItem( oItem)
>    oPopUpA:AddItem( MenuItem( MENU_SEPARATOR ) )
>    oItem :=MenuItem( "&4-TERMINAR                  " , 
> {|| .t.      }, 52,"Salir del programa", 999)
>    oPopUpA:AddItem( oItem)
>
>       // Create a second popup menu named EDIT and attach it to  
> oTopBar
> oPopUpA:= PopUp()
> oPopUpA:ColorSpec:= "b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
> oTopBar:AddItem( MenuItem ( "&Listados",oPopUpA) )
>
>
>       // Add some menu items to this EDIT popup menu
>    oItem :=MenuItem( "&1-Listado Remesas por Fecha     " ,{||  
> MENU2(21)}, 49,"Listado Remesas por Fecha", 21)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&2-Listado Remesas por Cliente   " ,{||  
> MENU2(22)}, 50,"Listado Remesas por Cliente", 22)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&3-Imprimir Remesa Standard      " ,{||  
> MENU2(23)}, 51,"Imprimir remesas en formato standard", 23)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&4-Imprimir Remesa Fto.Personal. " ,{||  
> MENU2(24)}, 52,"Imprimir remesas en formato personal", 24)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&5-Grabar Remesa Fichero normas  " ,{||  
> MENU2(25)}, 53,"Imprimir remesas en fichero de normas N19, N32, N58,  
> N34", 25)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&6-Contabilizar Remesas          " ,{||  
> MENU2(26)}, 54,"Contabilizar remesas en programa -SUIZO  
> Contabildad-", 26)
>    oPopUpA:AddItem( oItem)
>
>       //Create a 3rd PopUpMenu called OPTIONS and attatch it to  
> oTopBar
> oPopUpA:= PopUp()
> oPopUpA:ColorSpec:= "b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
> oTopBar:AddItem( MenuItem ( "&Ficheros",oPopUpA) )
>
>       // Add some menu items to the newly created File popup
>    oItem :=MenuItem( "&1-Altas/modif.Formatos Remesas  " ,{||  
> MENU2(31) }, 49,"Altas o modificacion de formatos de remesas", 31)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&2-Altas/Modif.Subcuentas        " ,{||  
> MENU2(32)  }, 50,"Altas/Modif.Subcuentas", 32)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&3-Consulta de Subcuentas        " ,{||  
> MENU2(33)  }, 51,"Consulta de Subcuentas", 33)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&4-Actualizar Subcuentas         " ,{||  
> MENU2(34)  }, 52,"Actualizar Subcuentas", 34)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&5-Altas/Modif.Bancos            " ,{||  
> MENU2(35)  }, 53,"Altas/Modif.Bancos", 35)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&6-Consultar Bancos              " ,{||  
> MENU2(36)  }, 54,"Consultar Bancos", 36)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&7-Enlazar Empresas              " ,{||  
> MENU2(37)  }, 55,"Enlazar Empresas", 37)
>    oPopUpA:AddItem( oItem)
>
>       //Create a 4rd PopUpMenu called OPTIONS and attatch it to  
> oTopBar
> oPopUpA:= PopUp()
> oPopUpA:ColorSpec:= "b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
> oTopBar:AddItem( MenuItem ( "&Utilidad",oPopUpA) )
>
>       // Add some menu items to the newly created File popup
>    oItem :=MenuItem( "&1-Modificar Datos de Impresion" ,{||  
> MENU2(41)   }, 49,"Modificar datos de impresion", 41)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&2-Regenerar Ficheros          " ,{||  
> MENU2(42) }, 50,"Regenerar ficheros", 42)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&3-Actualizar Version          " ,{||  
> MENU2(43) }, 51,"Actualizar Version", 43)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&4-Datos Programa              " ,{||  
> MENU2(44)  }, 52,"Datos Programa", 44)
>    oPopUpA:AddItem( oItem)
>
>    // Return our TopBar object back to MENU_Test()
>    return ( oTopBar)
>
>
> // The following are dummy functions which do not do anything
> // These functions are here to avoid receiving Unresolved External
> // Errors
>
> RETURN
>
>
> STATIC FUNCTION MENU2(CODMENU)
>
> CLEAR SCREEN
> @ 10,10 SAY "PULSADA LA OPCION "+LTRIM(STR(CODMENU))
> INKEY(0)
>
>
>
>
>
> Ejemplos y programas para MiniGUI Extended
> http://www.gateos.com/misdoc/programas/programas.html
>
>
>
> Tarjeta de cr?dito Yahoo! de Banco Supervielle. Solicit? tu nueva  
> Tarjeta de cr?dito. De tu PC directo a tu casa.
> Visit?  
> www 
> .tuprimeratarjeta 
> .com.ar<menu.prg>_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From josemisu at yahoo.com.ar  Sat Jan  5 10:48:09 2008
From: josemisu at yahoo.com.ar (Jose Miguel)
Date: Sat Jan  5 10:48:14 2008
Subject: [Harbour] MenuItem
In-Reply-To: <857F1C4C-5A7E-437F-8A64-C711AD101AE8@syenar.hu>
Message-ID: <555756.17328.qm@web32808.mail.mud.yahoo.com>

Hello

I have proven it with Harbour Compiler Devel build (SVN 2007-12-20 15:00), that is harbour of Minigui Ext.
Not like obtaining a recent version but
Saludos
Jose Miguel

Szak?ts Viktor <harbour.01@syenar.hu> escribi?: Thank you. Please try with lastest repository.

Brgds,
Viktor

On 2008.01.04., at 22:34, Jose Miguel wrote:

> hola adjunto envio el fichero del menu, selecciona "3-Apertura/ 
> Cambio Ejercicio" pulsando el numero 3 y comprobaras que se  
> selecciona la opcion 1, gracias
> --------------------
> hello attached envio the file of menu, selects "3-Apertura/Cambio  
> Ejercicio" pressing I number 3 and you verified that option 1 is  
> selected, thanks
>
> Saludos
> Jose Miguel
>
> Szak?ts Viktor  escribi?: Hi Jose,
>
> Could you post a working example for this problem,
> so that I can compare the behavior to C5.3.
>
> Brgds,
> Viktor
>
> On 2008.01.04., at 16:30, Jose Miguel wrote:
>
> > Hola/Hello
> >
> > Cuando presiono un numero en el menu se selecciona siempre el primer
> > item, alguna solucion?
> > ---------------------------------
> > When I press I number in menu always selects the first item, some
> > solution?
> >
> > Este el el codigo/this is the code
> >
> /***
> *
> *  Menu.prg
> *
> *  Sample menu handling functions
> *
> *  Copyright (c) 1990-1995, Computer Associates International Inc.
> *  All rights reserved.
> *
> *  This is not meant to run as a standalone file.  There are function
> *  calls from within this file (such as MyCreateFile()) that do not
> *  exist.  This code can be modified, however, for your use.  If it
> *  is modified, use the /n switch when compiling.
> *
> *  Compile: CLIPPER menu /n
> *  Link: EXOSPACE FI menu
> *
> ***/
>
>    #include "button.ch"   // Menu definitions
>    #include "inkey.ch"    // Key definitions
>
>
> // This function sets up the environment and then calls  
> MENU_Create() to
> // create the menu.  Finally, it waits for a menu event to occur by  
> calling
> // the MenuModal() function.
>
> PROCEDURE MAIN()
>
>    local oInfo
>
>    // Allow mouse actions to take place
>    SET( _SET_EVENTMASK, INKEY_ALL )
>
>    // Make the mouse cursor visible
>    msetcursor(.T.)
>
>    // Clear the screen
>    cls
>
>    // Create the menu
>    oInfo=MENU_Create()
>
>    // Wait for a menu event and do not exit until File/Exit is chosen
>    MENUSELA:=0
>    MENUSEL1:=1
>    MENUSEL2:=1
>    MENUSEL3:=1
>    KEYBOAR CHR(13)
>    DO WHILE .T.
>       cls
>       SET CONSOLE ON
>       CLOSE DATABASES
>       MENUSELA:=MenuModal(oInfo,MENUSEL1,24,1,79,"r/w")
>       IF MENUSELA=999
>          EXIT
>       ENDIF
>       MENUSEL1:=VAL(SUBSTR(LTRIM(STR(MENUSELA)),1,1))
>       MENUSEL2:=VAL(SUBSTR(LTRIM(STR(MENUSELA)),2,1))
>       MENUSEL3:=VAL(SUBSTR(LTRIM(STR(MENUSELA)),3,1))
>       TECLA2:="CHR(13)"
>       IF MENUSEL2<>0
>          FOR N=2 TO MENUSEL2
>             TECLA2:=TECLA2+"+CHR(24)"
>          NEXT
>       ENDIF
>       IF MENUSEL3<>0
>          TECLA2:=TECLA2+"+CHR(13)"
>          FOR N=2 TO MENUSEL3
>             TECLA2:=TECLA2+"+CHR(24)"
>          NEXT
>       ENDIF
>       IF LEN(TECLA2)>0
>          KEYBOARD &TECLA2
>       ENDIF
>    ENDDO
> SET CONSOLE OFF
>
>    return
>
>
>
> // This function will create the menu and return the newly created
> // MenuObject as its return value.  This menu consists of three  
> "Main Menu choices" ..
> // File, Edit, and Options.  Additionally, the Edit TopBarMenu item  
> has a secondary menu for
> // one of its menu items.
>
> function MENU_Create()
>    local oTopBar, oPopUp, oPopUpB, oItem
>
>
>       // TopBar() creates the menu at the very top of the screen
> oTopBar := TopBar( 2, 0, 79)
> oTopBar:ColorSpec :="b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
>
>       // Create a new popup menu named FILE and add it to the TopBar  
> object
> oPopUpA:= PopUp()
> oPopUpA:ColorSpec:= "b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
> oTopBar:AddItem( MenuItem ( "&Remesas",oPopUpA) )
>
>       // Add some menu items to the newly created File popup
>    oItem :=MenuItem( "&1-Altas/modif. Remesas      " ,{||  
> MENU2(11)  }, 49,"Altas y modificacion de Remesas", 11)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&2-Consultar Remesas         " ,{||  
> MENU2(12)  }, 50,"Consulta de Remesas", 12)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&3-Apertura/Cambio Ejercicio " ,{||  
> MENU2(13)  }, 51,"Aperturar o cambiar de ejerccio", 13)
>    oPopUpA:AddItem( oItem)
>    oPopUpA:AddItem( MenuItem( MENU_SEPARATOR ) )
>    oItem :=MenuItem( "&4-TERMINAR                  " , 
> {|| .t.      }, 52,"Salir del programa", 999)
>    oPopUpA:AddItem( oItem)
>
>       // Create a second popup menu named EDIT and attach it to  
> oTopBar
> oPopUpA:= PopUp()
> oPopUpA:ColorSpec:= "b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
> oTopBar:AddItem( MenuItem ( "&Listados",oPopUpA) )
>
>
>       // Add some menu items to this EDIT popup menu
>    oItem :=MenuItem( "&1-Listado Remesas por Fecha     " ,{||  
> MENU2(21)}, 49,"Listado Remesas por Fecha", 21)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&2-Listado Remesas por Cliente   " ,{||  
> MENU2(22)}, 50,"Listado Remesas por Cliente", 22)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&3-Imprimir Remesa Standard      " ,{||  
> MENU2(23)}, 51,"Imprimir remesas en formato standard", 23)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&4-Imprimir Remesa Fto.Personal. " ,{||  
> MENU2(24)}, 52,"Imprimir remesas en formato personal", 24)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&5-Grabar Remesa Fichero normas  " ,{||  
> MENU2(25)}, 53,"Imprimir remesas en fichero de normas N19, N32, N58,  
> N34", 25)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&6-Contabilizar Remesas          " ,{||  
> MENU2(26)}, 54,"Contabilizar remesas en programa -SUIZO  
> Contabildad-", 26)
>    oPopUpA:AddItem( oItem)
>
>       //Create a 3rd PopUpMenu called OPTIONS and attatch it to  
> oTopBar
> oPopUpA:= PopUp()
> oPopUpA:ColorSpec:= "b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
> oTopBar:AddItem( MenuItem ( "&Ficheros",oPopUpA) )
>
>       // Add some menu items to the newly created File popup
>    oItem :=MenuItem( "&1-Altas/modif.Formatos Remesas  " ,{||  
> MENU2(31) }, 49,"Altas o modificacion de formatos de remesas", 31)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&2-Altas/Modif.Subcuentas        " ,{||  
> MENU2(32)  }, 50,"Altas/Modif.Subcuentas", 32)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&3-Consulta de Subcuentas        " ,{||  
> MENU2(33)  }, 51,"Consulta de Subcuentas", 33)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&4-Actualizar Subcuentas         " ,{||  
> MENU2(34)  }, 52,"Actualizar Subcuentas", 34)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&5-Altas/Modif.Bancos            " ,{||  
> MENU2(35)  }, 53,"Altas/Modif.Bancos", 35)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&6-Consultar Bancos              " ,{||  
> MENU2(36)  }, 54,"Consultar Bancos", 36)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&7-Enlazar Empresas              " ,{||  
> MENU2(37)  }, 55,"Enlazar Empresas", 37)
>    oPopUpA:AddItem( oItem)
>
>       //Create a 4rd PopUpMenu called OPTIONS and attatch it to  
> oTopBar
> oPopUpA:= PopUp()
> oPopUpA:ColorSpec:= "b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
> oTopBar:AddItem( MenuItem ( "&Utilidad",oPopUpA) )
>
>       // Add some menu items to the newly created File popup
>    oItem :=MenuItem( "&1-Modificar Datos de Impresion" ,{||  
> MENU2(41)   }, 49,"Modificar datos de impresion", 41)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&2-Regenerar Ficheros          " ,{||  
> MENU2(42) }, 50,"Regenerar ficheros", 42)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&3-Actualizar Version          " ,{||  
> MENU2(43) }, 51,"Actualizar Version", 43)
>    oPopUpA:AddItem( oItem)
>    oItem :=MenuItem( "&4-Datos Programa              " ,{||  
> MENU2(44)  }, 52,"Datos Programa", 44)
>    oPopUpA:AddItem( oItem)
>
>    // Return our TopBar object back to MENU_Test()
>    return ( oTopBar)
>
>
> // The following are dummy functions which do not do anything
> // These functions are here to avoid receiving Unresolved External
> // Errors
>
> RETURN
>
>
> STATIC FUNCTION MENU2(CODMENU)
>
> CLEAR SCREEN
> @ 10,10 SAY "PULSADA LA OPCION "+LTRIM(STR(CODMENU))
> INKEY(0)
>
>
>
>
>
> Ejemplos y programas para MiniGUI Extended
> http://www.gateos.com/misdoc/programas/programas.html
>
>
>
> Tarjeta de cr?dito Yahoo! de Banco Supervielle. Solicit? tu nueva  
> Tarjeta de cr?dito. De tu PC directo a tu casa.
> Visit?  
> www 
> .tuprimeratarjeta 
> .com.ar_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour




Ejemplos y programas para MiniGUI Extended 
http://www.gateos.com/misdoc/programas/programas.html


       
---------------------------------

Tarjeta de cr?dito Yahoo! de Banco Supervielle.Solicit? tu nueva Tarjeta de cr?dito. De tu PC directo a tu casa. 
 Visit? www.tuprimeratarjeta.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080105/18a18ff0/attachment-0001.html
From harbour.01 at syenar.hu  Sat Jan  5 11:24:43 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jan  5 11:24:43 2008
Subject: [Harbour] MenuItem
In-Reply-To: <555756.17328.qm@web32808.mail.mud.yahoo.com>
References: <555756.17328.qm@web32808.mail.mud.yahoo.com>
Message-ID: <E1F53120-925A-4DA8-B329-7CA3F122F13E@syenar.hu>

Hi, I've fixed this problem yesterday (see the Changelog
sent just before my previous reply), so pls retry with
the latest SVN, to see if it fixes the problem.

Brgds,
Viktor

On 2008.01.05., at 11:48, Jose Miguel wrote:

> Hello
>
> I have proven it with Harbour Compiler Devel build (SVN 2007-12-20  
> 15:00), that is harbour of Minigui Ext.
> Not like obtaining a recent version but
> Saludos
> Jose Miguel
>
> Szak?ts Viktor <harbour.01@syenar.hu> escribi?: Thank you. Please  
> try with lastest repository.
>
> Brgds,
> Viktor
>
> On 2008.01.04., at 22:34, Jose Miguel wrote:
>
> > hola adjunto envio el fichero del menu, selecciona "3-Apertura/
> > Cambio Ejercicio" pulsando el numero 3 y comprobaras que se
> > selecciona la opcion 1, gracias
> > --------------------
> > hello attached envio the file of menu, selects "3-Apertura/Cambio
> > Ejercicio" pressing I number 3 and you verified that option 1 is
> > selected, thanks
> >
> > Saludos
> > Jose Miguel
> >
> > Szak?ts Viktor escribi?: Hi Jose,
> >
> > Could you post a working example for this problem,
> > so that I can compare the behavior to C5.3.
> >
> > Brgds,
> > Viktor
> >
> > On 2008.01.04., at 16:30, Jose Miguel wrote:
> >
> > > Hola/Hello
> > >
> > > Cuando presiono un numero en el menu se selecciona siempre el  
> primer
> > > item, alguna solucion?
> > > ---------------------------------
> > > When I press I number in menu always selects the first item, some
> > > solution?
> > >
> > > Este el el codigo/this is the code
> > >
> > /***
> > *
> > * Menu.prg
> > *
> > * Sample menu handling functions
> > *
> > * Copyright (c) 1990-1995, Computer Associates International Inc.
> > * All rights reserved.
> > *
> > * This is not meant to run as a standalone file. There are function
> > * calls from within this file (such as MyCreateFile()) that do not
> > * exist. This code can be modified, however, for your use. If it
> > * is modified, use the /n switch when compiling.
> > *
> > * Compile: CLIPPER menu /n
> > * Link: EXOSPACE FI menu
> > *
> > ***/
> >
> > #include "button.ch" // Menu definitions
> > #include "inkey.ch" // Key definitions
> >
> >
> > // This function sets up the environment and then calls
> > MENU_Create() to
> > // create the menu. Finally, it waits for a menu event to occur by
> > calling
> > // the MenuModal() function.
> >
> > PROCEDURE MAIN()
> >
> > local oInfo
> >
> > // Allow mouse actions to take place
> > SET( _SET_EVENTMASK, INKEY_ALL )
> >
> > // Make the mouse cursor visible
> > msetcursor(.T.)
> >
> > // Clear the screen
> > cls
> >
> > // Create the menu
> > oInfo=MENU_Create()
> >
> > // Wait for a menu event and do not exit until File/Exit is chosen
> > MENUSELA:=0
> > MENUSEL1:=1
> > MENUSEL2:=1
> > MENUSEL3:=1
> > KEYBOAR CHR(13)
> > DO WHILE .T.
> > cls
> > SET CONSOLE ON
> > CLOSE DATABASES
> > MENUSELA:=MenuModal(oInfo,MENUSEL1,24,1,79,"r/w")
> > IF MENUSELA=999
> > EXIT
> > ENDIF
> > MENUSEL1:=VAL(SUBSTR(LTRIM(STR(MENUSELA)),1,1))
> > MENUSEL2:=VAL(SUBSTR(LTRIM(STR(MENUSELA)),2,1))
> > MENUSEL3:=VAL(SUBSTR(LTRIM(STR(MENUSELA)),3,1))
> > TECLA2:="CHR(13)"
> > IF MENUSEL2<>0
> > FOR N=2 TO MENUSEL2
> > TECLA2:=TECLA2+"+CHR(24)"
> > NEXT
> > ENDIF
> > IF MENUSEL3<>0
> > TECLA2:=TECLA2+"+CHR(13)"
> > FOR N=2 TO MENUSEL3
> > TECLA2:=TECLA2+"+CHR(24)"
> > NEXT
> > ENDIF
> > IF LEN(TECLA2)>0
> > KEYBOARD &TECLA2
> > ENDIF
> > ENDDO
> > SET CONSOLE OFF
> >
> > return
> >
> >
> >
> > // This function will create the menu and return the newly created
> > // MenuObject as its return value. This menu consists of three
> > "Main Menu choices" ..
> > // File, Edit, and Options. Additionally, the Edit TopBarMenu item
> > has a secondary menu for
> > // one of its menu items.
> >
> > function MENU_Create()
> > local oTopBar, oPopUp, oPopUpB, oItem
> >
> >
> > // TopBar() creates the menu at the very top of the screen
> > oTopBar := TopBar( 2, 0, 79)
> > oTopBar:ColorSpec :="b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
> >
> > // Create a new popup menu named FILE and add it to the TopBar
> > object
> > oPopUpA:= PopUp()
> > oPopUpA:ColorSpec:= "b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
> > oTopBar:AddItem( MenuItem ( "&Remesas",oPopUpA) )
> >
> > // Add some menu items to the newly created File popup
> > oItem :=MenuItem( "&1-Altas/modif. Remesas " ,{||
> > MENU2(11) }, 49,"Altas y modificacion de Remesas", 11)
> > oPopUpA:AddItem( oItem)
> > oItem :=MenuItem( "&2-Consultar Remesas " ,{||
> > MENU2(12) }, 50,"Consulta de Remesas", 12)
> > oPopUpA:AddItem( oItem)
> > oItem :=MenuItem( "&3-Apertura/Cambio Ejercicio " ,{||
> > MENU2(13) }, 51,"Aperturar o cambiar de ejerccio", 13)
> > oPopUpA:AddItem( oItem)
> > oPopUpA:AddItem( MenuItem( MENU_SEPARATOR ) )
> > oItem :=MenuItem( "&4-TERMINAR " ,
> > {|| .t. }, 52,"Salir del programa", 999)
> > oPopUpA:AddItem( oItem)
> >
> > // Create a second popup menu named EDIT and attach it to
> > oTopBar
> > oPopUpA:= PopUp()
> > oPopUpA:ColorSpec:= "b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
> > oTopBar:AddItem( MenuItem ( "&Listados",oPopUpA) )
> >
> >
> > // Add some menu items to this EDIT popup menu
> > oItem :=MenuItem( "&1-Listado Remesas por Fecha " ,{||
> > MENU2(21)}, 49,"Listado Remesas por Fecha", 21)
> > oPopUpA:AddItem( oItem)
> > oItem :=MenuItem( "&2-Listado Remesas por Cliente " ,{||
> > MENU2(22)}, 50,"Listado Remesas por Cliente", 22)
> > oPopUpA:AddItem( oItem)
> > oItem :=MenuItem( "&3-Imprimir Remesa Standard " ,{||
> > MENU2(23)}, 51,"Imprimir remesas en formato standard", 23)
> > oPopUpA:AddItem( oItem)
> > oItem :=MenuItem( "&4-Imprimir Remesa Fto.Personal. " ,{||
> > MENU2(24)}, 52,"Imprimir remesas en formato personal", 24)
> > oPopUpA:AddItem( oItem)
> > oItem :=MenuItem( "&5-Grabar Remesa Fichero normas " ,{||
> > MENU2(25)}, 53,"Imprimir remesas en fichero de normas N19, N32, N58,
> > N34", 25)
> > oPopUpA:AddItem( oItem)
> > oItem :=MenuItem( "&6-Contabilizar Remesas " ,{||
> > MENU2(26)}, 54,"Contabilizar remesas en programa -SUIZO
> > Contabildad-", 26)
> > oPopUpA:AddItem( oItem)
> >
> > //Create a 3rd PopUpMenu called OPTIONS and attatch it to
> > oTopBar
> > oPopUpA:= PopUp()
> > oPopUpA:ColorSpec:= "b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
> > oTopBar:AddItem( MenuItem ( "&Ficheros",oPopUpA) )
> >
> > // Add some menu items to the newly created File popup
> > oItem :=MenuItem( "&1-Altas/modif.Formatos Remesas " ,{||
> > MENU2(31) }, 49,"Altas o modificacion de formatos de remesas", 31)
> > oPopUpA:AddItem( oItem)
> > oItem :=MenuItem( "&2-Altas/Modif.Subcuentas " ,{||
> > MENU2(32) }, 50,"Altas/Modif.Subcuentas", 32)
> > oPopUpA:AddItem( oItem)
> > oItem :=MenuItem( "&3-Consulta de Subcuentas " ,{||
> > MENU2(33) }, 51,"Consulta de Subcuentas", 33)
> > oPopUpA:AddItem( oItem)
> > oItem :=MenuItem( "&4-Actualizar Subcuentas " ,{||
> > MENU2(34) }, 52,"Actualizar Subcuentas", 34)
> > oPopUpA:AddItem( oItem)
> > oItem :=MenuItem( "&5-Altas/Modif.Bancos " ,{||
> > MENU2(35) }, 53,"Altas/Modif.Bancos", 35)
> > oPopUpA:AddItem( oItem)
> > oItem :=MenuItem( "&6-Consultar Bancos " ,{||
> > MENU2(36) }, 54,"Consultar Bancos", 36)
> > oPopUpA:AddItem( oItem)
> > oItem :=MenuItem( "&7-Enlazar Empresas " ,{||
> > MENU2(37) }, 55,"Enlazar Empresas", 37)
> > oPopUpA:AddItem( oItem)
> >
> > //Create a 4rd PopUpMenu called OPTIONS and attatch it to
> > oTopBar
> > oPopUpA:= PopUp()
> > oPopUpA:ColorSpec:= "b/w,gr+/rb,r/w,w+/rb,n+/w,w+/b"
> > oTopBar:AddItem( MenuItem ( "&Utilidad",oPopUpA) )
> >
> > // Add some menu items to the newly created File popup
> > oItem :=MenuItem( "&1-Modificar Datos de Impresion" ,{||
> > MENU2(41) }, 49,"Modificar datos de impresion", 41)
> > oPopUpA:AddItem( oItem)
> > oItem :=MenuItem( "&2-Regenerar Ficheros " ,{||
> > MENU2(42) }, 50,"Regenerar ficheros", 42)
> > oPopUpA:AddItem( oItem)
> > oItem :=MenuItem( "&3-Actualizar Version " ,{||
> > MENU2(43) }, 51,"Actualizar Version", 43)
> > oPopUpA:AddItem( oItem)
> > oItem :=MenuItem( "&4-Datos Programa " ,{||
> > MENU2(44) }, 52,"Datos Programa", 44)
> > oPopUpA:AddItem( oItem)
> >
> > // Return our TopBar object back to MENU_Test()
> > return ( oTopBar)
> >
> >
> > // The following are dummy functions which do not do anything
> > // These functions are here to avoid receiving Unresolved External
> > // Errors
> >
> > RETURN
> >
> >
> > STATIC FUNCTION MENU2(CODMENU)
> >
> > CLEAR SCREEN
> > @ 10,10 SAY "PULSADA LA OPCION "+LTRIM(STR(CODMENU))
> > INKEY(0)
> >
> >
> >
> >
> >
> > Ejemplos y programas para MiniGUI Extended
> > http://www.gateos.com/misdoc/programas/programas.html
> >
> >
> >
> > Tarjeta de cr?dito Yahoo! de Banco Supervielle. Solicit? tu nueva
> > Tarjeta de cr?dito. De tu PC directo a tu casa.
> > Visit?
> > www
> > .tuprimeratarjeta
> > .com.ar_______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
>
> Ejemplos y programas para MiniGUI Extended
> http://www.gateos.com/misdoc/programas/programas.html
>
>
>
> Tarjeta de cr?dito Yahoo! de Banco Supervielle. Solicit? tu nueva  
> Tarjeta de cr?dito. De tu PC directo a tu casa.
> Visit?  
> www 
> .tuprimeratarjeta 
> .com.ar_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From josemisu at yahoo.com.ar  Sat Jan  5 13:31:02 2008
From: josemisu at yahoo.com.ar (Jose Miguel)
Date: Sat Jan  5 13:31:06 2008
Subject: [Harbour] MenuItem
In-Reply-To: <E1F53120-925A-4DA8-B329-7CA3F122F13E@syenar.hu>
Message-ID: <977128.75309.qm@web32808.mail.mud.yahoo.com>

Hello, I have seen that it has made a modification, thank you very much, will prove in proxima update of Minigui ext.  
Greetings and thanks
Jose Miguel

Szak?ts Viktor <harbour.01@syenar.hu> escribi?: Hi, I've fixed this problem yesterday (see the Changelog
sent just before my previous reply), so pls retry with
the latest SVN, to see if it fixes the problem.

Brgds,
Viktor




Ejemplos y programas para MiniGUI Extended 
http://www.gateos.com/misdoc/programas/programas.html


       
---------------------------------

Yahoo! Encuentros
Ahora encontrar pareja es mucho m?s f?cil, prob? el nuevo Yahoo! Encuentros.
 Visit? http://yahoo.cupidovirtual.com/servlet/NewRegistration
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080105/0d192d66/attachment.html
From josemisu at yahoo.com.ar  Sat Jan  5 15:54:33 2008
From: josemisu at yahoo.com.ar (Jose Miguel)
Date: Sat Jan  5 15:54:37 2008
Subject: [Harbour] GET FECHA
Message-ID: <894296.89967.qm@web32809.mail.mud.yahoo.com>

Hola/Hello

Cuando edito un campo fecha se desplazan los guiones, es correcto?
-------------------
When I publish a field date move the scripts, he is correct?

FECHA:=DATE()
@ 4,16 GET FECHA

Saludos
Jose Miguel



Ejemplos y programas para MiniGUI Extended 
http://www.gateos.com/misdoc/programas/programas.html


       
---------------------------------

Yahoo! Encuentros
Ahora encontrar pareja es mucho m?s f?cil, prob? el nuevo Yahoo! Encuentros.
 Visit? http://yahoo.cupidovirtual.com/servlet/NewRegistration
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080105/99c18b02/attachment.html
From gvarona at ec-red.com  Sat Jan  5 23:42:12 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Sat Jan  5 23:42:18 2008
Subject: [Harbour] GET FECHA
In-Reply-To: <894296.89967.qm@web32809.mail.mud.yahoo.com>
References: <894296.89967.qm@web32809.mail.mud.yahoo.com>
Message-ID: <478015D4.3000301@ec-red.com>

Jose Miguel escribi?:
> Hola/Hello
> Cuando edito un campo fecha se desplazan los guiones, es correcto?
Hola Jose Miguel, este asunto ya esta solucionado el el ultimo SVN, te 
comento esto porque a mi me pas? lo mismo, pero con el ?ltimo SVN este 
problema esta solucionado. este es el hilo: 
http://lists.harbour-project.org/pipermail/harbour/2007-November/004893.html

Salu2,
GVS

P.D.: Te recomiendo utilices el ultimo SVN, para lo cual debes instalar 
TortoiseSVN, que es el equivalente al TortoiseCVS que se utilizaba 
antes, SVN tambien es bastante sencillo.


> -------------------
> When I publish a field date move the scripts, he is correct?
>
> FECHA:=DATE()
> @ 4,16 GET FECHA
>
> Saludos
> Jose Miguel
>
>
>
> Ejemplos y programas para MiniGUI Extended
> http://www.gateos.com/misdoc/programas/programas.html
>
> ------------------------------------------------------------------------
>
> Yahoo! Encuentros
> Ahora encontrar pareja es mucho m?s f?cil, prob? el nuevo Yahoo! 
> Encuentros.
> Visit? http://yahoo.cupidovirtual.com/servlet/NewRegistration
> ------------------------------------------------------------------------
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
>
>
> __________ Informaci?n de NOD32, revisi?n 2759 (20080101) __________
>
> Este mensaje ha sido analizado con NOD32 antivirus system
> http://www.nod32.com
>   

-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080105/146b804a/attachment.html
From myorg63 at mail.ru  Sun Jan  6 16:59:59 2008
From: myorg63 at mail.ru (Petr Chornyj)
Date: Sun Jan  6 17:00:03 2008
Subject: [Harbour] 2007-11-30 20:25 UTC+0100 Marek Paliwoda (mpaliwoda
	at interia pl)
In-Reply-To: <475064AF.6050508@interia.pl>
References: <475064AF.6050508@interia.pl>
Message-ID: <14650761.post@talk.nabble.com>




Marek Paliwoda wrote:
> 
> 2007-11-30 20:25 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
>    * harbour/include/hbstack.h
>      * Removed HB_EXPORT from hb_stackReturnItem()
>        and hb_stackSelfItem()
> 
> 

What a reason to do this? I look in last stable version this function
(hb_stackReturnItem) is declared as extern HB_EXPORT..

Regards,
Petr
-- 
View this message in context: http://www.nabble.com/2007-11-30-20%3A25-UTC%2B0100-Marek-Paliwoda-%28mpaliwoda-at-interia-pl%29-tp14096398p14650761.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mbelgrano at deltain.it  Sun Jan  6 17:45:10 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Sun Jan  6 17:52:01 2008
Subject: [Harbour] WIch is best ide for harbour source code
References: <477e1fe6.0708360a.5847.ffffa09dSMTPIN_ADDED@mx.google.com>
	<477E26FF.6000206@gmail.com> 
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E786@SRV02.deltain.net>


Thanks TO every body for suggestion
I used xmate only for prg
I have treid using for? editing xharbour source
Can I compile harbour bcc version?
This is my project file

[Version]
Type=xMate
Number=1.15

[Info]
Type=Executable
Architecture=BorlandWinH
Include=
Define=

[xMate]
Create Map/List File=No

[Project]
Run=
Params=
Final Path=%HOME%
Maintain LNK=Yes
Default Type=1
Error log=

[Data Path]
Dbf=

[Editor]


[Files]
C:\harbour\source\codepage\cp_tpl.c=1,.F.,46,1,
C:\harbour\source\codepage\cpbg866.c=2,.F.,55,1,
C:\harbour\source\codepage\cpbgiso.c=3,.F.,0,0,
C:\harbour\source\codepage\cpbgmik.c=4,.F.,0,0,
C:\harbour\source\codepage\cpbgwin.c=5,.F.,0,0,
C:\harbour\source\codepage\cpcs852.c=6,.F.,0,0,
C:\harbour\source\codepage\cpcsiso.c=7,.F.,0,0,
C:\harbour\source\vm\pcount.c=548,.F.,0,0,
C:\harbour\source\vm\proc.c=549,.F.,0,0,
C:\harbour\source\vm\pvalue.c=550,.F.,0,0,
C:\harbour\source\vm\runner.c=551,.F.,0,0,
C:\harbour\source\vm\vm.c=552,.F.,0,0,
%C_LIB_INSTALL%\C0W32.OBJ=553,.T.,0,0,
%HB_LIB_INSTALL%\rtl.lib=554,.T.,0,0,
%HB_LIB_INSTALL%\vm.lib=555,.T.,0,0,
%HB_LIB_INSTALL%\gtwin.lib=556,.T.,0,0,
%HB_LIB_INSTALL%\lang.lib=557,.T.,0,0,
%HB_LIB_INSTALL%\macro.lib=558,.T.,0,0,
%HB_LIB_INSTALL%\rdd.lib=559,.T.,0,0,
%HB_LIB_INSTALL%\dbfcdx.lib=560,.T.,0,0,
%HB_LIB_INSTALL%\dbfntx.lib=561,.T.,0,0,
%C_LIB_INSTALL%\WS2_32.LIB=566,.T.,0,0,
%HB_LIB_INSTALL%\common.lib=562,.T.,0,0,
%HB_LIB_INSTALL%\pp.lib=563,.T.,0,0,
%C_LIB_INSTALL%\CW32.LIB=564,.T.,0,0,
%C_LIB_INSTALL%\IMPORT32.LIB=565,.T.,0,0,


From mpaliwoda at interia.pl  Mon Jan  7 05:44:32 2008
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Mon Jan  7 05:44:38 2008
Subject: [Harbour] Re: 2007-11-30 20:25 UTC+0100 Marek Paliwoda (mpaliwoda
 at interia pl)
In-Reply-To: <14650761.post@talk.nabble.com>
References: <475064AF.6050508@interia.pl> <14650761.post@talk.nabble.com>
Message-ID: <flse7q$bn7$1@ger.gmane.org>

Petr,

> Marek Paliwoda wrote:
>> 2007-11-30 20:25 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
>>    * harbour/include/hbstack.h
>>      * Removed HB_EXPORT from hb_stackReturnItem()
>>        and hb_stackSelfItem()
>>
>>
> 
> What a reason to do this? I look in last stable version this function
> (hb_stackReturnItem) is declared as extern HB_EXPORT..

HB_EXPORT for hb_stackReturnItem() was added by
me (or on my personal request - I don't remember
exactly) but it is not needed at all. The correct
way to access VM stack return value is by using
the "official" API : hb_param( -1, HB_IT_ANY ).
The same is true for hb_stackSelfItem() and others.

-- 

Marek

From bedipritpal at hotmail.com  Mon Jan  7 06:41:23 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Mon Jan  7 06:41:26 2008
Subject: [Harbour] 2007-11-30 20:25 UTC+0100 Marek Paliwoda (mpaliwoda
	at interia pl)
In-Reply-To: <flse7q$bn7$1@ger.gmane.org>
References: <475064AF.6050508@interia.pl> <14650761.post@talk.nabble.com>
	<flse7q$bn7$1@ger.gmane.org>
Message-ID: <14659569.post@talk.nabble.com>


Marek


Marek Paliwoda wrote:
> 
> HB_EXPORT for hb_stackReturnItem() was added by
> me (or on my personal request - I don't remember
> exactly) but it is not needed at all. The correct
> way to access VM stack return value is by using
> the "official" API : hb_param( -1, HB_IT_ANY ).
> The same is true for hb_stackSelfItem() and others.
> 

You mean now w have to change the sources! hb_stackReturnItem() is used in a
lot of places in GTWVT and HBGTWVG and HBWHAT32. What is the harm to retain
this alongside ?

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/2007-11-30-20%3A25-UTC%2B0100-Marek-Paliwoda-%28mpaliwoda-at-interia-pl%29-tp14096398p14659569.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mpaliwoda at interia.pl  Mon Jan  7 06:59:49 2008
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Mon Jan  7 06:59:55 2008
Subject: [Harbour] Re: 2007-11-30 20:25 UTC+0100 Marek Paliwoda (mpaliwoda
 at interia pl)
In-Reply-To: <14659569.post@talk.nabble.com>
References: <475064AF.6050508@interia.pl>
	<14650761.post@talk.nabble.com>	<flse7q$bn7$1@ger.gmane.org>
	<14659569.post@talk.nabble.com>
Message-ID: <flsiku$kkp$1@ger.gmane.org>

Pritpal Bedi wrote :

> You mean now w have to change the sources! 

No, if you have written your sources correctly :).
(I know that - I changed only *one* header file).

> hb_stackReturnItem() is used in a
> lot of places in GTWVT and HBGTWVG and HBWHAT32. 

Then they did it wrongly (much like I did), I guess.

> What is the harm to retain this alongside ?

AFAIK none (but read below), except the code cleanness.

VM stack API is not exposed to end users because it
has not to be exposed. This guarantees that in the
future the API can be changed without any impact on
user sources. Exposing it to users "locks" the API -
much like you describe with GTWVT, HBGTWVG and HBWHAT32.
I would strongly suggest to change the sources (it's a
matter of s&r operation), instead of exposing API.

But of course personaly I have nothing against
exposing it, because my knowledge is too limited
to assume that I will be one of those who will
be redesigning that API ;-).

-- 

Marek

From harbour.01 at syenar.hu  Mon Jan  7 07:21:05 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jan  7 07:21:06 2008
Subject: [Harbour] Re: 2007-11-30 20:25 UTC+0100 Marek Paliwoda (mpaliwoda
	at interia pl)
In-Reply-To: <flsiku$kkp$1@ger.gmane.org>
References: <475064AF.6050508@interia.pl>
	<14650761.post@talk.nabble.com>	<flse7q$bn7$1@ger.gmane.org>
	<14659569.post@talk.nabble.com> <flsiku$kkp$1@ger.gmane.org>
Message-ID: <642BEEA6-3A65-4DCA-ADDD-D7DAE21136F4@syenar.hu>

Hi,

Exactly like Marek says. hb_stack*() API
is not a public API, it's reserved for
internal Harbour usage. It's needed for a
proper separation of layers / components.

RTL actually uses it in 4 files, which needs
to be fixed, IMO:
do.c, errorapi.c, errorint.c, xhelp.c

Brgds,
Viktor

On 2008.01.07., at 7:59, Marek Paliwoda wrote:

> Pritpal Bedi wrote :
>
>> You mean now w have to change the sources!
>
> No, if you have written your sources correctly :).
> (I know that - I changed only *one* header file).
>
>> hb_stackReturnItem() is used in a
>> lot of places in GTWVT and HBGTWVG and HBWHAT32.
>
> Then they did it wrongly (much like I did), I guess.
>
>> What is the harm to retain this alongside ?
>
> AFAIK none (but read below), except the code cleanness.
>
> VM stack API is not exposed to end users because it
> has not to be exposed. This guarantees that in the
> future the API can be changed without any impact on
> user sources. Exposing it to users "locks" the API -
> much like you describe with GTWVT, HBGTWVG and HBWHAT32.
> I would strongly suggest to change the sources (it's a
> matter of s&r operation), instead of exposing API.
>
> But of course personaly I have nothing against
> exposing it, because my knowledge is too limited
> to assume that I will be one of those who will
> be redesigning that API ;-).
>
> -- 
>
> Marek
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mbelgrano at deltain.it  Mon Jan  7 11:13:17 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jan  7 11:13:32 2008
Subject: [Harbour] Will GT and get system be easy expadible?
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E792@SRV02.deltain.net>

Will Gt having a structure for (easy) adding external gui component?
so external gui component will be easy integrated in GET system without
requiring a good knowledge of GET system
Thanks in advance

Massimo Belgrano

From mbelgrano at deltain.it  Mon Jan  7 16:36:16 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jan  7 16:36:33 2008
Subject: [Harbour] Will harbour rebox?
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E7A4@SRV02.deltain.net>

The reBOX framework is an innovative development environment for
creating a new generation of web based software solutions. It makes it
easy to efficiently implement real applications within a web
environment. Applications that are distinguished by their ease of use
and proved concepts of user guidance. By using reBOX, the familiar image
of classical desktop applications finds it's way into the world wide
web.
http://www.icube.at/home.jsp

Will harbour run under this online operative system free and open
source?

Massimo Belgrano

From mbelgrano at deltain.it  Mon Jan  7 17:34:36 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Mon Jan  7 17:34:46 2008
Subject: [Harbour] [OT] Scripting languages popularity
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E699@SRV02.deltain.net>
References: <fjdukh$g6g$1@ger.gmane.org>
	<AFB948164110ED43B5EB849E8DEEF03815E699@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E7A6@SRV02.deltain.net>

Today xbase languages is in 17 position !!!

http://www.tiobe.com/tpci.htm


-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo
Belgrano
Sent: Saturday, December 08, 2007 1:16 PM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] [OT] Scripting languages popularity

12 position for D http://en.wikipedia.org/wiki/D_programming_language
28 position for FoxBase/Xbase


From m.renzi at maticasrl.it  Tue Jan  8 06:48:02 2008
From: m.renzi at maticasrl.it (Massimo Renzi (MaticaSrl))
Date: Tue Jan  8 06:49:23 2008
Subject: [Harbour] Clipper Compatibility (compiler variable declaration check)
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E7A6@SRV02.deltain.net>
References: <fjdukh$g6g$1@ger.gmane.org><AFB948164110ED43B5EB849E8DEEF03815E699@SRV02.deltain.net>
	<AFB948164110ED43B5EB849E8DEEF03815E7A6@SRV02.deltain.net>
Message-ID: <000501c851c2$6a4940b0$2a00df0a@maxsoft>

Hi all.
I'm converting Clipper project to Harbour.
I've that problem.  
In some case Clipper developer has declared PRIVATE variable with the same
name of PARAMETER variable.
I know that the better think is to change the code but at moment I need to
maintain the same code. (great great project)
Harbour don?t warning me about this when I compile the project.
When I run the application, ClipperEXE use PARAMETER variable, HarbourEXE
use PRIVATE. So ClipperEXE works well, HarbourEXE give me error about use of
Null value.

Exist an Harbour compiler option to have full compatibility with Clipper and
use PARAMETER variables?

Thank you
Max

No virus found in this outgoing message.
Checked by AVG Free Edition. 
Version: 7.5.516 / Virus Database: 269.17.13/1212 - Release Date: 06/01/2008
22.55
 

From m.renzi at maticasrl.it  Tue Jan  8 06:51:49 2008
From: m.renzi at maticasrl.it (Massimo Renzi (MaticaSrl))
Date: Tue Jan  8 06:53:09 2008
Subject: [Harbour] harbour site and News
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E7A6@SRV02.deltain.net>
References: <fjdukh$g6g$1@ger.gmane.org><AFB948164110ED43B5EB849E8DEEF03815E699@SRV02.deltain.net>
	<AFB948164110ED43B5EB849E8DEEF03815E7A6@SRV02.deltain.net>
Message-ID: <000601c851c2$f15b0ac0$2a00df0a@maxsoft>

Hi all.
I see you speech about new implementation of Habour, but in
harbour-project.org  I don?t see the news.
Is this list linked to www.harbour-project.org ?
Thank you.
Max
 

No virus found in this outgoing message.
Checked by AVG Free Edition. 
Version: 7.5.516 / Virus Database: 269.17.13/1212 - Release Date: 06/01/2008
22.55
 

From lorenzo.fiorini at gmail.com  Tue Jan  8 07:40:18 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Jan  8 07:40:22 2008
Subject: [Harbour] How to get the pid of a app started with run()?
Message-ID: <9257026e0801072340x674405f0te882e0d4ff6f65c2@mail.gmail.com>

I need to start several instances of the same Harbour app and I'd like
to create an html "console" interface to see which are running.

best regards,
Lorenzo
From druzus at acn.waw.pl  Tue Jan  8 12:45:28 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan  8 12:45:34 2008
Subject: [Harbour] pack_src.sh
In-Reply-To: <200712221739.16393.tomaz.zupan@orpo.si>
References: <200712221739.16393.tomaz.zupan@orpo.si>
Message-ID: <20080108124528.GA6115@localhost.localdomain>

On Sat, 22 Dec 2007, Toma? Zupan wrote:
> Hi!
> There seems to be a problem with this script, because I aleays get empty 
> archive and thus make_rpm.sh script also fails. 
> Problem is in this line:
> for f in `sed -e '/^[ ]*name="..*"$/ !d' -e 's/^[ ]*name="\(.*\)"$/\1/g' 
> $d/entries`
> Because it never returns any result and thus --files-from "$hb_flst" is always 
> empty. I am getting this on Mandriva 2008 and latest cvs.

If it's not bug in Mandriva SED then you probably
have repository with CRLF EOLs. How do you take it?
Can you send to me one of your entries files in binary
form (f.e. compressed by GZIP) to eliminate automatic
EOL conversion by mail programs?

BTW Can you also test this command in one of Harbour .svn directories:

sed -e '/^[ ]*name="..*"[\r]*$/ !d' -e 's/^[ ]*name="\(.*\)".*/\1/g' entries

best regards,
Przemek
From druzus at acn.waw.pl  Tue Jan  8 13:16:32 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan  8 13:16:39 2008
Subject: [Harbour] A Question on Directives
In-Reply-To: <14585574.post@talk.nabble.com>
References: <477B6022.1080005@gmail.com> <009301c84d4a$b398e6c0$ca64fea9@emag>
	<477BA5D1.9030305@gmail.com> <00e501c84d53$901356f0$ca64fea9@emag>
	<477BB02B.4050707@gmail.com> <00ff01c84d58$06046030$ca64fea9@emag>
	<477BBA21.9000600@gmail.com> <012701c84d5c$f4ce7440$ca64fea9@emag>
	<477BC4F4.3080607@gmail.com> <14585574.post@talk.nabble.com>
Message-ID: <20080108131632.GB6115@localhost.localdomain>

On Wed, 02 Jan 2008, Pritpal Bedi wrote:
> Though first approach decreases the quantum of redefinition of directives,
> but puts a runtime overhead to evaluate one IIF construct. Whereas in 2nd
> approach, you end up writing more directives but you save one PCODE
> evaluation at run-time.

Hi Pritpal,
All expressions like:
    IIF( .T., <exp1>, <exp2> )
or:
    IIF( .F., <exp1>, <exp2> )

Are fully optimized by compiler so only <exp1> (or <exp2> in second
case) are generated and you do not have even single PCODE overhead
at runtime. You can safely use it without worry about it. The same
hapens also for:
    IIF( <exp1>, <exp2>, <exp3> )
when <exp1> can be optimized at compile time, f.e.:
    IIF( 1 == 1, <exp1>, <exp2> )
or:
    IIF( NIL != NIL, <exp1>, <exp2> )
etc.

> My goal was not to rewrite the base code to include <hGT> as the last
> parameter to GT commands. I wanted it to be substituted by a Local/Public
> variable if one is not provided on lines with <GetList>.

IMHO the main problem is that you are changing parameters of standard
Clipper functions. It has important bad side effect:
New code which will use such extended functions will not be portable
to other xBase languages as long as you do not ask their authors to
make the same modification in standard screen functions - in most of
cases you will have very small chance that they agree so IMHO it's
bad design decisions which reduce users code portability to other
xbase projects.
Instead I strongly suggest to add new set of functions which will
accept window handler without touching standard Clipper ones.
I'm attaching scheme of source code for TWINDOW class which
can be used for multi window output.
I also suggest to make the same on C level and keep existing
functions not changed.
In fact for many people only HB_WSELECT() function will be necessary.
In CT3 is also possible to create many virtual windows and only
one function WSELECT() is enough to switch between them. Just ask
people who use CTWIN in their programs, also with BROWSE and GET
classes.

Now using PP you are trying to introduce default window handler when
it's not necessary. It means that you will have two default handlers.
One used when handler is not passed at all - this is the handler set
by HB_WSELECT(). The second one you try to add using PP. IMHO it only
makes things much more complicated.

> Now another question:
> Instead of changing the name of the function in #xtranslate , I can keep
> librray name as is, like:
> #xtranslate DispOutAt(<r>,<c>,<x>,[<l>],<g>) =>
> DispOutAt(<r>,<c>,<x>,[<l>],<g>)
> #xtranslate DispOutAt(<r>,<c>,<x>,[<l>])       =>
> DispOutAt(<r>,<c>,<x>,[<l>],hGT)
> I have tried but then compile keeps on translating forever. If this can be
> achieved in any way, a lot of amount of time will be saved.

single:

    #xtranslate DispOutAt(<r>,<c>,<x>[,<l>]) => ;
                DispOutAt(<r>,<c>,<x>,<l>,hGT)

is all what you need.

best regards,
Przemek
-------------- next part --------------
#include "hbclass.ch"

CREATE CLASS TWINDOW

   /* screen size */
   METHOD   SETMODE
   METHOD   MAXROW
   METHOD   MAXCOL

   /* cursor position and shape */
   METHOD   ROW
   METHOD   COL
   METHOD   SETPOS
   METHOD   SETCURSOR

   /* colors */
   METHOD   ISCOLOR
   METHOD   SETCOLOR
   METHOD   COLORSELECT
   METHOD   SETBLINK
   METHOD   NOSNOW
   METHOD   SHADOW
   METHOD   SETATTRIBUTE
   METHOD   COLORTON
   METHOD   NTOCOLOR

   /* screen update */
   METHOD   SAVESCREEN
   METHOD   RESTSCREEN
   METHOD   DISPBEGIN
   METHOD   DISPEND
   METHOD   DISPCOUNT
   METHOD   DISPBOX
   METHOD   DISPOUT
   METHOD   DISPOUTAT
   METHOD   QOUT
   METHOD   QQOUT
   METHOD   SCROLL

   /* keyboard */
   METHOD   INKEY
   METHOD   NEXTKEY
   METHOD   LASTKEY
   METHOD   PUTKEY
   METHOD   KEYBOARD
   METHOD   SETLASTKEY

   /* mouse */
   METHOD   MPRESENT
   METHOD   MHIDE
   METHOD   MSHOW
   METHOD   MROW
   METHOD   MCOL
   METHOD   MSETPOS
   METHOD   MSETCURSOR
   METHOD   MSETBOUNDS
   METHOD   MSAVESTATE
   METHOD   MRESTSTATE
   METHOD   MDBLCK
   METHOD   MLEFTDOWN
   METHOD   MRIGHTDOWN
   METHOD   MMIDDLEDOWN

   /* sound */
   METHOD   TONE
   METHOD   BELL

   /* CP translations */
   METHOD   SETDISPCP
   METHOD   SETKEYCP
   METHOD   SETTERMCP

   /* stdout / stderr */
   METHOD   OUTSTD
   METHOD   OUTERR

   /* misc */
   METHOD   ALERT
   
   /* GFX */
   METHOD   GFXPRIMITIVE
   METHOD   GFXTEXT

   /* GT management */
   METHOD   GTINFO
   METHOD   GTVERSION

ENDCLASS

#pragma begindump
#include "hbset.h"
#include "hbapigt.h"
#include "hbapiitm.h"
#include "hbapierr.h"
#include "hbgtcore.h"

#define M_BUTTON_LEFT   0
#define M_BUTTON_RIGHT  1
#define M_BUTTON_MIDDLE 2

static PHB_GT hb_gt_getBasePtr( PHB_GT * pOldGT )
{
   /* This functions will retrieve GT context from self object,
    * store current GT handler in pOldGT and then will set new GT
    * context as current one locking it until hb_gt_restoreBasePtr()
    * will be called
    */
   *pOldGT = NULL;
   return hb_gt_Base();
}

static void hb_gt_restoreBasePtr( PHB_GT pOldGT )
{
   /* This functions will unlock current GT context and then will restore
    * the previous one
    */
   HB_SYMBOL_UNUSED( pOldGT );
}




static void hb_getScreenRange( PHB_GT pGT, int * piMin, int * piMax,
                               BOOL fNoCheck, BOOL fVertical )
{
   int iFrom, iTo, iMax;

   if( fVertical )
   {
      iMax  = HB_GTSELF_MAXROW( pGT );
      iFrom = hb_parni( 1 );
      iTo   = ISNUM( 3 ) ? hb_parni( 3 ) : iMax;
   }
   else
   {
      iMax = HB_GTSELF_MAXCOL( pGT );
      iFrom = hb_parni( 2 );
      iTo   = ISNUM( 4 ) ? hb_parni( 4 ) : iMax;
   }

   if( iFrom < 0 )
      iFrom = 0;
   else if( iFrom > iMax && !fNoCheck )
      iFrom = iMax;

   if( iTo < 0 )
      iTo = 0;
   else if( iTo > iMax && !fNoCheck )
      iTo = iMax;

   if( iFrom > iTo )
   {
      *piMin = iTo;
      *piMax = iFrom;
   }
   else
   {
      *piMin = iFrom;
      *piMax = iTo;
   }
}

static char * hb_itemStringCon( PHB_ITEM pItem, ULONG * pulLen, BOOL * pfFree )
{
   if( HB_IS_LOGICAL( pItem ) )
   {
      *pulLen = 1;
      *pfFree = FALSE;
      return ( char * ) ( hb_itemGetL( pItem ) ? "T" : "F" );
   }
   return hb_itemString( pItem, pulLen, pfFree );
}

static int hb_colorParam( PHB_GT pGT, int iParam )
{
   char * pszColor = hb_parc( iParam );
   if( pszColor && *pszColor )
      return HB_GTSELF_COLORNUM( pGT, pszColor );
   else if( ISNUM( iParam ) )
      return hb_parni( iParam );
   else
      return 7;
}

static void hb_consoleOut( BOOL fNewLine )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      USHORT uiPCount = hb_pcount();
      USHORT uiParam;

      if( fNewLine )
      {
         const char * szCrLf = hb_conNewLine();
         HB_GTSELF_WRITE( pGT, ( BYTE * ) szCrLf, strlen( szCrLf ) );
      }

      for( uiParam = 1; uiParam <= uiPCount; uiParam++ )
      {
         char * pStr;
         ULONG ulLen;
         BOOL fFree;

         pStr = hb_itemString( hb_param( 1, HB_IT_ANY ), &ulLen, &fFree );
         HB_GTSELF_WRITE( pGT, ( BYTE * ) pStr, ulLen );
         if( fFree )
            hb_xfree( pStr );
         if( uiParam < uiPCount )
            HB_GTSELF_WRITE( pGT, ( BYTE * ) " ", 1 );
      }

      HB_GTSELF_FLUSH( pGT );

      hb_gt_restoreBasePtr( pOldGT );
   }
}

static void hb_stdOutErr( BOOL fStdErr )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      USHORT uiPCount = hb_pcount();
      USHORT uiParam;

      for( uiParam = 1; uiParam <= uiPCount; uiParam++ )
      {
         char * pStr;
         ULONG ulLen;
         BOOL fFree;

         pStr = hb_itemString( hb_param( 1, HB_IT_ANY ), &ulLen, &fFree );
         if( fStdErr )
            HB_GTSELF_OUTSTD( pGT, ( BYTE * ) pStr, ulLen );
         else
            HB_GTSELF_OUTERR( pGT, ( BYTE * ) pStr, ulLen );
         if( fFree )
            hb_xfree( pStr );
         if( uiParam < uiPCount )
         {
            if( fStdErr )
               HB_GTSELF_OUTSTD( pGT, ( BYTE * ) " ", 1 );
            else
               HB_GTSELF_OUTERR( pGT, ( BYTE * ) " ", 1 );
         }
      }
      HB_GTSELF_FLUSH( pGT );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_SETMODE )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      int iRows, iCols;

      HB_GTSELF_GETSIZE( pGT, &iRows, &iCols );

      if( ISNUM( 1 ) )
         iRows = hb_parni( 1 );
      if( ISNUM( 2 ) )
         iCols = hb_parni( 2 );

      hb_retl( HB_GTSELF_SETMODE( pGT, iRows, iCols ) );

      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_MAXROW )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      if( ISLOG( 1 ) && hb_parl( 1 ) )
      {
         int iHeight, iWidth;

         HB_GTSELF_GETSIZE( pGT, &iHeight, &iWidth );
         hb_retni( iHeight - 1 );
      }
      else
         hb_retni( HB_GTSELF_MAXROW( pGT ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_MAXCOL )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      if( ISLOG( 1 ) && hb_parl( 1 ) )
      {
         int iHeight, iWidth;

         HB_GTSELF_GETSIZE( pGT, &iHeight, &iWidth );
         hb_retni( iWidth - 1 );
      }
      else
         hb_retni( HB_GTSELF_MAXCOL( pGT ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_ROW )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      int iRow, iCol;

      HB_GTSELF_GETPOS( pGT, &iRow, &iCol );
      hb_retni( iRow );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_COL )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      int iRow, iCol;

      HB_GTSELF_GETPOS( pGT, &iRow, &iCol );
      hb_retni( iCol );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_SETPOS )
{
   if( ISNUM( 1 ) && ISNUM( 2 ) )
   {
      PHB_GT pGT, pOldGT;
      pGT = hb_gt_getBasePtr( &pOldGT );
      if( pGT )
      {
         HB_GTSELF_SETPOS( pGT, hb_parni( 1 ), hb_parni( 2 ) );
         HB_GTSELF_FLUSH( pGT );
         hb_gt_restoreBasePtr( pOldGT );
      }
   }
}

HB_FUNC( TWINDOW_SETCURSOR )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      hb_retni( HB_GTSELF_GETCURSORSTYLE( pGT ) );
      if( ISNUM( 1 ) )
      {
         HB_GTSELF_SETCURSORSTYLE( pGT, hb_parni( 1 ) );
         HB_GTSELF_FLUSH( pGT );
      }
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_ISCOLOR )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      hb_retl( HB_GTSELF_ISCOLOR( pGT ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_SETCOLOR )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      char * pszNewColor = hb_parc( 1 );
      char szOldColor[ CLR_STRLEN ];

      HB_GTSELF_GETCOLORSTR( pGT, szOldColor );
      if( pszNewColor )
         HB_GTSELF_SETCOLORSTR( pGT, pszNewColor );
      hb_retc( szOldColor );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_COLORSELECT )
{
   if( ISNUM( 1 ) )
   {
      PHB_GT pGT, pOldGT;
      pGT = hb_gt_getBasePtr( &pOldGT );
      if( pGT )
      {
         HB_GTSELF_COLORSELECT( pGT, hb_parni( 1 ) );
         hb_gt_restoreBasePtr( pOldGT );
      }
   }
}

HB_FUNC( TWINDOW_SETBLINK )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      hb_retl( HB_GTSELF_GETBLINK( pGT ) );
      if( ISLOG( 1 ) )
         HB_GTSELF_SETBLINK( pGT, hb_parl( 1 ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_NOSNOW )
{
   if( ISLOG( 1 ) )
   {
      PHB_GT pGT, pOldGT;
      pGT = hb_gt_getBasePtr( &pOldGT );
      if( pGT )
      {
         HB_GTSELF_SETSNOWFLAG( pGT, hb_parl( 1 ) );
         hb_gt_restoreBasePtr( pOldGT );
      }
   }
}

HB_FUNC( TWINDOW_SHADOW )
{
   if( hb_pcount() >= 4 )
   {
      PHB_GT pGT, pOldGT;
      pGT = hb_gt_getBasePtr( &pOldGT );
      if( pGT )
      {
         HB_GTSELF_DRAWSHADOW( pGT, hb_parni( 1 ), hb_parni( 2 ),
                                    hb_parni( 3 ), hb_parni( 4 ),
                                    hb_colorParam( pGT, 5 ) );
         HB_GTSELF_FLUSH( pGT );
         hb_gt_restoreBasePtr( pOldGT );
      }
   }
}

HB_FUNC( TWINDOW_SETATTRIBUTE )
{
   if( hb_pcount() > 4 )
   {
      PHB_GT pGT, pOldGT;
      pGT = hb_gt_getBasePtr( &pOldGT );
      if( pGT )
      {
         HB_GTSELF_SETATTRIBUTE( pGT, hb_parni( 1 ), hb_parni( 2 ),
                                      hb_parni( 3 ), hb_parni( 4 ),
                                      hb_colorParam( pGT, 5 ) );
         HB_GTSELF_FLUSH( pGT );
         hb_gt_restoreBasePtr( pOldGT );
      }
   }
}

HB_FUNC( TWINDOW_COLORTON )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      hb_retni( HB_GTSELF_COLORNUM( pGT, hb_parcx( 1 ) ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_NTOCOLOR )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      char szColorString[ 10 ];
      int colors[ 1 ];
      colors[ 0 ] = hb_parni( 1 );
      HB_GTSELF_COLORSTOSTRING( pGT, colors, 1, szColorString, 10 );
      hb_retc( szColorString );

      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_SAVESCREEN )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      int iTop, iLeft, iBottom, iRight;
      ULONG  ulSize;
      BYTE * pBuffer;
      BOOL fNoCheck = ISLOG( 5 ) && hb_parl( 5 );

      hb_getScreenRange( pGT, &iTop, &iBottom, fNoCheck, TRUE );
      hb_getScreenRange( pGT, &iLeft, &iRight, fNoCheck, FALSE );

      ulSize = HB_GTSELF_RECTSIZE( pGT, iTop, iLeft, iBottom, iRight );
      pBuffer = hb_xgrab( ulSize + 1 );
      HB_GTSELF_SAVE( pGT, iTop, iLeft, iBottom, iRight, pBuffer );

      hb_retclen_buffer( ( char * ) pBuffer, ulSize );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_RESTSCREEN )
{
   if( ISCHAR( 5 ) )
   {
      PHB_GT pGT, pOldGT;
      pGT = hb_gt_getBasePtr( &pOldGT );
      if( pGT )
      {
         int iTop, iLeft, iBottom, iRight;
         BOOL fNoCheck = ISLOG( 6 ) && hb_parl( 6 );

         hb_getScreenRange( pGT, &iTop, &iBottom, fNoCheck, TRUE );
         hb_getScreenRange( pGT, &iLeft, &iRight, fNoCheck, FALSE );

         HB_GTSELF_REST( pGT, iTop, iLeft, iBottom, iRight, ( BYTE * ) hb_parc( 5 ) );
         HB_GTSELF_FLUSH( pGT );
         hb_gt_restoreBasePtr( pOldGT );
      }
   }
}

HB_FUNC( TWINDOW_DISPBEGIN )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      HB_GTSELF_DISPBEGIN( pGT );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_DISPEND )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      HB_GTSELF_DISPEND( pGT );
      HB_GTSELF_FLUSH( pGT );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_DISPCOUNT )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      hb_retni( HB_GTSELF_DISPCOUNT( pGT ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_DISPBOX )
{
   if( ISNUM( 1 ) && ISNUM( 2 ) && ISNUM( 3 ) && ISNUM( 4 ) )
   {
      PHB_GT pGT, pOldGT;
      pGT = hb_gt_getBasePtr( &pOldGT );
      if( pGT )
      {
         char * pszBox = hb_parc( 5 );
         char * pszColor = hb_parc( 6 );
         int iTop, iLeft, iBottom, iRight, iColor;

         iTop    = hb_parni( 1 );
         iLeft   = hb_parni( 2 );
         iBottom = hb_parni( 3 );
         iRight  = hb_parni( 4 );
         iColor = pszColor ? HB_GTSELF_COLORNUM( pGT, pszColor ) :
                             HB_GTSELF_GETCOLOR( pGT );
         if( pszBox )
            HB_GTSELF_BOX( pGT, iTop, iLeft, iBottom, iRight,
                           ( BYTE * ) ( *pszBox ? pszBox : "         " ),
                           iColor );
         else if( hb_parni( 5 ) == 2 )
            HB_GTSELF_BOXD( pGT, iTop, iLeft, iBottom, iRight,
                            ( BYTE * ) _B_DOUBLE, iColor );
         else
            HB_GTSELF_BOXS( pGT, iTop, iLeft, iBottom, iRight,
                            ( BYTE * ) _B_SINGLE, iColor );

         HB_GTSELF_SETPOS( pGT, iTop + 1, iLeft + 1 );
         HB_GTSELF_FLUSH( pGT );

         hb_gt_restoreBasePtr( pOldGT );
      }
   }
}

HB_FUNC( TWINDOW_DISPOUT )
{
   if( hb_pcount() > 0 )
   {
      PHB_GT pGT, pOldGT;
      pGT = hb_gt_getBasePtr( &pOldGT );
      if( pGT )
      {
         char * pszColor = hb_parc( 2 );
         char szOldColor[ CLR_STRLEN ];
         char * pStr;
         ULONG ulLen;
         BOOL fFree;

         if( pszColor )
         {
            HB_GTSELF_GETCOLORSTR( pGT, szOldColor );
            HB_GTSELF_SETCOLORSTR( pGT, pszColor );
         }

         pStr = hb_itemStringCon( hb_param( 1, HB_IT_ANY ), &ulLen, &fFree );

         HB_GTSELF_WRITE( pGT, ( BYTE * ) pStr, ulLen );
         HB_GTSELF_FLUSH( pGT );

         if( fFree )
            hb_xfree( pStr );

         if( pszColor )
            HB_GTSELF_SETCOLORSTR( pGT, szOldColor );

         hb_gt_restoreBasePtr( pOldGT );
      }
   }
}

HB_FUNC( TWINDOW_DISPOUTAT )
{
   if( hb_pcount() >= 3 )
   {
      PHB_GT pGT, pOldGT;
      pGT = hb_gt_getBasePtr( &pOldGT );
      if( pGT )
      {
         char * pszColor = hb_parc( 4 );
         char szOldColor[ CLR_STRLEN ];
         char * pStr;
         ULONG ulLen;
         BOOL fFree;

         if( pszColor )
         {
            HB_GTSELF_GETCOLORSTR( pGT, szOldColor );
            HB_GTSELF_SETCOLORSTR( pGT, pszColor );
         }

         pStr = hb_itemStringCon( hb_param( 3, HB_IT_ANY ), &ulLen, &fFree );

         HB_GTSELF_WRITEAT( pGT, hb_parni( 1 ), hb_parni( 2 ),
                                 ( BYTE * ) pStr, ulLen );
         HB_GTSELF_FLUSH( pGT );

         if( fFree )
            hb_xfree( pStr );

         if( pszColor )
            HB_GTSELF_SETCOLORSTR( pGT, szOldColor );

         hb_gt_restoreBasePtr( pOldGT );
      }
   }
}

HB_FUNC( TWINDOW_QOUT )
{
   hb_consoleOut( TRUE );
}

HB_FUNC( TWINDOW_QQOUT )
{
   if( hb_pcount() > 0 )
      hb_consoleOut( FALSE );
}

HB_FUNC( TWINDOW_SCROLL )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      int iTop, iLeft, iBottom, iRight;
      int iMaxRow = HB_GTSELF_MAXROW( pGT );
      int iMaxCol = HB_GTSELF_MAXCOL( pGT );

      iTop = hb_parni( 1 );
      if( iTop < 0 )
         iTop = 0;
      else if( iTop > iMaxRow )
         iTop = iMaxRow;

      iLeft = hb_parni( 2 );
      if( iLeft < 0 )
         iLeft = 0;
      else if( iLeft > iMaxCol )
         iLeft = iMaxCol;

      if( ISNUM( 3 ) )
      {
         iBottom = hb_parni( 3 );
         if( iBottom < 0 )
            iBottom = 0;
         else if( iBottom > iMaxRow )
            iBottom = iMaxRow;
      }
      else
         iBottom = iMaxRow;

      if( ISNUM( 4 ) )
      {
         iRight = hb_parni( 4 );
         if( iRight < 0 )
            iRight = 0;
         else if( iRight > iMaxCol )
            iRight = iMaxCol;
      }
      else
         iRight = iMaxCol;

      if( iTop <= iBottom && iLeft <= iRight )
      {
         HB_GTSELF_SCROLL( pGT, iTop, iLeft, iBottom, iRight,
                           HB_GTSELF_GETCOLOR( pGT ), ' ',
                           hb_parni( 5 ), hb_parni( 6 ) );
         HB_GTSELF_FLUSH( pGT );
      }

      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_INKEY )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      USHORT uiPCount = hb_pcount();
      BOOL fWait = uiPCount == 1 || ( uiPCount > 1 && ISNUM( 1 ) );
      double dSeconds = hb_parnd( 1 );
      int iEventMask = ISNUM( 2 ) ? hb_parni( 2 ) : hb_setGetEventMask();

      hb_retni( HB_GTSELF_INKEYGET( pGT, fWait, dSeconds, iEventMask ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_NEXTKEY )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      int iEventMask = ISNUM( 1 ) ? hb_parni( 1 ) : hb_setGetEventMask();

      hb_retni( HB_GTSELF_INKEYNEXT( pGT, iEventMask ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_LASTKEY )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      int iEventMask = ISNUM( 1 ) ? hb_parni( 1 ) : INKEY_ALL;

      hb_retni( HB_GTSELF_INKEYLAST( pGT, iEventMask ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_PUTKEY )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      if( ISNUM( 1 ) )
         HB_GTSELF_INKEYPUT( pGT, hb_parni( 1 ) );
      else if( ISCHAR( 1 ) )
      {
         PHB_ITEM pText = hb_param( 1, HB_IT_STRING );
         char * szText = hb_itemGetCPtr( pText );
         ULONG ulLen = hb_itemGetCLen( pText ), ulIndex;

         for( ulIndex = 0; ulIndex < ulLen; ulIndex++ )
            HB_GTSELF_INKEYPUT( pGT, ( UCHAR ) szText[ ulIndex ] );
      }
      else if( ISARRAY( 1 ) )
      {
         PHB_ITEM pArray = hb_param( 1, HB_IT_ARRAY );
         ULONG ulElements = hb_arrayLen( pArray ), ulIndex;

         for( ulIndex = 1; ulIndex <= ulElements; ulIndex++ )
         {
            if( hb_arrayGetType( pArray, ulIndex ) & HB_IT_NUMERIC )
               HB_GTSELF_INKEYPUT( pGT, hb_arrayGetNI( pArray, ulIndex ) );
         }
      }
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_KEYBOARD )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      HB_GTSELF_INKEYRESET( pGT );
      if( ISCHAR( 1 ) )
         HB_GTSELF_INKEYSETTEXT( pGT, hb_parc( 1 ), hb_parclen( 1 ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_SETLASTKEY )
{
   if( ISNUM( 1 ) )
   {
      PHB_GT pGT, pOldGT;
      pGT = hb_gt_getBasePtr( &pOldGT );
      if( pGT )
      {
         HB_GTSELF_INKEYSETLAST( pGT, hb_parni( 1 ) );
         hb_gt_restoreBasePtr( pOldGT );
      }
   }
}

HB_FUNC( TWINDOW_MPRESENT )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      hb_retl( HB_GTSELF_MOUSEISPRESENT( pGT ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_MHIDE )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      HB_GTSELF_MOUSESETCURSOR( pGT, FALSE );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_MSHOW )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      HB_GTSELF_MOUSESETCURSOR( pGT, TRUE );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_MROW )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      hb_retni( HB_GTSELF_MOUSEROW( pGT ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_MCOL )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      hb_retni( HB_GTSELF_MOUSECOL( pGT ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_MSETPOS )
{
   if( ISNUM( 1 ) && ISNUM( 2 ) )
   {
      PHB_GT pGT, pOldGT;
      pGT = hb_gt_getBasePtr( &pOldGT );
      if( pGT )
      {
         HB_GTSELF_MOUSESETPOS( pGT, hb_parni( 1 ), hb_parni( 2 ) );
         hb_gt_restoreBasePtr( pOldGT );
      }
   }
}

HB_FUNC( TWINDOW_MSETCURSOR )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      hb_retl( HB_GTSELF_MOUSEGETCURSOR( pGT ) );
      if( ISLOG( 1 ) )
         HB_GTSELF_MOUSESETCURSOR( pGT, hb_parl( 1 ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_MSETBOUNDS )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      HB_GTSELF_MOUSESETBOUNDS( pGT, hb_parni( 1 ), hb_parni( 2 ),
                                ISNUM( 3 ) ? hb_parni( 3 ) : HB_GTSELF_MAXROW( pGT ),
                                ISNUM( 4 ) ? hb_parni( 4 ) : HB_GTSELF_MAXCOL( pGT ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_MSAVESTATE )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      int iLen = HB_GTSELF_MOUSESTORAGESIZE( pGT );

      if( iLen > 0 )
      {
         BYTE * pBuffer = ( BYTE * ) hb_xgrab( iLen + 1 );

         HB_GTSELF_MOUSESAVESTATE( pGT, pBuffer );
         hb_retclen_buffer( ( char * ) pBuffer, iLen );
      }
      else
         hb_retc( NULL );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_MRESTSTATE )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      if( hb_parclen( 1 ) == ( ULONG ) HB_GTSELF_MOUSESTORAGESIZE( pGT ) )
         HB_GTSELF_MOUSERESTORESTATE( pGT, hb_parc( 1 ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_MDBLCK )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      hb_retni( HB_GTSELF_MOUSEGETDOUBLECLICKSPEED( pGT ) );
      if( ISNUM( 1 ) )
         HB_GTSELF_MOUSESETDOUBLECLICKSPEED( pGT, hb_parni( 1 ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_MLEFTDOWN )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      hb_retl( HB_GTSELF_MOUSEBUTTONSTATE( pGT, M_BUTTON_LEFT ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_MRIGHTDOWN )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      hb_retl( HB_GTSELF_MOUSEBUTTONSTATE( pGT, M_BUTTON_RIGHT ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_MMIDDLEDOWN )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      hb_retl( HB_GTSELF_MOUSEBUTTONSTATE( pGT, M_BUTTON_MIDDLE ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_BELL )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      HB_GTSELF_BELL( pGT );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_TONE )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      if( ISNUM( 1 ) )
      {
         PHB_GT pGT, pOldGT;
         pGT = hb_gt_getBasePtr( &pOldGT );
         if( pGT )
         {
            HB_GTSELF_TONE( pGT, hb_parnd( 1 ), ( ISNUM( 2 ) ? hb_parnd( 2 ) : 1.0 ) );
            hb_gt_restoreBasePtr( pOldGT );
         }
      }
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_SETDISPCP )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      if ( ISCHAR( 1 ) )
      {
         if ( hb_pcount() == 2 && ISLOG(2) )
            HB_GTSELF_SETDISPCP( pGT, hb_parc( 1 ), NULL, hb_parl( 2 ) );
         else
            HB_GTSELF_SETDISPCP( pGT, hb_parc( 1 ), hb_parc( 2 ), hb_parl( 3 ) );
      }
      else
         hb_errRT_BASE_SubstR( EG_ARG, 1089, NULL, "HB_SETDISPCP", HB_ERR_ARGS_BASEPARAMS );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_SETKEYCP )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      if ( ISCHAR( 1 ) )
         HB_GTSELF_SETKEYCP( pGT, hb_parc( 1 ), hb_parc( 2 ) );
      else
         hb_errRT_BASE_SubstR( EG_ARG, 1089, NULL, "HB_SETKEYCP", HB_ERR_ARGS_BASEPARAMS );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_SETTERMCP )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      if ( ISCHAR(1) )
      {
         if ( hb_pcount() == 2 && ISLOG(2) )
         {
            HB_GTSELF_SETDISPCP( pGT, hb_parc( 1 ), NULL, hb_parl( 2 ) );
            HB_GTSELF_SETKEYCP( pGT, hb_parc( 1 ), NULL );
         }
         else
         {
            HB_GTSELF_SETDISPCP( pGT, hb_parc( 1 ), hb_parc( 2 ), hb_parl( 3 ) );
            HB_GTSELF_SETKEYCP( pGT, hb_parc( 1 ), hb_parc( 2 ) );
         }
      }
      else
         hb_errRT_BASE_SubstR( EG_ARG, 1089, NULL, "HB_SETTERMCP", HB_ERR_ARGS_BASEPARAMS );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_OUTSTD )
{
   hb_stdOutErr( TRUE );
}

HB_FUNC( TWINDOW_OUTERR )
{
   hb_stdOutErr( FALSE );
}

HB_FUNC( TWINDOW_ALERT )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      int iClrNorm = hb_colorParam( pGT, 3 ),
          iClrHigh = hb_colorParam( pGT, 4 );

      hb_retni( HB_GTSELF_ALERT( pGT, hb_param( 1, HB_IT_ANY ), hb_param( 2, HB_IT_ANY ),
                                 iClrNorm, iClrHigh, hb_parnd( 5 ) ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_GFXPRIMITIVE )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      hb_retni( HB_GTSELF_GFXPRIMITIVE( pGT, hb_parni( 1 ), hb_parni( 2 ),
                                             hb_parni( 3 ), hb_parni( 4 ),
                                             hb_parni( 5 ), hb_parni( 6 ) ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_GFXTEXT )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      HB_GTSELF_GFXTEXT( pGT, hb_parni( 1 ), hb_parni( 2 ),
                         hb_parc( 3 ),  hb_parni( 4 ),
                         hb_parni( 5 ), hb_parni( 6 ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_GTINFO )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      if( ISNUM( 1 ) )
      {
         HB_GT_INFO gtInfo;

         gtInfo.pNewVal = hb_param( 2, HB_IT_ANY );
         gtInfo.pResult = NULL;

         HB_GTSELF_INFO( pGT, hb_parni( 1 ), &gtInfo );
         if( gtInfo.pResult )
            hb_itemReturnRelease( gtInfo.pResult );
      }
      else
         hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, "HB_GTINFO", HB_ERR_ARGS_BASEPARAMS );
      hb_gt_restoreBasePtr( pOldGT );
   }
}

HB_FUNC( TWINDOW_GTVERSION )
{
   PHB_GT pGT, pOldGT;
   pGT = hb_gt_getBasePtr( &pOldGT );
   if( pGT )
   {
      hb_retc( HB_GTSELF_VERSION( pGT, hb_parni( 1 ) ) );
      hb_gt_restoreBasePtr( pOldGT );
   }
}
#pragma enddump
From druzus at acn.waw.pl  Tue Jan  8 13:39:33 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan  8 13:39:38 2008
Subject: [Harbour] Clipper Compatibility (compiler variable declaration
	check)
In-Reply-To: <000501c851c2$6a4940b0$2a00df0a@maxsoft>
References: <AFB948164110ED43B5EB849E8DEEF03815E7A6@SRV02.deltain.net>
	<000501c851c2$6a4940b0$2a00df0a@maxsoft>
Message-ID: <20080108133933.GC6115@localhost.localdomain>

On Tue, 08 Jan 2008, Massimo Renzi (MaticaSrl) wrote:
> Hi all.
> I'm converting Clipper project to Harbour.
> I've that problem.  
> In some case Clipper developer has declared PRIVATE variable with the same
> name of PARAMETER variable.
> I know that the better think is to change the code but at moment I need to
> maintain the same code. (great great project)
> Harbour don?t warning me about this when I compile the project.
> When I run the application, ClipperEXE use PARAMETER variable, HarbourEXE
> use PRIVATE.

AFAIK the above is not true and Harbour works exactly like Clipper here.
If not then please send self small contain example and I'll fix it but
I rather do not believe it's possible. This code shows that Harbour works
in the same way as Clipper:

    memvar p
    proc main()
    p1("a"); p2()
    proc test(); ?? "", p
    proc p1; parameters p; ? p; test(); pp1()
    proc pp1; private p:="A"; ? p; test()
    proc p2; private p:="b"; ? p; test(); pp2("B")
    proc pp2; parameters p; ? p; test()

I think that when you try to reduce the problem to self contain
as small es possible example then you will find the exact reason.

> So ClipperEXE works well, HarbourEXE give me error about use of
> Null value.

Not in situation as you described what above example shows.

> Exist an Harbour compiler option to have full compatibility with Clipper and
> use PARAMETER variables?

AFAIK it is fully compatible here (except some Clipper bugs which were not
replicated intentionally)

best regards,
Przemek
From druzus at acn.waw.pl  Tue Jan  8 13:52:52 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan  8 13:52:57 2008
Subject: [Harbour] Re: 2007-11-30 20:25 UTC+0100 Marek Paliwoda (mpaliwoda
	at interia pl)
In-Reply-To: <642BEEA6-3A65-4DCA-ADDD-D7DAE21136F4@syenar.hu>
References: <475064AF.6050508@interia.pl> <14650761.post@talk.nabble.com>
	<flse7q$bn7$1@ger.gmane.org> <14659569.post@talk.nabble.com>
	<flsiku$kkp$1@ger.gmane.org>
	<642BEEA6-3A65-4DCA-ADDD-D7DAE21136F4@syenar.hu>
Message-ID: <20080108135252.GD6115@localhost.localdomain>

On Mon, 07 Jan 2008, Szak?ts Viktor wrote:
> Hi,
> Exactly like Marek says. hb_stack*() API
> is not a public API, it's reserved for
> internal Harbour usage. It's needed for a
> proper separation of layers / components.

I agree. Number of public functions does not increase
functionality but seriously reduce possible modifications
in core code due to compatibility with existing 3-rd
party code.

> RTL actually uses it in 4 files, which needs
> to be fixed, IMO:
> do.c, errorapi.c, errorint.c, xhelp.c

All these files needs functionality which is not available
without calling hb_stack*() functions so it cannot be done
without adding some public wrapper functions to HVM or making
some of hb_stack*() functions public.
Additionaly I will have to add two new functions:
hb_stackGetTSD() and hb_stackTestTSD() which will be used in
some other RTL files. They are necessary for thread specific
data - static variables local to thread. It's very important
feature which allows to keep common MT and ST code. Below I'm
attaching ChangeLog for modifications which introduce TSD support
to Harbour in .prg and .c level.

best regards,
Przemek


XXXX-XX-XX XX:XX UTC+XXXX Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbstack.h
  * harbour/source/vm/estack.c
  * harbour/source/vm/hvm.c
    + added support for thread specific data located on HVM stack
      Now it's possible to allocate static variables which are
      local to thread. Such variables are allocated on HVM stack
      and automatically destroyed. To declare new TSD variable use:
         HB_TSD_NEW( <name>, <size>, <init>, <destruct> )
      <name> - name of variable which holds TSD handler
      <size> - size of TSD are which has to be allocated
      <init> - init function, executed when new TSD is allocated by thread
               (thread access given TSD 1-st time). This function receives
               void * pointer to allocated area.
      <destruct> - destructor function executed when HVM stack is destroyed
      f.e.:
         static HB_TSD_NEW( s_scrData, sizeof( HB_SCRDATA ),
                            NULL, hb_xSaveRestRelease );
      To initialize dynamically allocated TSD variable use:
         HB_TSD_INIT( <name>, <size>, <init>, <destruct> )
      Pointer to TSD can be accessed using hb_stackGetTSD( &<name> )
      where <name> is name of variable which holds TSD handler, f.e.:
         PHB_SCRDATA pScrData = ( PHB_SCRDATA ) hb_stackGetTSD( &s_scrData );
      See source/rtl/xsavescr.c as an example
      It's also possible to test if data has been already allocated for
      current thread by:
         hb_stackTestTSD( &<name> ) => pData
      it works like hb_stackGetTSD() but return NULL if current thread data
      has not been allocated yet.

  * harbour/source/rtl/xsavescr.c
    * use TSD data for screen buffer to make __XSAVESCREEN()/__XRESTSCREEN()
      thread independent

  * harbour/source/rtl/setkey.c
    * use TSD data for allocated keys to make SETKEY() thread independent

  * harbour/include/hbapigt.h
  * harbour/source/rtl/console.c
    * removed hb_setkeyInit() and hb_setkeyExit() - they are not longer
      necessary, allocated resources will be freed by TSD destructor
      function

  * harbour/include/hbapi.h
  * harbour/source/rtl/console.c
    * removed hb_conXSaveRestRelease() - it's not longer necessary,
      allocated resources will be freed by TSD destructor function

  * harbour/include/hbcomp.h
  * harbour/include/hbcompdf.h
  * harbour/source/compiler/complex.c
  * harbour/source/compiler/harbour.y
  * harbour/source/compiler/harbour.yyc
  * harbour/source/compiler/harbour.yyh
  * harbour/source/vm/hvm.c
    + added support for static variables which are local to thread:
         STATIC THREAD <varname [:= <exp>], ...>
      They work like normal static variables but each thread operates
      on its own copy.
    * added protection against possible double call to hb_xfree()
      It can happen due to wrong marking expressions as used by bison
      and executing destructors after our free code when syntax error
      appear.

  * harbour/source/rtl/perfuncs.prg
  * harbour/source/rtl/menuto.prg
  * harbour/source/rtl/getlist.prg
  * harbour/source/rtl/readvar.prg
  * harbour/source/rtl/text.prg
    * use STATIC THREAD variables to make above code MT safe
From tomaz.zupan at orpo.si  Tue Jan  8 14:03:13 2008
From: tomaz.zupan at orpo.si (=?iso-8859-2?q?Toma=BE_Zupan?=)
Date: Tue Jan  8 14:03:19 2008
Subject: [Harbour] pack_src.sh
In-Reply-To: <20080108124528.GA6115@localhost.localdomain>
References: <200712221739.16393.tomaz.zupan@orpo.si>
	<20080108124528.GA6115@localhost.localdomain>
Message-ID: <200801081503.13536.tomaz.zupan@orpo.si>

Dne torek 8. januarja 2008 je Przemyslaw Czerpak napisal(a):
> > There seems to be a problem with this script, because I aleays get empty
> > archive and thus make_rpm.sh script also fails.
> If it's not bug in Mandriva SED then you probably
> have repository with CRLF EOLs. How do you take it?

I did svn checkout, can't remember exact command, but I followed instructions 
on sf.net. 

> Can you send to me one of your entries files in binary
> form (f.e. compressed by GZIP) to eliminate automatic
> EOL conversion by mail programs?

Sent to your private address.

>
> BTW Can you also test this command in one of Harbour .svn directories:
>
> sed -e '/^[ ]*name="..*"[\r]*$/ !d' -e 's/^[ ]*name="\(.*\)".*/\1/g'
> entries

It does not return anything.

LP, Toma?
From druzus at acn.waw.pl  Tue Jan  8 14:04:02 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan  8 14:04:11 2008
Subject: [Harbour] Autoincrement fields
In-Reply-To: <000201c84833$7dabeb50$6501a8c0@ASUSFSG>
References: <14476967.post@talk.nabble.com> <14492446.post@talk.nabble.com>
	<000201c84833$7dabeb50$6501a8c0@ASUSFSG>
Message-ID: <20080108140402.GA9994@localhost.localdomain>

On Thu, 27 Dec 2007, Francesco Saverio Giudice wrote:
> Hi All,
> how may I use an autoincrement field ?
> I would like to have a numeric value, but at the moment if I create a dbf 
> with below command, I got a datetime field.
> dbcreate( "test", { {"USERID", "+", 12, 0 }, { "NAME", C, 20, 0 } }, 
> "DBFCDX" )
> I have tried with some combinations of len and dec values, but without 
> success.
> I have also seen that at the moment there is a commented out DBS_FLAG, but 
> it should be for future extension.
> Is autoinc already full implemented or is it at devel stage ?

AFAIK is working and it is fully functional. If you think that sth is
wrong then please create self contain example which illustrates the
problem. This example shows that AUTOINC fields works without any
problems:

    proc main()
    local i
    rddsetdefault( "DBFCDX" )
    dbcreate( "test", { {"USERID", "+", 4, 0 }, { "NAME", "C", 20, 0 } } )
    use test
    for i:=1 to 10
       dbappend()
       if i % 3 == 0
          field->name := "NAME:" + ltrim( str( i ) )
       endif
    next
    dbgotop()
    browse()
    close
    return

best regards,
Przemek
From druzus at acn.waw.pl  Tue Jan  8 14:31:24 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan  8 14:31:31 2008
Subject: [Harbour] pack_src.sh
In-Reply-To: <200801081503.13536.tomaz.zupan@orpo.si>
References: <200712221739.16393.tomaz.zupan@orpo.si>
	<20080108124528.GA6115@localhost.localdomain>
	<200801081503.13536.tomaz.zupan@orpo.si>
Message-ID: <20080108143124.GA13306@localhost.localdomain>

On Tue, 08 Jan 2008, Toma? Zupan wrote:
> Sent to your private address.

Thank you. Your SVN does not use XML for entries files.
What is the number in your: .svn/format file?

best regards,
Przemek
From tomaz.zupan at orpo.si  Tue Jan  8 14:39:30 2008
From: tomaz.zupan at orpo.si (=?iso-8859-2?q?Toma=BE_Zupan?=)
Date: Tue Jan  8 14:39:34 2008
Subject: [Harbour] pack_src.sh
In-Reply-To: <20080108143124.GA13306@localhost.localdomain>
References: <200712221739.16393.tomaz.zupan@orpo.si>
	<200801081503.13536.tomaz.zupan@orpo.si>
	<20080108143124.GA13306@localhost.localdomain>
Message-ID: <200801081539.30401.tomaz.zupan@orpo.si>

Dne torek 8. januarja 2008 je Przemyslaw Czerpak napisal(a):
> Thank you. Your SVN does not use XML for entries files.
> What is the number in your: .svn/format file?
>

8

LP, Toma?
From druzus at acn.waw.pl  Tue Jan  8 14:43:16 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan  8 14:43:21 2008
Subject: [Harbour] pack_src.sh
In-Reply-To: <200801081539.30401.tomaz.zupan@orpo.si>
References: <200712221739.16393.tomaz.zupan@orpo.si>
	<200801081503.13536.tomaz.zupan@orpo.si>
	<20080108143124.GA13306@localhost.localdomain>
	<200801081539.30401.tomaz.zupan@orpo.si>
Message-ID: <20080108144316.GB13306@localhost.localdomain>

On Tue, 08 Jan 2008, Toma? Zupan wrote:
> Dne torek 8. januarja 2008 je Przemyslaw Czerpak napisal(a):
> > Thank you. Your SVN does not use XML for entries files.
> > What is the number in your: .svn/format file?
> 8

Try attached pack_src.sh

best regards,
Przemek
-------------- next part --------------
A non-text attachment was scrubbed...
Name: pack_src.sh
Type: application/x-sh
Size: 1332 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080108/6e0c0d58/pack_src.sh
From druzus at acn.waw.pl  Tue Jan  8 14:52:26 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan  8 14:52:32 2008
Subject: R: [Harbour] Clipper Compatibility (compiler variable declaration
	check)
In-Reply-To: <001901c851ff$14719ec0$3a00df0a@maxsoft>
References: <AFB948164110ED43B5EB849E8DEEF03815E7A6@SRV02.deltain.net>
	<000501c851c2$6a4940b0$2a00df0a@maxsoft>
	<20080108133933.GC6115@localhost.localdomain>
	<001901c851ff$14719ec0$3a00df0a@maxsoft>
Message-ID: <20080108145226.GC13306@localhost.localdomain>

On Tue, 08 Jan 2008, Massimo Renzi (MaticaSrl) wrote:
> Hi Przemek,
> thank you for your reply.
> I would like present you my admiration of your work.
> I don?t know how to say "Thank you for ever" for your great work.
> So...
> My source code is:
> <code>
> ...
> MAN_ARCH(Dir_Work,Dir_Cont,1,10,08)
> ...
> </code>
> <code>
> FUNCTION MAN_ARCH
> *-------------------------------------*
> PARAMETER App_Work,App_Cont,_Flg,_Rig,_Col,V_Main
> PRIVATE Arch_Db,Arch_Nt,Dir2_Work,_Desc
> PRIVATE N_Ar_Ind,_Rig,_Col,R_Per,C_Per,R_Arc,C_Arc
> IF EMPTY(V_Main)
>    V_Main = "S"
> ENDIF
> R_Per = _Rig + 1
> ...
> </code>
> In Debug console "_Rig" have NUL value. 
> "R_Per = _Rig + 1" return 1081 error
> The 2 function are in separate file.
> Now I'll make an easiest small sample.

OK, this is reduce self contain example which illustrates the
problem:
    PROC MAIN()
    PRIVATE p:="1"
    PRIVATE p:="2"
    PRIVATE p   // Clipper does not reset 'p' to NIL and Harbour does
    ? p
    RETURN

As you can see it has nothing to parameters statement. It's the reason
why self contain examples are such important.

I can make it Clipper compatible but IMHO it's bug in Clipper.
To be precise such code is illegal. You can use in Clipper and Harbour
-a compile time switch and compiler will report errors for all such
duplicated declarations. If it's not enough for you to correct
your code and other developers agree that we should be strict Clipper
compatible here then I'll implement it though my personal opinion
is that it's Clipper anomaly and it will be better to document it
as a difference then replicate.

best regards,
Przemek
From tomaz.zupan at orpo.si  Tue Jan  8 15:01:26 2008
From: tomaz.zupan at orpo.si (=?utf-8?q?Toma=C5=BE_Zupan?=)
Date: Tue Jan  8 15:01:32 2008
Subject: [Harbour] pack_src.sh
In-Reply-To: <20080108144316.GB13306@localhost.localdomain>
References: <200712221739.16393.tomaz.zupan@orpo.si>
	<200801081539.30401.tomaz.zupan@orpo.si>
	<20080108144316.GB13306@localhost.localdomain>
Message-ID: <200801081601.26257.tomaz.zupan@orpo.si>

Dne torek 8. januarja 2008 je Przemyslaw Czerpak napisal(a):
>
> Try attached pack_src.sh
>

it works!

LP, Toma?
From harbour.01 at syenar.hu  Tue Jan  8 15:47:27 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jan  8 15:47:33 2008
Subject: R: [Harbour] Clipper Compatibility (compiler variable declaration
	check)
In-Reply-To: <20080108145226.GC13306@localhost.localdomain>
References: <AFB948164110ED43B5EB849E8DEEF03815E7A6@SRV02.deltain.net>
	<000501c851c2$6a4940b0$2a00df0a@maxsoft>
	<20080108133933.GC6115@localhost.localdomain>
	<001901c851ff$14719ec0$3a00df0a@maxsoft>
	<20080108145226.GC13306@localhost.localdomain>
Message-ID: <D8A297B3-69FF-4E90-876E-ED6BEEF8AC82@syenar.hu>

>>
Hi Przemek,


>> </code>
>> In Debug console "_Rig" have NUL value.
>> "R_Per = _Rig + 1" return 1081 error
>> The 2 function are in separate file.
>> Now I'll make an easiest small sample.
>
> OK, this is reduce self contain example which illustrates the
> problem:
>    PROC MAIN()
>    PRIVATE p:="1"
>    PRIVATE p:="2"
>    PRIVATE p   // Clipper does not reset 'p' to NIL and Harbour does
>    ? p
>    RETURN
>
> As you can see it has nothing to parameters statement. It's the reason
> why self contain examples are such important.
>
> I can make it Clipper compatible but IMHO it's bug in Clipper.
> To be precise such code is illegal. You can use in Clipper and Harbour
> -a compile time switch and compiler will report errors for all such
> duplicated declarations. If it's not enough for you to correct
> your code and other developers agree that we should be strict Clipper
> compatible here then I'll implement it though my personal opinion
> is that it's Clipper anomaly and it will be better to document it
> as a difference then replicate.

You can implement this as a HB_C52_STRICT option IMO.

(As an aside, in my last tests Harbour didn't compile
with strict because of some OO compilation problems, but anyway).

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Jan  8 16:17:42 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan  8 16:17:49 2008
Subject: R: [Harbour] Clipper Compatibility (compiler variable declaration
	check)
In-Reply-To: <D8A297B3-69FF-4E90-876E-ED6BEEF8AC82@syenar.hu>
References: <AFB948164110ED43B5EB849E8DEEF03815E7A6@SRV02.deltain.net>
	<000501c851c2$6a4940b0$2a00df0a@maxsoft>
	<20080108133933.GC6115@localhost.localdomain>
	<001901c851ff$14719ec0$3a00df0a@maxsoft>
	<20080108145226.GC13306@localhost.localdomain>
	<D8A297B3-69FF-4E90-876E-ED6BEEF8AC82@syenar.hu>
Message-ID: <20080108161742.GA28112@localhost.localdomain>

On Tue, 08 Jan 2008, Szak?ts Viktor wrote:
> You can implement this as a HB_C52_STRICT option IMO.
> (As an aside, in my last tests Harbour didn't compile
> with strict because of some OO compilation problems, but anyway).

Yes. Clipper PP does not have identifier concatenation at all.
In the moment when you removed support for method names without
class name prefixes (HB_SHORTNAMES macro) you blocked compilation
of any code which needs hbclass.ch with Harbour compiled with
HB_C52_STRICT. If you want to restore HB_C52_STRICT functionality
you will have to revert your modifications in hbclass.ch

best regards,
Przemek
From harbour.01 at syenar.hu  Tue Jan  8 18:36:12 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jan  8 18:36:29 2008
Subject: [Harbour] CHANGELOG:
Message-ID: <01c85225$Blat.v2.6.2$5831add7$13905e0a7722@127.0.0.1>

2008-01-08 19:31 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * include/hbclass.ch
     ! Enabling HB_CLS_NO_DECORATION if compiled with HB_C52_STRICT, 
       since in strict mode some PP extensions required by the 
       decoration feature are not available.
       (Thanks Przemek for the tip)
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jan  8 18:39:03 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jan  8 18:39:18 2008
Subject: [Harbour] CHANGELOG: 2008-01-08 19:31 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c85225$Blat.v2.6.2$bdbbc93f$ee07db40a82@127.0.0.1>

2008-01-08 19:31 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * include/hbclass.ch
     ! Enabling HB_CLS_NO_DECORATION if compiled with HB_C52_STRICT, 
       since in strict mode some PP extensions required by the 
       decoration feature are not available.
       (Thanks Przemek for the tip)

   * source/rtl/tget.prg
     * Some formatting.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jan  8 18:43:43 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jan  8 18:43:43 2008
Subject: R: [Harbour] Clipper Compatibility (compiler variable declaration
	check)
In-Reply-To: <20080108161742.GA28112@localhost.localdomain>
References: <AFB948164110ED43B5EB849E8DEEF03815E7A6@SRV02.deltain.net>
	<000501c851c2$6a4940b0$2a00df0a@maxsoft>
	<20080108133933.GC6115@localhost.localdomain>
	<001901c851ff$14719ec0$3a00df0a@maxsoft>
	<20080108145226.GC13306@localhost.localdomain>
	<D8A297B3-69FF-4E90-876E-ED6BEEF8AC82@syenar.hu>
	<20080108161742.GA28112@localhost.localdomain>
Message-ID: <009A1DE3-1748-4F6D-BCE1-DF5F2032A0BB@syenar.hu>

I understand, thanks for the tip. I've just committed this
modification.

Something's still not right though. When compiling checkbox.prg
(the first OO code in the build process), lots of syntax errors
appear, then - after a slight pause - comes a memory allocation error:

 >harbour checkbox.prg /p /n /w /i..\include
Harbour devel build 1.1-1 Intl.
Copyright (c) 1999-2008, http://www.harbour-project.org/
Compiling 'checkbox.prg' and generating preprocessed output to  
'checkbox.ppo'...
checkbox.prg(69) Error E0030  Syntax error: "syntax error at '.'"
checkbox.prg(75) Error E0030  Syntax error: "syntax error at 'DISPLAY'"
checkbox.prg(76) Error E0030  Syntax error: "syntax error at  
'_CLASS_MODE_'"
checkbox.prg(77) Error E0030  Syntax error: "syntax error at  
'_CLASS_MODE_'"
checkbox.prg(78) Error E0030  Syntax error: "syntax error at  
'_CLASS_MODE_'"
checkbox.prg(79) Error E0030  Syntax error: "syntax error at  
'_CLASS_MODE_'"
checkbox.prg(81) Error E0030  Syntax error: "syntax error at 'BITMAPS'"
checkbox.prg(82) Error E0030  Syntax error: "syntax error at 'BUFFER'"
checkbox.prg(83) Error E0030  Syntax error: "syntax error at 'CAPCOL'"
checkbox.prg(84) Error E0030  Syntax error: "syntax error at 'CAPROW'"
checkbox.prg(85) Error E0030  Syntax error: "syntax error at 'CAPTION'"
checkbox.prg(86) Error E0030  Syntax error: "syntax error at 'COL'"
checkbox.prg(87) Error E0030  Syntax error: "syntax error at  
'COLORSPEC'"
checkbox.prg(88) Error E0030  Syntax error: "syntax error at 'FBLOCK'"
checkbox.prg(89) Error E0030  Syntax error: "syntax error at 'HASFOCUS'"
checkbox.prg(90) Error E0030  Syntax error: "syntax error at 'MESSAGE'"
checkbox.prg(91) Error E0030  Syntax error: "syntax error at 'ROW'"
checkbox.prg(92) Error E0030  Syntax error: "syntax error at 'SBLOCK'"
checkbox.prg(93) Error E0030  Syntax error: "syntax error at 'STYLE'"
checkbox.prg(94) Error E0030  Syntax error: "syntax error at 'TYPEOUT'"
checkbox.prg(96) Error E0030  Syntax error: "syntax error at 'NEW'"
checkbox.prg(116) Error E0030  Syntax error: "syntax error at '.'"
checkbox.prg(118) Error E0030  Syntax error: "syntax error at  
'FUNCTION'"
checkbox.prg(120) Warning W0001  Ambiguous reference: 'SELF'
checkbox.prg(121) Warning W0001  Ambiguous reference: 'SELF'
checkbox.prg(122) Warning W0001  Ambiguous reference: 'SELF'
checkbox.prg(123) Warning W0001  Ambiguous reference: 'SELF'
checkbox.prg(125) Warning W0001  Ambiguous reference: 'SELF'
checkbox.prg(126) Warning W0001  Ambiguous reference: 'SELF'
checkbox.prg(130) Warning W0001  Ambiguous reference: 'SELF'

Unrecoverable error 9006: hb_xgrab can't allocate memory

Brgds,
Viktor

On 2008.01.08., at 17:17, Przemyslaw Czerpak wrote:

> On Tue, 08 Jan 2008, Szak?ts Viktor wrote:
>> You can implement this as a HB_C52_STRICT option IMO.
>> (As an aside, in my last tests Harbour didn't compile
>> with strict because of some OO compilation problems, but anyway).
>
> Yes. Clipper PP does not have identifier concatenation at all.
> In the moment when you removed support for method names without
> class name prefixes (HB_SHORTNAMES macro) you blocked compilation
> of any code which needs hbclass.ch with Harbour compiled with
> HB_C52_STRICT. If you want to restore HB_C52_STRICT functionality
> you will have to revert your modifications in hbclass.ch
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Wed Jan  9 02:22:48 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jan  9 02:22:51 2008
Subject: [Harbour] A Question on Directives
In-Reply-To: <20080108131632.GB6115@localhost.localdomain>
References: <14573513.post@talk.nabble.com> <477B6022.1080005@gmail.com>
	<009301c84d4a$b398e6c0$ca64fea9@emag> <477BA5D1.9030305@gmail.com>
	<00e501c84d53$901356f0$ca64fea9@emag> <477BB02B.4050707@gmail.com>
	<00ff01c84d58$06046030$ca64fea9@emag> <477BBA21.9000600@gmail.com>
	<012701c84d5c$f4ce7440$ca64fea9@emag>
	<477BC4F4.3080607@gmail.com> <14585574.post@talk.nabble.com>
	<20080108131632.GB6115@localhost.localdomain>
Message-ID: <14703891.post@talk.nabble.com>


Przemek

Thanks for some clarifications and excellent TWINDOW class. In my opinion
there is no harm to include this class in V1.0 if group agrees.


Przemyslaw Czerpak-2 wrote:
> 
> All expressions like:
>     IIF( .T., <exp1>, <exp2> )
> or:
>     IIF( .F., <exp1>, <exp2> )
> 
> Are fully optimized by compiler so only <exp1> (or <exp2> in second
> case) are generated and you do not have even single PCODE overhead
> at runtime. You can safely use it without worry about it. The same
> hapens also for:
>     IIF( <exp1>, <exp2>, <exp3> )
> when <exp1> can be optimized at compile time, f.e.:
>     IIF( 1 == 1, <exp1>, <exp2> )
> or:
>     IIF( NIL != NIL, <exp1>, <exp2> )
> etc.
> 

I got it and will make use of.


Przemyslaw Czerpak-2 wrote:
> 
> IMHO the main problem is that you are changing parameters of standard
> Clipper functions. It has important bad side effect: New code which will
> use such extended functions will not be portable to other xBase languages
> as long as you do not ask their authors to make the same modification in
> standard screen functions - in most of cases you will have very small
> chance that they agree so IMHO it's bad design decisions which reduce
> users code portability to other xbase projects. Instead I strongly suggest
> to add new set of functions which will accept window handler without
> touching standard Clipper ones.
> I'm attaching scheme of source code for TWINDOW class which can be used
> for multi window output.
> I also suggest to make the same on C level and keep existing functions not
> changed.
> 

I understand this point. 

Let us view it from another angle. Is not it possible that other compiler
changes the parameters to suit their requirements. Will not they (other
compiler) will be thinking on same lines? In that case what we will do? Will
we support it ? If the answer is "YES" then to retain the existing
parameters count makes sense. But if the answer is "NO" then let us extend
it and be the first to set the trend.

In my opinion, GT API will never get attention with other compilers to get
extended. They will be more focussing on GUI interface. So it is safe to
extend it as long code can be compiled with Clipper, to be the least
requirement, though I know that few Clipper GT functions do not compile with
extra parameter which can be maintained under some directive.

>>>>>I strongly suggest to add new set of functions

Can not this be achieved under #ifdef HB_GT_MULTI_WINDOWS instead of
defining whole new set of functions which will trigger the big changes in
the sources. If these changes are guarded then I see no reason to write
whole new set. 


Przemyslaw Czerpak-2 wrote:
> 
> In fact for many people only HB_WSELECT() function will be necessary. In
> CT3 is also possible to create many virtual windows and only one function
> WSELECT() is enough to switch between them. Just ask
> people who use CTWIN in their programs, also with BROWSE and GET classes.
> 

The Multi-Window concept is different than CTWIN. Under CTWIN control is
through the <PROGRAM FLOW>. In MW( Multi-Window ) concept control is via
<USER ACTION>. In CTWIN program is running under one INKEY loop and based on
key pressed program decided what action to take and control returns back to
next line where from that request has been branched. In MW concept user may
opt to view/change the contents in any window he feels like, how to control
that flow. I have never used CTWIN so am not the right person to argue about
its functionality but IMO I understand the flow-concept. And what I am
emphasizing is to flow-control to which the tying of GT command to an
identifier is necessary. 

Yes, in your another post you have described about changes for MT mode, then
it is possible to skip what I am proposing, though I have reservations that
even under MT mode MW protocol will fit without hassles.


Przemyslaw Czerpak-2 wrote:
> 
> Now using PP you are trying to introduce default window handler when it's
> not necessary. It means that you will have two default handlers. One used
> when handler is not passed at all - this is the handler set
> by HB_WSELECT(). The second one you try to add using PP. IMHO it only
> makes things much more complicated.
> 

I am proposing this because of retaining the maximum existing code intact.
In case you find a piece of code qualifies for a new window, just create it
in first line and keep the GT handle in a variable which is passed along the
method called later in the function. No need to touch the subsequent code.
But in case if you wish to pass that handle within the function call. Both
ways it will work.


Przemyslaw Czerpak-2 wrote:
> 
> single:
> 
>     #xtranslate DispOutAt(<r>,<c>,<x>[,<l>]) => ;
>                 DispOutAt(<r>,<c>,<x>,<l>,hGT)
> 
> is all what you need.
> 

I had some problems. Will ask again after some tests. 

I feel I am missing something which is not clarifying my point of view. But
I will keep on trying to convince what I mean.

Regards
Pritpal Bedi, INDIA-USA



-- 
View this message in context: http://www.nabble.com/A-Question-on-Directives-tp14573513p14703891.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Jan  9 02:39:26 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jan  9 02:39:29 2008
Subject: [Harbour] 2007-11-30 20:25 UTC+0100 Marek Paliwoda
	(mpaliwoda at interia pl)
In-Reply-To: <20080108135252.GD6115@localhost.localdomain>
References: <475064AF.6050508@interia.pl> <14650761.post@talk.nabble.com>
	<flse7q$bn7$1@ger.gmane.org> <14659569.post@talk.nabble.com>
	<flsiku$kkp$1@ger.gmane.org>
	<642BEEA6-3A65-4DCA-ADDD-D7DAE21136F4@syenar.hu>
	<20080108135252.GD6115@localhost.localdomain>
Message-ID: <14704048.post@talk.nabble.com>


Hello Przemek, Marek, Viktor


Przemyslaw Czerpak-2 wrote:
> 
>> Exactly like Marek says. hb_stack*() API  is not a public API, it's
>> reserved for 
>> internal Harbour usage. It's needed for a proper separation of layers /
>> components.
> 
> I agree. Number of public functions does not increase functionality but
> seriously reduce possible odifications
> in core code due to compatibility with existing 3-rd party code.
> 

Now I understand better. If it been the case we must be cautious about
introducing them. Anyway, not a big deal. I will update those files.


Przemyslaw Czerpak-2 wrote:
> 
> Additionaly I will have to add two new functions:
> hb_stackGetTSD() and hb_stackTestTSD() which will be used in some other
> RTL files. They are necessary for thread specific data - static variables
> local to thread. It's very important feature which allows to keep common
> MT and ST code. Below I'm attaching ChangeLog for modifications which
> introduce TSD support
> to Harbour in .prg and .c level.
> 

:-)))) 
Guys be prepared for real-time Multi-threading in Harbour. MASTER is up and
running.



Przemyslaw Czerpak-2 wrote:
> 
>   * harbour/source/rtl/xsavescr.c
>     * use TSD data for screen buffer to make
> __XSAVESCREEN()/__XRESTSCREEN()
>       thread independent
> 
>   * harbour/source/rtl/setkey.c
>     * use TSD data for allocated keys to make SETKEY() thread independent
> 
>   * harbour/include/hbapigt.h
>   * harbour/source/rtl/console.c
>     * removed hb_setkeyInit() and hb_setkeyExit() - they are not longer
>       necessary, allocated resources will be freed by TSD destructor
>       function
> 
>   * harbour/include/hbapi.h
>   * harbour/source/rtl/console.c
>     * removed hb_conXSaveRestRelease() - it's not longer necessary,
>       allocated resources will be freed by TSD destructor function
> 
>   * harbour/source/rtl/perfuncs.prg
>   * harbour/source/rtl/menuto.prg
>   * harbour/source/rtl/getlist.prg
>   * harbour/source/rtl/readvar.prg
>   * harbour/source/rtl/text.prg
>     * use STATIC THREAD variables to make above code MT safe
> 

Interesting. And most-interesting part is getlist.prg and readvar.prg. Even
Xbase++ does not have this feature. 

Przem, keep in mind that WA must also be thread save like Xbase++ as this
feature alone in Xbase++ is a MARVEL in itself. I must be able to open same
table in different threads without changing alias, e.g., 

USE (MyTable) NEW ALIAS "MYTABLE" SHARED

And thanks for your superb guidance, clarifications and contributions.

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/2007-11-30-20%3A25-UTC%2B0100-Marek-Paliwoda-%28mpaliwoda-at-interia-pl%29-tp14096398p14704048.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Jan  9 02:45:59 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jan  9 02:46:03 2008
Subject: [Harbour] Memoedit.prg & Teditor.prg
In-Reply-To: <14570504.post@talk.nabble.com>
References: <14563311.post@talk.nabble.com>
	<08A778DB-BFA7-464C-94D9-01FDA1BF28F3@syenar.hu>
	<14570504.post@talk.nabble.com>
Message-ID: <14704050.post@talk.nabble.com>


Hello Viktor


Pritpal Bedi wrote:
> 
> Could you pls post the files to see what changed and how?
> 

I am awaiting your reply to this effect. It is not a big deal to keep these
two files local to my own projects, but IMO, these deserve group attention
too. 

Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/Memoedit.prg---Teditor.prg-tp14563311p14704050.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Jan  9 07:03:59 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jan  9 07:04:03 2008
Subject: [Harbour] RDD Extension Request
Message-ID: <14706263.post@talk.nabble.com>


Hi Przemek

If you remember, I had requested a feature in RDD core to accept a CARGO
parameter of type PHB_ITEM with every command responsible to create/open a
table on xHarbour ML. Is there a chance it be provided in Harbour ?

The protoype may be like:

DbCreate( ,,,,,, xCargo )
USE ....  CARGO xCargo
DbUseArea( ,,,, xCargo )
COPY TO CARGO
APPEND FROM ... CARGO xCargo
etc.

I find it very difficult to add new features to the RDD I am working on
which is based on USRRDD.

I understand that this may not sound good for standradization, but what if
RDD in question can offer such features which may/may not be possible in
other RDDs.

Thanks in advance.

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/RDD-Extension-Request-tp14706263p14706263.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From niki at synel.co.il  Wed Jan  9 07:24:41 2008
From: niki at synel.co.il (Chen Kedem)
Date: Wed Jan  9 07:24:41 2008
Subject: [Harbour] Re: 2007-11-30 20:25 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
Message-ID: <478476B9.EF7@synel.co.il>

On Tue Jan 8 2008, Przemyslaw Czerpak wrote:
> ChangeLog for modifications which introduce TSD support to Harbour

This sounds great!

> added support for static variables which are local to thread:
>         STATIC THREAD <varname [:= <exp>], ...>

There *might* be some collision with user code:

static thread;     
static thread x;

Is that a sintax error or definition of a static variable "thread"?

If you define it like:
THREAD STATIC <varname [:= <exp>], ...>

there is no such ambiguous. On the other hand, it looks like a natural
extension to STATIC FUNCTION or STATIC PROCEDURE. Oh, and if I look
at it like that, one might think that STATIC THREAD is declaration
of a new thread.


  Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From lorenzo.fiorini at gmail.com  Wed Jan  9 08:02:32 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Jan  9 08:02:36 2008
Subject: [Harbour] Re: How to get the pid of a app started with run()?
In-Reply-To: <9257026e0801072340x674405f0te882e0d4ff6f65c2@mail.gmail.com>
References: <9257026e0801072340x674405f0te882e0d4ff6f65c2@mail.gmail.com>
Message-ID: <9257026e0801090002la9bc49ld5dfba8d6c582cde@mail.gmail.com>

On Jan 8, 2008 8:40 AM, Lorenzo Fiorini <lorenzo.fiorini@gmail.com> wrote:

> I need to start several instances of the same Harbour app and I'd like
> to create an html "console" interface to see which are running.

Googling I've found a way to dot it.

Is this safe?

Comments from C gurus?

best regards,
Lorenzo

#include <sys/types.h>
#include <sys/wait.h>
#include <unistd.h>
#include <stdio.h>

static int runit( const char * pFile )
{
   pid_t pid;

   switch( pid = fork () )
   {
      case -1:
         perror( "fork()");
         break;
      case 0:
         execlp( pFile, pFile, NULL );
         break;
      default:
         return(pid);
         if( waitpid( pid, NULL, 0 ) != pid )
            perror( "waitpid()" );
         break;
   }

}

int main(int argc, char** argv, char** env)
{
   int pid;

   pid = runit( argv[1] );

   printf( "pid %d", pid ); fflush(0);

   return(0);
}
From harbour.01 at syenar.hu  Wed Jan  9 08:45:48 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jan  9 08:45:45 2008
Subject: [Harbour] Memoedit.prg & Teditor.prg
In-Reply-To: <14704050.post@talk.nabble.com>
References: <14563311.post@talk.nabble.com>
	<08A778DB-BFA7-464C-94D9-01FDA1BF28F3@syenar.hu>
	<14570504.post@talk.nabble.com> <14704050.post@talk.nabble.com>
Message-ID: <347A896F-6E5D-41D9-8955-A7F0C779D3BB@syenar.hu>

Hi Pritpal,

I missed your prev mail, but now I've found it.

Unfortunately the files are what I've suspected, and what
you've also told in your mail; these are full ports of
these xhb files just to compile under Harbour.

I vote no to include xhb files as-is in the core, for the
reasons I wrote previously (lost Harbour fixes, lots of
uncontrolled, undisputed and undecided extensions, code
quality in general, and formatting not up to Harbour std,
the files also include the not yet accepted MULTI-WINDOWS
branch, which I think should not be a separate branch,
but streamlined properly into core).

If there are problems with Harbour, which of course might be,
I think the right way is to fix them one by one, or importing
fixes from xhb one by one. This takes more time, but this is
also more proper on the long run to keep the quality here as
we like it.

Luckily, anyone can use your ported files locally, if it solves
their problem.

Brgds,
Viktor

On 2008.01.09., at 3:45, Pritpal Bedi wrote:

>
> Hello Viktor
>
>
> Pritpal Bedi wrote:
>>
>> Could you pls post the files to see what changed and how?
>>
>
> I am awaiting your reply to this effect. It is not a big deal to  
> keep these
> two files local to my own projects, but IMO, these deserve group  
> attention
> too.
>
> Regards
> Pritpal Bedi, INDIA-USA
>
>
> -- 
> View this message in context: http://www.nabble.com/Memoedit.prg---Teditor.prg-tp14563311p14704050.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Wed Jan  9 09:37:03 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jan  9 09:37:10 2008
Subject: R: [Harbour] Clipper Compatibility (compiler variable declaration
	check)
In-Reply-To: <009A1DE3-1748-4F6D-BCE1-DF5F2032A0BB@syenar.hu>
References: <AFB948164110ED43B5EB849E8DEEF03815E7A6@SRV02.deltain.net>
	<000501c851c2$6a4940b0$2a00df0a@maxsoft>
	<20080108133933.GC6115@localhost.localdomain>
	<001901c851ff$14719ec0$3a00df0a@maxsoft>
	<20080108145226.GC13306@localhost.localdomain>
	<D8A297B3-69FF-4E90-876E-ED6BEEF8AC82@syenar.hu>
	<20080108161742.GA28112@localhost.localdomain>
	<009A1DE3-1748-4F6D-BCE1-DF5F2032A0BB@syenar.hu>
Message-ID: <20080109093703.GA10625@localhost.localdomain>

On Tue, 08 Jan 2008, Szak?ts Viktor wrote:
> I understand, thanks for the tip. I've just committed this
> modification.

Thank you.

> Something's still not right though. When compiling checkbox.prg
> (the first OO code in the build process), lots of syntax errors
> appear, then - after a slight pause - comes a memory allocation error:
> >harbour checkbox.prg /p /n /w /i..\include
> Harbour devel build 1.1-1 Intl.
> Copyright (c) 1999-2008, http://www.harbour-project.org/
> Compiling 'checkbox.prg' and generating preprocessed output to  
> 'checkbox.ppo'...
> checkbox.prg(69) Error E0030  Syntax error: "syntax error at '.'"

In strict C52 mode we do not have support for functions with variable
number of parameters and ... operator. This can be easy resolved.

> checkbox.prg(81) Error E0030  Syntax error: "syntax error at 'BITMAPS'"
> checkbox.prg(82) Error E0030  Syntax error: "syntax error at 'BUFFER'"
> checkbox.prg(83) Error E0030  Syntax error: "syntax error at 'CAPCOL'"
> checkbox.prg(84) Error E0030  Syntax error: "syntax error at 'CAPROW'"
> checkbox.prg(85) Error E0030  Syntax error: "syntax error at 'CAPTION'"
> checkbox.prg(86) Error E0030  Syntax error: "syntax error at 'COL'"
[...]

For SETGET methods we also need identifier concatenation too add "_"
prefix. This cannot be easy resolved because Clipper's PP does allow
to concatenate any identifiers. For this we will have to use stringify
and RT function which will convert strings to symbols.

> Unrecoverable error 9006: hb_xgrab can't allocate memory

Side effect of possible recursions which can appear in strict C52 mode
because Clipper always preporcess nested directive in result pattern.
To eliminate it we will have to make some deeper modifications in our
hbclass.ch or use trick with #include like in class(y).ch
You can also easy disable strict compatibility here by modification
in hbpp.h, look at:

    #ifdef HB_C52_STRICT
    #  define HB_PP_TOKEN_ISEOS(t)   HB_PP_TOKEN_ISEOL(t)
    #  define HB_PP_TOKEN_ISEOP(t,l) HB_PP_TOKEN_ISEOL(t)
    #else
    /* End Of Subst - define how many tokens in line should be translated,
                      Clipper translate whole line */

and change it to:

    #ifdef HB_C52_STRICT_INFO
    #  define HB_PP_TOKEN_ISEOS(t)   HB_PP_TOKEN_ISEOL(t)
    #  define HB_PP_TOKEN_ISEOP(t,l) HB_PP_TOKEN_ISEOL(t)
    #else
    /* End Of Subst - define how many tokens in line should be translated,
                      Clipper translate whole line */


Memory allocation error is not good results of such recursive substitution
but also in Clipper it's possible to create rules which will give the
same results.
Unfortunately it's one of situations which cannot be easy trap and
reported without introducing some fixed limits which may reduce
functionality. The translation counter does not help because I can
easy create rule which will double tokens in translated line, f.e.:
    #command CMD <*x*> => CMD <x>, <x>
    CMD 1
and as you can easy calculate the memory allocation will be geometric
(2^N) to number of iterations. In such simple example it's possible
to easy detect cycle so this can be resolved but it's also possible
to create other examples where in practice it cannot be done. The only
one possible solution to avoid memory allocation errors seems to be
hardcoding some fixed limit for total allocate memory or number of
allocated tokens and report error like 'expression to complex' when
such limit is reached. So far I haven't added it intentionally to not
reduce functionality but I'll add such limit in the future for programs
which uses PP at RT.

best regards,
Przemek
From alex at belacy.belgorod.su  Wed Jan  9 09:53:06 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Wed Jan  9 09:53:19 2008
Subject: [Harbour] Re:  How to get the pid of a app started with run()?
In-Reply-To: <9257026e0801090002la9bc49ld5dfba8d6c582cde@mail.gmail.com>
References: <9257026e0801072340x674405f0te882e0d4ff6f65c2@mail.gmail.com>
	<9257026e0801090002la9bc49ld5dfba8d6c582cde@mail.gmail.com>
Message-ID: <47849982.1020302@belacy.belgorod.su>

> On Jan 8, 2008 8:40 AM, Lorenzo Fiorini <lorenzo.fiorini@gmail.com> wrote:
> 
>> I need to start several instances of the same Harbour app and I'd like
>> to create an html "console" interface to see which are running.
> 
> Googling I've found a way to dot it.
> 
> Is this safe?
> 


  I think, yes.
  But isn't it simpler to use getpid() to determine the pid of a process 
instead of forking it ?

  Regards,
    Alexander.
  http://kresin.belgorod.su
From harbour.01 at syenar.hu  Wed Jan  9 09:53:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jan  9 09:53:50 2008
Subject: R: [Harbour] Clipper Compatibility (compiler variable declaration
	check)
In-Reply-To: <20080109093703.GA10625@localhost.localdomain>
References: <AFB948164110ED43B5EB849E8DEEF03815E7A6@SRV02.deltain.net>
	<000501c851c2$6a4940b0$2a00df0a@maxsoft>
	<20080108133933.GC6115@localhost.localdomain>
	<001901c851ff$14719ec0$3a00df0a@maxsoft>
	<20080108145226.GC13306@localhost.localdomain>
	<D8A297B3-69FF-4E90-876E-ED6BEEF8AC82@syenar.hu>
	<20080108161742.GA28112@localhost.localdomain>
	<009A1DE3-1748-4F6D-BCE1-DF5F2032A0BB@syenar.hu>
	<20080109093703.GA10625@localhost.localdomain>
Message-ID: <2EFB2F79-6748-4AA9-AF74-A293F5B35478@syenar.hu>

Hi Przemek,

It would be better IMO too, to not impose artificial limits
just to present a bit more meaningful error message, since
these problems don't normally occur in user code.

I think - if we can - we should just fix the problems
causing it (those you describe), preferably using the
current strict PP feature set, again, if possible. (I
feel these fixes to be too complicated for me to do though)

As for the concatenation feature of PP, if enabled, what
kind of incompatibilities can it cause for legacy Clipper
code?

As an alternate solution, we might simply say that HB_C52_STRICT
is not a working codepath, and the sole purpose is to document
Clipper/Harbour differences in proper detail.

Brgds,
Viktor

On 2008.01.09., at 10:37, Przemyslaw Czerpak wrote:

> On Tue, 08 Jan 2008, Szak?ts Viktor wrote:
>> I understand, thanks for the tip. I've just committed this
>> modification.
>
> Thank you.
>
>> Something's still not right though. When compiling checkbox.prg
>> (the first OO code in the build process), lots of syntax errors
>> appear, then - after a slight pause - comes a memory allocation  
>> error:
>>> harbour checkbox.prg /p /n /w /i..\include
>> Harbour devel build 1.1-1 Intl.
>> Copyright (c) 1999-2008, http://www.harbour-project.org/
>> Compiling 'checkbox.prg' and generating preprocessed output to
>> 'checkbox.ppo'...
>> checkbox.prg(69) Error E0030  Syntax error: "syntax error at '.'"
>
> In strict C52 mode we do not have support for functions with variable
> number of parameters and ... operator. This can be easy resolved.
>
>> checkbox.prg(81) Error E0030  Syntax error: "syntax error at  
>> 'BITMAPS'"
>> checkbox.prg(82) Error E0030  Syntax error: "syntax error at  
>> 'BUFFER'"
>> checkbox.prg(83) Error E0030  Syntax error: "syntax error at  
>> 'CAPCOL'"
>> checkbox.prg(84) Error E0030  Syntax error: "syntax error at  
>> 'CAPROW'"
>> checkbox.prg(85) Error E0030  Syntax error: "syntax error at  
>> 'CAPTION'"
>> checkbox.prg(86) Error E0030  Syntax error: "syntax error at 'COL'"
> [...]
>
> For SETGET methods we also need identifier concatenation too add "_"
> prefix. This cannot be easy resolved because Clipper's PP does allow
> to concatenate any identifiers. For this we will have to use stringify
> and RT function which will convert strings to symbols.
>
>> Unrecoverable error 9006: hb_xgrab can't allocate memory
>
> Side effect of possible recursions which can appear in strict C52 mode
> because Clipper always preporcess nested directive in result pattern.
> To eliminate it we will have to make some deeper modifications in our
> hbclass.ch or use trick with #include like in class(y).ch
> You can also easy disable strict compatibility here by modification
> in hbpp.h, look at:
>
>    #ifdef HB_C52_STRICT
>    #  define HB_PP_TOKEN_ISEOS(t)   HB_PP_TOKEN_ISEOL(t)
>    #  define HB_PP_TOKEN_ISEOP(t,l) HB_PP_TOKEN_ISEOL(t)
>    #else
>    /* End Of Subst - define how many tokens in line should be  
> translated,
>                      Clipper translate whole line */
>
> and change it to:
>
>    #ifdef HB_C52_STRICT_INFO
>    #  define HB_PP_TOKEN_ISEOS(t)   HB_PP_TOKEN_ISEOL(t)
>    #  define HB_PP_TOKEN_ISEOP(t,l) HB_PP_TOKEN_ISEOL(t)
>    #else
>    /* End Of Subst - define how many tokens in line should be  
> translated,
>                      Clipper translate whole line */
>
>
> Memory allocation error is not good results of such recursive  
> substitution
> but also in Clipper it's possible to create rules which will give the
> same results.
> Unfortunately it's one of situations which cannot be easy trap and
> reported without introducing some fixed limits which may reduce
> functionality. The translation counter does not help because I can
> easy create rule which will double tokens in translated line, f.e.:
>    #command CMD <*x*> => CMD <x>, <x>
>    CMD 1
> and as you can easy calculate the memory allocation will be geometric
> (2^N) to number of iterations. In such simple example it's possible
> to easy detect cycle so this can be resolved but it's also possible
> to create other examples where in practice it cannot be done. The only
> one possible solution to avoid memory allocation errors seems to be
> hardcoding some fixed limit for total allocate memory or number of
> allocated tokens and report error like 'expression to complex' when
> such limit is reached. So far I haven't added it intentionally to not
> reduce functionality but I'll add such limit in the future for  
> programs
> which uses PP at RT.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Wed Jan  9 10:25:39 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Jan  9 10:25:43 2008
Subject: [Harbour] Re: How to get the pid of a app started with run()?
In-Reply-To: <47849982.1020302@belacy.belgorod.su>
References: <9257026e0801072340x674405f0te882e0d4ff6f65c2@mail.gmail.com>
	<9257026e0801090002la9bc49ld5dfba8d6c582cde@mail.gmail.com>
	<47849982.1020302@belacy.belgorod.su>
Message-ID: <9257026e0801090225u309c70ek125c52e93e19e618@mail.gmail.com>

On Jan 9, 2008 10:53 AM, Alexander S.Kresin <alex@belacy.belgorod.su> wrote:

>   But isn't it simpler to use getpid() to determine the pid of a process
> instead of forking it ?

Probably yes but I didn't find viable examples.

My idea is to create a series of HB_RUNxxx functions that controls
processes, sth like:

HB_RUN( cCmd )

HB_RUNKILL( pid )

HB_RUNLIST( [ cUser|regex] )

etc.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Wed Jan  9 10:44:28 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Jan  9 10:44:32 2008
Subject: [Harbour] Re: How to get the pid of a app started with run()?
In-Reply-To: <47849982.1020302@belacy.belgorod.su>
References: <9257026e0801072340x674405f0te882e0d4ff6f65c2@mail.gmail.com>
	<9257026e0801090002la9bc49ld5dfba8d6c582cde@mail.gmail.com>
	<47849982.1020302@belacy.belgorod.su>
Message-ID: <9257026e0801090244w47770ebet603dc34f43a8e90c@mail.gmail.com>

On Jan 9, 2008 10:53 AM, Alexander S.Kresin <alex@belacy.belgorod.su> wrote:

>   But isn't it simpler to use getpid() to determine the pid of a process
> instead of forking it ?

Can hb_fsPOpen in source/rtl/filesys.c be a start?

best regards,
Lorenzo
From alex at belacy.belgorod.su  Wed Jan  9 11:32:27 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Wed Jan  9 11:32:34 2008
Subject: [Harbour] Re: How to get the pid of a app started with run()?
In-Reply-To: <9257026e0801090225u309c70ek125c52e93e19e618@mail.gmail.com>
References: <9257026e0801072340x674405f0te882e0d4ff6f65c2@mail.gmail.com>	<9257026e0801090002la9bc49ld5dfba8d6c582cde@mail.gmail.com>	<47849982.1020302@belacy.belgorod.su>
	<9257026e0801090225u309c70ek125c52e93e19e618@mail.gmail.com>
Message-ID: <4784B0CB.6070906@belacy.belgorod.su>

Lorenzo Fiorini:
> On Jan 9, 2008 10:53 AM, Alexander S.Kresin <alex@belacy.belgorod.su> wrote:
> 
>>   But isn't it simpler to use getpid() to determine the pid of a process
>> instead of forking it ?
> 
> Probably yes but I didn't find viable examples.
> 

  As I have understood just now, you need to get the pid from external 
process, not from inside - so the getpid() function can't help.
  Possible solutions are:
  1) using of KVM (kernel virtual memory interface) functions:
kvm_getprocs(), kvm_getenvv(), kvm_getargv(), ...
  2) processing of the output of ps command

Regards,
    Alexander.
  http://kresin.belgorod.su

From mbelgrano at deltain.it  Wed Jan  9 11:36:53 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jan  9 11:37:05 2008
Subject: [Harbour] Interesting Xmate  proposal
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E7D7@SRV02.deltain.net>

Maurizio la Cecilia have write on xmate newsgroup at
http://tech.groups.yahoo.com/group/xmate_users/message/1921

Hi all,
have a good new year.
Some day before Christmas Andy Wos and me have talked and evaluated
the possibility of give to xMate a new impulse, collaborating about
this product in a trusted group of developers.
I'm convinced, in effect, that the lack of new releases of this
product is a consequence of the superwork that Andy is doing about
the xMateSE development and if the users of the group could work on
some strategic piece of source (i.e. the editor, the formatter, the
form generator, etc.) some interesting enhancement could be done. I
suspect, in addition, that xMate could be used not only as project
builder and editor/formatter for the source code, but also as tool
for developing a customizable environment for personal software
development (i.e. integrating the hwGUI designer, or others resource
compilers).
Andy was quite in accord with this assumption but need have an idea
about who is very interested to this project, because the xMate group
is'nt very active in the last months and only if the number of
collaborators will be sufficient Andy will think to release on
SourceForge or a similar group the source of xMate.
Thus i ask you to signal to Andy posting on this group about an
interest about this idea replicating to this message.
Best regards.


From alex at belacy.belgorod.su  Wed Jan  9 11:48:40 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Wed Jan  9 11:48:44 2008
Subject: [Harbour] Re: How to get the pid of a app started with run()?
In-Reply-To: <9257026e0801090244w47770ebet603dc34f43a8e90c@mail.gmail.com>
References: <9257026e0801072340x674405f0te882e0d4ff6f65c2@mail.gmail.com>	<9257026e0801090002la9bc49ld5dfba8d6c582cde@mail.gmail.com>	<47849982.1020302@belacy.belgorod.su>
	<9257026e0801090244w47770ebet603dc34f43a8e90c@mail.gmail.com>
Message-ID: <4784B498.1030101@belacy.belgorod.su>

Lorenzo Fiorini:
> On Jan 9, 2008 10:53 AM, Alexander S.Kresin <alex@belacy.belgorod.su> wrote:
> 
>>   But isn't it simpler to use getpid() to determine the pid of a process
>> instead of forking it ?
> 
> Can hb_fsPOpen in source/rtl/filesys.c be a start?
> 

  Hm... I don't see how the hb_fsPOpen() code is related to this issue.
  The third way ( in addition to mentioned in my previous message ) is 
scanning the /proc directory. Each working process have appropriate 
subdir there with a name, which is a process pid. You can go through all 
that subdirs and read some files in them, 'cmdline', for example, keeps 
the command line, which was used to run the process.

Regards,
    Alexander.
  http://kresin.belgorod.su

From druzus at acn.waw.pl  Wed Jan  9 12:14:31 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jan  9 12:14:37 2008
Subject: [Harbour] Re: How to get the pid of a app started with run()?
In-Reply-To: <9257026e0801090225u309c70ek125c52e93e19e618@mail.gmail.com>
References: <9257026e0801072340x674405f0te882e0d4ff6f65c2@mail.gmail.com>
	<9257026e0801090002la9bc49ld5dfba8d6c582cde@mail.gmail.com>
	<47849982.1020302@belacy.belgorod.su>
	<9257026e0801090225u309c70ek125c52e93e19e618@mail.gmail.com>
Message-ID: <20080109121431.GA19124@localhost.localdomain>

On Wed, 09 Jan 2008, Lorenzo Fiorini wrote:
> >   But isn't it simpler to use getpid() to determine the pid of a process
> > instead of forking it ?
> Probably yes but I didn't find viable examples.
> My idea is to create a series of HB_RUNxxx functions that controls
> processes, sth like:
> HB_RUN( cCmd )
> HB_RUNKILL( pid )
> HB_RUNLIST( [ cUser|regex] )

Try the code below. It makes what you are looking for.
Compile example with GTCGI for better merge 'ps xa' and program output.

best regrds,
Przemek


proc main()
local aPID:={}, i
for i:=1 to 10
   aadd( aPID, HB_EXECVP( "sleep", ltrim( str( i ) ) ) )
next
__run("ps xa|grep sleep|grep -v grep")
hb_idlesleep(3.5)
?
__run("ps xa|grep sleep|grep -v grep")
for i:=1 to len(aPID)
   if HB_WAITPID( aPID[i], .t. ) > 0
      ? "Process: ", ltrim( str( aPID[i] ) ), "died."
   else
      ? "Killing process:", ltrim( str( aPID[i] ) ), "..."
      ?? iif( HB_KILL(aPID[i],15), " done", "error" )
      HB_WAITPID( aPID[i] )
      ?? ", process terminated"
   endif
next
__run("ps xa|grep sleep|grep -v grep")
?
return

#pragma begindump
#include "hbapi.h"
#include "hbapiitm.h"
#include "hbapierr.h"
#include <unistd.h>
#include <sys/types.h>
#include <sys/wait.h>
#include <signal.h>
#include <errno.h>
HB_FUNC( HB_EXECVP )
{
   char * szProgName = hb_parc( 1 );

   if( szProgName )
   {
      char ** argv;
      int argc = 1;
      pid_t pid;
      int iPCount = hb_pcount(), iParam;

      for( iParam = 2; iParam <= iPCount; ++iParam )
      {
         PHB_ITEM pParam = hb_param( iParam, HB_IT_ARRAY | HB_IT_STRING );
         if( pParam )
         {
            if( HB_IS_ARRAY( pParam ) )
            {
               ULONG ul = hb_arrayLen( pParam );
               if( ul ) do
               {
                  if( hb_arrayGetType( pParam, ul ) & HB_IT_STRING )
                     ++argc;
               }
               while( --ul );
            }
            else
               ++argc;
         }
      }

      argv = ( char ** ) hb_xgrab( sizeof( char * ) * ( argc + 1 ) );
      argc = 0;
      argv[ argc++ ] = szProgName;

      for( iParam = 2; iParam <= iPCount; ++iParam )
      {
         PHB_ITEM pParam = hb_param( iParam, HB_IT_ARRAY | HB_IT_STRING );
         if( pParam )
         {
            if( HB_IS_ARRAY( pParam ) )
            {
               ULONG ul = hb_arrayLen( pParam );
               if( ul ) do
               {
                  if( hb_arrayGetType( pParam, ul ) & HB_IT_STRING )
                     argv[ argc++ ] = hb_arrayGetCPtr( pParam, ul );
               }
               while( --ul );
            }
            else
               argv[ argc++ ] = hb_itemGetCPtr( pParam );
         }
      }
      argv[ argc ] = NULL;

      pid = fork();
      if( pid == 0 )
      {
         execvp( szProgName, argv );
         exit( errno );
      }
      hb_xfree( argv );
      hb_retnint( pid );
   }
   else
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, &hb_errFuncName, HB_ERR_ARGS_BASEPARAMS );
}

HB_FUNC( HB_KILL )
{
   if( ISNUM( 1 ) )
      hb_retl( kill( hb_parnl( 1 ), hb_parnl( 2 ) ) == 0 );
   else
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, &hb_errFuncName, HB_ERR_ARGS_BASEPARAMS );
}

HB_FUNC( HB_WAITPID )
{
   if( ISNUM( 1 ) )
   {
      int status;
      hb_retnint( waitpid( ( pid_t ) hb_parnint( 1 ), &status,
                  ISLOG( 2 ) && hb_parl( 2 ) ? WNOHANG : 0 ) );
   }
   else
      hb_errRT_BASE_SubstR( EG_ARG, 3012, NULL, &hb_errFuncName, HB_ERR_ARGS_BASEPARAMS );
}
#pragma enddump
From dbtopas at dbtopas.lt  Wed Jan  9 12:19:06 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Jan  9 12:17:28 2008
Subject: [Harbour] 2007-11-30 20:25 UTC+0100 Marek Paliwoda	(mpaliwoda
	at interia pl)
In-Reply-To: <14704048.post@talk.nabble.com>
References: <475064AF.6050508@interia.pl>
	<14650761.post@talk.nabble.com>	<flse7q$bn7$1@ger.gmane.org>
	<14659569.post@talk.nabble.com>	<flsiku$kkp$1@ger.gmane.org>	<642BEEA6-3A65-4DCA-ADDD-D7DAE21136F4@syenar.hu>	<20080108135252.GD6115@localhost.localdomain>
	<14704048.post@talk.nabble.com>
Message-ID: <4784BBBA.9070000@dbtopas.lt>

Przemyslaw Czerpak-2 wrote:
>>   * harbour/source/rtl/perfuncs.prg
>>   * harbour/source/rtl/menuto.prg
>>   * harbour/source/rtl/getlist.prg
>>   * harbour/source/rtl/readvar.prg
>>   * harbour/source/rtl/text.prg
>>     * use STATIC THREAD variables to make above code MT safe

Pritpal Bedi wrote:
> Interesting. And most-interesting part is getlist.prg and readvar.prg. Even
> Xbase++ does not have this feature. 


Hello,


hmmm... How do you see changes in getlist.prg and readvar.prg? This is 
changelog of proposed commit only. I can't find it on SVN or attached to 
the email.


Best regards,
Mindaugas

From M.Horodyski at pzuzycie.com.pl  Wed Jan  9 12:31:18 2008
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Jan  9 12:31:23 2008
Subject: [Harbour] RE: Harbour Digest, Vol 15, Issue 18
In-Reply-To: <NLB02FEbFqTnrrXj7gC00009e6a@gatein.pzuzycie.com.pl>
Message-ID: <4A24C1FA7DEAF343BA8782FCB1F2593D3C5FBD@PINK.zycie.pzu>

>From: "Massimo Belgrano" <mbelgrano@deltain.it>
>Subject: [Harbour] Interesting Xmate  proposal

>Hi all,

[...]

>Thus i ask you to signal to Andy posting on this group about 
>an interest about this idea replicating to this message.
>Best regards.

Massimo, ask Andy about hierahical source code editor in xMate.
He know about I talk.

Regards,
Marek Horodyski
From dbtopas at dbtopas.lt  Wed Jan  9 12:33:54 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Jan  9 12:32:15 2008
Subject: [Harbour] Store via Item API
Message-ID: <4784BF32.4080308@dbtopas.lt>

Hello,


I need to store item to parameter passed by reference. I found there is 
no API for this. My current code is:

    if( hb_param( 2, HB_IT_BYREF ) )
    {
       ...
       hb_itemMoveToRef( hb_stackItemFromBase( 2 ), pItem );
    }

Is this OK? Can we have function hb_itemParamStore( iParam, pItem ) to 
do the job?


Best regards,
Mindaugas
From bedipritpal at hotmail.com  Wed Jan  9 12:42:50 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jan  9 12:42:53 2008
Subject: [Harbour] Interesting Xmate  proposal
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E7D7@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815E7D7@SRV02.deltain.net>
Message-ID: <14710898.post@talk.nabble.com>


Hi


Massimo Belgrano wrote:
> 
> Maurizio la Cecilia have write on xmate newsgroup at
> http://tech.groups.yahoo.com/group/xmate_users/message/1921
> 
> Hi all,
> have a good new year.
> Some day before Christmas Andy Wos and me have talked and evaluated
> the possibility of give to xMate a new impulse, collaborating about
> this product in a trusted group of developers.
> I'm convinced, in effect, that the lack of new releases of this
> product is a consequence of the superwork that Andy is doing about
> the xMateSE development and if the users of the group could work on
> some strategic piece of source (i.e. the editor, the formatter, the
> form generator, etc.) some interesting enhancement could be done. I
> suspect, in addition, that xMate could be used not only as project
> builder and editor/formatter for the source code, but also as tool
> for developing a customizable environment for personal software
> development (i.e. integrating the hwGUI designer, or others resource
> compilers).
> Andy was quite in accord with this assumption but need have an idea
> about who is very interested to this project, because the xMate group
> is'nt very active in the last months and only if the number of
> collaborators will be sufficient Andy will think to release on
> SourceForge or a similar group the source of xMate.
> Thus i ask you to signal to Andy posting on this group about an
> interest about this idea replicating to this message.
> Best regards.
> 

Andy has shown his generousity as ever. Count me as a user/developer to
extend the project. Also this project will show to the world how to write
Win API code in the best way possible.

Regards
Pritpal Bedi, INDIA-USA


-- 
View this message in context: http://www.nabble.com/Interesting-Xmate--proposal-tp14710172p14710898.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Wed Jan  9 12:49:53 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jan  9 12:49:55 2008
Subject: [Harbour] 2007-11-30 20:25 UTC+0100 Marek Paliwoda	(mpaliwoda
	at interia pl)
In-Reply-To: <4784BBBA.9070000@dbtopas.lt>
References: <475064AF.6050508@interia.pl> <14650761.post@talk.nabble.com>
	<flse7q$bn7$1@ger.gmane.org> <14659569.post@talk.nabble.com>
	<flsiku$kkp$1@ger.gmane.org>
	<642BEEA6-3A65-4DCA-ADDD-D7DAE21136F4@syenar.hu>
	<20080108135252.GD6115@localhost.localdomain>
	<14704048.post@talk.nabble.com> <4784BBBA.9070000@dbtopas.lt>
Message-ID: <14711244.post@talk.nabble.com>


Hi


Mindaugas Kavaliauskas wrote:
> 
> Przemyslaw Czerpak-2 wrote:
>>>   * harbour/source/rtl/perfuncs.prg
>>>   * harbour/source/rtl/menuto.prg
>>>   * harbour/source/rtl/getlist.prg
>>>   * harbour/source/rtl/readvar.prg
>>>   * harbour/source/rtl/text.prg
>>>     * use STATIC THREAD variables to make above code MT safe
> 
> Pritpal Bedi wrote:
>> Interesting. And most-interesting part is getlist.prg and readvar.prg.
>> Even
>> Xbase++ does not have this feature. 
> 
> Hello,
> 
> hmmm... How do you see changes in getlist.prg and readvar.prg? This is 
> changelog of proposed commit only. I can't find it on SVN or attached to 
> the email.
> 

I was assuming this change, not viewing.

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/2007-11-30-20%3A25-UTC%2B0100-Marek-Paliwoda-%28mpaliwoda-at-interia-pl%29-tp14096398p14711244.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Wed Jan  9 14:04:15 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jan  9 14:04:20 2008
Subject: [Harbour] 2008-01-09 15:03 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801091404.m09E4FQu023532@31-mo5-4.acn.waw.pl>

2008-01-09 15:03 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/estack.c
    * added missing static to s_initSymbol declaration

  * harbour/include/hbgtinfo.ch
  * harbour/source/rtl/scroll.c
    * formatting

  * harbour/common.mak
    * added empty line necessary for some make systems (f.e. wmake)

  * harbour/bin/hb-func.sh
    * changed system libs order to avoid problems on some platforms

  * harbour/bin/pack_src.sh
    * collect information about repository files using 'svn status -v'
      command instead of scanning .svn/entries files to avoid problems
      with different formats used by SVN

  * harbour/include/hbchksum.h
  * harbour/include/hbset.h
    ! added missing extern in few function prototypes

  * harbour/include/hbclass.ch
    * use HB_CLS_PARAM_LIST macro instead of ... for strict C52 mode

  * harbour/source/common/hbfsapi.c
    + added missing const to one declaration

  * harbour/source/common/hbstr.c
    * minor cleanup in hb_stricmp()

  * harbour/source/rtl/inkey.c
    ! casting to avoid negative values during char to int translation

  * harbour/source/rtl/mouse53.c
    * added one internal definition

  * harbour/source/rtl/philes.c
    * removed unnecessary #include(s)
    * added missing const to one declaration

  * harbour/source/rtl/valtype.c
  * harbour/source/vm/hashfunc.c
    * cleanup RT error call to eliminate hb_paramError() function

  * harbour/source/pp/pplib.c
  * harbour/source/vm/runner.c
  * harbour/source/vm/debug.c
  * harbour/source/vm/arrayshb.c
  * harbour/source/vm/classes.c
  * harbour/source/vm/hvm.c
  * harbour/source/rtl/hbgtcore.c
  * harbour/source/rtl/gtfunc.c
  * harbour/source/rtl/hbinet.c
  * harbour/source/rtl/hbregex.c
  * harbour/source/rtl/idle.c
  * harbour/source/rtl/errorapi.c
  * harbour/source/rtl/hbtoken.c
  * harbour/source/rtl/direct.c
  * harbour/source/rdd/dbcmd.c
  * harbour/source/rdd/dbcmd53.c
  * harbour/source/rdd/fieldhb.c
  * harbour/source/rdd/hbsix/sxcompr.c
  * harbour/source/rdd/hbsix/sxcrypt.c
  * harbour/source/compiler/hbcmplib.c
  * harbour/contrib/hbrddads/adsfunc.c
  * harbour/contrib/hbrddads/adsmgmnt.c
    - removed unnecessary calls to hb_ret()
    % replaced hb_itemRelease( hb_itemReturn( pItem ) ) with
      hb_itemReturnRelease( pItem )
    % replaced hb_itemPut*( hb_arrayGetItemPtr( pArray, ... ), ... ) with
      hb_arraySetNI( pArray, ... )

  * harbour/source/macro/macro.y
  * harbour/source/macro/macro.yyc
  * harbour/contrib/xhb/cstructc.c
  * harbour/contrib/hbw32/w32_ole.c
  * harbour/contrib/hbgtwvg/wvtcore.c
    * cleaned typos with double ;;

  * harbour/source/vm/extend.c
  * harbour/source/rtl/math.c
    * cleaned HB_EXPORT usage

  * harbour/source/pp/ppcore.c
    ! fixed Harbour extension which allows to use match marker
      at the beginning of rule definition

  * harbour/source/main/harbour.c
    ! fixed hex conversion in FM log module - fix done by Phil Krylov
      in xHarbour

  * harbour/source/rdd/nulsys/nulsys.c
    + added dummy version of DBEVAL() and DBFILTER() - these functions
      are used in RTL

  * harbour/contrib/hbct/bitnum.c
    + added INTNEG(), INTPOS()

  + harbour/contrib/hbct/ctrand.prg
    + added RANDOM(), RAND() - borrowd from xHarbour by Pavel Tsarenko

  + harbour/contrib/hbct/setrc.c
    + added SETRC()

  * harbour/contrib/hbct/getinput.prg
    % minor optimization

  * harbour/contrib/hbct/Makefile
  * harbour/contrib/hbct/common.mak
    * updated for new files

  * harbour/contrib/hbnf/tempfile.prg
    * use HB_FTempCreate() - modification borrowed from xHarbour
      TOFIX this function uses hb_isbyref() which does not exist
      in Harbour

  * harbour/config/w32/msvc.cf
    + added -nologo flag for cl.exe (Phil Krylov's modification borrowed
      from xHarbour

  * harbour/config/w32/mingw32.cf
    - removed repeated definitions

  * harbour/config/w32/install.cf
    ! added alternative install rule for command.com with max line size limit

best regards
Przemek
From lorenzo.fiorini at gmail.com  Wed Jan  9 14:57:43 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Jan  9 15:03:55 2008
Subject: [Harbour] Re: How to get the pid of a app started with run()?
In-Reply-To: <20080109121431.GA19124@localhost.localdomain>
References: <9257026e0801072340x674405f0te882e0d4ff6f65c2@mail.gmail.com>
	<9257026e0801090002la9bc49ld5dfba8d6c582cde@mail.gmail.com>
	<47849982.1020302@belacy.belgorod.su>
	<9257026e0801090225u309c70ek125c52e93e19e618@mail.gmail.com>
	<20080109121431.GA19124@localhost.localdomain>
Message-ID: <9257026e0801090657t3b3d5d46wc8a40404dfe93208@mail.gmail.com>

On Jan 9, 2008 1:14 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> Try the code below. It makes what you are looking for.
> Compile example with GTCGI for better merge 'ps xa' and program output.

Many thanks, it's exactly what I need and it works perfectly.

Do the group agree if I add these functions to the svn?

And If yes, where?

best regards,
Lorenzo
From myorg63 at mail.ru  Wed Jan  9 15:21:50 2008
From: myorg63 at mail.ru (Petr Chornyj)
Date: Wed Jan  9 15:21:53 2008
Subject: [Harbour] Interesting Xmate  proposal
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E7D7@SRV02.deltain.net>
References: <AFB948164110ED43B5EB849E8DEEF03815E7D7@SRV02.deltain.net>
Message-ID: <14714123.post@talk.nabble.com>




Massimo Belgrano wrote:
> 
> Maurizio la Cecilia have write on xmate newsgroup at
> http://tech.groups.yahoo.com/group/xmate_users/message/1921
> ..
> Andy will think to release on
> SourceForge or a similar group the source of xMate.
> ..
> 

I think it fine idea, xMate is good product, but with zero activity in last
time.
Possibly I would be able to help something in further development of this
product..

Regards,
Petr

  
-- 
View this message in context: http://www.nabble.com/Interesting-Xmate--proposal-tp14710172p14714123.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Wed Jan  9 16:20:03 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jan  9 16:20:12 2008
Subject: [Harbour] Re: How to get the pid of a app started with run()?
In-Reply-To: <9257026e0801090657t3b3d5d46wc8a40404dfe93208@mail.gmail.com>
References: <9257026e0801072340x674405f0te882e0d4ff6f65c2@mail.gmail.com>
	<9257026e0801090002la9bc49ld5dfba8d6c582cde@mail.gmail.com>
	<47849982.1020302@belacy.belgorod.su>
	<9257026e0801090225u309c70ek125c52e93e19e618@mail.gmail.com>
	<20080109121431.GA19124@localhost.localdomain>
	<9257026e0801090657t3b3d5d46wc8a40404dfe93208@mail.gmail.com>
Message-ID: <DFFADF23-54D3-4098-9B34-399FD80AF3E2@syenar.hu>

Are these functions portable?

I'd suggest some different names in case we include
this in Harbour.

Brgds,
Viktor

On 2008.01.09., at 15:57, Lorenzo Fiorini wrote:

> On Jan 9, 2008 1:14 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:
>
>> Try the code below. It makes what you are looking for.
>> Compile example with GTCGI for better merge 'ps xa' and program  
>> output.
>
> Many thanks, it's exactly what I need and it works perfectly.
>
> Do the group agree if I add these functions to the svn?
>
> And If yes, where?
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Wed Jan  9 16:35:57 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jan  9 16:36:05 2008
Subject: [Harbour] Re: 2007-11-30 20:25 UTC+0100 Marek Paliwoda (mpaliwoda
	at interia pl)
In-Reply-To: <478476B9.EF7@synel.co.il>
References: <478476B9.EF7@synel.co.il>
Message-ID: <20080109163557.GA32524@localhost.localdomain>

On Wed, 09 Jan 2008, Chen Kedem wrote:
> > added support for static variables which are local to thread:
> >         STATIC THREAD <varname [:= <exp>], ...>
> There *might* be some collision with user code:
>   static thread;     
>   static thread x;
> Is that a sintax error or definition of a static variable "thread"?

static variable,

> If you define it like:
>   THREAD STATIC <varname [:= <exp>], ...>
> there is no such ambiguous. On the other hand, it looks like a natural
> extension to STATIC FUNCTION or STATIC PROCEDURE. Oh, and if I look
> at it like that, one might think that STATIC THREAD is declaration
> of a new thread.

OK, I'll change it to:
    THREAD STATIC <varname [:= <exp>], ...>

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Wed Jan  9 17:17:20 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Jan  9 17:17:25 2008
Subject: [Harbour] Re: How to get the pid of a app started with run()?
In-Reply-To: <DFFADF23-54D3-4098-9B34-399FD80AF3E2@syenar.hu>
References: <9257026e0801072340x674405f0te882e0d4ff6f65c2@mail.gmail.com>
	<9257026e0801090002la9bc49ld5dfba8d6c582cde@mail.gmail.com>
	<47849982.1020302@belacy.belgorod.su>
	<9257026e0801090225u309c70ek125c52e93e19e618@mail.gmail.com>
	<20080109121431.GA19124@localhost.localdomain>
	<9257026e0801090657t3b3d5d46wc8a40404dfe93208@mail.gmail.com>
	<DFFADF23-54D3-4098-9B34-399FD80AF3E2@syenar.hu>
Message-ID: <9257026e0801090917u351cc0e2l83d976a675e4c5d1@mail.gmail.com>

On Jan 9, 2008 5:20 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Are these functions portable?

I don't know but it would be nice to have them for Windows also ( or
sth similar ).

> I'd suggest some different names in case we include
> this in Harbour.

No problems here.

best regards,
Lorenzo
From mbelgrano at deltain.it  Wed Jan  9 18:22:06 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Wed Jan  9 18:22:16 2008
Subject: [Harbour] Interesting Xmate  proposal
In-Reply-To: <14714123.post@talk.nabble.com>
References: <AFB948164110ED43B5EB849E8DEEF03815E7D7@SRV02.deltain.net>
	<14714123.post@talk.nabble.com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E7E3@SRV02.deltain.net>

Can you post your reply on 
http://tech.groups.yahoo.com/group/xmate_users/message/1921
so is readable also from andy & co

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Petr Chornyj
Sent: Wednesday, January 09, 2008 4:22 PM
To: harbour@harbour-project.org
Subject: Re: [Harbour] Interesting Xmate proposal




Massimo Belgrano wrote:
> 
> Maurizio la Cecilia have write on xmate newsgroup at
> http://tech.groups.yahoo.com/group/xmate_users/message/1921
> ..
> Andy will think to release on
> SourceForge or a similar group the source of xMate.
> ..
> 

I think it fine idea, xMate is good product, but with zero activity in
last
time.
Possibly I would be able to help something in further development of
this
product..

Regards,
Petr

  
-- 
View this message in context:
http://www.nabble.com/Interesting-Xmate--proposal-tp14710172p14714123.ht
ml
Sent from the Harbour - Dev mailing list archive at Nabble.com.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From info at fsgiudice.com  Wed Jan  9 19:28:10 2008
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Jan  9 19:28:16 2008
Subject: [Harbour] Re: How to get the pid of a app started with run()?
References: <9257026e0801072340x674405f0te882e0d4ff6f65c2@mail.gmail.com><9257026e0801090002la9bc49ld5dfba8d6c582cde@mail.gmail.com><47849982.1020302@belacy.belgorod.su><9257026e0801090225u309c70ek125c52e93e19e618@mail.gmail.com><20080109121431.GA19124@localhost.localdomain><9257026e0801090657t3b3d5d46wc8a40404dfe93208@mail.gmail.com><DFFADF23-54D3-4098-9B34-399FD80AF3E2@syenar.hu>
	<9257026e0801090917u351cc0e2l83d976a675e4c5d1@mail.gmail.com>
Message-ID: <002001c852f5$c5ba86a0$b400a8c0@ASUSFSG>


Lorenzo, Przemek, all,

did you have seen hb_OpenProcess(), hb_CloseProcess() and hb_ProcessValue(), 
also with pure C level correspondant created in xharbour from Giancarlo ?
Those are multiplatform and I think that give all informations Lorenzo 
needs, plus possibility to handle input, output and error streams.

Look at xharbour\source\rtl\philes.c and filesys.c and at 
xharbour\tests\process.prg for sample.

HTH

Francesco


----- Original Message ----- 
From: "Lorenzo Fiorini" <lorenzo.fiorini@gmail.com>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Wednesday, January 09, 2008 6:17 PM
Subject: Re: [Harbour] Re: How to get the pid of a app started with run()?


On Jan 9, 2008 5:20 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Are these functions portable?

I don't know but it would be nice to have them for Windows also ( or
sth similar ).

> I'd suggest some different names in case we include
> this in Harbour.

No problems here.

best regards,
Lorenzo
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From info at fsgiudice.com  Wed Jan  9 20:29:32 2008
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Wed Jan  9 20:29:38 2008
Subject: [Harbour] Autoincrement fields
References: <14476967.post@talk.nabble.com>
	<14492446.post@talk.nabble.com><000201c84833$7dabeb50$6501a8c0@ASUSFSG>
	<20080108140402.GA9994@localhost.localdomain>
Message-ID: <044f01c852fe$57eeae90$b400a8c0@ASUSFSG>

Przemek,

----- Original Message ----- 
From: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Tuesday, January 08, 2008 3:04 PM
Subject: Re: [Harbour] Autoincrement fields


> On Thu, 27 Dec 2007, Francesco Saverio Giudice wrote:
>> Hi All,
>> how may I use an autoincrement field ?
>> I would like to have a numeric value, but at the moment if I create a dbf
>> with below command, I got a datetime field.
>> dbcreate( "test", { {"USERID", "+", 12, 0 }, { "NAME", C, 20, 0 } },
>> "DBFCDX" )
>> I have tried with some combinations of len and dec values, but without
>> success.
>> I have also seen that at the moment there is a commented out DBS_FLAG, 
>> but
>> it should be for future extension.
>> Is autoinc already full implemented or is it at devel stage ?
>
> AFAIK is working and it is fully functional. If you think that sth is
> wrong then please create self contain example which illustrates the
> problem. This example shows that AUTOINC fields works without any
> problems:
>
>    proc main()
>    local i
>    rddsetdefault( "DBFCDX" )
>    dbcreate( "test", { {"USERID", "+", 4, 0 }, { "NAME", "C", 20, 0 } } )
>    use test
>    for i:=1 to 10
>       dbappend()
>       if i % 3 == 0
>          field->name := "NAME:" + ltrim( str( i ) )
>       endif
>    next
>    dbgotop()
>    browse()
>    close
>    return
>


I have retested as your sample and obviously it works, I have to check again 
to remember how it didn't work.
Sorry for wasting your time.

Best Regards
Francesco 

From lorenzo.fiorini at gmail.com  Thu Jan 10 07:46:55 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Jan 10 07:46:59 2008
Subject: [Harbour] How to gzip a string?
Message-ID: <9257026e0801092346j2c6dab63qe5c660c116623b8f@mail.gmail.com>

I don't need hbziparch but simply send deflate/gzip data to a web browser.

Is the HB_COMPRESS/HB_UNCOMPRESS in xhb the only solution?

I would like to find a "non-xhb" solution.

best regards,
Lorenzo
From xharbour at tiscali.it  Thu Jan 10 08:17:36 2008
From: xharbour at tiscali.it (maxsoft)
Date: Thu Jan 10 08:17:54 2008
Subject: [Harbour] [ClipperCompatibility] ASCAN is Case Sensitive
Message-ID: <op.t4pfzm0gfyqnlu@mxvxp32harbour.maticarl.it>

Hi all,
ASCAN Clipper function is not Case Sensitive.
Harbour ASCAN function is case sensitive.
Exist a compiler directive to make string NO CASE SENSITIVE?
thank you very much
maxsoft
From jacek at achilles.wam.lodz.pl  Thu Jan 10 09:16:02 2008
From: jacek at achilles.wam.lodz.pl (Jacek Kubica)
Date: Thu Jan 10 09:16:15 2008
Subject: [Harbour] [ClipperCompatibility] ASCAN is Case Sensitive
In-Reply-To: <op.t4pfzm0gfyqnlu@mxvxp32harbour.maticarl.it>
References: <op.t4pfzm0gfyqnlu@mxvxp32harbour.maticarl.it>
Message-ID: <1906734063.20080110101602@achilles.wam.lodz.pl>

Hello maxsoft,

Thursday, January 10, 2008, 9:17:36 AM, you wrote:

m> ASCAN Clipper function is not Case Sensitive.
m> Harbour ASCAN function is case sensitive.

As far I remember ASCAN is case sensivite in Clipper too

from CA-Clipper 5.3 NG:

       This example demonstrates scanning a three-element array using
        simple values and a code block as search criteria.  The code block
        criteria shows how to perform a case-insensitive search:

        aArray := { "Tom", "Mary", "Sue" }
        ? ASCAN(aArray, "Mary")               // Result: 2
        ? ASCAN(aArray, "mary")               // Result: 0
        //
        ? ASCAN(aArray, { |x| UPPER(x) ;
              == "MARY" })                    // Result: 2


m> Exist a compiler directive to make string NO CASE SENSITIVE?

AFAIK - no (but I`m not 100% sure with it ;-) )

But if you need you can use codeblock as in sample (from NG)


-- 
Best regards,
 Jacek Kubica


From xharbour at tiscali.it  Thu Jan 10 09:48:34 2008
From: xharbour at tiscali.it (maxsoft)
Date: Thu Jan 10 09:48:58 2008
Subject: [Harbour] [ClipperCompatibility] ASCAN is Case Sensitive
In-Reply-To: <1906734063.20080110101602@achilles.wam.lodz.pl>
References: <op.t4pfzm0gfyqnlu@mxvxp32harbour.maticarl.it>
	<1906734063.20080110101602@achilles.wam.lodz.pl>
Message-ID: <op.t4pj68vofyqnlu@mxvxp32harbour.maticarl.it>

Hi Jacek,
thank you for your reply.
I've seen the Clipper 5.2 book and I've seen that example you talked about.

I'll check the Clipper Application and I'll test if on Clipper 5.2 there a  
kind of bug.

Thank you again
bye
max

> Hello maxsoft,
>
> Thursday, January 10, 2008, 9:17:36 AM, you wrote:
>
> m> ASCAN Clipper function is not Case Sensitive.
> m> Harbour ASCAN function is case sensitive.
>
> As far I remember ASCAN is case sensivite in Clipper too
>
> from CA-Clipper 5.3 NG:
>
>        This example demonstrates scanning a three-element array using
>         simple values and a code block as search criteria.  The code  
> block
>         criteria shows how to perform a case-insensitive search:
>
>         aArray := { "Tom", "Mary", "Sue" }
>         ? ASCAN(aArray, "Mary")               // Result: 2
>         ? ASCAN(aArray, "mary")               // Result: 0
>         //
>         ? ASCAN(aArray, { |x| UPPER(x) ;
>               == "MARY" })                    // Result: 2
>
>
> m> Exist a compiler directive to make string NO CASE SENSITIVE?
>
> AFAIK - no (but I`m not 100% sure with it ;-) )
>
> But if you need you can use codeblock as in sample (from NG)
>
>



-- 
Opera: http://www.opera.com/mail/
From druzus at acn.waw.pl  Thu Jan 10 13:16:48 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jan 10 13:16:58 2008
Subject: [Harbour] Store via Item API
In-Reply-To: <4784BF32.4080308@dbtopas.lt>
References: <4784BF32.4080308@dbtopas.lt>
Message-ID: <20080110131648.GB10597@localhost.localdomain>

On Wed, 09 Jan 2008, Mindaugas Kavaliauskas wrote:
> Hello,
> I need to store item to parameter passed by reference. I found there is 
> no API for this. My current code is:
>    if( hb_param( 2, HB_IT_BYREF ) )
>    {
>       ...
>       hb_itemMoveToRef( hb_stackItemFromBase( 2 ), pItem );
>    }
> Is this OK? Can we have function hb_itemParamStore( iParam, pItem ) to 
> do the job?

Yes, sure. I'll add it.

best regards,
Przemek
From giuseppe-mastrangelo at tiscali.it  Thu Jan 10 13:22:08 2008
From: giuseppe-mastrangelo at tiscali.it (giuseppem)
Date: Thu Jan 10 13:22:13 2008
Subject: [Harbour] There is a Gui Lib for harbour and Pocket PC.
Message-ID: <14728873.post@talk.nabble.com>


I have tried xharbour and wince in console mode and work fine.
There is a gui lib? it's possible use Hwgui and how?

Thanks Giuseppe.
-- 
View this message in context: http://www.nabble.com/There-is-a-Gui-Lib-for-harbour-and-Pocket-PC.-tp14728873p14728873.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From dbtopas at dbtopas.lt  Thu Jan 10 13:27:55 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Jan 10 13:26:16 2008
Subject: [Harbour] How to gzip a string?
In-Reply-To: <9257026e0801092346j2c6dab63qe5c660c116623b8f@mail.gmail.com>
References: <9257026e0801092346j2c6dab63qe5c660c116623b8f@mail.gmail.com>
Message-ID: <47861D5B.2030400@dbtopas.lt>

Lorenzo Fiorini wrote:
> I don't need hbziparch but simply send deflate/gzip data to a web browser.
> 
> Is the HB_COMPRESS/HB_UNCOMPRESS in xhb the only solution?
> 
> I would like to find a "non-xhb" solution.


Hi,


I'm going to commit wrappers to zlib and minizip after release freeze. 
You can use Przemyslaw's code send in the following email:

-------- Original Message --------
Date: Thu, 17 May 2007 14:22:21 +0200,	Thu, 17 May 2007 15:23:14 +0300
From: Przemyslaw Czerpak <druzus@priv.onet.pl>
To: Harbour Project Main Developer List. <harbour@harbour-project.org>
Subject: Re: [Harbour] ChangeLog 2007-05-17 00:20 UTC+0200	Przemyslaw 
Czerpak(druzus/at/priv.onet.pl)

On Thu, 17 May 2007, Enrico Maria Giordano wrote:
 > I asked you some time ago what you are using instead of hbzip.lib
 > but the question is still unanswered... :-)

For such things like creating archive files:
     HB_POPEN() ;-)
for people who used to work with *nixes it's natural form.
If I need some compression functionality for other jobs
then I use ZLIP wrapper - I'm attaching it.

best regards,
Przemek
----------------------------------


Best regards,
Mindaugas
From harbour.01 at syenar.hu  Thu Jan 10 13:34:23 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 10 13:34:22 2008
Subject: [Harbour] How to gzip a string?
In-Reply-To: <47861D5B.2030400@dbtopas.lt>
References: <9257026e0801092346j2c6dab63qe5c660c116623b8f@mail.gmail.com>
	<47861D5B.2030400@dbtopas.lt>
Message-ID: <506F2860-7706-4877-B40E-D25D33D5BC05@syenar.hu>

Hi Mindaugas,

Since I believe you will commit these wrappers
to the contrib area (since these might have
3rd party lib dependencies, unless we include
these sources in core), I think it's fine to release
them anytime, even now.

Brgds,
Viktor

On 2008.01.10., at 14:27, Mindaugas Kavaliauskas wrote:

> Lorenzo Fiorini wrote:
>> I don't need hbziparch but simply send deflate/gzip data to a web  
>> browser.
>> Is the HB_COMPRESS/HB_UNCOMPRESS in xhb the only solution?
>> I would like to find a "non-xhb" solution.
>
>
> Hi,
>
>
> I'm going to commit wrappers to zlib and minizip after release  
> freeze. You can use Przemyslaw's code send in the following email:
>
> -------- Original Message --------
> Date: Thu, 17 May 2007 14:22:21 +0200,	Thu, 17 May 2007 15:23:14 +0300
> From: Przemyslaw Czerpak <druzus@priv.onet.pl>
> To: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Subject: Re: [Harbour] ChangeLog 2007-05-17 00:20 UTC+0200	 
> Przemyslaw Czerpak(druzus/at/priv.onet.pl)
>
> On Thu, 17 May 2007, Enrico Maria Giordano wrote:
> > I asked you some time ago what you are using instead of hbzip.lib
> > but the question is still unanswered... :-)
>
> For such things like creating archive files:
>    HB_POPEN() ;-)
> for people who used to work with *nixes it's natural form.
> If I need some compression functionality for other jobs
> then I use ZLIP wrapper - I'm attaching it.
>
> best regards,
> Przemek
> ----------------------------------
>
>
> Best regards,
> Mindaugas
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From alex at belacy.belgorod.su  Thu Jan 10 13:51:48 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Thu Jan 10 13:52:01 2008
Subject: [Harbour] Strange Ascan behavior
Message-ID: <478622F4.1@belacy.belgorod.su>

Hi All,

this is a short code fragment, which gives results, strange for me ( or 
I worked too much today ? :) )

#include "hbclass.ch"

function main
Local o

    o := HTest():New()
    Aadd( HTest():aObjects, o )
    ? Ascan(HTest():aObjects,o)            // 0 (????)
    ? Ascan(HTest():aObjects,{|o1|o1==o})  // 1 ( as expected )
    ?
return nil

CLASS HTest

    CLASS VAR aObjects  INIT {}
    METHOD New()   INLINE Self

ENDCLASS

first Ascan returns 0, second - 1 ...


Regards,
   Alexander

From druzus at acn.waw.pl  Thu Jan 10 14:07:51 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jan 10 14:07:56 2008
Subject: [Harbour] How to gzip a string?
In-Reply-To: <9257026e0801092346j2c6dab63qe5c660c116623b8f@mail.gmail.com>
References: <9257026e0801092346j2c6dab63qe5c660c116623b8f@mail.gmail.com>
Message-ID: <20080110140751.GA11046@localhost.localdomain>

On Thu, 10 Jan 2008, Lorenzo Fiorini wrote:
> I don't need hbziparch but simply send deflate/gzip data to a web browser.
> Is the HB_COMPRESS/HB_UNCOMPRESS in xhb the only solution?
> I would like to find a "non-xhb" solution.

You can use ZLIB wrapper I sent.
Sooner or later we will have to add support for ZLIB in core code
just like we added REGEX. Then we should define C API for INET
sockets and finally add support for compressed stream connections.

Now if you are using ZLIB wrapper then you can make after connection
on both sides:

    compressedSocket := HB_GZDOPEN( HB_INETFD( openSocket ) )

and then use HB_GZWRITE()/HB_GZFLUSH()/HB_GZREAD() and other HB_GZ*()
functions with compressedSocket handle to exchange data instead of
HB_INETSEND()/HB_INETRECV(). Data will be automatically compressed
and decompressed. You do not have to explicitly call any compress
functions.

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Thu Jan 10 14:22:31 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Jan 10 14:22:36 2008
Subject: [Harbour] How to gzip a string?
In-Reply-To: <47861D5B.2030400@dbtopas.lt>
References: <9257026e0801092346j2c6dab63qe5c660c116623b8f@mail.gmail.com>
	<47861D5B.2030400@dbtopas.lt>
Message-ID: <9257026e0801100622k9ddd19j7f4037582b7d6e32@mail.gmail.com>

On Jan 10, 2008 2:27 PM, Mindaugas Kavaliauskas <dbtopas@dbtopas.lt> wrote:

> I'm going to commit wrappers to zlib and minizip after release freeze.
> You can use Przemyslaw's code send in the following email:

Many thanks I found it.

best regards,
Lorenzo
From druzus at acn.waw.pl  Thu Jan 10 14:33:38 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jan 10 14:33:44 2008
Subject: [Harbour] Strange Ascan behavior
In-Reply-To: <478622F4.1@belacy.belgorod.su>
References: <478622F4.1@belacy.belgorod.su>
Message-ID: <20080110143338.GB11046@localhost.localdomain>

On Thu, 10 Jan 2008, Alexander S.Kresin wrote:
> Hi All,
> this is a short code fragment, which gives results, strange for me ( or 
> I worked too much today ? :) )
[...]
>    Aadd( HTest():aObjects, o )
>    ? Ascan(HTest():aObjects,o)            // 0 (????)
>    ? Ascan(HTest():aObjects,{|o1|o1==o})  // 1 ( as expected )

It's correct. ASCAN() uses EQUAL comparison not EXACTLY EQUAL comparison.
This is self contain example:
    proc main()
    local a:={}, o:=errorNew()
    aadd(a,o)
    ? ascan(a,o), ascan(a,{|o1|o1==o})
    return
which gives the same results (0, 1) in xHarbour and Clipper.
If you need EXACTLY EQUAL comparison then you can use HB_ASCAN()
which support 5-th parameter to control it, f.e. add to above code:
    ? hb_ascan(a,o,,,.t.)

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Thu Jan 10 14:40:52 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Jan 10 14:41:10 2008
Subject: [Harbour] How to gzip a string?
In-Reply-To: <20080110140751.GA11046@localhost.localdomain>
References: <9257026e0801092346j2c6dab63qe5c660c116623b8f@mail.gmail.com>
	<20080110140751.GA11046@localhost.localdomain>
Message-ID: <9257026e0801100640t34093b65n5481be3b062705b1@mail.gmail.com>

On Jan 10, 2008 3:07 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> You can use ZLIB wrapper I sent.

Many thanks I found it.

> Sooner or later we will have to add support for ZLIB in core code
> ...
> and decompressed. You do not have to explicitly call any compress
> functions.

Good news.

Actually I don't need HB_UNCOMPRESS since that part is done by Firefox
I've simply to provide the compressed data but reading the code I have
seen that lit want the len or a buffer with len as second parameter.
How could I know it?

I mean is it possible a simple cZipped := HB_COMPRESS( cNormal )  --
rpc ---> cNormal := HB_UNCOMPRESS( cZipped )?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Thu Jan 10 14:44:21 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 10 14:44:19 2008
Subject: [Harbour] Strange Ascan behavior
In-Reply-To: <20080110143338.GB11046@localhost.localdomain>
References: <478622F4.1@belacy.belgorod.su>
	<20080110143338.GB11046@localhost.localdomain>
Message-ID: <87DD82E1-8E48-4544-B9FB-BBF956159843@syenar.hu>

Or use:

lOldExact := Set( _SET_EXACT, .T. )
n := AScan( array, var )
Set( _SET_EXACT, lOldExact )

Brgds,
Viktor

On 2008.01.10., at 15:33, Przemyslaw Czerpak wrote:

> On Thu, 10 Jan 2008, Alexander S.Kresin wrote:
>> Hi All,
>> this is a short code fragment, which gives results, strange for me  
>> ( or
>> I worked too much today ? :) )
> [...]
>>   Aadd( HTest():aObjects, o )
>>   ? Ascan(HTest():aObjects,o)            // 0 (????)
>>   ? Ascan(HTest():aObjects,{|o1|o1==o})  // 1 ( as expected )
>
> It's correct. ASCAN() uses EQUAL comparison not EXACTLY EQUAL  
> comparison.
> This is self contain example:
>    proc main()
>    local a:={}, o:=errorNew()
>    aadd(a,o)
>    ? ascan(a,o), ascan(a,{|o1|o1==o})
>    return
> which gives the same results (0, 1) in xHarbour and Clipper.
> If you need EXACTLY EQUAL comparison then you can use HB_ASCAN()
> which support 5-th parameter to control it, f.e. add to above code:
>    ? hb_ascan(a,o,,,.t.)
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From alex at belacy.belgorod.su  Thu Jan 10 17:22:36 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Thu Jan 10 17:23:28 2008
Subject: [Harbour] Re: Strange Ascan behavior
In-Reply-To: <20080110143338.GB11046@localhost.localdomain>
References: <478622F4.1@belacy.belgorod.su>
	<20080110143338.GB11046@localhost.localdomain>
Message-ID: <8539071732.20080110202236@belacy.belgorod.su>

On  Thursday, January 10, 2008, 17:33 Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

PC> It's correct. ASCAN() uses EQUAL comparison not EXACTLY EQUAL comparison.

 That's clear.
 What I don't understand - how two objects can be EXACTLY EQUAL and in
 the same time NOT simply EQUAL.

Regards,
 Alexander
http://kresin.belgorod.su

From druzus at acn.waw.pl  Thu Jan 10 17:39:39 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jan 10 17:39:50 2008
Subject: [Harbour] How to gzip a string?
In-Reply-To: <9257026e0801100640t34093b65n5481be3b062705b1@mail.gmail.com>
References: <9257026e0801092346j2c6dab63qe5c660c116623b8f@mail.gmail.com>
	<20080110140751.GA11046@localhost.localdomain>
	<9257026e0801100640t34093b65n5481be3b062705b1@mail.gmail.com>
Message-ID: <20080110173939.GA13021@localhost.localdomain>

On Thu, 10 Jan 2008, Lorenzo Fiorini wrote:
> Actually I don't need HB_UNCOMPRESS since that part is done by Firefox
> I've simply to provide the compressed data but reading the code I have
> seen that lit want the len or a buffer with len as second parameter.

Yes, and it should greater or equal then the size of decompressed data.


> How could I know it?

1. You can guess it,
2. You can use some arbitrary big value which you know it will be
   always bigger then size of decompressed data
3. You can store the size with compressed data, f.e. in first 4 bytes
   using L2BIN(), f.e.:
      cCompressed := L2BIN( LEN( cData ) ) + HB_COMPRESS( cData )
      ...
      cData := HB_DECOMPRESS( SUBSTR( cCompressed, 5 ), BIN2L( cCompressed ) )
4. If speed is less important then you can add dummy decompress pass to
   calculate the size of decompress data using function:
        HB_UNCOMPRESSLEN( <cCompressedData> ) -> <nUnCompressedDataLen>
   Code is attached below, add it to hbzlib.c

> I mean is it possible a simple cZipped := HB_COMPRESS( cNormal )  --
> rpc ---> cNormal := HB_UNCOMPRESS( cZipped )?

I can add support for HB_UNCOMPRESS( cZipped ) by calling internally
hb_zlibUncompressedSize() but in such case people used to forget
about the real cost (speed overhead) of such features so maybe is better
to force calling:
    HB_UNCOMPRESS( cZipped, HB_UNCOMPRESSLEN( cZipped ) )
???

best regards,
Przemek



static ULONG hb_zlibUncompressedSize( const char * szSrc, ULONG ulLen )
{
   Byte buffer[ 1024 ];
   z_stream stream;
   ULONG ulDest = 0;

   memset( &stream, 0, sizeof( z_stream ) );
   stream.next_in   = ( Bytef * ) szSrc;
   stream.avail_in  = ( uInt ) ulLen;
   if( inflateInit( &stream ) == Z_OK )
   {
      int iStatus;
      do
      {
         stream.next_out  = buffer;
         stream.avail_out = sizeof( buffer );
         iStatus = inflate( &stream, Z_NO_FLUSH );
      }
      while( iStatus == Z_OK );
      if( iStatus == Z_STREAM_END )
         ulDest = stream.total_out;
      inflateEnd( &stream );
   }
   return ulDest;
}

/*
 * HB_UNCOMPRESSLEN( <cCompressedData> ) -> <nUnCompressedDataLen> or 0 on error
 */
HB_FUNC( HB_UNCOMPRESSLEN )
{
   ULONG ulLen = hb_parclen( 1 );

   hb_retnint( ulLen ? hb_zlibUncompressedSize( hb_parc( 1 ), ulLen ) : 0 );
}
From druzus at acn.waw.pl  Thu Jan 10 17:42:50 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jan 10 17:43:03 2008
Subject: [Harbour] Re: Strange Ascan behavior
In-Reply-To: <8539071732.20080110202236@belacy.belgorod.su>
References: <478622F4.1@belacy.belgorod.su>
	<20080110143338.GB11046@localhost.localdomain>
	<8539071732.20080110202236@belacy.belgorod.su>
Message-ID: <20080110174250.GB13021@localhost.localdomain>

On Thu, 10 Jan 2008, Alexander S.Kresin wrote:
> PC> It's correct. ASCAN() uses EQUAL comparison not EXACTLY EQUAL comparison.
>  That's clear.
>  What I don't understand - how two objects can be EXACTLY EQUAL and in
>  the same time NOT simply EQUAL.

Ask Clipper authors why:
    a:={}; ? a==a
shows .T. and:
    a:={}; ? a=a
causes RT error.
We are only compatible but the decisions about above and ascan() behavior
was not taken by us.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Jan 10 17:50:46 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jan 10 17:50:52 2008
Subject: [Harbour] 2007-11-30 20:25 UTC+0100 Marek Paliwoda	(mpaliwoda at
	interia pl)
In-Reply-To: <4784BBBA.9070000@dbtopas.lt>
References: <475064AF.6050508@interia.pl> <14650761.post@talk.nabble.com>
	<flse7q$bn7$1@ger.gmane.org> <14659569.post@talk.nabble.com>
	<flsiku$kkp$1@ger.gmane.org>
	<642BEEA6-3A65-4DCA-ADDD-D7DAE21136F4@syenar.hu>
	<20080108135252.GD6115@localhost.localdomain>
	<14704048.post@talk.nabble.com> <4784BBBA.9070000@dbtopas.lt>
Message-ID: <20080110175046.GC13021@localhost.localdomain>

The first version was probably refused due to attachment size and I'm
sending second one with smaller patch (without harbour.yy[ch] files)
so bison is necessary to recreate them.


On Wed, 09 Jan 2008, Mindaugas Kavaliauskas wrote:
> >>  * harbour/source/rtl/perfuncs.prg
> >>  * harbour/source/rtl/menuto.prg
> >>  * harbour/source/rtl/getlist.prg
> >>  * harbour/source/rtl/readvar.prg
> >>  * harbour/source/rtl/text.prg
> >>    * use STATIC THREAD variables to make above code MT safe
> Pritpal Bedi wrote:
> >Interesting. And most-interesting part is getlist.prg and readvar.prg. Even
> >Xbase++ does not have this feature. 
> 
> hmmm... How do you see changes in getlist.prg and readvar.prg? This is 
> changelog of proposed commit only. I can't find it on SVN or attached to 
> the email.

The modifications are minimal. I did not have to change anything in the
code and only added THREAD keyword to static variable declarations. Rest
is done inside HVM. I'm attaching patch for current SVN with above
modifications if you are interested. This is very important extension
for me because it easy allows to create MT safe code which can be used
also in ST applications without introducing additional synchronization
mechanisms. In Harbour all core libraries except HVM will be common
for MT and ST mode. After 1.0 I plan to implement MT version of HVM in
spare time. I plan to add full SETs, MEMVARs and WAs separation in the
basic version. Later I'll add optional sharing on user requests.
SET callback functions will also have to be thread local to avoid
problems which can appear in some 3-rd party code, f.e. ADSRDD which
cannot follow our thread local data. In fact this RDD cannot be fully
thread separated do to limitation in ACE library but native ones will be.

Best regards,
Przemek
-------------- next part --------------
A non-text attachment was scrubbed...
Name: svn.diff.gz
Type: application/x-gzip
Size: 12028 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080110/4249801c/svn.diff.gz
From giuseppe-mastrangelo at tiscali.it  Thu Jan 10 17:59:57 2008
From: giuseppe-mastrangelo at tiscali.it (giuseppem)
Date: Thu Jan 10 18:00:01 2008
Subject: [Harbour] Harbour Wince and xhgtk
Message-ID: <14740033.post@talk.nabble.com>


I have compiled xhgtk with make_gtk-sh -hbce
and i have the lib lib-hbce/libxhgtk.a .

There is an example for test Gui on Wince with
xhgtk.

Thanks Giuseppe.
-- 
View this message in context: http://www.nabble.com/Harbour-Wince-and-xhgtk-tp14740033p14740033.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From alex at belacy.belgorod.su  Thu Jan 10 18:30:14 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Thu Jan 10 18:31:05 2008
Subject: [Harbour] Re: Strange Ascan behavior
In-Reply-To: <20080110174250.GB13021@localhost.localdomain>
References: <478622F4.1@belacy.belgorod.su>
	<20080110143338.GB11046@localhost.localdomain>
	<8539071732.20080110202236@belacy.belgorod.su>
	<20080110174250.GB13021@localhost.localdomain>
Message-ID: <8843129607.20080110213014@belacy.belgorod.su>

On  Thursday, January 10, 2008, 20:42 Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

>>  What I don't understand - how two objects can be EXACTLY EQUAL and in
>>  the same time NOT simply EQUAL.

PC> Ask Clipper authors why:
PC>     a:={}; ? a==a
PC> shows .T. and:
PC>     a:={}; ? a=a
PC> causes RT error.
PC> We are only compatible but the decisions about above and ascan() behavior
PC> was not taken by us.

 Ok, thanks for explanations.


Regards,
 Alexander
http://kresin.belgorod.su

From bedipritpal at hotmail.com  Thu Jan 10 19:03:45 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jan 10 19:03:49 2008
Subject: [Harbour] 2007-11-30 20:25 UTC+0100 Marek Paliwoda	(mpaliwoda
	at interia pl)
In-Reply-To: <20080110175046.GC13021@localhost.localdomain>
References: <475064AF.6050508@interia.pl> <14650761.post@talk.nabble.com>
	<flse7q$bn7$1@ger.gmane.org> <14659569.post@talk.nabble.com>
	<flsiku$kkp$1@ger.gmane.org>
	<642BEEA6-3A65-4DCA-ADDD-D7DAE21136F4@syenar.hu>
	<20080108135252.GD6115@localhost.localdomain>
	<14704048.post@talk.nabble.com> <4784BBBA.9070000@dbtopas.lt>
	<20080110175046.GC13021@localhost.localdomain>
Message-ID: <14741183.post@talk.nabble.com>


Przemek


Przemyslaw Czerpak-2 wrote:
> 
> The modifications are minimal. I did not have to change anything in the
> code and only added THREAD keyword to static variable declarations. Rest
> is done inside HVM. I'm attaching patch for current SVN with above
> modifications if you are interested. This is very important extension
> for me because it easy allows to create MT safe code which can be used
> also in ST applications without introducing additional synchronization
> mechanisms. In Harbour all core libraries except HVM will be common
> for MT and ST mode. After 1.0 I plan to implement MT version of HVM in
> spare time. I plan to add full SETs, MEMVARs and WAs separation in the
> basic version. Later I'll add optional sharing on user requests.
> SET callback functions will also have to be thread local to avoid
> problems which can appear in some 3-rd party code, f.e. ADSRDD which
> cannot follow our thread local data. In fact this RDD cannot be fully
> thread separated do to limitation in ACE library but native ones will be.
> 

Wonderful. A true MT functionality!!! The best part is same set of libs for
MT and ST code like Xbase++, satisfying.

I will test your patch this weekend.

Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/2007-11-30-20%3A25-UTC%2B0100-Marek-Paliwoda-%28mpaliwoda-at-interia-pl%29-tp14096398p14741183.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Thu Jan 10 20:38:10 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Jan 10 20:38:17 2008
Subject: [Harbour] How to gzip a string?
In-Reply-To: <20080110173939.GA13021@localhost.localdomain>
References: <9257026e0801092346j2c6dab63qe5c660c116623b8f@mail.gmail.com>
	<20080110140751.GA11046@localhost.localdomain>
	<9257026e0801100640t34093b65n5481be3b062705b1@mail.gmail.com>
	<20080110173939.GA13021@localhost.localdomain>
Message-ID: <9257026e0801101238s78c47dfcpa7f7f7450cb637fb@mail.gmail.com>

On Jan 10, 2008 6:39 PM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> Yes, and it should greater or equal then the size of decompressed data.
> ...
>     HB_UNCOMPRESS( cZipped, HB_UNCOMPRESSLEN( cZipped ) )
> ???

Many thanks for the info.

I agree with you, HB_UNCOMPRESSLEN( cZipped ) should be used only if necessary.

best regards,
Lorenzo
From bedipritpal at hotmail.com  Fri Jan 11 01:42:02 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Jan 11 01:42:04 2008
Subject: [Harbour] 2007-01-10 17:50 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <14748123.post@talk.nabble.com>


2007-01-10 17:50 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
  * source/rtl/memoedit.prg
  * source/rtl/teditor.prg
    + Implemented Clipper compatible missing parameters:
         nTextBuffRow
         nTextBuffColumn
         nWindowRow
         nWindowColumn
      Tested slightly but need deeper testing in case <nWndRow> scrolls past
::naTextLen.

Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/2007-01-10-17%3A50-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp14748123p14748123.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Fri Jan 11 01:52:57 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Fri Jan 11 01:53:00 2008
Subject: [Harbour] 2007-01-10 18:05 UTC+0800 Pritpal Bedi
	(pritpal@vouchcac.com)
Message-ID: <14748200.post@talk.nabble.com>


2007-01-10 18:05 UTC+0800 Pritpal Bedi (pritpal@vouchcac.com)
  * source/rtl/teditor.prg
    ! Fixed [ <nWndRow> scrolls past ::naTextLen ]

Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/2007-01-10-18%3A05-UTC%2B0800-Pritpal-Bedi-%28pritpal%40vouchcac.com%29-tp14748200p14748200.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Thu Jan 10 13:15:53 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jan 11 09:20:54 2008
Subject: [Harbour] 2007-11-30 20:25 UTC+0100 Marek Paliwoda	(mpaliwoda at
	interia pl)
In-Reply-To: <4784BBBA.9070000@dbtopas.lt>
References: <475064AF.6050508@interia.pl> <14650761.post@talk.nabble.com>
	<flse7q$bn7$1@ger.gmane.org> <14659569.post@talk.nabble.com>
	<flsiku$kkp$1@ger.gmane.org>
	<642BEEA6-3A65-4DCA-ADDD-D7DAE21136F4@syenar.hu>
	<20080108135252.GD6115@localhost.localdomain>
	<14704048.post@talk.nabble.com> <4784BBBA.9070000@dbtopas.lt>
Message-ID: <20080110131553.GA10597@localhost.localdomain>

On Wed, 09 Jan 2008, Mindaugas Kavaliauskas wrote:
> >>  * harbour/source/rtl/perfuncs.prg
> >>  * harbour/source/rtl/menuto.prg
> >>  * harbour/source/rtl/getlist.prg
> >>  * harbour/source/rtl/readvar.prg
> >>  * harbour/source/rtl/text.prg
> >>    * use STATIC THREAD variables to make above code MT safe
> Pritpal Bedi wrote:
> >Interesting. And most-interesting part is getlist.prg and readvar.prg. Even
> >Xbase++ does not have this feature. 
> 
> hmmm... How do you see changes in getlist.prg and readvar.prg? This is 
> changelog of proposed commit only. I can't find it on SVN or attached to 
> the email.

The modifications are minimal. I did not have to change anything in the
code and only added THREAD keyword to static variable declarations. Rest
is done inside HVM. I'm attaching patch for current SVN with above
modifications if you are interested. This is very important extension
for me because it easy allows to create MT safe code which can be used
also in ST applications without introducing additional synchronization
mechanisms. In Harbour all core libraries except HVM will be common
for MT and ST mode. After 1.0 I plan to implement MT version of HVM in
spare time. I plan to add full SETs, MEMVARs and WAs separation in the
basic version. Later I'll add optional sharing on user requests.
SET callback functions will also have to be thread local to avoid
problems which can appear in some 3-rd party code, f.e. ADSRDD which
cannot follow our thread local data. In fact this RDD cannot be fully
thread separated do to limitation in ACE library but native ones will be.

Best regards,
Przemek
-------------- next part --------------
A non-text attachment was scrubbed...
Name: svn.diff.gz
Type: application/x-gzip
Size: 79256 bytes
Desc: not available
Url : http://lists.harbour-project.org/pipermail/harbour/attachments/20080110/68386c85/svn.diff-0001.gz
From harbour.01 at syenar.hu  Fri Jan 11 10:02:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 11 10:02:49 2008
Subject: [Harbour] 2007-11-30 20:25 UTC+0100 Marek Paliwoda	(mpaliwoda at
	interia pl)
In-Reply-To: <20080110131553.GA10597@localhost.localdomain>
References: <475064AF.6050508@interia.pl> <14650761.post@talk.nabble.com>
	<flse7q$bn7$1@ger.gmane.org> <14659569.post@talk.nabble.com>
	<flsiku$kkp$1@ger.gmane.org>
	<642BEEA6-3A65-4DCA-ADDD-D7DAE21136F4@syenar.hu>
	<20080108135252.GD6115@localhost.localdomain>
	<14704048.post@talk.nabble.com> <4784BBBA.9070000@dbtopas.lt>
	<20080110131553.GA10597@localhost.localdomain>
Message-ID: <40D3B860-FE47-40ED-B476-C35DB56FBF55@syenar.hu>

Hi Marek, Przemek and all,

Just a small comment on the threading topic,
maybe it'd be worth to mark thread static
vars with a "ts_" prefix to clearly differentiate
them from app wide statics.

Very very nice addition to Harbour.

Brgds,
Viktor

On 2008.01.10., at 14:15, Przemyslaw Czerpak wrote:

> On Wed, 09 Jan 2008, Mindaugas Kavaliauskas wrote:
>>>> * harbour/source/rtl/perfuncs.prg
>>>> * harbour/source/rtl/menuto.prg
>>>> * harbour/source/rtl/getlist.prg
>>>> * harbour/source/rtl/readvar.prg
>>>> * harbour/source/rtl/text.prg
>>>>   * use STATIC THREAD variables to make above code MT safe
>> Pritpal Bedi wrote:
>>> Interesting. And most-interesting part is getlist.prg and  
>>> readvar.prg. Even
>>> Xbase++ does not have this feature.
>>
>> hmmm... How do you see changes in getlist.prg and readvar.prg? This  
>> is
>> changelog of proposed commit only. I can't find it on SVN or  
>> attached to
>> the email.
>
> The modifications are minimal. I did not have to change anything in  
> the
> code and only added THREAD keyword to static variable declarations.  
> Rest
> is done inside HVM. I'm attaching patch for current SVN with above
> modifications if you are interested. This is very important extension
> for me because it easy allows to create MT safe code which can be used
> also in ST applications without introducing additional synchronization
> mechanisms. In Harbour all core libraries except HVM will be common
> for MT and ST mode. After 1.0 I plan to implement MT version of HVM in
> spare time. I plan to add full SETs, MEMVARs and WAs separation in the
> basic version. Later I'll add optional sharing on user requests.
> SET callback functions will also have to be thread local to avoid
> problems which can appear in some 3-rd party code, f.e. ADSRDD which
> cannot follow our thread local data. In fact this RDD cannot be fully
> thread separated do to limitation in ACE library but native ones  
> will be.
>
> Best regards,
> Przemek
> <svn.diff.gz>_______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Fri Jan 11 11:59:35 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jan 11 11:59:41 2008
Subject: [Harbour] How to gzip a string?
In-Reply-To: <506F2860-7706-4877-B40E-D25D33D5BC05@syenar.hu>
References: <9257026e0801092346j2c6dab63qe5c660c116623b8f@mail.gmail.com>
	<47861D5B.2030400@dbtopas.lt>
	<506F2860-7706-4877-B40E-D25D33D5BC05@syenar.hu>
Message-ID: <20080111115935.GA5173@localhost.localdomain>

On Thu, 10 Jan 2008, Szak?ts Viktor wrote:
> Hi Mindaugas,
> Since I believe you will commit these wrappers
> to the contrib area (since these might have
> 3rd party lib dependencies, unless we include
> these sources in core), I think it's fine to release
> them anytime, even now.

I also agree. If it's new contrib project then please commit it.
I also think that we should remove HB_I18N_SUPPORT macro and enable
code covered by this macro in default builds. It's quite well
tested, does not break other code and open door for adding
i18n tools to Harbour which will be separated from existing
code so will not break anything.
I'll add item functions Mindaugas asked ASAP.
Victor, do you plan to update TBROWSE class before release?
If not then I think it's time to start release process.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Jan 11 12:31:08 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 11 12:31:06 2008
Subject: [Harbour] How to gzip a string?
In-Reply-To: <20080111115935.GA5173@localhost.localdomain>
References: <9257026e0801092346j2c6dab63qe5c660c116623b8f@mail.gmail.com>
	<47861D5B.2030400@dbtopas.lt>
	<506F2860-7706-4877-B40E-D25D33D5BC05@syenar.hu>
	<20080111115935.GA5173@localhost.localdomain>
Message-ID: <DCB5AEC1-6539-466A-BBC6-5A42F8008582@syenar.hu>

Hi Przemek,

On 2008.01.11., at 12:59, Przemyslaw Czerpak wrote:

> On Thu, 10 Jan 2008, Szak?ts Viktor wrote:
>> Hi Mindaugas,
>> Since I believe you will commit these wrappers
>> to the contrib area (since these might have
>> 3rd party lib dependencies, unless we include
>> these sources in core), I think it's fine to release
>> them anytime, even now.
>
> I also agree. If it's new contrib project then please commit it.
> I also think that we should remove HB_I18N_SUPPORT macro and enable
> code covered by this macro in default builds. It's quite well
> tested, does not break other code and open door for adding
> i18n tools to Harbour which will be separated from existing
> code so will not break anything.

I agree.

> I'll add item functions Mindaugas asked ASAP.
> Victor, do you plan to update TBROWSE class before release?
> If not then I think it's time to start release process.

Let's start the release, I couldn't yet find enough
continuous time to take a deep jump into TBROWSE.

Brgds,
Viktor

From dbtopas at dbtopas.lt  Fri Jan 11 15:39:57 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Jan 11 15:38:17 2008
Subject: [Harbour] ChangeLog 2008-01-11 17:32 UTC+0200 Mindaugas Kavaliauskas
Message-ID: <47878DCD.5010900@dbtopas.lt>

2008-01-11 17:32 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
   * harbour/include/hbexprb.c
   * harbour/source/compiler/hbmain.c
     ! added string escaping before to i18n .pot files
     + added hb_i18n_gettext_strict() support for compiler. This function
       generates warning if argument is not literal string. See discussion
       on mailing list from 2007-11-23 to 2007-11-29, for details.

> I also think that we should remove HB_I18N_SUPPORT macro and enable
> code covered by this macro in default builds. It's quite well
> tested, does not break other code and open door for adding
> i18n tools to Harbour which will be separated from existing
> code so will not break anything.


Hi,


one thing was missing - strings were not escaped before writing to .pot 
file. This is important fix, if we want to include i18n in current 
release. So, I've committed the change.
I've implemented this a month ago and used code until now, so I hope 
there are no nasty bugs in new code.


Best regards,
Mindaugas
From druzus at acn.waw.pl  Fri Jan 11 17:01:06 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jan 11 17:01:12 2008
Subject: [Harbour] ChangeLog 2008-01-11 17:32 UTC+0200 Mindaugas
	Kavaliauskas
In-Reply-To: <47878DCD.5010900@dbtopas.lt>
References: <47878DCD.5010900@dbtopas.lt>
Message-ID: <20080111170106.GA32395@localhost.localdomain>

On Fri, 11 Jan 2008, Mindaugas Kavaliauskas wrote:
> one thing was missing - strings were not escaped before writing to .pot 
> file. This is important fix, if we want to include i18n in current 
> release. So, I've committed the change.

Thank you. I'll remove HB_I18N_SUPPORT in a while.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Jan 11 17:01:39 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jan 11 17:01:44 2008
Subject: [Harbour] 2008-01-11 18:01 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801111701.m0BH1d59032450@31-mo5-4.acn.waw.pl>

2008-01-11 18:01 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbapiitm.h
  * harbour/source/vm/itemapi.c
    + added new functions:
         BOOL hb_itemParamStore( USHORT uiParam, PHB_ITEM pItem )
         BOOL hb_itemParamStoreForward( USHORT uiParam, PHB_ITEM pItem )
      They copy/move pItem body to parameter passed by reference and
      return TRUE when operation was done successfully (uiParam was passed
      by reference)
    + added new functions for string manipulation:
         char * hb_itemLockReadCPtr( PHB_ITEM pItem, ULONG * pulLen );
         char * hb_itemLockWriteCPtr( PHB_ITEM pItem, ULONG * pulLen );
         void   hb_itemUnLockCPtr( char * pszString );
      It's recommended to use them instead of hb_itemGetCPtr().
      Pointer to string buffer returned by hb_itemLockReadCPtr() will
      be always valid even if source item will be cleared, destroyed or
      overwritten until hb_itemUnLockCPtr() is called. Each locked string
      has to be unlocked to avoid memory leaks. After unlocking the string
      pointer cannot be longer used.
      hb_itemLockWriteCPtr() works like hb_itemLockReadCPtr() but string
      pointer returned by this function is writable so user can change
      the body of string item. It's the _ONLY_ one way when it's possible.
      Modifying string items using pointers returned by hb_parc() or
      hb_itemGetCPtr() or extracted directly from HB_ITEM body is _FORBIDDEN_
      and can cause unpredictable results (GPF when constant/readonly memory
      pages are changed, changing many different items which share the same
      memory buffer, etc.).
      This is code illustrates how to use hb_itemLockReadCPtr()/
      hb_itemUnLockCPtr() and it's also good example why hb_itemGetCPtr()
      is very danger function and cannot be used in such case - if you
      replace hb_itemLockReadCPtr() with hb_itemGetCPtr() and remove
      hb_itemUnLockCPtr() then you will have buggy code.

         HB_FUNC( MYFUNC )
         {
            PHB_ITEM pObject = hb_param( 1, HB_IT_OBJECT )
            if( pObject )
            {
               char * pszName1, * pszName2;
               PHB_ITEM pResult;

               pResult = hb_objSendMsg( pObject, "POP", 0 );
               pszName1 = hb_itemLockReadCPtr( pResult, NULL );
               pResult = hb_objSendMsg( pObject, "POP", 0 );
               pszName2 = hb_itemLockReadCPtr( pResult, NULL );
               if( pszName1 && pszName2 )
                  hb_retc_buffer( hb_xstrcpy( NULL,
                              "[", pszName1, "]-[", pszName2, "]", NULL ) );
               hb_itemUnLockCPtr( pszName1 );
               hb_itemUnLockCPtr( pszName2 );
            }
         }

      This code shows how to use hb_itemLockWriteCPtr():
         proc main()
            local cVal, cVal2
            cVal := cVal2 := "ABC"
            STRPUT( @cVal2, 2, 42 )
            ? cVal, cVal2
         return
         #pragma begindump
         #include "hbapiitm.h"
         HB_FUNC( STRPUT )
         {
            PHB_ITEM pString = hb_param( 1, HB_IT_STRING );
            ULONG ulAt = hb_parnl( 2 );
            if( pString && ulAt && ISNUM( 3 ) )
            {
               ULONG ulLen;
               char * pszValue;
               pszValue = hb_itemLockWriteCPtr( pString, &ulLen );
               if( pszValue )
               {
                  if( ulAt <= ulLen )
                     pszValue[ ulAt - 1 ] = ( char ) hb_parni( 3 );
                  hb_itemUnLockCPtr( pszValue );
               }
            }
         }
         #pragma enddump

  * harbour/include/hbcompdf.h
  * harbour/include/hbexprop.h
  * harbour/include/hbexprb.c
  * harbour/source/compiler/hbmain.c
  * harbour/source/compiler/cmdcheck.c
  * harbour/source/compiler/hbusage.c
    * removed HB_I18N_SUPPORT macro and enabled I18N code in default build

best regards
Przemek
From druzus at acn.waw.pl  Fri Jan 11 17:13:52 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jan 11 17:13:57 2008
Subject: [Harbour] 2008-01-11 18:13 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801111713.m0BHDqtu015264@31-mo5-4.acn.waw.pl>

2008-01-11 18:13 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbexprb.c
    * removed unused variable

best regards
Przemek
From harbour.01 at syenar.hu  Fri Jan 11 19:29:02 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 11 19:29:02 2008
Subject: [Harbour] 2008-01-11 18:01 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200801111701.m0BH1d59032450@31-mo5-4.acn.waw.pl>
References: <200801111701.m0BH1d59032450@31-mo5-4.acn.waw.pl>
Message-ID: <1BF67DEE-68AA-44BA-9989-CAB9A55015B8@syenar.hu>

Hi Przemek,

I think there is such an unsafe usage of hb_itemGetCPtr()
in philes.c / FREAD().

That one sprang to my mind, but maybe there are more.

Brgds,
Viktor

On 2008.01.11., at 18:01, Przemyslaw Czerpak wrote:

> 2008-01-11 18:01 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>  * harbour/include/hbapiitm.h
>  * harbour/source/vm/itemapi.c
>    + added new functions:
>         BOOL hb_itemParamStore( USHORT uiParam, PHB_ITEM pItem )
>         BOOL hb_itemParamStoreForward( USHORT uiParam, PHB_ITEM  
> pItem )
>      They copy/move pItem body to parameter passed by reference and
>      return TRUE when operation was done successfully (uiParam was  
> passed
>      by reference)
>    + added new functions for string manipulation:
>         char * hb_itemLockReadCPtr( PHB_ITEM pItem, ULONG * pulLen );
>         char * hb_itemLockWriteCPtr( PHB_ITEM pItem, ULONG * pulLen );
>         void   hb_itemUnLockCPtr( char * pszString );
>      It's recommended to use them instead of hb_itemGetCPtr().
>      Pointer to string buffer returned by hb_itemLockReadCPtr() will
>      be always valid even if source item will be cleared, destroyed or
>      overwritten until hb_itemUnLockCPtr() is called. Each locked  
> string
>      has to be unlocked to avoid memory leaks. After unlocking the  
> string
>      pointer cannot be longer used.
>      hb_itemLockWriteCPtr() works like hb_itemLockReadCPtr() but  
> string
>      pointer returned by this function is writable so user can change
>      the body of string item. It's the _ONLY_ one way when it's  
> possible.
>      Modifying string items using pointers returned by hb_parc() or
>      hb_itemGetCPtr() or extracted directly from HB_ITEM body is  
> _FORBIDDEN_
>      and can cause unpredictable results (GPF when constant/readonly  
> memory
>      pages are changed, changing many different items which share  
> the same
>      memory buffer, etc.).
>      This is code illustrates how to use hb_itemLockReadCPtr()/
>      hb_itemUnLockCPtr() and it's also good example why  
> hb_itemGetCPtr()
>      is very danger function and cannot be used in such case - if you
>      replace hb_itemLockReadCPtr() with hb_itemGetCPtr() and remove
>      hb_itemUnLockCPtr() then you will have buggy code.
>
>         HB_FUNC( MYFUNC )
>         {
>            PHB_ITEM pObject = hb_param( 1, HB_IT_OBJECT )
>            if( pObject )
>            {
>               char * pszName1, * pszName2;
>               PHB_ITEM pResult;
>
>               pResult = hb_objSendMsg( pObject, "POP", 0 );
>               pszName1 = hb_itemLockReadCPtr( pResult, NULL );
>               pResult = hb_objSendMsg( pObject, "POP", 0 );
>               pszName2 = hb_itemLockReadCPtr( pResult, NULL );
>               if( pszName1 && pszName2 )
>                  hb_retc_buffer( hb_xstrcpy( NULL,
>                              "[", pszName1, "]-[", pszName2, "]",  
> NULL ) );
>               hb_itemUnLockCPtr( pszName1 );
>               hb_itemUnLockCPtr( pszName2 );
>            }
>         }
>
>      This code shows how to use hb_itemLockWriteCPtr():
>         proc main()
>            local cVal, cVal2
>            cVal := cVal2 := "ABC"
>            STRPUT( @cVal2, 2, 42 )
>            ? cVal, cVal2
>         return
>         #pragma begindump
>         #include "hbapiitm.h"
>         HB_FUNC( STRPUT )
>         {
>            PHB_ITEM pString = hb_param( 1, HB_IT_STRING );
>            ULONG ulAt = hb_parnl( 2 );
>            if( pString && ulAt && ISNUM( 3 ) )
>            {
>               ULONG ulLen;
>               char * pszValue;
>               pszValue = hb_itemLockWriteCPtr( pString, &ulLen );
>               if( pszValue )
>               {
>                  if( ulAt <= ulLen )
>                     pszValue[ ulAt - 1 ] = ( char ) hb_parni( 3 );
>                  hb_itemUnLockCPtr( pszValue );
>               }
>            }
>         }
>         #pragma enddump
>
>  * harbour/include/hbcompdf.h
>  * harbour/include/hbexprop.h
>  * harbour/include/hbexprb.c
>  * harbour/source/compiler/hbmain.c
>  * harbour/source/compiler/cmdcheck.c
>  * harbour/source/compiler/hbusage.c
>    * removed HB_I18N_SUPPORT macro and enabled I18N code in default  
> build
>
> best regards
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Fri Jan 11 21:35:35 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jan 11 21:35:41 2008
Subject: [Harbour] 2008-01-11 22:35 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801112135.m0BLZZLv023532@31-mo5-4.acn.waw.pl>

2008-01-11 22:35 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/itemapi.c
    ! use hb_xRefFree() instead of hb_xRefDec() in hb_itemUnLockCPtr()
      It's necessary when source item is cleared before.

best regards
Przemek
From druzus at acn.waw.pl  Fri Jan 11 21:49:07 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jan 11 21:49:12 2008
Subject: [Harbour] 2008-01-11 18:01 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <1BF67DEE-68AA-44BA-9989-CAB9A55015B8@syenar.hu>
References: <200801111701.m0BH1d59032450@31-mo5-4.acn.waw.pl>
	<1BF67DEE-68AA-44BA-9989-CAB9A55015B8@syenar.hu>
Message-ID: <20080111214907.GB5173@localhost.localdomain>

On Fri, 11 Jan 2008, Szak?ts Viktor wrote:
> Hi Przemek,
> I think there is such an unsafe usage of hb_itemGetCPtr()
> in philes.c / FREAD().
> That one sprang to my mind, but maybe there are more.

Now it's safe because hb_itemUnShareString() is used but I would like
to eliminae this functions from public API and replace it with
hb_itemLockWriteCPtr()/hb_itemUnLockCPtr() so I'll update FREAD()
and also HB_INETRECV(), HB_INETDGRAMRECV(), STRPOKE() and HB_UTF8POKE()
ASAP.

I also want to cover hb_parcsiz() usage in FREAD() by HB_C52_STRICT
macro. I do not like that public .prg level function allows to eliminate
chr(0) terminator from HB_ITEM strings what can be source of some
unpredictable errors (f.e. GPF) in other subsystems which expects
that strings are always NULL terminated. I hope it will not be very
big problem.

best regards,
Przemek
From dbtopas at dbtopas.lt  Sat Jan 12 01:38:09 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Sat Jan 12 01:36:26 2008
Subject: [Harbour] 2008-01-11 18:01 UTC+0100 Przemyslaw
	Czerpak	(druzus/at/priv.onet.pl)
In-Reply-To: <200801111701.m0BH1d59032450@31-mo5-4.acn.waw.pl>
References: <200801111701.m0BH1d59032450@31-mo5-4.acn.waw.pl>
Message-ID: <47881A01.9020408@dbtopas.lt>

Przemyslaw Czerpak wrote:
>     + added new functions for string manipulation:
>          char * hb_itemLockReadCPtr( PHB_ITEM pItem, ULONG * pulLen );
>          char * hb_itemLockWriteCPtr( PHB_ITEM pItem, ULONG * pulLen );
>          void   hb_itemUnLockCPtr( char * pszString );
>       It's recommended to use them instead of hb_itemGetCPtr().
>       Pointer to string buffer returned by hb_itemLockReadCPtr() will
>       be always valid even if source item will be cleared, destroyed or
>       overwritten until hb_itemUnLockCPtr() is called. Each locked string
>       has to be unlocked to avoid memory leaks. After unlocking the string
>       pointer cannot be longer used.
>       hb_itemLockWriteCPtr() works like hb_itemLockReadCPtr() but string
>       pointer returned by this function is writable so user can change
>       the body of string item. It's the _ONLY_ one way when it's possible.
>       Modifying string items using pointers returned by hb_parc() or
>       hb_itemGetCPtr() or extracted directly from HB_ITEM body is _FORBIDDEN_
>       and can cause unpredictable results (GPF when constant/readonly memory
>       pages are changed, changing many different items which share the same
>       memory buffer, etc.).
>       This is code illustrates how to use hb_itemLockReadCPtr()/
>       hb_itemUnLockCPtr() and it's also good example why hb_itemGetCPtr()
>       is very danger function and cannot be used in such case - if you
>       replace hb_itemLockReadCPtr() with hb_itemGetCPtr() and remove
>       hb_itemUnLockCPtr() then you will have buggy code.
> 
>          HB_FUNC( MYFUNC )
>          {
>             PHB_ITEM pObject = hb_param( 1, HB_IT_OBJECT )
>             if( pObject )
>             {
>                char * pszName1, * pszName2;
>                PHB_ITEM pResult;
> 
>                pResult = hb_objSendMsg( pObject, "POP", 0 );
>                pszName1 = hb_itemLockReadCPtr( pResult, NULL );
>                pResult = hb_objSendMsg( pObject, "POP", 0 );
>                pszName2 = hb_itemLockReadCPtr( pResult, NULL );
>                if( pszName1 && pszName2 )
>                   hb_retc_buffer( hb_xstrcpy( NULL,
>                               "[", pszName1, "]-[", pszName2, "]", NULL ) );
>                hb_itemUnLockCPtr( pszName1 );
>                hb_itemUnLockCPtr( pszName2 );
>             }
>          }

Hi,


what are situations and rules to use hb_itemLockReadCPtr()? Pointer to C 
string could be obtained not only by using hb_itemGetCPtr(). There is a 
number of other methods, hb_parc() is an example.

HB_FUNC( MYFUNC2 )
{
    char*   szParam = hb_parc( 1 );
    hb_vmDynSym( hb_dynsymFind( "SOMEOTHERFUNC" ) );
    hb_vmPushNil();
    hb_vmPushLocalByRef( 1 );
    hb_vmDo( 1 );
    ... any operation on szParam is invalid ...
}

Well, a little bit artificial example, but it could be realistic if 
hb_vm*() is hidden under call of some other function.

The problem of your example is that pResult is return item of hb_stack, 
and it could be reused to store other items if we call some function 
that operates on hb_stack, hb_objSendMsg() in this case.
If pResult would be owned not by hb_stack, but owned by MYFUNC, we'll 
have no problem. Let's last line of hb_objSendMsg() be
    return hb_itemNew( hb_stackReturnItem() );
instead of
    return hb_stackReturnItem();
In this case MYFUNC owns pResult and is responsible to free it. MYFUNC 
code would be:
    pResult1 = hb_objSendMsg( pObject, "POP", 0 );
    pszName1 = hb_itemGetCPtr( pResult1 );
    pResult2 = hb_objSendMsg( pObject, "POP", 0 );
    pszName2 = hb_itemGetCPtr( pResult2 );
    if( pszName1 && pszName2 )
       hb_retc_buffer( ... );
    hb_itemRelease( pResult1 );
    hb_itemRelease( pResult2 );
Locking idea is replaced by idea of owning, unlocking item is equivalent 
to freeing it. This code looks a little more clear for me. BTW, this 
approach to solve problem of reusing hb_stack's return item is used in 
hb_itemDo().

The problem of MYFUNC2 is a little more complicated, because here we use 
ExtendAPI and we change value of parameter, not a return value. 
ExtendAPI does not operate on items and item could not be owned by 
MYFUNC2, but a rule of thumb could be made: if function allows to change 
it's parameters on hb_stack (ex., by passing it by reference), it should 
make item's copy for itself:
    PHB_ITEM  pItem = hb_itemNew( hb_param( 1, HB_IT_STRING ) );
    char*     szParam = hb_itemGetCPtr( pItem );
    hb_vmDynSym( hb_dynsymFind( "SOMEOTHERFUNC" ) );
    hb_vmPushNil();
    hb_vmPushLocalByRef( 1 );
    hb_vmDo( 1 );
    ... some operation on szParam ...
    hb_itemRelease( pItem );

Of cause arrays could be a source of nasty bugs:
    char*  szParam = hb_parc( 1, 1 );
since arrays are always a references.


I feel my letter is more like brainstorming before a sleep than a letter 
of the ideas I really want to see implemented. Usage of 
hb_stackReturnItem() is more fast than making a copy of item. In many 
cases hb_stackReturnItem() is OK. Maybe we can use hb_stackReturnItem() 
for internal code and hb_itemNew( hb_stackReturnItem() ) for public API.
I could be hb_itemLock*()/hb_itemUnLockCPtr() is the best (and optimal) 
solution, but hb_parc( 1, 1 ) example shows, that 3rd party programmer 
should have an idea about hb_stack, items, etc, and switch to ItemAPI if 
any of called subfunctions can operate on hb_stack. I do not find an 
easy way to force writing a safe code or find hidden bugs.


Best regards,
Mindaugas
From druzus at acn.waw.pl  Sat Jan 12 11:29:25 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Jan 12 11:29:32 2008
Subject: [Harbour] 2008-01-11 18:01 UTC+0100 Przemyslaw
	Czerpak	(druzus/at/priv.onet.pl)
In-Reply-To: <47881A01.9020408@dbtopas.lt>
References: <200801111701.m0BH1d59032450@31-mo5-4.acn.waw.pl>
	<47881A01.9020408@dbtopas.lt>
Message-ID: <20080112112925.GA24961@localhost.localdomain>

On Sat, 12 Jan 2008, Mindaugas Kavaliauskas wrote:
> what are situations and rules to use hb_itemLockReadCPtr()? Pointer to C 
> string could be obtained not only by using hb_itemGetCPtr(). There is a 
> number of other methods, hb_parc() is an example.
> 
> HB_FUNC( MYFUNC2 )
> {
>    char*   szParam = hb_parc( 1 );
>    hb_vmDynSym( hb_dynsymFind( "SOMEOTHERFUNC" ) );
>    hb_vmPushNil();
>    hb_vmPushLocalByRef( 1 );
>    hb_vmDo( 1 );
>    ... any operation on szParam is invalid ...
> }
> 
> Well, a little bit artificial example, but it could be realistic if 
> hb_vm*() is hidden under call of some other function.

Yes, it is and users should know about it.

> The problem of your example is that pResult is return item of hb_stack, 
> and it could be reused to store other items if we call some function 
> that operates on hb_stack, hb_objSendMsg() in this case.
> If pResult would be owned not by hb_stack, but owned by MYFUNC, we'll 
> have no problem. Let's last line of hb_objSendMsg() be
>    return hb_itemNew( hb_stackReturnItem() );
> instead of
>    return hb_stackReturnItem();
> In this case MYFUNC owns pResult and is responsible to free it. MYFUNC 
> code would be:
>    pResult1 = hb_objSendMsg( pObject, "POP", 0 );
>    pszName1 = hb_itemGetCPtr( pResult1 );
>    pResult2 = hb_objSendMsg( pObject, "POP", 0 );
>    pszName2 = hb_itemGetCPtr( pResult2 );
>    if( pszName1 && pszName2 )
>       hb_retc_buffer( ... );
>    hb_itemRelease( pResult1 );
>    hb_itemRelease( pResult2 );
> Locking idea is replaced by idea of owning, unlocking item is equivalent 
> to freeing it. This code looks a little more clear for me. BTW, this 
> approach to solve problem of reusing hb_stack's return item is used in 
> hb_itemDo().

Exactly. Unfortunately I do not see any chance to change functions like
hb_objSendMsg() now due to compatibility with existing 3-rd party code
but it's not the only one reason I intorduced hb_itemLock*CPtr() functions.
F.e. people have very serious problem with CP/UNICODE string conversions.
If you look at 3-rd party GUI libraries you will that no one so far
implemented valid automatic conversion which will follow HVM settings.
Instead Windows users/developers begins to introduce ANSI/OEM conversion
to Harbour what only increase the problem.
To resolve string conversion problem I will have to introduce new set
of string functions which will make all conversions (if necessary) and
then will allow to free returned strings. hb_itemLockReadCPtr() is very nice
solution to eliminate unnecessary conversions and protect string pointer.
F.e.:
    szPtr = hb_parc_utf8( 1 )
    ...
    hb_parc_free( szPtr );

or:
    szPtr = hb_parc_u16l( 1 )  // 16bit unicode value in little endian order
    ...
    hb_parc_free( szPtr );

or:
    szPtr = hb_parc_str( 1 ); // character string value in current HVM CP
    ...
    hb_parc_free( szPtr );

or:
    szPtr = hb_parc_cpstr( 1, cdp ); // character string value in given CP
    ...
    hb_parc_free( szPtr );

Please note that above functions allows to introduce UNICODE into HVM
without interacting with 3-rd party code which does not have to know
how is encoded passed string item. It will only request about some
final form and HVM will make all conversions (only if necessary if
source encoding and destination encoding are the same simple call to
hb_itemLockReadCPtr() will be enough) and return pointer which later
will have to be freed. As you can see hb_parc_str()/hb_parc_free()
pair will also be an method to protect string item body when you
feel that hb_parc() is not enough.
If you look at recent modifications for WinCE and/or UNICODE Windows API
in Harbour code then you will find also that with above functions they
can be greatly simplified.
If GUI developers will begin to use them also then the problem of
automatic CP conversions will be resolved and in the future we can
introduce UNICODE string items which will work with existing code
without any problem.

> The problem of MYFUNC2 is a little more complicated, because here we use 
> ExtendAPI and we change value of parameter, not a return value. 
> ExtendAPI does not operate on items and item could not be owned by 
> MYFUNC2, but a rule of thumb could be made: if function allows to change 
> it's parameters on hb_stack (ex., by passing it by reference), it should 
> make item's copy for itself:
>    PHB_ITEM  pItem = hb_itemNew( hb_param( 1, HB_IT_STRING ) );
>    char*     szParam = hb_itemGetCPtr( pItem );
>    hb_vmDynSym( hb_dynsymFind( "SOMEOTHERFUNC" ) );
>    hb_vmPushNil();
>    hb_vmPushLocalByRef( 1 );
>    hb_vmDo( 1 );
>    ... some operation on szParam ...
>    hb_itemRelease( pItem );
> 
> Of cause arrays could be a source of nasty bugs:
>    char*  szParam = hb_parc( 1, 1 );
> since arrays are always a references.

And it's the reason why I'm reducing hb_arrayGetItemPtr() replacing
it by hb_arraySet*(). Of course we will need corresponding string
lock functions to extract string pointers from array items.

> I feel my letter is more like brainstorming before a sleep than a letter 
> of the ideas I really want to see implemented. Usage of 
> hb_stackReturnItem() is more fast than making a copy of item. In many 
> cases hb_stackReturnItem() is OK. Maybe we can use hb_stackReturnItem() 
> for internal code and hb_itemNew( hb_stackReturnItem() ) for public API.

    pItem = hb_itemReturnCopy( pItem /* or NULL */ ) ?

> I could be hb_itemLock*()/hb_itemUnLockCPtr() is the best (and optimal) 
> solution, but hb_parc( 1, 1 ) example shows, that 3rd party programmer 
> should have an idea about hb_stack, items, etc, and switch to ItemAPI if 
> any of called subfunctions can operate on hb_stack. I do not find an 
> easy way to force writing a safe code or find hidden bugs.

hb_parc_str( 1, 1 ) will be safe. Anyhow now I feel it was not good moment
to introduce it. To show full functionality I will have to make some
deeper modifications and add other functions I've planed to introduce later.
So probably now I'll remove them and restore later after 1.0 when we
discuss names which should be used for all of them. Above is only my
proposition so maybe we will chose sth different also changing the API.

best regards,
Przemek
From druzus at acn.waw.pl  Sat Jan 12 12:13:05 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Jan 12 12:13:10 2008
Subject: [Harbour] 2008-01-12 13:12 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801121213.m0CCD5cA025820@31-mo5-4.acn.waw.pl>

2008-01-12 13:12 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/itemapi.c
    ! fixed hb_itemLockReadCPtr() used for static strings

best regards
Przemek
From druzus at acn.waw.pl  Sat Jan 12 12:20:14 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Jan 12 12:20:20 2008
Subject: [Harbour] 2008-01-12 13:19 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801121220.m0CCKEZv025886@31-mo5-4.acn.waw.pl>

2008-01-12 13:19 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/ChangeLog
  * harbour/include/hbapiitm.h
  * harbour/source/vm/itemapi.c
    - removed hb_itemLockReadCPtr()/hb_itemLockWriteCPtr()/hb_itemUnLockCPtr()
      Whole modification which will address all different aspects it to
      complex to introduce it now. I'll return to this problem after
      1.0 release

best regards
Przemek
From info at fsgiudice.com  Sat Jan 12 12:30:23 2008
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Jan 12 12:30:32 2008
Subject: [Harbour] How reduce concatenation size of numeric fields in index ?
References: <200801111701.m0BH1d59032450@31-mo5-4.acn.waw.pl><47881A01.9020408@dbtopas.lt>
	<20080112112925.GA24961@localhost.localdomain>
Message-ID: <000801c85516$e8123d10$b400a8c0@ASUSFSG>

Hello Friends,

I have a database that has 3 numeric fields likes:

N1    N      16    0
N2    N      16    0
N3    N      16    0

and I need to make a lot of indexes like

INDEX ON Str(n1)+Str(n2)+Str(n3) TAG "n1n2n3" TO myindex
INDEX ON Str(n2)+Str(n1)+Str(n3) TAG "n2n1n3" TO myindex ADDITIVE
INDEX ON Str(n3)+Str(n2)+Str(n1) TAG "n3n2n1" TO myindex ADDITIVE
INDEX ON Str(n1)+Str(n3)+Str(n2) TAG "n1n3n2" TO myindex ADDITIVE
INDEX ON Str(n2)+Str(n3)+Str(n1) TAG "n2n3n1" TO myindex ADDITIVE
INDEX ON Str(n3)+Str(n1)+Str(n2) TAG "n3n1n2" TO myindex ADDITIVE
INDEX ON Str(n1)+Str(n2)              TAG "n1n2"     TO myindex UNIQUE 
ADDITIVE
INDEX ON Str(n2)+Str(n1)              TAG "n2n1"     TO myindex UNIQUE 
ADDITIVE
INDEX ON Str(n1)+Str(n3)              TAG "n1n3"     TO myindex UNIQUE 
ADDITIVE
etc.

but I would like to reduce index keys dimension. Is there an algorithm that 
give me compact indexes ?
I have thought to convert numeric decimal values in hex values, but I have 
to store same 16 chars for every fields. Or am I in wrong ?

TIA

Francesco



From druzus at acn.waw.pl  Sat Jan 12 13:40:45 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Jan 12 13:40:49 2008
Subject: [Harbour] How reduce concatenation size of numeric fields in
	index ?
In-Reply-To: <000801c85516$e8123d10$b400a8c0@ASUSFSG>
References: <20080112112925.GA24961@localhost.localdomain>
	<000801c85516$e8123d10$b400a8c0@ASUSFSG>
Message-ID: <20080112134045.GA25345@localhost.localdomain>

On Sat, 12 Jan 2008, Francesco Saverio Giudice wrote:
> Hello Friends,
> I have a database that has 3 numeric fields likes:
> N1    N      16    0
> N2    N      16    0
> N3    N      16    0
> and I need to make a lot of indexes like
> INDEX ON Str(n1)+Str(n2)+Str(n3) TAG "n1n2n3" TO myindex
> INDEX ON Str(n2)+Str(n1)+Str(n3) TAG "n2n1n3" TO myindex ADDITIVE
> INDEX ON Str(n3)+Str(n2)+Str(n1) TAG "n3n2n1" TO myindex ADDITIVE
> INDEX ON Str(n1)+Str(n3)+Str(n2) TAG "n1n3n2" TO myindex ADDITIVE
> INDEX ON Str(n2)+Str(n3)+Str(n1) TAG "n2n3n1" TO myindex ADDITIVE
> INDEX ON Str(n3)+Str(n1)+Str(n2) TAG "n3n1n2" TO myindex ADDITIVE
> INDEX ON Str(n1)+Str(n2)              TAG "n1n2"     TO myindex UNIQUE 
> ADDITIVE
> INDEX ON Str(n2)+Str(n1)              TAG "n2n1"     TO myindex UNIQUE 
> ADDITIVE
> INDEX ON Str(n1)+Str(n3)              TAG "n1n3"     TO myindex UNIQUE 
> ADDITIVE
> etc.
> but I would like to reduce index keys dimension. Is there an algorithm that 
> give me compact indexes ?

CDX will compress such indexes by default but if you want to compress
also single key then you will have to convert numeric value to
binary form.

> I have thought to convert numeric decimal values in hex values, but I have 
> to store same 16 chars for every fields. Or am I in wrong ?

Nearly 16. Let's calculate it more precisely:
   ? log(10^16)/log(2) => 53.15
So you need at least 54 bits to hold such number. In hex encoding
each number holds information about 4 bits it means that you need
at least INT((54+3)/4) => 14 hex digits (it can be also calculated
as log(10^16)/log(16) => 13.29) As you can see you will not save
too much using hex conversion.
If you do not use national collation then you can use binary big
endian form and in such case for each number you will need 7 bytes
(log(10^16)/log(256) => 6.64). You can write your own function
for such conversion:

    HB_FUNC( HASHDEC16 )
    {
	LONGLONG llValue = hb_parnll( 1 );
	char * buffer[ 8 ];

	/* if you are using possitive only number */
	HB_PUT_BE_UINT64( buffer, llValue );

	hb_retclen( buffer, 7 );
    }

and then create index on HASHDEC16(n1)+HASHDEC16(n2)+HASHDEC16(n3)
You will reduce the key size from 48 to 21.
But if you are using national collation then you should also
convert 'buffer' above to respect modified byte order. You can
create static byte table for such conversion to not reduce speed.
Unfortunately now we do not have an option to mark index as binary.
I'll add such functionality in the future.

best regards,
Przemek
From mhsabado at gmail.com  Sat Jan 12 17:01:31 2008
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Sat Jan 12 17:01:56 2008
Subject: [Harbour] TBrowse Behavior
In-Reply-To: <476e4dd0.2009360a.3fa8.1871SMTPIN_ADDED@mx.google.com>
References: <476e4dd0.2009360a.3fa8.1871SMTPIN_ADDED@mx.google.com>
Message-ID: <4788F26B.3040107@gmail.com>

Hi Viktor,

Below test code when run between Harbour and xHarbour demonstrates one 
difference specifically on the TBrowse column alignment.  I was able to 
compile in Harbour my whole console application successfully but this 
difference, personally, is a show stopper.  If it's not too much to ask, 
kindly assess if you can easily spot and adjust this difference and be 
included in 1.0.  But if it would take you long, just don't mind it and 
I'll just wait when you'll have spare time.

Thanks and best regards,
Mario

/////////////////////////////////////////////////////////////////
#include "inkey.ch"
static scope

function main
local oJB_Br,oGL_Br
local key,x,y
local aM1Struct,aD1Struct
local lSwitch := .t.
local seek_key

scope :="ST10CRISP"

setmode(25,80)

cls

aM1Struct := { ;
               { "STORE_CODE", "C", 4, 0 }, ;
               { "BOOK_TYPE"  , "C",  2, 0 }, ;
               { "TR_TYPE"   , "C",  3, 0 }, ;
               { "DOC_CODE"     , "C",  2, 0 }, ;
               { "TR_NO"  , "C",  8, 0 } }

aD1Struct := { ;
               { "STORE_CODE", "C", 4, 0 }, ;
               { "BOOK_TYPE"  , "C",  2, 0 }, ;
               { "TR_DATE"  , "D",  8, 0 }, ;
               { "DOC_CODE"   , "C",  2, 0 }, ;
               { "TR_NO"     , "C",  8, 0 }, ;
               { "ACCT_CODE"  , "C",  4, 0 } }

DbCreate( "M1", aM1Struct, "DBFNTX" )
use M1  shared new  alias "JBTRAN"
index on 
jbtran->store_code+jbtran->book_type+jbtran->tr_type+jbtran->doc_code+jbtran->tr_no 
to M1

for x = 1 to 10
   JBTRAN->(DbAppend())
   JBTRAN->STORE_CODE := "ST10"
   JBTRAN->BOOK_TYPE  := "CR"
   JBTRAN->TR_TYPE    := "ISP"
   JBTRAN->DOC_CODE   := "03"
   JBTRAN->TR_NO      :=  StrZero(x,8)
next x


DbCreate( "D1", aD1Struct, "DBFNTX" )
use D1  shared new  alias "GLTRAN"
index on 
gltran->store_code+gltran->doc_code+gltran->tr_no+dtos(gltran->tr_date) 
to D1

for x = 1 to 10
   for y = 1 to if(lSwitch,4,3)
      GLTRAN->(DbAppend())
      GLTRAN->STORE_CODE := "ST10"
      GLTRAN->BOOK_TYPE  := "CR"
      GLTRAN->TR_DATE    := date()
      GLTRAN->DOC_CODE   := "03"
      GLTRAN->TR_NO      := StrZero(x,8)
      GLTRAN->ACCT_CODE  := StrZero(y,4)
   next y
   lSwitch := !lSwitch
next x

DbSelectArea("jbtran")

DbSetRelation("GLTRAN",{|| 
JBTRAN->STORE_CODE+JBTRAN->DOC_CODE+JBTRAN->TR_NO})

oJB_Br:=MHSBrow("JBTRAN",{3,2,13,77},  ;
    { {"StoreCode",{||JBTRAN->STORE_CODE}},     ;
     {"DocCode",{||JBTRAN->DOC_CODE}},     ;
     {"TrNo",{||JBTRAN->TR_NO}} },      ;
     scope ,;
     {"STORE_CODE","BOOK_TYPE","TR_TYPE"} )

************ GL BROW ************
oGL_Br:=GLBrow({14,2,21,77})
oGL_Br:goTopBlock   :={| | 
PosWhile("top",JBTRAN->STORE_CODE+JBTRAN->DOC_CODE+JBTRAN->TR_NO,,,"GLTRAN")}
oGL_Br:goBottomBlock:={| | 
PosWhile("bottom",JBTRAN->STORE_CODE+JBTRAN->DOC_CODE+JBTRAN->TR_NO,{|x| 
GLTRAN->STORE_CODE+GLTRAN->DOC_CODE+GLTRAN->TR_NO==x},,"GLTRAN")}
oGL_Br:skipBlock    :={|n| 
PosWhile("skip",JBTRAN->STORE_CODE+JBTRAN->DOC_CODE+JBTRAN->TR_NO,{|x| 
GLTRAN->STORE_CODE+GLTRAN->DOC_CODE+GLTRAN->TR_NO==x},n,"GLTRAN")}
oGL_Br:autoLite:=.F.
oGL_Br:deHilite()

jbtran->(DbGotop())

do while .t.

   oJB_Br:ForceStable()
   oGL_Br:ForceStable()

   key:=inkey(0)

   do case

     case navigate(oJB_Br,key)

        oGL_Br:ForceStable()
        oGL_Br:goTop()

        case upper(chr(key)) == "S"

          seek_key := scope+"9999999999" //space(10)
          JBTRAN->(DbSeek(seek_key,.t.))

           if JBTRAN->(eof())
              JBTRAN->(DbSkip(-1))
           endif

         oJB_Br:refreshAll()
         oGL_Br:refreshAll()

      case key==K_ESC
         exit
   endcase
enddo

return nil


**************************************
* MHSBrow()
**************************************
Function MHSBrow(dbAlias,aCoord,aHdr,scope,aFldScope)
local old_cursor :=setcursor(0)
local s:=""
local oBr
LOCAL nT,nL,nB,nR,x

if aCoord==nil
   nT:=14
   nL:=2
   nB:=21
   nR:=77
else
   nT:=aCoord[1]
   nL:=aCoord[2]
   nB:=aCoord[3]
   nR:=aCoord[4]
endif


oBr:=TBrowseDB(nT,nL,nB,nR)

for x = 1 to len(aHdr)

   oBr:AddColumn(TBColumnNew(aHdr[x,1], aHdr[x,2] ))

next x

oBr:headSep:="???"
oBr:colSep :=" ? "
oBr:footSep:="???"
oBr:freeze:=1

if scope <> nil

   for x = 1 to len(aFldScope)
      s+=dbAlias+"->"+aFldScope[x] + if(x < len(aFldScope),"+","")
   next x

   oBr:goTopBlock   :={| | PosWhile("top",scope,,,(dbAlias) )}
   oBr:goBottomBlock:={| | PosWhile("bottom",scope,{|x| &(s) 
==x},,(dbAlias) )}
   oBr:skipBlock    :={|n| PosWhile("skip",scope,{|x| &(s) 
==x},n,(dbAlias) )}

endif

return oBr

**************************************
Function GLBrow(aCoord)
local old_cursor:=setcursor(0)
local prev_color:=setcolor()
local maincolor := if(Iscolor(), 'w/b', 'w/n')
local oBr
LOCAL nT,nL,nB,nR

if aCoord==nil
   nT:=14
   nL:=2
   nB:=21
   nR:=77
else
   nT:=aCoord[1]
   nL:=aCoord[2]
   nB:=aCoord[3]
   nR:=aCoord[4]
endif


oBr:=TBrowseDB(nT,nL,nB,nR)
oBr:AddColumn(TBColumnNew("StoreCode",{||GLTRAN->STORE_CODE}))
oBr:AddColumn(TBColumnNew("DocCode",{||GLTRAN->DOC_CODE}))
oBr:AddColumn(TBColumnNew("TrNo",{||GLTRAN->TR_NO}))
oBr:AddColumn(TBColumnNew("AcctCode",{||GLTRAN->ACCT_CODE}))

oBr:headSep:="???"
oBr:colSep :=" ? "
oBr:footSep:="???"
oBr:freeze:=1


return oBr

*** POSWHILE ***
Function PosWhile(how, firstkey, condition, howMany,_Alias)
local actual:=0

if _Alias==nil;_Alias:=alias();endif

do case
   case how=="top"
      (_Alias)->(DbSeek(firstkey))
   case how=="bottom"
      (_Alias)->(DbSeek( firstkey+chr(255),.T.))
      (_Alias)->(DbSkip(-1))
      if (.not. eval(condition,firstkey))
         (_Alias)->( DbGoto( (_Alias)->(lastrec()) +1) )
      endif
   case how=="skip"
      if .not. (_Alias)->(eof())
      do case
         case howmany < 0
            do while (actual > howmany) .and. (.not. (_Alias)->(bof()));
                     .and. eval(condition,firstkey)
               (_Alias)->(DbSkip(-1))
               if (.not. (_Alias)->(bof())) .and. eval(condition,firstkey)
                  actual--
               endif
            enddo
            if (.not. eval(condition,firstkey))
               (_Alias)->(DbSkip(+1))
               if (.not. eval(condition,firstkey))
                  (_Alias)->(DbGoto(lastrec()+1))
               endif
            endif

         case howmany > 0
            do while (actual < howmany) .and. (.not. (_Alias)->(eof()));
                     .and. eval(condition,firstkey)
               (_Alias)->(DbSkip(+1))
               if (.not. (_Alias)->(eof())) .and. eval(condition,firstkey)
                  actual++
               endif
            enddo
            if (.not. eval(condition,firstkey))
               (_Alias)->(DbSkip(-1))
               if (.not. eval(condition,firstkey))
                  (_Alias)->(DbGoto(lastrec()+1))
               endif
            endif
         otherwise
            (_Alias)->(DbSkip(0))
      endcase
   endif
   endcase
return actual

*** NAVIGATE ***
Function Navigate(b,k)
local n,keys_:={;
        {K_UP       , {||b:up()}}      , {K_DOWN     , {||b:down()}},;
        {K_LEFT     , {||b:left()}}    , {K_RIGHT    , {||b:right()}},;
        {K_PGUP     , {||b:pageUp()}}  , {K_PGDN     , {||b:pageDown()}},;
        {K_CTRL_PGUP, {||b:goTop()}}   , {K_CTRL_PGDN, {||b:goBottom()}},;
        {K_HOME     , {||b:home()}}    , {K_END      , {||b:end()}},;
        {K_CTRL_HOME, {||b:panHome()}} , {K_CTRL_END , {||b:panEnd()}},;
        {K_TAB      , {||b:panRight()}}, {K_SH_TAB   , {||b:panLeft()}} ;
         }

n:=ascan(keys_,{ |pair| k==pair[1] })
if n <> 0
   eval(keys_[n,2])
endif
return (n <> 0)
/////////////////////////////////////////////////////////////////////////////////////////
From lorenzo.fiorini at gmail.com  Sat Jan 12 20:36:50 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Jan 12 20:36:54 2008
Subject: [Harbour] Selinux alert about libharbour-1.1.1.so
Message-ID: <9257026e0801121236h48921203pe60fcc16e5960f75@mail.gmail.com>

I report just for information what Selinux alerts under Fc8/i386 if I
run an Harbour app that use libharbour-1.1.1.so:

The xxxxx application attempted to load /usr/lib/libharbour-1.1.1.so
which requires text relocation. This is a potential security problem.
Most libraries do not need this permission. Libraries are sometimes
coded incorrectly and request this permission. The SELinux Memory
Protection Tests web page explains how to remove this requirement. You
can configure SELinux temporarily to allow
/usr/lib/libharbour-1.1.1.so to use relocation as a workaround, until
the library is fixed. Please file a bug report against this package.

If you trust /usr/lib/libharbour-1.1.1.so to run correctly, you can
change the file context to textrel_shlib_t. "chcon -t textrel_shlib_t
/usr/lib/libharbour-1.1.1.so" You must also change the default file
context files on the system in order to preserve them even on a full
relabel. "semanage fcontext -a -t textrel_shlib_t
/usr/lib/libharbour-1.1.1.so"

best regards,
Lorenzo
From info at fsgiudice.com  Sat Jan 12 21:47:20 2008
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Sat Jan 12 21:47:30 2008
Subject: [Harbour] How reduce concatenation size of numeric fields inindex
	?
References: <20080112112925.GA24961@localhost.localdomain><000801c85516$e8123d10$b400a8c0@ASUSFSG>
	<20080112134045.GA25345@localhost.localdomain>
Message-ID: <000c01c85564$b69e3010$6501a8c0@ASUSFSG>

Hi Przemek,

----- Original Message ----- 
From: "Przemyslaw Czerpak" <druzus@acn.waw.pl>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Saturday, January 12, 2008 2:40 PM
Subject: Re: [Harbour] How reduce concatenation size of numeric fields 
inindex ?


[snip]
>
> CDX will compress such indexes by default but if you want to compress
> also single key then you will have to convert numeric value to
> binary form.
>
>> I have thought to convert numeric decimal values in hex values, but I 
>> have
>> to store same 16 chars for every fields. Or am I in wrong ?
>
> Nearly 16. Let's calculate it more precisely:
>   ? log(10^16)/log(2) => 53.15
> So you need at least 54 bits to hold such number. In hex encoding
> each number holds information about 4 bits it means that you need
> at least INT((54+3)/4) => 14 hex digits (it can be also calculated
> as log(10^16)/log(16) => 13.29) As you can see you will not save
> too much using hex conversion.
> If you do not use national collation then you can use binary big
> endian form and in such case for each number you will need 7 bytes
> (log(10^16)/log(256) => 6.64). You can write your own function
> for such conversion:
>
>    HB_FUNC( HASHDEC16 )
>    {
> LONGLONG llValue = hb_parnll( 1 );
> char * buffer[ 8 ];
>
> /* if you are using possitive only number */
> HB_PUT_BE_UINT64( buffer, llValue );
>
> hb_retclen( buffer, 7 );
>    }
>
> and then create index on HASHDEC16(n1)+HASHDEC16(n2)+HASHDEC16(n3)
> You will reduce the key size from 48 to 21.
> But if you are using national collation then you should also
> convert 'buffer' above to respect modified byte order. You can
> create static byte table for such conversion to not reduce speed.
> Unfortunately now we do not have an option to mark index as binary.
> I'll add such functionality in the future.
>

Thank you, I will try

Best Regards,
Francesco
 

From myorg63 at mail.ru  Sun Jan 13 07:40:32 2008
From: myorg63 at mail.ru (Petr Chornyj)
Date: Sun Jan 13 07:40:35 2008
Subject: [Harbour] 2008-01-11 18:01 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <20080112112925.GA24961@localhost.localdomain>
References: <200801111701.m0BH1d59032450@31-mo5-4.acn.waw.pl>
	<47881A01.9020408@dbtopas.lt>
	<20080112112925.GA24961@localhost.localdomain>
Message-ID: <14783034.post@talk.nabble.com>




Przemyslaw Czerpak-2 wrote:
> 
> ..
>> I feel my letter is more like brainstorming before a sleep than a letter 
>> of the ideas I really want to see implemented. Usage of 
>> hb_stackReturnItem() is more fast than making a copy of item. In many 
>> cases hb_stackReturnItem() is OK. Maybe we can use hb_stackReturnItem() 
>> for internal code and hb_itemNew( hb_stackReturnItem() ) for public API.
> 
>     pItem = hb_itemReturnCopy( pItem /* or NULL */ ) ?
> 
> ..
> 

Przemyslaw,
hb_itemReturnCopy is typo ( I mean hb_itemReturn )?
Or it is a part new API?

Regards,
Petr

-- 
View this message in context: http://www.nabble.com/2008-01-11-18%3A01-UTC%2B0100-Przemyslaw-Czerpak-%28druzus-at-priv.onet.pl%29-tp14761094p14783034.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Sun Jan 13 11:12:07 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jan 13 11:12:09 2008
Subject: [Harbour] TBrowse Behavior
In-Reply-To: <4788F26B.3040107@gmail.com>
References: <476e4dd0.2009360a.3fa8.1871SMTPIN_ADDED@mx.google.com>
	<4788F26B.3040107@gmail.com>
Message-ID: <120A31D0-41D7-489F-8E0C-64E9D226A852@syenar.hu>

Hi Marco,

Thanks a lot for your test code. I have lots of
alignment fixes "in the pipe", I'll check these
modifications using your code too.

Brgds,
Viktor

On 2008.01.12., at 18:01, Mario H. Sabado wrote:

> Hi Viktor,
>
> Below test code when run between Harbour and xHarbour demonstrates  
> one difference specifically on the TBrowse column alignment.  I was  
> able to compile in Harbour my whole console application successfully  
> but this difference, personally, is a show stopper.  If it's not too  
> much to ask, kindly assess if you can easily spot and adjust this  
> difference and be included in 1.0.  But if it would take you long,  
> just don't mind it and I'll just wait when you'll have spare time.
>
> Thanks and best regards,
> Mario
>
> /////////////////////////////////////////////////////////////////
> #include "inkey.ch"
> static scope
>
> function main
> local oJB_Br,oGL_Br
> local key,x,y
> local aM1Struct,aD1Struct
> local lSwitch := .t.
> local seek_key
>
> scope :="ST10CRISP"
>
> setmode(25,80)
>
> cls
>
> aM1Struct := { ;
>              { "STORE_CODE", "C", 4, 0 }, ;
>              { "BOOK_TYPE"  , "C",  2, 0 }, ;
>              { "TR_TYPE"   , "C",  3, 0 }, ;
>              { "DOC_CODE"     , "C",  2, 0 }, ;
>              { "TR_NO"  , "C",  8, 0 } }
>
> aD1Struct := { ;
>              { "STORE_CODE", "C", 4, 0 }, ;
>              { "BOOK_TYPE"  , "C",  2, 0 }, ;
>              { "TR_DATE"  , "D",  8, 0 }, ;
>              { "DOC_CODE"   , "C",  2, 0 }, ;
>              { "TR_NO"     , "C",  8, 0 }, ;
>              { "ACCT_CODE"  , "C",  4, 0 } }
>
> DbCreate( "M1", aM1Struct, "DBFNTX" )
> use M1  shared new  alias "JBTRAN"
> index on jbtran->store_code+jbtran->book_type+jbtran->tr_type+jbtran- 
> >doc_code+jbtran->tr_no to M1
>
> for x = 1 to 10
>  JBTRAN->(DbAppend())
>  JBTRAN->STORE_CODE := "ST10"
>  JBTRAN->BOOK_TYPE  := "CR"
>  JBTRAN->TR_TYPE    := "ISP"
>  JBTRAN->DOC_CODE   := "03"
>  JBTRAN->TR_NO      :=  StrZero(x,8)
> next x
>
>
> DbCreate( "D1", aD1Struct, "DBFNTX" )
> use D1  shared new  alias "GLTRAN"
> index on gltran->store_code+gltran->doc_code+gltran->tr_no 
> +dtos(gltran->tr_date) to D1
>
> for x = 1 to 10
>  for y = 1 to if(lSwitch,4,3)
>     GLTRAN->(DbAppend())
>     GLTRAN->STORE_CODE := "ST10"
>     GLTRAN->BOOK_TYPE  := "CR"
>     GLTRAN->TR_DATE    := date()
>     GLTRAN->DOC_CODE   := "03"
>     GLTRAN->TR_NO      := StrZero(x,8)
>     GLTRAN->ACCT_CODE  := StrZero(y,4)
>  next y
>  lSwitch := !lSwitch
> next x
>
> DbSelectArea("jbtran")
>
> DbSetRelation("GLTRAN",{|| JBTRAN->STORE_CODE+JBTRAN->DOC_CODE 
> +JBTRAN->TR_NO})
>
> oJB_Br:=MHSBrow("JBTRAN",{3,2,13,77},  ;
>   { {"StoreCode",{||JBTRAN->STORE_CODE}},     ;
>    {"DocCode",{||JBTRAN->DOC_CODE}},     ;
>    {"TrNo",{||JBTRAN->TR_NO}} },      ;
>    scope ,;
>    {"STORE_CODE","BOOK_TYPE","TR_TYPE"} )
>
> ************ GL BROW ************
> oGL_Br:=GLBrow({14,2,21,77})
> oGL_Br:goTopBlock   :={| | PosWhile("top",JBTRAN->STORE_CODE+JBTRAN- 
> >DOC_CODE+JBTRAN->TR_NO,,,"GLTRAN")}
> oGL_Br:goBottomBlock:={| | PosWhile("bottom",JBTRAN->STORE_CODE 
> +JBTRAN->DOC_CODE+JBTRAN->TR_NO,{|x| GLTRAN->STORE_CODE+GLTRAN- 
> >DOC_CODE+GLTRAN->TR_NO==x},,"GLTRAN")}
> oGL_Br:skipBlock    :={|n| PosWhile("skip",JBTRAN->STORE_CODE+JBTRAN- 
> >DOC_CODE+JBTRAN->TR_NO,{|x| GLTRAN->STORE_CODE+GLTRAN->DOC_CODE 
> +GLTRAN->TR_NO==x},n,"GLTRAN")}
> oGL_Br:autoLite:=.F.
> oGL_Br:deHilite()
>
> jbtran->(DbGotop())
>
> do while .t.
>
>  oJB_Br:ForceStable()
>  oGL_Br:ForceStable()
>
>  key:=inkey(0)
>
>  do case
>
>    case navigate(oJB_Br,key)
>
>       oGL_Br:ForceStable()
>       oGL_Br:goTop()
>
>       case upper(chr(key)) == "S"
>
>         seek_key := scope+"9999999999" //space(10)
>         JBTRAN->(DbSeek(seek_key,.t.))
>
>          if JBTRAN->(eof())
>             JBTRAN->(DbSkip(-1))
>          endif
>
>        oJB_Br:refreshAll()
>        oGL_Br:refreshAll()
>
>     case key==K_ESC
>        exit
>  endcase
> enddo
>
> return nil
>
>
> **************************************
> * MHSBrow()
> **************************************
> Function MHSBrow(dbAlias,aCoord,aHdr,scope,aFldScope)
> local old_cursor :=setcursor(0)
> local s:=""
> local oBr
> LOCAL nT,nL,nB,nR,x
>
> if aCoord==nil
>  nT:=14
>  nL:=2
>  nB:=21
>  nR:=77
> else
>  nT:=aCoord[1]
>  nL:=aCoord[2]
>  nB:=aCoord[3]
>  nR:=aCoord[4]
> endif
>
>
> oBr:=TBrowseDB(nT,nL,nB,nR)
>
> for x = 1 to len(aHdr)
>
>  oBr:AddColumn(TBColumnNew(aHdr[x,1], aHdr[x,2] ))
>
> next x
>
> oBr:headSep:="???"
> oBr:colSep :=" ? "
> oBr:footSep:="???"
> oBr:freeze:=1
>
> if scope <> nil
>
>  for x = 1 to len(aFldScope)
>     s+=dbAlias+"->"+aFldScope[x] + if(x < len(aFldScope),"+","")
>  next x
>
>  oBr:goTopBlock   :={| | PosWhile("top",scope,,,(dbAlias) )}
>  oBr:goBottomBlock:={| | PosWhile("bottom",scope,{|x| &(s) ==x},, 
> (dbAlias) )}
>  oBr:skipBlock    :={|n| PosWhile("skip",scope,{|x| &(s) ==x},n, 
> (dbAlias) )}
>
> endif
>
> return oBr
>
> **************************************
> Function GLBrow(aCoord)
> local old_cursor:=setcursor(0)
> local prev_color:=setcolor()
> local maincolor := if(Iscolor(), 'w/b', 'w/n')
> local oBr
> LOCAL nT,nL,nB,nR
>
> if aCoord==nil
>  nT:=14
>  nL:=2
>  nB:=21
>  nR:=77
> else
>  nT:=aCoord[1]
>  nL:=aCoord[2]
>  nB:=aCoord[3]
>  nR:=aCoord[4]
> endif
>
>
> oBr:=TBrowseDB(nT,nL,nB,nR)
> oBr:AddColumn(TBColumnNew("StoreCode",{||GLTRAN->STORE_CODE}))
> oBr:AddColumn(TBColumnNew("DocCode",{||GLTRAN->DOC_CODE}))
> oBr:AddColumn(TBColumnNew("TrNo",{||GLTRAN->TR_NO}))
> oBr:AddColumn(TBColumnNew("AcctCode",{||GLTRAN->ACCT_CODE}))
>
> oBr:headSep:="???"
> oBr:colSep :=" ? "
> oBr:footSep:="???"
> oBr:freeze:=1
>
>
> return oBr
>
> *** POSWHILE ***
> Function PosWhile(how, firstkey, condition, howMany,_Alias)
> local actual:=0
>
> if _Alias==nil;_Alias:=alias();endif
>
> do case
>  case how=="top"
>     (_Alias)->(DbSeek(firstkey))
>  case how=="bottom"
>     (_Alias)->(DbSeek( firstkey+chr(255),.T.))
>     (_Alias)->(DbSkip(-1))
>     if (.not. eval(condition,firstkey))
>        (_Alias)->( DbGoto( (_Alias)->(lastrec()) +1) )
>     endif
>  case how=="skip"
>     if .not. (_Alias)->(eof())
>     do case
>        case howmany < 0
>           do while (actual > howmany) .and. (.not. (_Alias)->(bof()));
>                    .and. eval(condition,firstkey)
>              (_Alias)->(DbSkip(-1))
>              if (.not. (_Alias)->(bof())) .and.  
> eval(condition,firstkey)
>                 actual--
>              endif
>           enddo
>           if (.not. eval(condition,firstkey))
>              (_Alias)->(DbSkip(+1))
>              if (.not. eval(condition,firstkey))
>                 (_Alias)->(DbGoto(lastrec()+1))
>              endif
>           endif
>
>        case howmany > 0
>           do while (actual < howmany) .and. (.not. (_Alias)->(eof()));
>                    .and. eval(condition,firstkey)
>              (_Alias)->(DbSkip(+1))
>              if (.not. (_Alias)->(eof())) .and.  
> eval(condition,firstkey)
>                 actual++
>              endif
>           enddo
>           if (.not. eval(condition,firstkey))
>              (_Alias)->(DbSkip(-1))
>              if (.not. eval(condition,firstkey))
>                 (_Alias)->(DbGoto(lastrec()+1))
>              endif
>           endif
>        otherwise
>           (_Alias)->(DbSkip(0))
>     endcase
>  endif
>  endcase
> return actual
>
> *** NAVIGATE ***
> Function Navigate(b,k)
> local n,keys_:={;
>       {K_UP       , {||b:up()}}      , {K_DOWN     , {||b:down()}},;
>       {K_LEFT     , {||b:left()}}    , {K_RIGHT    , {||b:right()}},;
>       {K_PGUP     , {||b:pageUp()}}  , {K_PGDN     , {|| 
> b:pageDown()}},;
>       {K_CTRL_PGUP, {||b:goTop()}}   , {K_CTRL_PGDN, {|| 
> b:goBottom()}},;
>       {K_HOME     , {||b:home()}}    , {K_END      , {||b:end()}},;
>       {K_CTRL_HOME, {||b:panHome()}} , {K_CTRL_END , {||b:panEnd()}},;
>       {K_TAB      , {||b:panRight()}}, {K_SH_TAB   , {|| 
> b:panLeft()}} ;
>        }
>
> n:=ascan(keys_,{ |pair| k==pair[1] })
> if n <> 0
>  eval(keys_[n,2])
> endif
> return (n <> 0)
> /////////////////////////////////////////////////////////////////////////////////////////
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From niki at synel.co.il  Sun Jan 13 12:30:30 2008
From: niki at synel.co.il (Chen Kedem)
Date: Sun Jan 13 12:31:00 2008
Subject: [Harbour] SF bugtracker#1861888: Object manipulation
	__objAddMethod( )
Message-ID: <478A0466.5FBF@synel.co.il>

http://sourceforge.net/tracker/index.php?func=detail&aid=1861888&group_id=681&atid=100681

The following program used to work 8 years ago (was is THAT long ago??)
when I wrote the docs for the __objAddMethod() function:

---tt50.prg---
PROC main
LOCAL oHappy
oHappy := HBClass():New( "THappy" )
__objAddMethod( oHappy, "Smile", @MySmile() )
? oHappy:Smile( 1 )       // :)
? oHappy:Smile( 2 )       // ;)
? oHappy:Smile( 3 )       // *SMILE*
RETURN

STATIC FUNCTION MySmile( nType )
LOCAL cSmile
DO CASE
   CASE nType == 1
        cSmile := ":)"
   CASE nType == 2
        cSmile := ";)"
   CASE nType == 3
        cSmile := "*SMILE*"
ENDCASE
RETURN cSmile
--------------

bld_b32 tt50 /w/a/n
tt50

And I get:

Error BASE/3101  Argument error: __OBJADDMETHOD
Called from __ERRRT_BASE(0)  
Called from __OBJADDMETHOD(189) 
Called from MAIN(4)

This is because @MySmile() failed in the !ISNUMBER( nFuncPtr ) check
in line 188 of source/rtl/objfunc.prg


 Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From jorgeagiraldo at hotmail.com  Sun Jan 13 13:25:04 2008
From: jorgeagiraldo at hotmail.com (Jorge A. Giraldo)
Date: Sun Jan 13 13:25:08 2008
Subject: [Harbour] six driver
Message-ID: <BAY136-W46874B5A9DE01A9A17563A1450@phx.gbl>


Hi All, 

The following code will encrypt a file, but will not decrypt it (Only de header as long as I can see).
When encrypted, the name becomes unreadable...

proc main()
If !File("CLIENTS.DBF")
   DbCreate("CLIENTS", {{"NAME", "C", 40, 0}})
   Use CLIENTS
   Append Blank
   CLIENTS->NAME := 'Ivanhoe'
   Close CLIENTS
EndIf

REQUEST SIXCDX
Use CLIENTS Via "SIXCDX" Exclusive NEW
? "NAME = "+CLIENTS->NAME
If sx_TableType() = 1
   ? "Table not encrypted, will be encrypted"
   sx_DBFencrypt("PASS")
Else
   ? "Table encrypted, will be decrypted"
   sx_DBFdecrypt("PASS")
EndIf
? "NAME after encrypting or decrypting = "+CLIENTS->NAME
Close CLIENTS


_________________________________________________________________
Discover the new Windows Vista
http://search.msn.com/results.aspx?q=windows+vista&mkt=en-US&form=QBRE
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080113/c9a4c057/attachment.html
From lorenzo.fiorini at gmail.com  Sun Jan 13 21:18:00 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Jan 13 21:18:04 2008
Subject: [Harbour] Experiences with sqlite?
Message-ID: <9257026e0801131318t7beeef44k9be352c955ae6e82@mail.gmail.com>

Is there anybody with experiences with sqlite?

I'll make some questions assuming "yes" of the one above :)

Is its "query" performance comparable to db like postgresql or mysql?

Since it can be embedded, could it be possible to speed up the DBF
import? ( that is avoid DBF -> TEXT -> SQL )

Is there anybody who has already done an interface like
contrib/hbpgsql for sqlite?

I'm evaluating sqlite to "provide SQL interface to DBFs" for small
offices where the maintenance of a SQL server could be problematic.

The main requirement is IMPORT SPEED since near 10GB of DBFs need to
be imported, indexed and pre-calculated in 1-2 hours and QUERY SPEED
since there is nothing worse than wait more than 3secs for a web page.

best regards,
Lorenzo
From maurilio.longo at libero.it  Sun Jan 13 21:41:49 2008
From: maurilio.longo at libero.it (maurilio longo)
Date: Sun Jan 13 21:41:56 2008
Subject: [Harbour] Experiences with sqlite?
Message-ID: <JULQXP$1DD6F33D9E21334D69960D46A6447BB3@libero.it>

Hi Lorenzo,

I was doing some tests with it last week, see how curious life is :)

I've read sqlite site and it says that 10Gb is its upper limit.

I've started looking at it because I was thinking about using  it for a cheap sql-rdd via usrrdd, but I've not reached the point where I can say that (I think) it is feasible or not.

BTW, I think it could be usefull to have an extended text into command for sql, or html or any other situation where you need to mix some other language with clipper code.

I mean, for example

local cfielda, cfieldb, ctable, ckey

cfielda := 'xxx'
cfieldb := 'yyy'
ctable := 'orders'
ckey := '001102'

text into csql
   select $cfielda,$cfieldb from $ctable 
   where $cfielda = $ckey
endtext

the same could be usefull for html, xml and so on.

Anyway, with a 2million records table, nearly 100Mb with one index, searching for a value takes no time, doing a 

select tipo,count(*) from retrossn group by tipo

on the same table, without indexes, on a hackintosh :O with 1.5Gb of ram and a PIV 3GHz took around 15-20 seconds (I think a dbEval() could take more time).


Maurilio.


PS. Anyway, I was also thinking about the fact that when I wrote contrib/mysql I was trying to mimick clipper table methods, while it could be more simple/powerfull to try to move away from clipper way of doing things given that sql is a higher level language than clipper.



> Is there anybody with experiences with sqlite?
> 
> I'll make some questions assuming "yes" of the one above :)
> 
> Is its "query" performance comparable to db like postgresql or mysql?
> 
> Since it can be embedded, could it be possible to speed up the DBF
> import? ( that is avoid DBF -> TEXT -> SQL )
> 
> Is there anybody who has already done an interface like
> contrib/hbpgsql for sqlite?
> 
> I'm evaluating sqlite to "provide SQL interface to DBFs" for small
> offices where the maintenance of a SQL server could be problematic.
> 
> The main requirement is IMPORT SPEED since near 10GB of DBFs need to
> be imported, indexed and pre-calculated in 1-2 hours and QUERY SPEED
> since there is nothing worse than wait more than 3secs for a web page.
> 
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From dmacias at mail.udg.mx  Sun Jan 13 21:48:03 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Sun Jan 13 21:48:15 2008
Subject: [Harbour] HB_LONG_LONG_OFF in OS/2
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <478A8713.3040405@mail.udg.mx>

Przemek:

This is a request/answer I made to Maurilio Longo recently:

-------------------------------------------
> > On other subject:
> > xharbour\include\hbdefs.h have this line:
> >     #define HB_LONG_LONG_OFF
> > while harbour does not, forcing to add it to build script
> > 
> > What do you suggest, to add or not as default to hbdefs.h in Harbour SVN ?
> >
If I remember correctly it was there because old versions of gcc did not 
have
long long support.

I think we can remove it from xharbour as well, but right now I cannot build
it since there is not a bison 2.1 working on OS/2.

So, after we solve the bison problem I'll try to build xharbour without that
define as see what happens.
-------------------------------------------

Iam using gcc 3.3.5 and eComStation 1.2MR

You guided me years ago to build Harbour under OS/2 using:
   #define HB_LONG_LONG_OFF

If I do not use HB_LONG_LONG_OFF I get many of these type messages:
------------------------------------------------------------
In file included from ../../../../include/hbvmpub.h:56,
                  from ../../../../include/hbapi.h:61,
                  from ../../hbfsapi.c:60:
../../../../include/hbdefs.h:224: warning: redefinition of `LONGLONG'
E:/usr/include/os2emx.h:254: warning: `LONGLONG' previously declared here
../../../../include/hbdefs.h:231: warning: redefinition of `ULONGLONG'
E:/usr/include/os2emx.h:257: warning: `ULONGLONG' previously declared here
------------------------------------------------------------


harbour/include/hbdefs.h contain:
------------------------------------------------------------
#ifndef HB_LONG_LONG_OFF

    #if ! defined(_WINNT_H)
       #if !defined(LONGLONG)
          #if defined(__GNUC__)
             typedef long long LONGLONG;      <------ line 224
          #else
             typedef __int64 LONGLONG;
          #endif
       #endif
       #if !defined(ULONGLONG)
          #if defined(__GNUC__)
             typedef unsigned long long ULONGLONG;      <------ line 231
          #else
             typedef unsigned __int64 ULONGLONG;
          #endif
       #endif
    #endif
------------------------------------------------------------

and /usr/include/os2emx.h contain:
------------------------------------------------------------

#ifndef INCL_LONGLONG_STRUCTS

typedef long long LONGLONG;      <------ line 254
typedef LONGLONG *PLONGLONG;

typedef unsigned long long ULONGLONG;      <------ line 257
typedef ULONGLONG *PULONGLONG;

#else

typedef struct _LONGLONG
{
     ULONG   ulLo;
     LONG    ulHi;
} LONGLONG;
typedef LONGLONG *PLONGLONG;

typedef struct _ULONGLONG
{
     ULONG   ulLo;
     ULONG   ulHi;
} ULONGLONG;
typedef ULONGLONG *PULONGLONG;

#endif

------------------------------------------------------------


Commenting lines 224, 231 in harbour/include/hbdefs.h Harbour build and 
run without problems

How can be managed this case ? I suppose some kind of if/else/endif in 
hbdefs.h to exclude redefinition in case of gcc under OS/2


David Macias


From lorenzo.fiorini at gmail.com  Sun Jan 13 22:05:49 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sun Jan 13 22:05:53 2008
Subject: [Harbour] Experiences with sqlite?
In-Reply-To: <JULQXP$1DD6F33D9E21334D69960D46A6447BB3@libero.it>
References: <JULQXP$1DD6F33D9E21334D69960D46A6447BB3@libero.it>
Message-ID: <9257026e0801131405n3b8fe0cbo83d4fffc853d8a3d@mail.gmail.com>

On Jan 13, 2008 10:41 PM, maurilio longo <maurilio.longo@libero.it> wrote:

> I was doing some tests with it last week, see how curious life is :)

Yes :)

> I've started looking at it because I was thinking about using  it for a cheap sql-rdd via usrrdd, but I've not reached the point where I
> ...
> PS. Anyway, I was also thinking about the fact that when I wrote contrib/mysql I was trying to mimick clipper table methods, while it could be more simple/powerfull to try to move away from clipper way of doing things given that sql is a higher level language than clipper.

I've just started to look at it so I haven't decided anything at the moment.
I already use Postgresql extensively and I'm very happy with it but
I'm looking for an easier setup for Windows installations and I see
nothing easier than an embedded sql.

I have been really impressed by the fact that it took me 3 minutes to
download the http://www.sqlite.org/sqlite-amalgamation-3_5_4.zip put
it in the contrib/hbsqlite add a test func with an Harbour wrapper and
have it working from my apps.
It is not so frequent to find sth so easy to implement.

At the monent I would say that for me the best path would be to have
have an interface compatible with contrib/hbpgsql since I already have
a lot of code for it.

There is a wrapper for Harbour at
http://www.geocities.com/SiliconValley/Board/5300/sqlite/hbsqlite_en.htm
but it's not updated.

I'll do some speed tests and I'll check the maximum data size.

Let's keep in touch.

Ciao,
Lorenzo
From maurilio.longo at libero.it  Mon Jan 14 08:14:03 2008
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Jan 14 08:14:28 2008
Subject: [Harbour] HB_LONG_LONG_OFF in OS/2
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<478A8713.3040405@mail.udg.mx>
Message-ID: <478B19CB.FBB1C998@libero.it>

David,

I've removed it in xharbour, just look at xharbour hbdefs.h

best regards.

Maurilio.

David Arturo Macias Corona ha scritto:
> 
> Przemek:
> 
> This is a request/answer I made to Maurilio Longo recently:
> 
> -------------------------------------------
> > > On other subject:
> > > xharbour\include\hbdefs.h have this line:
> > >     #define HB_LONG_LONG_OFF
> > > while harbour does not, forcing to add it to build script
> > >
> > > What do you suggest, to add or not as default to hbdefs.h in Harbour SVN ?
> > >
> If I remember correctly it was there because old versions of gcc did not
> have
> long long support.
> 
> I think we can remove it from xharbour as well, but right now I cannot build
> it since there is not a bison 2.1 working on OS/2.
> 
> So, after we solve the bison problem I'll try to build xharbour without that
> define as see what happens.
> -------------------------------------------
> 
> Iam using gcc 3.3.5 and eComStation 1.2MR
> 
> You guided me years ago to build Harbour under OS/2 using:
>    #define HB_LONG_LONG_OFF
> 
> If I do not use HB_LONG_LONG_OFF I get many of these type messages:
> ------------------------------------------------------------
> In file included from ../../../../include/hbvmpub.h:56,
>                   from ../../../../include/hbapi.h:61,
>                   from ../../hbfsapi.c:60:
> ../../../../include/hbdefs.h:224: warning: redefinition of `LONGLONG'
> E:/usr/include/os2emx.h:254: warning: `LONGLONG' previously declared here
> ../../../../include/hbdefs.h:231: warning: redefinition of `ULONGLONG'
> E:/usr/include/os2emx.h:257: warning: `ULONGLONG' previously declared here
> ------------------------------------------------------------
> 
> harbour/include/hbdefs.h contain:
> ------------------------------------------------------------
> #ifndef HB_LONG_LONG_OFF
> 
>     #if ! defined(_WINNT_H)
>        #if !defined(LONGLONG)
>           #if defined(__GNUC__)
>              typedef long long LONGLONG;      <------ line 224
>           #else
>              typedef __int64 LONGLONG;
>           #endif
>        #endif
>        #if !defined(ULONGLONG)
>           #if defined(__GNUC__)
>              typedef unsigned long long ULONGLONG;      <------ line 231
>           #else
>              typedef unsigned __int64 ULONGLONG;
>           #endif
>        #endif
>     #endif
> ------------------------------------------------------------
> 
> and /usr/include/os2emx.h contain:
> ------------------------------------------------------------
> 
> #ifndef INCL_LONGLONG_STRUCTS
> 
> typedef long long LONGLONG;      <------ line 254
> typedef LONGLONG *PLONGLONG;
> 
> typedef unsigned long long ULONGLONG;      <------ line 257
> typedef ULONGLONG *PULONGLONG;
> 
> #else
> 
> typedef struct _LONGLONG
> {
>      ULONG   ulLo;
>      LONG    ulHi;
> } LONGLONG;
> typedef LONGLONG *PLONGLONG;
> 
> typedef struct _ULONGLONG
> {
>      ULONG   ulLo;
>      ULONG   ulHi;
> } ULONGLONG;
> typedef ULONGLONG *PULONGLONG;
> 
> #endif
> 
> ------------------------------------------------------------
> 
> Commenting lines 224, 231 in harbour/include/hbdefs.h Harbour build and
> run without problems
> 
> How can be managed this case ? I suppose some kind of if/else/endif in
> hbdefs.h to exclude redefinition in case of gcc under OS/2
> 
> David Macias
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________                   
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.
From myorg63 at mail.ru  Mon Jan 14 08:34:08 2008
From: myorg63 at mail.ru (Petr Chornyj)
Date: Mon Jan 14 08:34:11 2008
Subject: [Harbour] Experiences with sqlite?
In-Reply-To: <9257026e0801131405n3b8fe0cbo83d4fffc853d8a3d@mail.gmail.com>
References: <JULQXP$1DD6F33D9E21334D69960D46A6447BB3@libero.it>
	<9257026e0801131405n3b8fe0cbo83d4fffc853d8a3d@mail.gmail.com>
Message-ID: <14797065.post@talk.nabble.com>




Lorenzo Fiorini-2 wrote:
> 
> 
> There is a wrapper for Harbour at
> http://www.geocities.com/SiliconValley/Board/5300/sqlite/hbsqlite_en.htm
> but it's not updated.
> 
> 

Maybe you can see and other solution:

SQLite3 for xHarbour(*mdy:2007.10.19) version 3.5.1
http://www4.zzz.com.tw/phpbb2/viewtopic.php?t=38

or

HBSQLite3 ( SQLite3 for Harbour )  low level (client api) interface code 
version 3.5.4
from Harbour MiniGUI 1.4 Extended Build 47

http://www.hmgextended.com/files/CONTRIB/hmg-1.4-47-setup.zip
see source\hbsqlite3
samples\advanced\sqlite


Best regarsd,
Petr

-- 
View this message in context: http://www.nabble.com/Re%3AExperiences-with-sqlite--tp14791570p14797065.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From lorenzo.fiorini at gmail.com  Mon Jan 14 09:08:30 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Jan 14 09:08:34 2008
Subject: [Harbour] Experiences with sqlite?
In-Reply-To: <14797065.post@talk.nabble.com>
References: <JULQXP$1DD6F33D9E21334D69960D46A6447BB3@libero.it>
	<9257026e0801131405n3b8fe0cbo83d4fffc853d8a3d@mail.gmail.com>
	<14797065.post@talk.nabble.com>
Message-ID: <9257026e0801140108l5f99949ah1355344e98ee9b06@mail.gmail.com>

On Jan 14, 2008 9:34 AM, Petr Chornyj <myorg63@mail.ru> wrote:

> Maybe you can see and other solution:

Thanks for the info.

best regards,
Lorenzo
From maurilio.longo at libero.it  Mon Jan 14 10:06:59 2008
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Jan 14 10:07:45 2008
Subject: [Harbour] Experiences with sqlite?
References: <JULQXP$1DD6F33D9E21334D69960D46A6447BB3@libero.it>
	<9257026e0801131405n3b8fe0cbo83d4fffc853d8a3d@mail.gmail.com>
	<14797065.post@talk.nabble.com>
Message-ID: <478B3443.7A88C0D0@libero.it>

Hi,

so we have at least three different .c bindings; at a first sight it seems to
me that hwgui low level api bindings is the best one.

but it has a few sqlite3_bind_xxx() functions to bind values to a prepared
query which are 'ugly' to use.

I think it would be better, if possible, to have a single call to which we
pass all the variables needed for a query and which does the binding,
something like

text into csql
   insert into t1( name, age) values( :name, :age )
endtext

(here the colon as prefix could conflict with an interpreted with object
qualifier)

and then

sqlite3_bind_all( stmt, 'Mary', 19 [, ...] )

Anyway, extending text into, or having something new and more powerfull which
can do the binding preserving the free text possibility of text into would be
a real plus, for me at least.

Then, having a good low level api we can add a higher level object class to
handle the result from the query.

I have to say that I don't like the idea to get the query result and put it
into a .dbf file (like sqlite3 for xharbour does); and given the ability of
sqlite to step through the query it could be possible to handle a big result
without creating a huge array (or a huge .dbf).

My 2cents worth of thoughts .)

Maurilio.


Petr Chornyj ha scritto:
> 
> Lorenzo Fiorini-2 wrote:
> >
> >
> > There is a wrapper for Harbour at
> > http://www.geocities.com/SiliconValley/Board/5300/sqlite/hbsqlite_en.htm
> > but it's not updated.
> >
> >
> 
> Maybe you can see and other solution:
> 
> SQLite3 for xHarbour(*mdy:2007.10.19) version 3.5.1
> http://www4.zzz.com.tw/phpbb2/viewtopic.php?t=38
> 
> or
> 
> HBSQLite3 ( SQLite3 for Harbour )  low level (client api) interface code
> version 3.5.4
> from Harbour MiniGUI 1.4 Extended Build 47
> 
> http://www.hmgextended.com/files/CONTRIB/hmg-1.4-47-setup.zip
> see source\hbsqlite3
> samples\advanced\sqlite
> 
> Best regarsd,
> Petr
> 
> --
> View this message in context: http://www.nabble.com/Re%3AExperiences-with-sqlite--tp14791570p14797065.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________                   
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.
From rafa at tesipro.com  Mon Jan 14 10:45:21 2008
From: rafa at tesipro.com (Rafa (TESIPRO))
Date: Mon Jan 14 10:44:49 2008
Subject: [Harbour] Experiences with sqlite?
In-Reply-To: <478B3443.7A88C0D0@libero.it>
References: <JULQXP$1DD6F33D9E21334D69960D46A6447BB3@libero.it>	<9257026e0801131405n3b8fe0cbo83d4fffc853d8a3d@mail.gmail.com>	<14797065.post@talk.nabble.com>
	<478B3443.7A88C0D0@libero.it>
Message-ID: <478B3D41.2090600@tesipro.com>

Another implemtation;

    This is implementation the API Sqlite 3 for compilers [x]Harbour.
   
    Copyright 2007 WenSheng
    Copyright 2007 Rafa Carmona <rafa.thefull@gmail.com>
 
    License: Library General Public License (GNU)
 
    * Based in job of :
    Copyright 2003 Alejandro de G?rate <alex_degarate@hotmail.com>

    LGPL License.

You can download code source from SourceForge

Protocol: :pserver:
Server: t-gtk.cvs.sourceforge.net
Repository folder: /cvsroot/t-gtk
User name: anonymous
Module: *sqlite3*

Regards
Rafa Carmona

From lorenzo.fiorini at gmail.com  Mon Jan 14 11:24:58 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Jan 14 11:25:02 2008
Subject: [Harbour] Experiences with sqlite?
In-Reply-To: <478B3443.7A88C0D0@libero.it>
References: <JULQXP$1DD6F33D9E21334D69960D46A6447BB3@libero.it>
	<9257026e0801131405n3b8fe0cbo83d4fffc853d8a3d@mail.gmail.com>
	<14797065.post@talk.nabble.com> <478B3443.7A88C0D0@libero.it>
Message-ID: <9257026e0801140324x277ae2c4k3ccc1d021afd6029@mail.gmail.com>

On Jan 14, 2008 11:06 AM, Maurilio Longo <maurilio.longo@libero.it> wrote:

> Then, having a good low level api we can add a higher level object class to
> handle the result from the query.

This can be a start. We can create ONE low level hbsqlite.c and call
it from differents high level interfaces.

> I have to say that I don't like the idea to get the query result and put it
> into a .dbf file (like sqlite3 for xharbour does); and given the ability of
> sqlite to step through the query it could be possible to handle a big result
> without creating a huge array (or a huge .dbf).

I agree.

best regards,
Lorenzo
From myorg63 at mail.ru  Mon Jan 14 11:35:45 2008
From: myorg63 at mail.ru (Petr Chornyj)
Date: Mon Jan 14 11:35:48 2008
Subject: [Harbour] Experiences with sqlite?
In-Reply-To: <478B3443.7A88C0D0@libero.it>
References: <JULQXP$1DD6F33D9E21334D69960D46A6447BB3@libero.it>
	<9257026e0801131405n3b8fe0cbo83d4fffc853d8a3d@mail.gmail.com>
	<14797065.post@talk.nabble.com> <478B3443.7A88C0D0@libero.it>
Message-ID: <14799521.post@talk.nabble.com>




Maurilio Longo wrote:
> 
> 
> I think it would be better, if possible, to have a single call to which we
> pass all the variables needed for a query and which does the binding,
> something like
> 
> text into csql
>    insert into t1( name, age) values( :name, :age )
> endtext
> 
> (here the colon as prefix could conflict with an interpreted with object
> qualifier)
> 
> and then
> 
> sqlite3_bind_all( stmt, 'Mary', 19 [, ...] )
> 
> 
> 

I thinks it is possible, but not very easy to realisation :)   
because a next expression also are valid for SQLITE

insert into t1( name, age) values( :name, ?7 ) 


stmt := sqlite3_prepare( db, "INSERT INTO t1( name, age ) VALUES( :name, ?7
)")
IF ! Empty( stmt )
   IF sqlite3_bind_text( stmt, 1, "Andy" ) == SQLITE_OK .AND. ;
        sqlite3_bind_int( stmt, 7 /*!!!*/, 17 ) == SQLITE_OK


Regards,
Petr
-- 
View this message in context: http://www.nabble.com/Re%3AExperiences-with-sqlite--tp14791570p14799521.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Mon Jan 14 13:49:27 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jan 14 13:49:34 2008
Subject: [Harbour] six driver
In-Reply-To: <BAY136-W46874B5A9DE01A9A17563A1450@phx.gbl>
References: <BAY136-W46874B5A9DE01A9A17563A1450@phx.gbl>
Message-ID: <20080114134927.GA3468@localhost.localdomain>

On Sun, 13 Jan 2008, Jorge A. Giraldo wrote:
> Hi All, 
> The following code will encrypt a file, but will not decrypt it
> (Only de header as long as I can see).
> When encrypted, the name becomes unreadable...

Have you tested this code with Clipper and SIX3?
It gives the same results. sx_DBFdecrypt() does
not accept password as parameter but uses current
table password. I can add support for passing
password in sx_DBFdecrypt() parameter but it will
be Harbour only extension.

best regards,
Przemek
From maurilio.longo at libero.it  Mon Jan 14 14:26:12 2008
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Jan 14 14:27:12 2008
Subject: [Harbour] Experiences with sqlite?
References: <JULQXP$1DD6F33D9E21334D69960D46A6447BB3@libero.it>
	<9257026e0801131405n3b8fe0cbo83d4fffc853d8a3d@mail.gmail.com>
	<14797065.post@talk.nabble.com> <478B3443.7A88C0D0@libero.it>
	<14799521.post@talk.nabble.com>
Message-ID: <478B7104.EEFE57E@libero.it>

Petr,

I do understand only right now that _you_ wrote minigui sqlite interface! :)

I think that we could restrict what is accepted by this new bind_all()
function.

In particular we could say that it works only for the :some_var type of
place-holder.

But, :some_var could be a problem because it is the way in which you reference
a method property inside a with object clause.

So, maybe, we could end up with a different prefix which is then translated in
the .c low level interface.

I mean

with object oObj
  ...
  text into cSql
     select * from mytable where key = :some_var
  enddtext
  ...
end

I'm not sure, but I think it will cause some problem since :some_var is a
reference to an iVar of oObj.

Best regards.

Maurilio.


Petr Chornyj ha scritto:
> 
> Maurilio Longo wrote:
> >
> >
> > I think it would be better, if possible, to have a single call to which we
> > pass all the variables needed for a query and which does the binding,
> > something like
> >
> > text into csql
> >    insert into t1( name, age) values( :name, :age )
> > endtext
> >
> > (here the colon as prefix could conflict with an interpreted with object
> > qualifier)
> >
> > and then
> >
> > sqlite3_bind_all( stmt, 'Mary', 19 [, ...] )
> >
> >
> >
> 
> I thinks it is possible, but not very easy to realisation :)
> because a next expression also are valid for SQLITE
> 
> insert into t1( name, age) values( :name, ?7 )
> 
> stmt := sqlite3_prepare( db, "INSERT INTO t1( name, age ) VALUES( :name, ?7
> )")
> IF ! Empty( stmt )
>    IF sqlite3_bind_text( stmt, 1, "Andy" ) == SQLITE_OK .AND. ;
>         sqlite3_bind_int( stmt, 7 /*!!!*/, 17 ) == SQLITE_OK
> 
> Regards,
> Petr
> --
> View this message in context: http://www.nabble.com/Re%3AExperiences-with-sqlite--tp14791570p14799521.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________                   
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.
From niki at synel.co.il  Mon Jan 14 14:45:57 2008
From: niki at synel.co.il (Chen Kedem)
Date: Mon Jan 14 14:46:03 2008
Subject: [Harbour] six driver
Message-ID: <478B75A5.2FB5@synel.co.il>

Przemyslaw Czerpak wrote:
> sx_DBFdecrypt() does not accept password as parameter but uses
> current table password

According to source/rdd/hbsix/sxtable.c, both SX_DBFENCRYPT()
and SX_DBFDECRYPT() get one paramter which is used as the password
later in source/rdd/dbf1.c hb_TableCrypt()

I don't have SIX3 docs so I don't know what it suppose to do.


  Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From jorgeagiraldo at hotmail.com  Mon Jan 14 14:54:34 2008
From: jorgeagiraldo at hotmail.com (Jorge A. Giraldo)
Date: Mon Jan 14 14:54:37 2008
Subject: [Harbour] six driver
In-Reply-To: <20080114134927.GA3468@localhost.localdomain>
References: <BAY136-W46874B5A9DE01A9A17563A1450@phx.gbl>
	<20080114134927.GA3468@localhost.localdomain>
Message-ID: <BAY136-W5C35102B888AD4783DB8BA1460@phx.gbl>


Hi Przemek,

I don't have SIX3, but I am reading the guides in http://www.ousob.com/ng/six3/index.php

DBFdecrypt doesn't use a parameter as you said.  As I can see I should use SetPass instead.  But at least for me this code doesn't work, the table remains encrypted, sorry if I miss something:

proc main()
If !File("CLIENTS.DBF")
   DbCreate("CLIENTS", {{"NAME", "C", 40, 0}})
   Use CLIENTS
   Append Blank
   CLIENTS->NAME := 'Ivanhoe'
   Close CLIENTS
EndIf

REQUEST SIXCDX
Use CLIENTS Via "SIXCDX" NEW
If sx_TableType() = 2
   sx_SetPass("PASS")
EndIf
? "NAME = "+CLIENTS->NAME  // the second time it shows encrypted caracters
If sx_TableType() = 1
   ? "Table not encrypted, will be encrypted"
   sx_DBFencrypt("PASS")
Else
   sx_DBFdecrypt()
EndIf
Close CLIENTS

> Date: Mon, 14 Jan 2008 14:49:27 +0100
> From: druzus@acn.waw.pl
> To: harbour@harbour-project.org
> Subject: Re: [Harbour] six driver
> 
> On Sun, 13 Jan 2008, Jorge A. Giraldo wrote:
> > Hi All, 
> > The following code will encrypt a file, but will not decrypt it
> > (Only de header as long as I can see).
> > When encrypted, the name becomes unreadable...
> 
> Have you tested this code with Clipper and SIX3?
> It gives the same results. sx_DBFdecrypt() does
> not accept password as parameter but uses current
> table password. I can add support for passing
> password in sx_DBFdecrypt() parameter but it will
> be Harbour only extension.
> 
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_________________________________________________________________
News, entertainment and everything you care about at Live.com. Get it now!
http://www.live.com/getstarted.aspx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080114/47568d57/attachment.html
From harbour.01 at syenar.hu  Mon Jan 14 15:14:00 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jan 14 15:14:01 2008
Subject: [Harbour] six driver
In-Reply-To: <478B75A5.2FB5@synel.co.il>
References: <478B75A5.2FB5@synel.co.il>
Message-ID: <D7E1FA80-CCC7-4358-99C1-BA3D1F00FEFA@syenar.hu>

These are the function skeletons in original SX3 docs:
Sx_DBFencrypt( [cKey] ) -> Logical
Sx_DBFdecrypt() -> Logical

Brgds,
Viktor

On 2008.01.14., at 15:45, Chen Kedem wrote:

> Przemyslaw Czerpak wrote:
>> sx_DBFdecrypt() does not accept password as parameter but uses
>> current table password
>
> According to source/rdd/hbsix/sxtable.c, both SX_DBFENCRYPT()
> and SX_DBFDECRYPT() get one paramter which is used as the password
> later in source/rdd/dbf1.c hb_TableCrypt()
>
> I don't have SIX3 docs so I don't know what it suppose to do.
>
>
>  Chen.
> **********************************************************************************************
> IMPORTANT: The contents of this email and any attachments are  
> confidential. They are intended for the
> named recipient(s) only.
> If you have received this email in error, please notify the system  
> manager or the sender immediately and do
> not disclose the contents to anyone or make copies thereof.
> *** eSafe scanned this email for viruses, vandals, and malicious  
> content. ***
> **********************************************************************************************
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Mon Jan 14 16:41:10 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jan 14 16:41:17 2008
Subject: [Harbour] Re: [xHarbour-developers] 32-bit RECNO limit HIT!
In-Reply-To: <478B849C.2010208@otc.pl>
References: <478B849C.2010208@otc.pl>
Message-ID: <20080114164110.GA3934@localhost.localdomain>

[poniedzia?ek, 14 stycze? 2008], Jacek Potempa napisa?(a):
> Hi All,
> One of our customers have just hit a limit of possible number of records 
> in a single table. This limit is a 32-bit "signed int"  which gives us 
> 2,147,483,647 records per table. It's the maximum value HB_IT_LONG can 
> hold on 32-bit system.

No. HB_IT_LONG can support 64bit signed integers when compiled on 32 bit
systems without HB_LONG_LONG_OFF macro.

> The installation uses xHarbour+MEDNTX+Mediator server. I have an idea of 
> how to extend the possible RECNO range in Mediator server and MEDNTX 
> driver but a question remains how to make xHarbour runtime and functions 
> like RECNO(), RECCOUNT(), GOTO() e.t.c to properly interpret at least 
> "unsigned int" or even better 64-bit integers.

All of the above functions already uses ULONG values (UINT32 in 32bit
systems and UINT64 in 64bit *nixes) There are only three methods which
can cause problems:
    SKIP()
    SKIPFILTER()
    SKIPRAW()
because on 32bit systemes they are using signed 32bit integeres.
We can also change two members of DBORDERCONDINFO structure:
lStep and lNextCount but it's not strictly necessary. Anyhow if we
want to change them then I suggest to use PHB_ITEM pointers instead
of numbers just like in other similar structures.
Few default workarea methods may be updated to to use HB_LONG instead
of LONG: hb_waEval(), hb_waLocate() and hb_waTrans() but it's also not
strictly necessary.

Then we will only have to make minor modifications in function LASTREC()
and replace:
    hb_retnl( ulRecCount );
with:
    hb_retnint( ulRecCount );

> I've looked through the xHarbour headers but 64-bit integers are used as 
> HB_LONG type only on 64-bit platforms. As changing of thousands of 
> workstations to 64-bit Windows is not an option, I need a 64-bit HB_LONG 
> on 32-bit Windows.

You are wrong. HB_LONG is 64bit signed integer on 32bit platform if you
do not set HB_LONG_LONG_OFF macro yourself - it's disabled by default.

> I see HB_ARCH_64BIT macro in hbdefs.h but it seems to assume that 
> sizeof(short int) < sizeof(int) < sizeof(long) so I am not sure if it is 
> of any use for BCC32 or VisualC on WIN32.

HB_ARCH_64BIT means that sizeof( void * ) == 8 and the above is only a
hack to detect such situation - not perfect but works with most of current
computers.

> Does anybody has an idea of how to make xHarbour using 64-bit HB_LONGs 
> on WIN32?

Yes - it is 64bit integer by default.

> Possibly its the time to consider some xHarbour extentions which would 
> allow 64-bit recno as an option.
> Would be gratefull for any suggestions.

As I've wrote above if SKIP() limit is not a problem then you can use
32bit unsigned numbers with few very small modifications - seems that
only LASTREC() will have to be modified and you can use 32bit unsigned
record numbers of course if you code can support them correctly.
If we are taking about full updating for 64bit record range then we
should change also other things like SKIP*() methods replacing LONG
with HB_LONG - such modification in core code can be done in few minutes.
That's all.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Jan 14 16:54:01 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jan 14 16:54:06 2008
Subject: [Harbour] Re: [xHarbour-developers] 32-bit RECNO limit HIT!
In-Reply-To: <478B8F3C.B9C6D39E@libero.it>
References: <478B849C.2010208@otc.pl> <478B8F3C.B9C6D39E@libero.it>
Message-ID: <20080114165401.GA4067@localhost.localdomain>

On Mon, 14 Jan 2008, Maurilio Longo wrote:
> PS. But, if you have more than 2 billion records... how big is that .dbf? I
> think .dbf has a 2Gb size limit.

1. It's not DBF - Jacke wa talking about MEDNTX RDD which uses
   SQL tables
2. DBF does not have 2GB size limits and never had. It was only MS-DOS
   file size limit and even few 16bit DOS-es do not have it, f.e. in
   FreeDOS maximum file size limit on FAT16 is 4GB because it can use
   64bit clusters. [x]Harbour can use files longer then 2^31 if platform
   supports 64bit File IO API, f.e. Win32/64 Linux, HP-UX other 64bit
   *nixes and DBF size is limited only by number of records: 2^32
   (4 billions) and record size: 2^16 (64KB)

best regards,
Przemek
From druzus at acn.waw.pl  Mon Jan 14 17:10:05 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jan 14 17:10:13 2008
Subject: [Harbour] six driver
In-Reply-To: <478B75A5.2FB5@synel.co.il>
References: <478B75A5.2FB5@synel.co.il>
Message-ID: <20080114171005.GA4415@localhost.localdomain>

On Mon, 14 Jan 2008, Chen Kedem wrote:
> Przemyslaw Czerpak wrote:
> > sx_DBFdecrypt() does not accept password as parameter but uses
> > current table password
> According to source/rdd/hbsix/sxtable.c, both SX_DBFENCRYPT()
> and SX_DBFDECRYPT() get one paramter which is used as the password
> later in source/rdd/dbf1.c hb_TableCrypt()

Yes, but it has no effect in DBF* RDDs. I can change it and this
password will be accepted. This code was written for possible
extension which can be done inside RDD.
All SIX3 functions are written in a way which allow to use them
in any other RDDs and use only documented RDD API. F.e. some of them
will work even now with ADS RDD and rest can be implemented inside
ADSRDD code. Just like in other RDDs but I'm leaving such modification
to those RDDs developers.
This is the main difference between ADS*() functions which are hard
coded to work only with ADS RDD.

> I don't have SIX3 docs so I don't know what it suppose to do.

You can find it in the (http://www.clipx.net/)

best regards,
Przemek
From myorg63 at mail.ru  Mon Jan 14 17:41:28 2008
From: myorg63 at mail.ru (Petr Chornyj)
Date: Mon Jan 14 17:41:34 2008
Subject: [Harbour] Experiences with sqlite?
In-Reply-To: <478B7104.EEFE57E@libero.it>
References: <JULQXP$1DD6F33D9E21334D69960D46A6447BB3@libero.it>
	<9257026e0801131405n3b8fe0cbo83d4fffc853d8a3d@mail.gmail.com>
	<14797065.post@talk.nabble.com> <478B3443.7A88C0D0@libero.it>
	<14799521.post@talk.nabble.com> <478B7104.EEFE57E@libero.it>
Message-ID: <14806830.post@talk.nabble.com>




Maurilio Longo wrote:
> 
> But, :some_var could be a problem because it is the way in which you
> reference
> a method property inside a with object clause.
> 
> So, maybe, we could end up with a different prefix which is then
> translated in
> the .c low level interface.
> 
> I mean
> 
> with object oObj
>   ...
>   text into cSql
>      select * from mytable where key = :some_var
>   enddtext
>   ...
> end
> 

I don't see any problems. In this case we can use alternative syntax 

with object oObj
  ...
  text into cSql
     select * from mytable where key = @some_var
  enddtext
  ...
end

Because we can see in SQLITE3 docs: In the SQL strings input to
sqlite3_prepare_v2() and its variants, literals may be replace by a
parameter in one of these forms:

? 
?NNN 
:AAA 
@AAA 



Maurilio Longo wrote:
> 
> I think that we could restrict what is accepted by this new bind_all() 
> function.
> 

What you think abou

insert into t1( name, age) values( :name, ?7 )

sqlite3_bind_all( stmt, {'Mary', 'name', SQLITE_TEXT}, {19, 7,
SQLITE_INTEGER} [, ...] )
or
sqlite3_bind_all( stmt, {{'Mary', 'name', SQLITE_TEXT}, {19, 7,
SQLITE_INTEGER}} )
or
sqlite3_bind_all( stmt, { 'name', 7 }, { SQLITE_TEXT, SQLITE_INTEGER},
"Mary", 19, "Andi", 17 [, ...] )
or
??


Regards,
Petr




-- 
View this message in context: http://www.nabble.com/Re%3AExperiences-with-sqlite--tp14791570p14806830.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From maurilio.longo at libero.it  Mon Jan 14 17:52:26 2008
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Mon Jan 14 17:53:03 2008
Subject: [Harbour] Re: [xHarbour-developers] 32-bit RECNO limit HIT!
References: <478B849C.2010208@otc.pl> <478B8F3C.B9C6D39E@libero.it>
	<20080114165401.GA4067@localhost.localdomain>
Message-ID: <478BA15A.648A583D@libero.it>

Przemyslaw,

I stand corrected! :)

Thanks.

Maurilio.

Przemyslaw Czerpak ha scritto:
> 
> On Mon, 14 Jan 2008, Maurilio Longo wrote:
> > PS. But, if you have more than 2 billion records... how big is that .dbf? I
> > think .dbf has a 2Gb size limit.
> 
> 1. It's not DBF - Jacke wa talking about MEDNTX RDD which uses
>    SQL tables
> 2. DBF does not have 2GB size limits and never had. It was only MS-DOS
>    file size limit and even few 16bit DOS-es do not have it, f.e. in
>    FreeDOS maximum file size limit on FAT16 is 4GB because it can use
>    64bit clusters. [x]Harbour can use files longer then 2^31 if platform
>    supports 64bit File IO API, f.e. Win32/64 Linux, HP-UX other 64bit
>    *nixes and DBF size is limited only by number of records: 2^32
>    (4 billions) and record size: 2^16 (64KB)
> 
> best regards,
> Przemek
> 
> -------------------------------------------------------------------------
> Check out the new SourceForge.net Marketplace.
> It's the best place to buy or sell services for
> just about anything Open Source.
> http://ad.doubleclick.net/clk;164216239;13503038;w?http://sf.net/marketplace
> _______________________________________________
> xHarbour-developers mailing list
> xHarbour-developers@lists.sourceforge.net
> https://lists.sourceforge.net/lists/listinfo/xharbour-developers

-- 
 __________                   
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.
From druzus at acn.waw.pl  Mon Jan 14 18:34:46 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jan 14 18:34:54 2008
Subject: [Harbour] six driver
In-Reply-To: <BAY136-W5C35102B888AD4783DB8BA1460@phx.gbl>
References: <BAY136-W46874B5A9DE01A9A17563A1450@phx.gbl>
	<20080114134927.GA3468@localhost.localdomain>
	<BAY136-W5C35102B888AD4783DB8BA1460@phx.gbl>
Message-ID: <20080114183446.GA5389@localhost.localdomain>

On Mon, 14 Jan 2008, Jorge A. Giraldo wrote:
> Hi Przemek,
> I don't have SIX3, but I am reading the guides in
> http://www.ousob.com/ng/six3/index.php
> DBFdecrypt doesn't use a parameter as you said.
> As I can see I should use SetPass instead.
> But at least for me this code doesn't work,
> the table remains encrypted, sorry if I miss something:
> proc main()
> If !File("CLIENTS.DBF")
>    DbCreate("CLIENTS", {{"NAME", "C", 40, 0}})
>    Use CLIENTS
>    Append Blank
>    CLIENTS->NAME := 'Ivanhoe'
>    Close CLIENTS
> EndIf
> REQUEST SIXCDX
> Use CLIENTS Via "SIXCDX" NEW
> If sx_TableType() = 2
>    sx_SetPass("PASS")
> EndIf
> ? "NAME = "+CLIENTS->NAME  // the second time it shows encrypted caracters
> If sx_TableType() = 1
>    ? "Table not encrypted, will be encrypted"
>    sx_DBFencrypt("PASS")
> Else
>    sx_DBFdecrypt()
> EndIf
> Close CLIENTS

This code also does not work in SIX3 as you may expect because
SX_SETPASS() does not reset the internal record buffer (IMHO
it's a bug which should not be replicated) so after SX_SETPASS()
you should add GBGOTO(RECNO()) to see the effect. And now we
have an example which shows the problem: I forget to implement
additional SX_SETPASS() actions and added only support for setting
pending password in USE operation. I'll fix it in a while. Many
thanks for example. Meanwhile use:
    dbInfo( DBOI_PASSWORD, "PASS" )
instead of:
    sx_SetPass( "PASS" )
as workaround.

best regards,
Przemek
From druzus at acn.waw.pl  Mon Jan 14 18:35:55 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jan 14 18:36:00 2008
Subject: [Harbour] 2008-01-14 19:35 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801141835.m0EIZtfQ006139@31-mo5-4.acn.waw.pl>

2008-01-14 19:35 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/common.mak
    * replaced TAB with SPACEs

  * harbour/source/rdd/dbcmd.c
    * changed hb_retnl() in LASTREC() to hb_retnint() to increase maximum
      record number to 2^32 - unsigned 32bit integer instead of signed one.

  * harbour/source/rdd/dbf1.c
    ! fixed possible memory leak/GPF when sx_DBFencrypt() is called when
      table already has password set
    * added support for password passing in sx_DBFdecrypt() - it's accepted
      only when table has no password

  * harbour/source/rdd/hbsix/sxcompat.prg
    - removed SX_SETPASS()
  * harbour/source/rdd/hbsix/sxtable.c
    + added new SX_SETPASS() implementation which supports
      some undocumented SIX3 actions
    ! fixed problem with setting password for currently open table
      with SX_SETPASS( <cPass> )

best regards
Przemek
From randy at palmasdev.com  Mon Jan 14 19:07:26 2008
From: randy at palmasdev.com (Randy Portnoff)
Date: Mon Jan 14 19:06:38 2008
Subject: [Harbour] 2008-01-14 19:35 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200801141835.m0EIZtfQ006139@31-mo5-4.acn.waw.pl>
References: <200801141835.m0EIZtfQ006139@31-mo5-4.acn.waw.pl>
Message-ID: <20080114190630.F192EE654@smtp.tor.pathcom.com>

Hi Przemek,

>   * harbour/source/rdd/dbcmd.c
>     * changed hb_retnl() in LASTREC() to hb_retnint() to increase maximum
>       record number to 2^32 - unsigned 32bit integer instead of signed one.

Do any of the other record-related functions need to be updated also? 
(eg. DBGOTO()/GO, RECNO(), DBRLOCK(), DBRLOCKLIST(), DBRUNLOCK(), others?)

Regards,
Randy.


From druzus at acn.waw.pl  Mon Jan 14 19:27:00 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jan 14 19:27:10 2008
Subject: [Harbour] 2008-01-14 19:35 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <20080114190630.F192EE654@smtp.tor.pathcom.com>
References: <200801141835.m0EIZtfQ006139@31-mo5-4.acn.waw.pl>
	<20080114190630.F192EE654@smtp.tor.pathcom.com>
Message-ID: <20080114192700.GA6737@localhost.localdomain>

On Mon, 14 Jan 2008, Randy Portnoff wrote:
> Hi Przemek,
> >  * harbour/source/rdd/dbcmd.c
> >    * changed hb_retnl() in LASTREC() to hb_retnint() to increase maximum
> >      record number to 2^32 - unsigned 32bit integer instead of signed one.
> Do any of the other record-related functions need to be updated also? 
> (eg. DBGOTO()/GO, RECNO(), DBRLOCK(), DBRLOCKLIST(), DBRUNLOCK(), others?)

No. All of the above functions uses PHB_ITEM to pass record ID which
does not have to be even an number - some RDDs may use non numeric
record identifiers.
LASTREC()/RECCOUNT() returns number of records in a table not last
record ID though I agree that the name LASTREC() used in Clipper
is confusing.
See my message to Jacek for more details.

best regards,
Przemek
From jorgeagiraldo at hotmail.com  Mon Jan 14 20:02:47 2008
From: jorgeagiraldo at hotmail.com (Jorge A. Giraldo)
Date: Mon Jan 14 20:02:56 2008
Subject: [Harbour] 2008-01-14 19:35 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200801141835.m0EIZtfQ006139@31-mo5-4.acn.waw.pl>
References: <200801141835.m0EIZtfQ006139@31-mo5-4.acn.waw.pl>
Message-ID: <BAY136-W314177E5E370365AAE777BA1460@phx.gbl>


Hi Przemek,

Solved, thank you a lot.

Jorge A.


> Date: Mon, 14 Jan 2008 19:35:55 +0100
> From: druzus@acn.waw.pl
> To: harbour@harbour-project.org
> Subject: [Harbour] 2008-01-14 19:35 UTC+0100 Przemyslaw Czerpak	(druzus/at/priv.onet.pl)
> 
> 2008-01-14 19:35 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/common.mak
>     * replaced TAB with SPACEs
> 
>   * harbour/source/rdd/dbcmd.c
>     * changed hb_retnl() in LASTREC() to hb_retnint() to increase maximum
>       record number to 2^32 - unsigned 32bit integer instead of signed one.
> 
>   * harbour/source/rdd/dbf1.c
>     ! fixed possible memory leak/GPF when sx_DBFencrypt() is called when
>       table already has password set
>     * added support for password passing in sx_DBFdecrypt() - it's accepted
>       only when table has no password
> 
>   * harbour/source/rdd/hbsix/sxcompat.prg
>     - removed SX_SETPASS()
>   * harbour/source/rdd/hbsix/sxtable.c
>     + added new SX_SETPASS() implementation which supports
>       some undocumented SIX3 actions
>     ! fixed problem with setting password for currently open table
>       with SX_SETPASS( <cPass> )
> 
> best regards
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_________________________________________________________________
Invite your mail contacts to join your friends list with Windows Live Spaces. It's easy!
http://spaces.live.com/spacesapi.aspx?wx_action=create&wx_url=/friends.aspx&mkt=en-us
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080114/bdfda818/attachment.html
From elart at elart.it  Mon Jan 14 20:29:50 2008
From: elart at elart.it (elart)
Date: Mon Jan 14 20:32:38 2008
Subject: [Harbour] Harbour hbpgsql 
Message-ID: <478BC63E.6000407@elart.it>

I made some test with hbpgsql on Linux i found with the 
harbour/contrib/hbpgsql/tests/test.prg
to make test.prg  working with postgresql 8.x i must change the row:

res := PQexec('drop table products')
to
res := PQexec(conn, 'drop table products')

res := PQexec('create table products ( product_no numeric(10), name 
varchar(20), price numeric(10,2) )')
to
res := PQexec(conn, 'create table products ( product_no numeric(10), 
name varchar(20), price numeric(10,2) )')


Also can we put some instructions to compile the hbcontrib lib under 
Linux at the end of the readme.txt file

Thank you.


Here my suggestion:

LINUX GCC
----------
On Linux you will need link libpq or references by pq.
For full api documentation look at:
http://www.postgresql.org/docs/current/static/libpq.html

Please set and export the env variable HB_CONTRIBLIBS=hbpgsql
export HB_CONTRIBLIBS=hbpgsql
change directory to the harbour/contrib/hbpgsql
compile with:
../../make_gnu.sh
then install library with:
../../make_gnu.sh install
to compile add the hbpgsql and pq lib into your library compile command 
line ( -lhbpgsql -lpq )

FILES:
postgres.c - Low level api
tpostgre.prg - Class implementation, it's to be seems like TMysql.
tests\simple.prg - Simple test class
tests\stress.prg - Stress test
tests\cache.prg  - Show hot to use .dbf as pg cache, like TDataset for 
Delphi.
tests\Makefile -
tests\async.prg - ....
tests\bld_b32.bat - ....
tests\dbf2pg.prg -
tests\test.prg - Connect to server drop, create and insert record in a 
table ( products )
tests\tstpgrdd.prg


TODO:

That's all folks and sorry my poor english

Rodrigo Moreno - rodrigo_moreno@yahoo.com
From ssbbstw at yahoo.com  Tue Jan 15 00:46:46 2008
From: ssbbstw at yahoo.com (WenSheng)
Date: Tue Jan 15 00:46:51 2008
Subject: [Harbour] Experiences with sqlite?
In-Reply-To: <478B3443.7A88C0D0@libero.it>
References: <14797065.post@talk.nabble.com> <478B3443.7A88C0D0@libero.it>
Message-ID: <20080115084503.8A64.SSBBS@mail.zzz.com.tw>


> 
> I have to say that I don't like the idea to get the query result and put it
> into a .dbf file (like sqlite3 for xharbour does); and given the ability of
> sqlite to step through the query it could be possible to handle a big result
> without creating a huge array (or a huge .dbf).
> 
> My 2cents worth of thoughts .)
> 
> Maurilio.

Why did I to store data use .DBF/ARRAY from query ?
Because sqlite3 have not minus quantity about 'FETCH'.
MySQL have it.

> > 
> > Maybe you can see and other solution:
> > 
> > SQLite3 for xHarbour(*mdy:2007.10.19) version 3.5.1
> > http://www4.zzz.com.tw/phpbb2/viewtopic.php?t=38


From jerryfinuliar at yahoo.com  Tue Jan 15 01:48:13 2008
From: jerryfinuliar at yahoo.com (Jerry Finuliar)
Date: Tue Jan 15 01:48:27 2008
Subject: [Harbour] Test
Message-ID: <77141.27253.qm@web31105.mail.mud.yahoo.com>

please ignore


      ____________________________________________________________________________________
Never miss a thing.  Make Yahoo your home page. 
http://www.yahoo.com/r/hs
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080114/b2631091/attachment.html
From lorenzo.fiorini at gmail.com  Tue Jan 15 07:48:26 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Jan 15 02:48:30 2008
Subject: [Harbour] HB_EXECVP and __HRBLOAD(0) error
Message-ID: <9257026e0801142348p4160493fnf02552ca6f4c9700@mail.gmail.com>

I'm trying to use the function HB_EXECVP  in a dynamic hrb but I get::

Unrecoverable error 9001:
Called from __HRBLOAD(0)

I've created a test but it dies:

hbcmp -gh tt52.prg
hbrun tt52.hrb

The same test works normally in executable format:

hbmk -n -gtcgi tt52.prg

What am I doing wrong?

best regards,
Lorenzo
From info at fsgiudice.com  Tue Jan 15 08:20:04 2008
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Jan 15 03:20:15 2008
Subject: [Harbour] HB_EXECVP and __HRBLOAD(0) error
References: <9257026e0801142348p4160493fnf02552ca6f4c9700@mail.gmail.com>
Message-ID: <000301c8574f$6f5b5ab0$b400a8c0@ASUSFSG>

Hi Lorenzo,


----- Original Message ----- 
From: "Lorenzo Fiorini" <lorenzo.fiorini@gmail.com>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Tuesday, January 15, 2008 8:48 AM
Subject: [Harbour] HB_EXECVP and __HRBLOAD(0) error


> I'm trying to use the function HB_EXECVP  in a dynamic hrb but I get::
>
> Unrecoverable error 9001:
> Called from __HRBLOAD(0)
>
> I've created a test but it dies:
>
> hbcmp -gh tt52.prg
> hbrun tt52.hrb
>
> The same test works normally in executable format:
>
> hbmk -n -gtcgi tt52.prg
>
> What am I doing wrong?
>

did you need to add a REQUEST HB_EXECVP in your main program, otherwise it 
will not be linked as main program doesn't know that you want to use and 
linker doesn't add it to executable.

Best Regards,

Francesco

From lorenzo.fiorini at gmail.com  Tue Jan 15 08:23:40 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Jan 15 03:23:44 2008
Subject: [Harbour] HB_EXECVP and __HRBLOAD(0) error
In-Reply-To: <000301c8574f$6f5b5ab0$b400a8c0@ASUSFSG>
References: <9257026e0801142348p4160493fnf02552ca6f4c9700@mail.gmail.com>
	<000301c8574f$6f5b5ab0$b400a8c0@ASUSFSG>
Message-ID: <9257026e0801150023k5c258bf4k1169aaf597097f73@mail.gmail.com>

On Jan 15, 2008 9:20 AM, Francesco Saverio Giudice <info@fsgiudice.com> wrote:

> did you need to add a REQUEST HB_EXECVP in your main program, otherwise it
> will not be linked as main program doesn't know that you want to use and
> linker doesn't add it to executable.

Yes I've tried it also.

best regards,
Lorenzo
From druzus at acn.waw.pl  Tue Jan 15 08:41:58 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan 15 03:42:03 2008
Subject: [Harbour] HB_EXECVP and __HRBLOAD(0) error
In-Reply-To: <9257026e0801142348p4160493fnf02552ca6f4c9700@mail.gmail.com>
References: <9257026e0801142348p4160493fnf02552ca6f4c9700@mail.gmail.com>
Message-ID: <20080115084158.GA10658@localhost.localdomain>

On Tue, 15 Jan 2008, Lorenzo Fiorini wrote:
> I'm trying to use the function HB_EXECVP  in a dynamic hrb but I get::
> Unrecoverable error 9001:
> Called from __HRBLOAD(0)
> I've created a test but it dies:
> hbcmp -gh tt52.prg
> hbrun tt52.hrb
> The same test works normally in executable format:
> hbmk -n -gtcgi tt52.prg
> What am I doing wrong?

I need self contain example. Can I see tt52.prg?
Was hbrun linked with HB_EXECVP()?

best regards,
Przemek
From lorenzo.fiorini at gmail.com  Tue Jan 15 08:49:08 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Jan 15 03:49:12 2008
Subject: [Harbour] HB_EXECVP and __HRBLOAD(0) error
In-Reply-To: <20080115084158.GA10658@localhost.localdomain>
References: <9257026e0801142348p4160493fnf02552ca6f4c9700@mail.gmail.com>
	<20080115084158.GA10658@localhost.localdomain>
Message-ID: <9257026e0801150049j63805f7cv1387fb53e71f1847@mail.gmail.com>

On Jan 15, 2008 9:41 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> I need self contain example. Can I see tt52.prg?
> Was hbrun linked with HB_EXECVP()?

Here is tt52.prg:

proc main()
local aPID:={}, i
? "Started"
for i:=1 to 5
  ? i
  aadd( aPID, HB_EXECVP( "hbrun" ) ) // here I use an Harbour gtxwc/gttrm app
  hb_idlesleep(2)
next
__run("ps xa|grep avm.exe|grep -v grep")
hb_idlesleep(3.5)
?
__run("ps xa|grep avm.exe|grep -v grep")
for i:=1 to len(aPID)
  if HB_WAITPID( aPID[i], .t. ) > 0
     ? "Process: ", ltrim( str( aPID[i] ) ), "died."
  else
     ? "Killing process:", ltrim( str( aPID[i] ) ), "..."
     ?? iif( HB_KILL(aPID[i],15), " done", "error" )
     HB_WAITPID( aPID[i] )
     ?? ", process terminated"
  endif
next
__run("ps xa|grep avm.exe|grep -v grep")
?
return

I've added HB_EXECVP, HB_KILL, HB_WAITPID to include/hbextern.ch

Many thanks for the help.

best regards,
Lorenzo
From druzus at acn.waw.pl  Tue Jan 15 09:15:42 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan 15 04:15:47 2008
Subject: [Harbour] HB_EXECVP and __HRBLOAD(0) error
In-Reply-To: <9257026e0801150049j63805f7cv1387fb53e71f1847@mail.gmail.com>
References: <9257026e0801142348p4160493fnf02552ca6f4c9700@mail.gmail.com>
	<20080115084158.GA10658@localhost.localdomain>
	<9257026e0801150049j63805f7cv1387fb53e71f1847@mail.gmail.com>
Message-ID: <20080115091542.GA11461@localhost.localdomain>

On Tue, 15 Jan 2008, Lorenzo Fiorini wrote:
> On Jan 15, 2008 9:41 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:
> > I need self contain example. Can I see tt52.prg?
> > Was hbrun linked with HB_EXECVP()?
> Here is tt52.prg:

[...]
It's working for me without any problem.

> I've added HB_EXECVP, HB_KILL, HB_WAITPID to include/hbextern.ch

It means that you had to add above functions to one of libraries
linked with HBRUN. I've added them directly to hbrun with
    REQUEST HB_EXECVP, HB_KILL, HB_WAITPID

Later I changed:

[...]
    for i:=1 to 5
      ? i
      aadd( aPID, HB_EXECVP( "hbrun" ) ) // here I use an Harbour gtxwc/gttrm app
      hb_idlesleep(2)
    next
    __run("ps xa|grep avm.exe|grep -v grep")
    hb_idlesleep(3.5)

to:

    for i:=1 to 5
      ? i
      aadd( aPID, HB_EXECVP( "sleep", "2" ) )
      hb_idlesleep(0.25)
    next
    __run("ps xa|grep avm.exe|grep -v grep")
    hb_idlesleep(1.0)

and run it as .hrb file and directly by:
    hbrun tt52.prg

In both cases it works perfectly. I cannot say what is your
problem but seems to be related to some other things. F.e.
mixed libraries from different compilers use to create hbrun
executable or sth like that.

best regards,
Przemek
From dmacias at mail.udg.mx  Tue Jan 15 09:21:17 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Tue Jan 15 04:21:24 2008
Subject: [Harbour] HB_LONG_LONG_OFF in OS/2
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <478C7B0D.5080603@mail.udg.mx>

 >I've removed it in xharbour, just look at xharbour hbdefs.h

Checked
Your change is based in HB_DONT_DEFINE_BASIC_TYPES

Przemek, can you apply a similar change (revision 1.89, Dec 27) in 
Harbour hbdefs.h ? Thanks

Maurilio, I tried to build current xHarbour under eCS and I get:
---------------------------------------
[E:\htest\xharbour] make_gnu.cmd
../../harbour.sly:316: unrecognized: %destructor
../../harbour.sly:316:    Skipping to next %
make[3]: *** [harboury.c] Error 1
make[2]: *** [descend] Error 2
../../mlctopos.c:139:2: warning: no newline at end of file
make[3]: ../../../../source/compiler/os2/gcc/harbour.exe: Command not found
make[2]: *** [descend] Error 1
../../itemapi.c:2501:2: warning: no newline at end of file
make[3]: ../../../../source/compiler/os2/gcc/harbour.exe: Command not found
make[2]: *** [descend] Error 1

... rest of errors

---------------------------------------


Error in harbour.sly is caused by problem with bison ? Do you resolved 
it ? How ?

David Macias


From druzus at acn.waw.pl  Tue Jan 15 09:21:43 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan 15 04:21:49 2008
Subject: [Harbour] 2008-01-15 10:21 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801150921.m0F9Lh5S011817@31-mo5-4.acn.waw.pl>

2008-01-15 10:21 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/rdd/usrrdd/usrrdd.c
    * added missing 'const' to few variable declarations

best regards
Przemek
From labitas at gmail.com  Tue Jan 15 09:29:08 2008
From: labitas at gmail.com (Saulius Zrelskis)
Date: Tue Jan 15 04:29:13 2008
Subject: [Harbour] Macro aliasing
Message-ID: <2386af1b0801150129teabb90by7aa75e9d9b57121@mail.gmail.com>

Hi all,

Is this bug or feature ?

proc main()
  memvar First, Second
  local l1 := 'First', l2 := '&First'
  private First := "FIRST", Second := "SECOND"

 dbCreate('test', {{'FIRST', 'C', 5, 0}})
 dbUseArea(.t.,, 'test'); dbAppend(); FieldPut(1, '11111')

 ? '1', &l1
 ? '2', memvar->&l1
 ? '3', &l2

 memvar->&l1 := 'second'
 field->&l1 := 'bucket'

 ? '4', &l1
 ? '5', memvar->&l1
 ? '6', &l2

 dbCloseArea()
 inkey(0)
return


Clipper output:
1 11111
2 FIRST
3 11111
4 bucke
5 second
6 SECOND

Harbour output:
1 11111
2 FIRST
3      11111
4 bucke
5 second
Error BASE/1003  Variable does not exist: BUCKE

best regards,
Saulius
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080115/e48b05a5/attachment.html
From druzus at acn.waw.pl  Tue Jan 15 09:31:23 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan 15 04:31:28 2008
Subject: [Harbour] 2008-01-15 10:31 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801150931.m0F9VN3M011918@31-mo5-4.acn.waw.pl>

2008-01-15 10:31 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbdefs.h
    ! do not define [U]LONGLONG when HB_DONT_DEFINE_BASIC_TYPES macro
      is set

best regards
Przemek
From lorenzo.fiorini at gmail.com  Tue Jan 15 09:33:28 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Jan 15 04:33:32 2008
Subject: [Harbour] HB_EXECVP and __HRBLOAD(0) error
In-Reply-To: <20080115091542.GA11461@localhost.localdomain>
References: <9257026e0801142348p4160493fnf02552ca6f4c9700@mail.gmail.com>
	<20080115084158.GA10658@localhost.localdomain>
	<9257026e0801150049j63805f7cv1387fb53e71f1847@mail.gmail.com>
	<20080115091542.GA11461@localhost.localdomain>
Message-ID: <9257026e0801150133r2c552f01w844d6bb332290aa6@mail.gmail.com>

On Jan 15, 2008 10:15 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> It's working for me without any problem.

aaarrrrgggghhhhhh :)

> In both cases it works perfectly. I cannot say what is your
> problem but seems to be related to some other things. F.e.
> mixed libraries from different compilers use to create hbrun
> executable or sth like that.

Strange, I've simply added your functions to source/rtl/run.c and they
have work perfectly in statically linked executables.

Today I've only one version of Harbour which is the devel branch with
few local prg like tbrowse.prg, memoedit.prg, teditor.prg.

I'll do some tests.

best regards,
Lorenzo
From info at fsgiudice.com  Tue Jan 15 10:12:56 2008
From: info at fsgiudice.com (Francesco Saverio Giudice)
Date: Tue Jan 15 05:13:02 2008
Subject: [Harbour] HB_EXECVP and __HRBLOAD(0) error
References: <9257026e0801142348p4160493fnf02552ca6f4c9700@mail.gmail.com><20080115084158.GA10658@localhost.localdomain><9257026e0801150049j63805f7cv1387fb53e71f1847@mail.gmail.com><20080115091542.GA11461@localhost.localdomain>
	<9257026e0801150133r2c552f01w844d6bb332290aa6@mail.gmail.com>
Message-ID: <003601c8575f$3319fd30$b400a8c0@ASUSFSG>

Lorenzo,

try to add them to 

REQUEST HB_EXECVP, HB_KILL, HB_WAITPID 

\harbour\utils\hbrun\external.prg 

Best Regards

Francesco

----- Original Message ----- 
From: "Lorenzo Fiorini" <lorenzo.fiorini@gmail.com>
To: "Harbour Project Main Developer List." <harbour@harbour-project.org>
Sent: Tuesday, January 15, 2008 10:33 AM
Subject: Re: [Harbour] HB_EXECVP and __HRBLOAD(0) error


> On Jan 15, 2008 10:15 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:
> 
>> It's working for me without any problem.
> 
> aaarrrrgggghhhhhh :)
> 
>> In both cases it works perfectly. I cannot say what is your
>> problem but seems to be related to some other things. F.e.
>> mixed libraries from different compilers use to create hbrun
>> executable or sth like that.
> 
> Strange, I've simply added your functions to source/rtl/run.c and they
> have work perfectly in statically linked executables.
> 
> Today I've only one version of Harbour which is the devel branch with
> few local prg like tbrowse.prg, memoedit.prg, teditor.prg.
> 
> I'll do some tests.
> 
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From maurilio.longo at libero.it  Tue Jan 15 10:57:17 2008
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Jan 15 05:57:22 2008
Subject: [Harbour] Experiences with sqlite?
References: <JULQXP$1DD6F33D9E21334D69960D46A6447BB3@libero.it>
	<9257026e0801131405n3b8fe0cbo83d4fffc853d8a3d@mail.gmail.com>
	<14797065.post@talk.nabble.com> <478B3443.7A88C0D0@libero.it>
	<14799521.post@talk.nabble.com> <478B7104.EEFE57E@libero.it>
	<14806830.post@talk.nabble.com>
Message-ID: <478C918D.648FADE8@libero.it>

Petr Chornyj ha scritto:
> 
> What you think abou
> 
> insert into t1( name, age) values( :name, ?7 )
> 
> sqlite3_bind_all( stmt, {'Mary', 'name', SQLITE_TEXT}, {19, 7,
> SQLITE_INTEGER} [, ...] )
> or
> sqlite3_bind_all( stmt, {{'Mary', 'name', SQLITE_TEXT}, {19, 7,
> SQLITE_INTEGER}} )
> or
> sqlite3_bind_all( stmt, { 'name', 7 }, { SQLITE_TEXT, SQLITE_INTEGER},
> "Mary", 19, "Andi", 17 [, ...] )

Petr, 

I find them 'ugly' and slow to write and writing them this way forces me to do
an explicit association between variable names and sql query sentence.

I'd like something like this :)

local a,b,c

text into csql
    select * from @a where @c = @b
endtext

bind_all( csql, a, b, c ) 


This way you have:

1) you're free to write and change your sql code on a free-form text entry
(easier to write, maintain and understand)
2) you use .prg variable names with '@' qualifier so that your .prg code and
your sql code are 'self documenting' and easier to follow
3) bind_all() accepts a string and a variable number of parameters which are
the .prg variables referenced with '@' inside the sql code.

To do it this way the only problem is/could be to find a way to know that the
'a' variabile has name 'a' and as such has to be bound to the @a inside sql
code.

Variable types can be found at .c level from HB_ITEM structure so why bother
to pass it explicitly given also that sqlite has just number and text as
column type? 

Best regards.

Maurilio.


-- 
 __________                   
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.
From maurilio.longo at libero.it  Tue Jan 15 11:00:07 2008
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Tue Jan 15 06:00:13 2008
Subject: [Harbour] Experiences with sqlite?
References: <14797065.post@talk.nabble.com> <478B3443.7A88C0D0@libero.it>
	<20080115084503.8A64.SSBBS@mail.zzz.com.tw>
Message-ID: <478C9237.3D856B3F@libero.it>

WenSheng,

I do understand your point, it could be usefull on a browse, but I think that
it could be better to write a browse which queries rows while user moves
inside it instead of doing a full select at start and then browse the full
answer.

Hope this clarifies a little my point.

Maurilio.

WenSheng ha scritto:
> 
> >
> > I have to say that I don't like the idea to get the query result and put it
> > into a .dbf file (like sqlite3 for xharbour does); and given the ability of
> > sqlite to step through the query it could be possible to handle a big result
> > without creating a huge array (or a huge .dbf).
> >
> > My 2cents worth of thoughts .)
> >
> > Maurilio.
> 
> Why did I to store data use .DBF/ARRAY from query ?
> Because sqlite3 have not minus quantity about 'FETCH'.
> MySQL have it.
> 
> > >
> > > Maybe you can see and other solution:
> > >
> > > SQLite3 for xHarbour(*mdy:2007.10.19) version 3.5.1
> > > http://www4.zzz.com.tw/phpbb2/viewtopic.php?t=38
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________                   
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.
From miguelangel at marchuet.net  Tue Jan 15 11:29:34 2008
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Tue Jan 15 06:30:10 2008
Subject: [Harbour] 2008-01-14 12:28 UTC+0100 Miguel Angel Marchuet Frutos
	<miguelangel@marchuet.net>
Message-ID: <478C991E.2000505@marchuet.net>

2008-01-14 12:28 UTC+0100 Miguel Angel Marchuet Frutos <miguelangel@marchuet.net>
   * source/vm/extend.c
     * Added conversion from logical params in hb_par* functions.
       ( thks to Juan G?lvez )

Best regards,
Miguel Angel Marchuet
From harbour.01 at syenar.hu  Tue Jan 15 11:42:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jan 15 06:42:46 2008
Subject: [Harbour] 2008-01-14 12:28 UTC+0100 Miguel Angel Marchuet Frutos
	<miguelangel@marchuet.net>
In-Reply-To: <478C991E.2000505@marchuet.net>
References: <478C991E.2000505@marchuet.net>
Message-ID: <5EE8BA46-3016-4505-81C3-0AB10E5C195B@syenar.hu>

Hi Miguel,

I'd suggest to revert this modification from hb_parni()
and hb_parnd(), since these are meant to be 100%
CA-Clipper compatible, and the CA-Clipper version don't
do such a conversion. (For consistency, I'd also suggest
to remove it from Harbour "synomyms", hb_parint(), hb_parll(),
too). Notice that these additions can easily be made
unnecessary by proper C level coding (type checking and using
the proper hb_par*() function).

Brgds,
Viktor

On 2008.01.15., at 12:29, Miguel Angel Marchuet wrote:

> 2008-01-14 12:28 UTC+0100 Miguel Angel Marchuet Frutos <miguelangel@marchuet.net 
> >
>  * source/vm/extend.c
>    * Added conversion from logical params in hb_par* functions.
>      ( thks to Juan G?lvez )
>
> Best regards,
> Miguel Angel Marchuet
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From ssbbstw at yahoo.com  Tue Jan 15 11:44:02 2008
From: ssbbstw at yahoo.com (WenSheng)
Date: Tue Jan 15 06:44:25 2008
Subject: [Harbour] Experiences with sqlite?
In-Reply-To: <478C9237.3D856B3F@libero.it>
References: <20080115084503.8A64.SSBBS@mail.zzz.com.tw>
	<478C9237.3D856B3F@libero.it>
Message-ID: <20080115194214.5266.SSBBS@mail.zzz.com.tw>

> 
> I do understand your point, it could be usefull on a browse, but I think that
> it could be better to write a browse which queries rows while user moves
> inside it instead of doing a full select at start and then browse the full
> answer.
> 
> Hope this clarifies a little my point.

Yes, This is a good idea,
But It's very hard job about to browse data.


From miguelangel at marchuet.net  Tue Jan 15 11:52:51 2008
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Tue Jan 15 06:53:27 2008
Subject: [Harbour] 2008-01-14 12:28 UTC+0100 Miguel Angel Marchuet Frutos
	<miguelangel@marchuet.net>
In-Reply-To: <5EE8BA46-3016-4505-81C3-0AB10E5C195B@syenar.hu>
References: <478C991E.2000505@marchuet.net>
	<5EE8BA46-3016-4505-81C3-0AB10E5C195B@syenar.hu>
Message-ID: <478C9E93.5010207@marchuet.net>

then, how we can implement it on xhb lib ?

any idea ?

Best regards,
Miguel Angel Marchuet

Szak?ts Viktor escribi?:
> Hi Miguel,
> 
> I'd suggest to revert this modification from hb_parni()
> and hb_parnd(), since these are meant to be 100%
> CA-Clipper compatible, and the CA-Clipper version don't
> do such a conversion. (For consistency, I'd also suggest
> to remove it from Harbour "synomyms", hb_parint(), hb_parll(),
> too). Notice that these additions can easily be made
> unnecessary by proper C level coding (type checking and using
> the proper hb_par*() function).
> 
> Brgds,
> Viktor
> 
> On 2008.01.15., at 12:29, Miguel Angel Marchuet wrote:
> 
>> 2008-01-14 12:28 UTC+0100 Miguel Angel Marchuet Frutos 
>> <miguelangel@marchuet.net>
>>  * source/vm/extend.c
>>    * Added conversion from logical params in hb_par* functions.
>>      ( thks to Juan G?lvez )
>>
>> Best regards,
>> Miguel Angel Marchuet
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 

From harbour.01 at syenar.hu  Tue Jan 15 12:20:08 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jan 15 07:20:03 2008
Subject: [Harbour] 2008-01-14 12:28 UTC+0100 Miguel Angel Marchuet Frutos
	<miguelangel@marchuet.net>
In-Reply-To: <478C9E93.5010207@marchuet.net>
References: <478C991E.2000505@marchuet.net>
	<5EE8BA46-3016-4505-81C3-0AB10E5C195B@syenar.hu>
	<478C9E93.5010207@marchuet.net>
Message-ID: <B8A9E3AF-11BE-40ED-8585-94E363BCBC43@syenar.hu>

Hi Miguel,

You can add a #define hb_parni( x ) xhb_parni( x )
to the xhb C level header, then add xhb_parni( x )
to the xhb lib, which implements the extended
xhb functionality you need.

As a personal opinions I'd find it more elegant
to correct the user level C code to use this
API in a portable way (type checking and hb_parl()).

Brgds,
Viktor

On 2008.01.15., at 12:52, Miguel Angel Marchuet wrote:

> then, how we can implement it on xhb lib ?
>
> any idea ?
>
> Best regards,
> Miguel Angel Marchuet
>
> Szak?ts Viktor escribi?:
>> Hi Miguel,
>> I'd suggest to revert this modification from hb_parni()
>> and hb_parnd(), since these are meant to be 100%
>> CA-Clipper compatible, and the CA-Clipper version don't
>> do such a conversion. (For consistency, I'd also suggest
>> to remove it from Harbour "synomyms", hb_parint(), hb_parll(),
>> too). Notice that these additions can easily be made
>> unnecessary by proper C level coding (type checking and using
>> the proper hb_par*() function).
>> Brgds,
>> Viktor
>> On 2008.01.15., at 12:29, Miguel Angel Marchuet wrote:
>>> 2008-01-14 12:28 UTC+0100 Miguel Angel Marchuet Frutos <miguelangel@marchuet.net 
>>> >
>>> * source/vm/extend.c
>>>   * Added conversion from logical params in hb_par* functions.
>>>     ( thks to Juan G?lvez )
>>>
>>> Best regards,
>>> Miguel Angel Marchuet
>>> _______________________________________________
>>> Harbour mailing list
>>> Harbour@harbour-project.org
>>> http://lists.harbour-project.org/mailman/listinfo/harbour
>> _______________________________________________
>> Harbour mailing list
>> Harbour@harbour-project.org
>> http://lists.harbour-project.org/mailman/listinfo/harbour
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Tue Jan 15 12:24:08 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Jan 15 07:24:13 2008
Subject: [Harbour] HB_EXECVP and __HRBLOAD(0) error
In-Reply-To: <20080115091542.GA11461@localhost.localdomain>
References: <9257026e0801142348p4160493fnf02552ca6f4c9700@mail.gmail.com>
	<20080115084158.GA10658@localhost.localdomain>
	<9257026e0801150049j63805f7cv1387fb53e71f1847@mail.gmail.com>
	<20080115091542.GA11461@localhost.localdomain>
Message-ID: <9257026e0801150424m795ac8d0g3872f42e84f82e7f@mail.gmail.com>

On Jan 15, 2008 10:15 AM, Przemyslaw Czerpak <druzus@acn.waw.pl> wrote:

> It's working for me without any problem.

Could it be that DYNAMIC <func> and REQUEST <external_needed_by_func>
"must" be in the same prg?

If I put the REQUESTs in the same prg of DYNAMIC declaration it works.

Sorry, the hbrun problem went away after a full "well made" rebuild :)
and the fact that my code AND hbrun didn't work drove me to the wrong
conclusion.

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Tue Jan 15 12:34:48 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Jan 15 07:34:53 2008
Subject: [Harbour] execvp vs execve
Message-ID: <9257026e0801150434t6bc40e8aq75ad1d0d8e94bd50@mail.gmail.com>

Today I use this code:

...
cStrExec = "HOME=/home/" + cUsrNam + "; USER=" + cUsrNam + ";
SHELL=/bin/bash ; DISPLAY=" + cDisplay + " ; run-exe.sh " + <params> +
"&"
...
run( cStrExec )
...

I'd like to replace it with:

HB_EXECVP( "run-exe.sh", <params> )

but I've seen that execve accepts also an array for envvars.

Is it correct to say that in this case it could be useful?

Are there better/safer solution to launch Harbour binary apps from an
Harbour application server?

best regards,
Lorenzo
From miguelangel at marchuet.net  Tue Jan 15 12:42:57 2008
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Tue Jan 15 07:43:37 2008
Subject: [Harbour] 2008-01-14 12:28 UTC+0100 Miguel Angel Marchuet Frutos
	<miguelangel@marchuet.net>
In-Reply-To: <B8A9E3AF-11BE-40ED-8585-94E363BCBC43@syenar.hu>
References: <478C991E.2000505@marchuet.net>	<5EE8BA46-3016-4505-81C3-0AB10E5C195B@syenar.hu>	<478C9E93.5010207@marchuet.net>
	<B8A9E3AF-11BE-40ED-8585-94E363BCBC43@syenar.hu>
Message-ID: <478CAA51.4080805@marchuet.net>

Szak?ts Viktor escribi?:
> Hi Miguel,
> 
> You can add a #define hb_parni( x ) xhb_parni( x )
> to the xhb C level header, then add xhb_parni( x )
> to the xhb lib, which implements the extended
> xhb functionality you need.
> 
> As a personal opinions I'd find it more elegant
> to correct the user level C code to use this
> API in a portable way (type checking and hb_parl()).

Yes, of course, but this code is from a 3rd party lib.
this lib goes over xharbour, but not over harbour without it.

I add now xhb_parni() in xhb to preserve harbour CLIPPER compatible.

Best regards,
Miguel Angel Marchuet


From miguelangel at marchuet.net  Tue Jan 15 12:46:04 2008
From: miguelangel at marchuet.net (Miguel Angel Marchuet)
Date: Tue Jan 15 07:46:41 2008
Subject: [Harbour] 2008-01-14 13:44 UTC+0100 Miguel Angel Marchuet Frutos
	<miguelangel@marchuet.net>
Message-ID: <478CAB0C.8010709@marchuet.net>

2008-01-14 13:44 UTC+0100 Miguel Angel Marchuet Frutos <miguelangel@marchuet.net>
   * source/vm/extend.c
     * Undo Added conversion from logical params in hb_par* functions.
       ( thks to Juan G?lvez )

Best regards,
Miguel Angel Marchuet
From harbour.01 at syenar.hu  Tue Jan 15 12:52:20 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jan 15 07:52:14 2008
Subject: [Harbour] 2008-01-14 12:28 UTC+0100 Miguel Angel Marchuet Frutos
	<miguelangel@marchuet.net>
In-Reply-To: <478CAA51.4080805@marchuet.net>
References: <478C991E.2000505@marchuet.net>	<5EE8BA46-3016-4505-81C3-0AB10E5C195B@syenar.hu>	<478C9E93.5010207@marchuet.net>
	<B8A9E3AF-11BE-40ED-8585-94E363BCBC43@syenar.hu>
	<478CAA51.4080805@marchuet.net>
Message-ID: <74A9756F-3B7D-48A6-86DE-A083A36D1983@syenar.hu>

> Szak?ts Viktor escribi?:
>> Hi Miguel,
>> You can add a #define hb_parni( x ) xhb_parni( x )
>> to the xhb C level header, then add xhb_parni( x )
>> to the xhb lib, which implements the extended
>> xhb functionality you need.
>> As a personal opinions I'd find it more elegant
>> to correct the user level C code to use this
>> API in a portable way (type checking and hb_parl()).
>
> Yes, of course, but this code is from a 3rd party lib.
> this lib goes over xharbour, but not over harbour without it.

That's unfortunate, but staying compatible with
Clipper is a higher level goal in Harbour than staying
compatible with xhb specific 3rd party libs. Maybe
it would be worth to notify those developers to fix
their code.

(and that is a very good example why in Harbour we
want to not extend existing functions and behaviour)

> I add now xhb_parni() in xhb to preserve harbour CLIPPER compatible.

Okey.

Brgds,
Viktor

From druzus at acn.waw.pl  Tue Jan 15 13:20:51 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan 15 08:20:59 2008
Subject: [Harbour] Macro aliasing
In-Reply-To: <2386af1b0801150129teabb90by7aa75e9d9b57121@mail.gmail.com>
References: <2386af1b0801150129teabb90by7aa75e9d9b57121@mail.gmail.com>
Message-ID: <20080115132051.GA3398@localhost.localdomain>

On Tue, 15 Jan 2008, Saulius Zrelskis wrote:
> Hi all,
> Is this bug or feature ?
[...]

Rather bug. IMHO we should be strict Clipper compatible here because
it can be source of other incompatibilities. F.e. this is modified
Ron's example taken from xHarbour source:

    PROCEDURE Main()
       LOCAL cText1, cText2
       cText1 := "( v := ['A'] ) + &v"
       cText2 := "( v := 'A' ) + &v"
       M->v := "'B'"
       ? "Macro:", cText1
       ? "Result:", &cText1
       ? "Type:", type(cText1)
       M->v := "'B'"
       ? "Macro:", cText2
       ? "Result:", &cText2
       ? "Type:", type(cText2)
    RETURN

which shows some of possible problems. I'll commit fix ASAP.
Thanks for information and example.

best regards,
Przemek
From myorg63 at mail.ru  Tue Jan 15 13:20:57 2008
From: myorg63 at mail.ru (Petr Chornyj)
Date: Tue Jan 15 08:21:02 2008
Subject: [Harbour] Experiences with sqlite?
In-Reply-To: <478C918D.648FADE8@libero.it>
References: <JULQXP$1DD6F33D9E21334D69960D46A6447BB3@libero.it>
	<9257026e0801131405n3b8fe0cbo83d4fffc853d8a3d@mail.gmail.com>
	<14797065.post@talk.nabble.com> <478B3443.7A88C0D0@libero.it>
	<14799521.post@talk.nabble.com> <478B7104.EEFE57E@libero.it>
	<14806830.post@talk.nabble.com> <478C918D.648FADE8@libero.it>
Message-ID: <14839836.post@talk.nabble.com>




Maurilio Longo wrote:
> 
> 
> I find them 'ugly' and slow to write and writing them this way forces me
> to do
> an explicit association between variable names and sql query sentence.
> 
> I'd like something like this :)
> 
> local a,b,c
> 
> text into csql
>     select * from @a where @c = @b
> endtext
> 
> bind_all( csql, a, b, c ) 
> 
> 
> This way you have:
> 
> 1) you're free to write and change your sql code on a free-form text entry
> (easier to write, maintain and understand)
> 2) you use .prg variable names with '@' qualifier so that your .prg code
> and
> your sql code are 'self documenting' and easier to follow
> 3) bind_all() accepts a string and a variable number of parameters which
> are
> the .prg variables referenced with '@' inside the sql code.
> 
> To do it this way the only problem is/could be to find a way to know that
> the
> 'a' variabile has name 'a' and as such has to be bound to the @a inside
> sql
> code.
> 
> Variable types can be found at .c level from HB_ITEM structure so why
> bother
> to pass it explicitly given also that sqlite has just number and text as
> column type? 
> 
> Best regards.
> 
> Maurilio.
> 
> 
> -- 
>  __________                   
> |  |  | |__| Maurilio Longo
> |_|_|_|____| farmaconsult s.r.l.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> 

Sorry, but I think it's not "low level"
We can do it in such way on middle or hight level.

F.e.
smtp := TSqLite3Smtp:New( db ):sqlText := csql
smtp:bindAll( [, ..] )

Regards,
Petr






-- 
View this message in context: http://www.nabble.com/Re%3AExperiences-with-sqlite--tp14791570p14839836.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From druzus at acn.waw.pl  Tue Jan 15 13:27:58 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan 15 08:28:04 2008
Subject: [Harbour] 2008-01-15 14:27 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801151327.m0FDRw8n010720@31-mo5-4.acn.waw.pl>

2008-01-15 14:27 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/macro.c
    ! make macro substitution before macro compilation - Clipper
      compatible behavior - fix borrowed from xHarbour
    ! do not overwrite 1-st error object by others which can appear
      during macro TYPE() checking

best regards
Przemek
From tomaz.zupan at orpo.si  Tue Jan 15 18:36:38 2008
From: tomaz.zupan at orpo.si (Tomaz Zupan)
Date: Tue Jan 15 13:39:57 2008
Subject: [Harbour] 2008-01-15 19:30 UTC+0100 Tomaz Zupan
	(tomaz.zupan/at/orpo.si)
Message-ID: <200801151936.38190.tomaz.zupan@orpo.si>

2008-01-15 19:30 UTC+0100 Tomaz Zupan (tomaz.zupan/at/orpo.si)
  * harbour.spec
    * Recognize more Mandriva releases
    * Changed platform from mdk to mdv for Mandriva

LP, Toma?
From labitas at gmail.com  Tue Jan 15 19:58:29 2008
From: labitas at gmail.com (Saulius Zrelskis)
Date: Tue Jan 15 14:58:35 2008
Subject: [Harbour] Macro aliasing
In-Reply-To: <20080115132051.GA3398@localhost.localdomain>
References: <2386af1b0801150129teabb90by7aa75e9d9b57121@mail.gmail.com>
	<20080115132051.GA3398@localhost.localdomain>
Message-ID: <2386af1b0801151158t6c27bf39tad37f1097d9492cb@mail.gmail.com>

Now OK, thank you.
One more small bug (macro byref):

proc main()
  memvar first
  local l := " first"
  private first := "FIRST"

 ? @&l

 inkey(0)
return

Clipper output:
FIRST

Harbour output:
Error BASE/1003  Variable does not exist:  first

best regards,
Saulius
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080115/4d8b90d4/attachment-0001.html
From dbtopas at dbtopas.lt  Tue Jan 15 23:24:12 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Tue Jan 15 18:26:16 2008
Subject: [Harbour] ChangeLog 2008-01-16 01:20 UTC+0200 Mindaugas Kavaliauskas
Message-ID: <478D409C.7050903@dbtopas.lt>

2008-01-16 01:20 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
   + harbout/contrib/hbzlib
     + added support for zlib library and zip files (based on
       minizip)
   + harbour/contrib/hbzlib/zconf.h
   + harbour/contrib/hbzlib/zlib.h
     + zlib include files
   + harbour/contrib/hbzlib/zip.h
   + harbour/contrib/hbzlib/unzip.h
     + minizip include files
   + harbour/contrib/hbzlib/ioapi.c
   + harbour/contrib/hbzlib/zip.c
   + harbour/contrib/hbzlib/unzip.c
     + minizip source files. Some fixes are applied to avoid compile
       time warning and errors, see readme.txt for list
     ; I've compiled with BCC only, please, check other compilers
   + harbour/contrib/hbzlib/hbzlib.c
     + zlib wrapper functions. Przemyslaw Czerpak is author of this code.
       The file was posted to developers mailing list on 2007-05-17.
       I think licence statments in the begining of file gives permission
       to include it into SVN.
     * HB_UNCOMPRESSLEN() function added. Source copied from Przemyslaw's
       email on 2008-01-10.
   + harbour/contrib/hbzlib/hbmzip.c
     + wrapper functions for minizip library
       Function names uses convention:
       - HB_ZIP*() - manages compression of .zip file:
            HB_ZIPOPEN(), HB_ZIPCLOSE()
       - HB_ZIPFILE*() - manages compression of files inside .zip:
            HB_ZIPFILECREATE(), HB_ZIPFILEWRITE(), HB_ZIPFILECLOSE()
       - HB_UNZIP*() - manages decompression of .zip fileL
            HB_UNZIPOPEN(), HB_UNZIPCLOSE()
       - HB_UNZIPFILE*() - manages decompression of files inside .zip
            HB_UNZIPFILEOPEN(), HB_UNZIPFILEREAD(), HB_UNZIPFILECLOSE(),
            HB_UNZIPFILEFIRST(), HB_UNZIPFILENEXT(), HB_UNZIPFILEPOS(),
            HB_UNZIPFILEGOTO(), HB_UNZIPFILEINFO()
       Parameters of functions are documented inside source files.
     + implemented some higher level functions. These function are not
       wrapper of minizip:
       HB_ZIPSTOREFILE(), HB_UNZIPEXTRACTCURRENTFILE()
     ; minizip gives low level access to zip files. This could be a
       problem if you're not going to put your fingers on internals, but
       just want to compress/decompress files. Because managing of
       file attributes is a little complicated. These higher level
       functions do the job.
     ; please test code under linux. Source is written using docs only,
       without test or deeper knowledge.
   + harbour/contrib/hbzlib/hbzlib.ch
     + defines for zlib and minizip libraries
     ; I've used HB_ZLIB_* and HB_ZIP_* prefixes, because some original
       names of minizip library are too general, ex., APPEND_STATUS_CREATE
       If you want to use original define names we can change this.
   + harbour/contrib/hbzlib/readme.txt
     * some comments on the source of libraries and ChangeLog for minizip
       files
   + harbour/contrib/hbzlib/tests/myzip.prg
   + harbour/contrib/hbzlib/tests/myunzip.prg
     + tiny compression/decompression utilities written in Harbour
   + harbour/contrib/hbzlib/Makefile
   + harbour/contrib/hbzlib/make_b32.bat
   + harbour/contrib/hbzlib/make_vc.bat
     + makefiles written using another contrib's makefiles as template
     ; I'm not makefiles guru, please test it. I've also used command line
       parameters: -DNOCRYPT -DNOUNCRYPT, to compile minizip. I don't know
       howto include these to our makefiles
From druzus at acn.waw.pl  Wed Jan 16 02:16:06 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan 15 21:16:11 2008
Subject: [Harbour] Macro aliasing
In-Reply-To: <2386af1b0801151158t6c27bf39tad37f1097d9492cb@mail.gmail.com>
References: <2386af1b0801150129teabb90by7aa75e9d9b57121@mail.gmail.com>
	<20080115132051.GA3398@localhost.localdomain>
	<2386af1b0801151158t6c27bf39tad37f1097d9492cb@mail.gmail.com>
Message-ID: <20080116021606.GA5134@localhost.localdomain>

On Tue, 15 Jan 2008, Saulius Zrelskis wrote:
> Now OK, thank you.
> One more small bug (macro byref):
> proc main()
>   memvar first
>   local l := " first"
>   private first := "FIRST"
>  ? @&l
>  inkey(0)
> return
> Clipper output:
> FIRST
> Harbour output:
> Error BASE/1003  Variable does not exist:  first

In some places Clipper strips leading and trailing SPACEs and in some
others don't. It also strips TABs.
F.e.:
    proc main()
      memvar first
      local l := " "+chr(9)+" first "+chr(9)+" "
      private first := "FIRST"
      ? &l
      ? @&l
      ? &("fnc "+chr(9)+" ")()
      ? &(" "+chr(9)+" fnc "+chr(9)+" ")() // Clipper fails here
    return
    func fnc()
    return "[FUNC()]"

I'll allow to compile and run above code in Harbour even if Clipper
does not accept the last test with macro func call and leading spaces.
If you think that we should be strict Clipper compatible here then
I can eliminate it but IMHO it's better to keep common behavior for
different constructions then replicate Clipper exceptions which do
not seems to be design decisions but rather side effects of
implementation.
Many thanks for your example.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Jan 16 02:17:45 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan 15 21:17:50 2008
Subject: [Harbour] ChangeLog 2008-01-16 01:20 UTC+0200 Mindaugas
	Kavaliauskas
In-Reply-To: <478D409C.7050903@dbtopas.lt>
References: <478D409C.7050903@dbtopas.lt>
Message-ID: <20080116021745.GB5134@localhost.localdomain>

On Wed, 16 Jan 2008, Mindaugas Kavaliauskas wrote:
> 2008-01-16 01:20 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
>   + harbout/contrib/hbzlib
>     + added support for zlib library and zip files (based on
>       minizip)
[...]

Thank you very much.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Jan 16 02:18:32 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan 15 21:18:51 2008
Subject: [Harbour] 2008-01-16 03:18 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801160218.m0G2IWEI008846@31-mo5-4.acn.waw.pl>

2008-01-16 03:18 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/source/vm/macro.c
    ! strip trailing and leading SPACEs and TABs from macro compiled
      symbols

best regards
Przemek
From jorgeagiraldo at hotmail.com  Wed Jan 16 02:29:28 2008
From: jorgeagiraldo at hotmail.com (Jorge A. Giraldo)
Date: Tue Jan 15 21:29:32 2008
Subject: [Harbour] ChangeLog 2008-01-16 01:20 UTC+0200 Mindaugas
	Kavaliauskas
In-Reply-To: <478D409C.7050903@dbtopas.lt>
References: <478D409C.7050903@dbtopas.lt>
Message-ID: <BAY136-W33AF0942BD6DB26C6E9143A1400@phx.gbl>


Mindaugas,

I get this error:

MAKE Version 5.2  Copyright (c) 1987, 2000 Borland
Error ..\mtpl_b32.mak 148: Unable to open include file 'common.mak'
Error ..\mtpl_b32.mak 154: Command syntax error
Error ..\mtpl_b32.mak 155: Command syntax error
Error ..\mtpl_b32.mak 157: Command syntax error
*** 4 errors during make ***

Jorge A.


> Date: Wed, 16 Jan 2008 01:24:12 +0200
> From: dbtopas@dbtopas.lt
> To: harbour@harbour-project.org
> Date: Wed, 16 Jan 2008 01:26:12 +0200
> Subject: [Harbour] ChangeLog 2008-01-16 01:20 UTC+0200 Mindaugas Kavaliauskas
> 
> 2008-01-16 01:20 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
>    + harbout/contrib/hbzlib
>      + added support for zlib library and zip files (based on
>        minizip)
>    + harbour/contrib/hbzlib/zconf.h
>    + harbour/contrib/hbzlib/zlib.h
>      + zlib include files
>    + harbour/contrib/hbzlib/zip.h
>    + harbour/contrib/hbzlib/unzip.h
>      + minizip include files
>    + harbour/contrib/hbzlib/ioapi.c
>    + harbour/contrib/hbzlib/zip.c
>    + harbour/contrib/hbzlib/unzip.c
>      + minizip source files. Some fixes are applied to avoid compile
>        time warning and errors, see readme.txt for list
>      ; I've compiled with BCC only, please, check other compilers
>    + harbour/contrib/hbzlib/hbzlib.c
>      + zlib wrapper functions. Przemyslaw Czerpak is author of this code.
>        The file was posted to developers mailing list on 2007-05-17.
>        I think licence statments in the begining of file gives permission
>        to include it into SVN.
>      * HB_UNCOMPRESSLEN() function added. Source copied from Przemyslaw's
>        email on 2008-01-10.
>    + harbour/contrib/hbzlib/hbmzip.c
>      + wrapper functions for minizip library
>        Function names uses convention:
>        - HB_ZIP*() - manages compression of .zip file:
>             HB_ZIPOPEN(), HB_ZIPCLOSE()
>        - HB_ZIPFILE*() - manages compression of files inside .zip:
>             HB_ZIPFILECREATE(), HB_ZIPFILEWRITE(), HB_ZIPFILECLOSE()
>        - HB_UNZIP*() - manages decompression of .zip fileL
>             HB_UNZIPOPEN(), HB_UNZIPCLOSE()
>        - HB_UNZIPFILE*() - manages decompression of files inside .zip
>             HB_UNZIPFILEOPEN(), HB_UNZIPFILEREAD(), HB_UNZIPFILECLOSE(),
>             HB_UNZIPFILEFIRST(), HB_UNZIPFILENEXT(), HB_UNZIPFILEPOS(),
>             HB_UNZIPFILEGOTO(), HB_UNZIPFILEINFO()
>        Parameters of functions are documented inside source files.
>      + implemented some higher level functions. These function are not
>        wrapper of minizip:
>        HB_ZIPSTOREFILE(), HB_UNZIPEXTRACTCURRENTFILE()
>      ; minizip gives low level access to zip files. This could be a
>        problem if you're not going to put your fingers on internals, but
>        just want to compress/decompress files. Because managing of
>        file attributes is a little complicated. These higher level
>        functions do the job.
>      ; please test code under linux. Source is written using docs only,
>        without test or deeper knowledge.
>    + harbour/contrib/hbzlib/hbzlib.ch
>      + defines for zlib and minizip libraries
>      ; I've used HB_ZLIB_* and HB_ZIP_* prefixes, because some original
>        names of minizip library are too general, ex., APPEND_STATUS_CREATE
>        If you want to use original define names we can change this.
>    + harbour/contrib/hbzlib/readme.txt
>      * some comments on the source of libraries and ChangeLog for minizip
>        files
>    + harbour/contrib/hbzlib/tests/myzip.prg
>    + harbour/contrib/hbzlib/tests/myunzip.prg
>      + tiny compression/decompression utilities written in Harbour
>    + harbour/contrib/hbzlib/Makefile
>    + harbour/contrib/hbzlib/make_b32.bat
>    + harbour/contrib/hbzlib/make_vc.bat
>      + makefiles written using another contrib's makefiles as template
>      ; I'm not makefiles guru, please test it. I've also used command line
>        parameters: -DNOCRYPT -DNOUNCRYPT, to compile minizip. I don't know
>        howto include these to our makefiles
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_________________________________________________________________
Connect to the next generation of MSN Messenger?
http://imagine-msn.com/messenger/launch80/default.aspx?locale=en-us&source=wlmailtagline
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080116/5c500c6a/attachment.html
From druzus at acn.waw.pl  Wed Jan 16 03:00:02 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan 15 22:00:10 2008
Subject: [Harbour] 2008-01-16 03:59 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801160300.m0G302vw010333@31-mo5-4.acn.waw.pl>

2008-01-16 03:59 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  + harbour/contrib/hbzlib/crypt.h
    + added modified for minizp crypt.h - it comes from minizip
      source code and it's modified infozip file

  * harbour/contrib/hbzlib/zip.c
    * disabled unused functions to eliminate warning

  * harbour/contrib/hbzlib/unzip.c
    * added suggested by compiler statement markers {} to pacify warnings

  * harbour/contrib/hbzlib/hbmzip.c
    ! added missing parenthesis in one logical expression
    * updated for Linux compilation - not tested yet but it
      can be cleanly compiled

  * harbour/contrib/hbzlib/hbzlib.c
    * synced with some minor modifications in my local copy

best regards
Przemek
From lorenzo.fiorini at gmail.com  Wed Jan 16 06:22:30 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Wed Jan 16 01:22:34 2008
Subject: [Harbour] ChangeLog 2008-01-16 01:20 UTC+0200 Mindaugas
	Kavaliauskas
In-Reply-To: <478D409C.7050903@dbtopas.lt>
References: <478D409C.7050903@dbtopas.lt>
Message-ID: <9257026e0801152222p40afed88q5026e0b7720aab97@mail.gmail.com>

On Jan 16, 2008 12:24 AM, Mindaugas Kavaliauskas <dbtopas@dbtopas.lt> wrote:
> 2008-01-16 01:20 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
>    + harbout/contrib/hbzlib
>      + added support for zlib library and zip files (based on
>        minizip)
...

Many thanks,

best regards,
Lorenzo
From harbour.01 at syenar.hu  Wed Jan 16 10:58:13 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jan 16 05:58:11 2008
Subject: [Harbour] ChangeLog 2008-01-16 01:20 UTC+0200 Mindaugas
	Kavaliauskas
In-Reply-To: <BAY136-W33AF0942BD6DB26C6E9143A1400@phx.gbl>
References: <478D409C.7050903@dbtopas.lt>
	<BAY136-W33AF0942BD6DB26C6E9143A1400@phx.gbl>
Message-ID: <B3F879EB-A82A-4E24-AC40-1F5A03557C02@syenar.hu>

I'll look into the makefiles in sec.

Brgds,
Viktor

On 2008.01.16., at 3:29, Jorge A. Giraldo wrote:

> Mindaugas,
>
> I get this error:
>
> MAKE Version 5.2  Copyright (c) 1987, 2000 Borland
> Error ..\mtpl_b32.mak 148: Unable to open include file 'common.mak'
> Error ..\mtpl_b32.mak 154: Command syntax error
> Error ..\mtpl_b32.mak 155: Command syntax error
> Error ..\mtpl_b32.mak 157: Command syntax error
> *** 4 errors during make ***
>
> Jorge A.
>
>
> > Date: Wed, 16 Jan 2008 01:24:12 +0200
> > From: dbtopas@dbtopas.lt
> > To: harbour@harbour-project.org
> > Date: Wed, 16 Jan 2008 01:26:12 +0200
> > Subject: [Harbour] ChangeLog 2008-01-16 01:20 UTC+0200 Mindaugas  
> Kavaliauskas
> >
> > 2008-01-16 01:20 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/ 
> dbtopas.lt)
> > + harbout/contrib/hbzlib
> > + added support for zlib library and zip files (based on
> > minizip)
> > + harbour/contrib/hbzlib/zconf.h
> > + harbour/contrib/hbzlib/zlib.h
> > + zlib include files
> > + harbour/contrib/hbzlib/zip.h
> > + harbour/contrib/hbzlib/unzip.h
> > + minizip include files
> > + harbour/contrib/hbzlib/ioapi.c
> > + harbour/contrib/hbzlib/zip.c
> > + harbour/contrib/hbzlib/unzip.c
> > + minizip source files. Some fixes are applied to avoid compile
> > time warning and errors, see readme.txt for list
> > ; I've compiled with BCC only, please, check other compilers
> > + harbour/contrib/hbzlib/hbzlib.c
> > + zlib wrapper functions. Przemyslaw Czerpak is author of this code.
> > The file was posted to developers mailing list on 2007-05-17.
> > I think licence statments in the begining of file gives permission
> > to include it into SVN.
> > * HB_UNCOMPRESSLEN() function added. Source copied from Przemyslaw's
> > email on 2008-01-10.
> > + harbour/contrib/hbzlib/hbmzip.c
> > + wrapper functions for minizip library
> > Function names uses convention:
> > - HB_ZIP*() - manages compression of .zip file:
> > HB_ZIPOPEN(), HB_ZIPCLOSE()
> > - HB_ZIPFILE*() - manages compression of files inside .zip:
> > HB_ZIPFILECREATE(), HB_ZIPFILEWRITE(), HB_ZIPFILECLOSE()
> > - HB_UNZIP*() - manages decompression of .zip fileL
> > HB_UNZIPOPEN(), HB_UNZIPCLOSE()
> > - HB_UNZIPFILE*() - manages decompression of files inside .zip
> > HB_UNZIPFILEOPEN(), HB_UNZIPFILEREAD(), HB_UNZIPFILECLOSE(),
> > HB_UNZIPFILEFIRST(), HB_UNZIPFILENEXT(), HB_UNZIPFILEPOS(),
> > HB_UNZIPFILEGOTO(), HB_UNZIPFILEINFO()
> > Parameters of functions are documented inside source files.
> > + implemented some higher level functions. These function are not
> > wrapper of minizip:
> > HB_ZIPSTOREFILE(), HB_UNZIPEXTRACTCURRENTFILE()
> > ; minizip gives low level access to zip files. This could be a
> > problem if you're not going to put your fingers on internals, but
> > just want to compress/decompress files. Because managing of
> > file attributes is a little complicated. These higher level
> > functions do the job.
> > ; please test code under linux. Source is written using docs only,
> > without test or deeper knowledge.
> > + harbour/contrib/hbzlib/hbzlib.ch
> > + defines for zlib and minizip libraries
> > ; I've used HB_ZLIB_* and HB_ZIP_* prefixes, because some original
> > names of minizip library are too general, ex., APPEND_STATUS_CREATE
> > If you want to use original define names we can change this.
> > + harbour/contrib/hbzlib/readme.txt
> > * some comments on the source of libraries and ChangeLog for minizip
> > files
> > + harbour/contrib/hbzlib/tests/myzip.prg
> > + harbour/contrib/hbzlib/tests/myunzip.prg
> > + tiny compression/decompression utilities written in Harbour
> > + harbour/contrib/hbzlib/Makefile
> > + harbour/contrib/hbzlib/make_b32.bat
> > + harbour/contrib/hbzlib/make_vc.bat
> > + makefiles written using another contrib's makefiles as template
> > ; I'm not makefiles guru, please test it. I've also used command  
> line
> > parameters: -DNOCRYPT -DNOUNCRYPT, to compile minizip. I don't know
> > howto include these to our makefiles
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> Connect to the next generation of MSN Messenger  Get it now! 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Wed Jan 16 11:04:18 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jan 16 06:04:22 2008
Subject: [Harbour] CHANGELOG: 2008-01-16 12:03 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c8582f$Blat.v2.6.2$8a42e56a$118824a07aec@127.0.0.1>

2008-01-16 12:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/make_b32_all.bat
   * contrib/make_vc_all.bat
   + contrib/hbzlib/common.mak
     + Added missing non-GNU make file.
     + Added hbzlib to "all" non-GNU make batches.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Wed Jan 16 11:09:38 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jan 16 06:09:32 2008
Subject: [Harbour] ChangeLog 2008-01-16 01:20 UTC+0200 Mindaugas
	Kavaliauskas
In-Reply-To: <478D409C.7050903@dbtopas.lt>
References: <478D409C.7050903@dbtopas.lt>
Message-ID: <9C788C21-B09B-4D08-A9DB-4E4F90C50218@syenar.hu>

Great, thanks a lot Mindaugas.

I've added one non-GNU makefile, so that part is okey.

Would it be possible to hardcode -DNOCRYPT... into
hbmzip.c? I can also add it for the whole contrib globally,
but I'm afraid it would badly affect the other files.

Brgds,
Viktor

On 2008.01.16., at 0:24, Mindaugas Kavaliauskas wrote:

> 2008-01-16 01:20 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/ 
> dbtopas.lt)
>  + harbout/contrib/hbzlib
>    + added support for zlib library and zip files (based on
>      minizip)
>  + harbour/contrib/hbzlib/zconf.h
>  + harbour/contrib/hbzlib/zlib.h
>    + zlib include files
>  + harbour/contrib/hbzlib/zip.h
>  + harbour/contrib/hbzlib/unzip.h
>    + minizip include files
>  + harbour/contrib/hbzlib/ioapi.c
>  + harbour/contrib/hbzlib/zip.c
>  + harbour/contrib/hbzlib/unzip.c
>    + minizip source files. Some fixes are applied to avoid compile
>      time warning and errors, see readme.txt for list
>    ; I've compiled with BCC only, please, check other compilers
>  + harbour/contrib/hbzlib/hbzlib.c
>    + zlib wrapper functions. Przemyslaw Czerpak is author of this  
> code.
>      The file was posted to developers mailing list on 2007-05-17.
>      I think licence statments in the begining of file gives  
> permission
>      to include it into SVN.
>    * HB_UNCOMPRESSLEN() function added. Source copied from  
> Przemyslaw's
>      email on 2008-01-10.
>  + harbour/contrib/hbzlib/hbmzip.c
>    + wrapper functions for minizip library
>      Function names uses convention:
>      - HB_ZIP*() - manages compression of .zip file:
>           HB_ZIPOPEN(), HB_ZIPCLOSE()
>      - HB_ZIPFILE*() - manages compression of files inside .zip:
>           HB_ZIPFILECREATE(), HB_ZIPFILEWRITE(), HB_ZIPFILECLOSE()
>      - HB_UNZIP*() - manages decompression of .zip fileL
>           HB_UNZIPOPEN(), HB_UNZIPCLOSE()
>      - HB_UNZIPFILE*() - manages decompression of files inside .zip
>           HB_UNZIPFILEOPEN(), HB_UNZIPFILEREAD(), HB_UNZIPFILECLOSE(),
>           HB_UNZIPFILEFIRST(), HB_UNZIPFILENEXT(), HB_UNZIPFILEPOS(),
>           HB_UNZIPFILEGOTO(), HB_UNZIPFILEINFO()
>      Parameters of functions are documented inside source files.
>    + implemented some higher level functions. These function are not
>      wrapper of minizip:
>      HB_ZIPSTOREFILE(), HB_UNZIPEXTRACTCURRENTFILE()
>    ; minizip gives low level access to zip files. This could be a
>      problem if you're not going to put your fingers on internals, but
>      just want to compress/decompress files. Because managing of
>      file attributes is a little complicated. These higher level
>      functions do the job.
>    ; please test code under linux. Source is written using docs only,
>      without test or deeper knowledge.
>  + harbour/contrib/hbzlib/hbzlib.ch
>    + defines for zlib and minizip libraries
>    ; I've used HB_ZLIB_* and HB_ZIP_* prefixes, because some original
>      names of minizip library are too general, ex.,  
> APPEND_STATUS_CREATE
>      If you want to use original define names we can change this.
>  + harbour/contrib/hbzlib/readme.txt
>    * some comments on the source of libraries and ChangeLog for  
> minizip
>      files
>  + harbour/contrib/hbzlib/tests/myzip.prg
>  + harbour/contrib/hbzlib/tests/myunzip.prg
>    + tiny compression/decompression utilities written in Harbour
>  + harbour/contrib/hbzlib/Makefile
>  + harbour/contrib/hbzlib/make_b32.bat
>  + harbour/contrib/hbzlib/make_vc.bat
>    + makefiles written using another contrib's makefiles as template
>    ; I'm not makefiles guru, please test it. I've also used command  
> line
>      parameters: -DNOCRYPT -DNOUNCRYPT, to compile minizip. I don't  
> know
>      howto include these to our makefiles
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From jorgeagiraldo at hotmail.com  Wed Jan 16 16:08:53 2008
From: jorgeagiraldo at hotmail.com (Jorge A. Giraldo)
Date: Wed Jan 16 11:08:57 2008
Subject: [Harbour] ChangeLog 2008-01-16 01:20 UTC+0200 Mindaugas
	Kavaliauskas
In-Reply-To: <478D409C.7050903@dbtopas.lt>
References: <478D409C.7050903@dbtopas.lt>
Message-ID: <BAY136-W4557084191C25270F341D8A1400@phx.gbl>


Mindaugas,

Surely I'm doing something wrong, but I get these warnings:

Borland C++ 5.5.1 for Win32 Copyright (c) 1993, 2000 Borland
myzip.c:
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
Error: Unresolved external '_deflateInit2_' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|zip
Error: Unresolved external '_get_crc_table' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|zip
Error: Unresolved external '_crc32' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|zip
Error: Unresolved external '_deflate' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|zip
Error: Unresolved external '_deflateEnd' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|zip
Error: Unresolved external '_inflateInit2_' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|unzip
Error: Unresolved external '_inflate' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|unzip
Error: Unresolved external '_inflateEnd' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|unzip

I created the zlib1.lib using ImpLib zLib1.lib zLib1.dll

An impdef on zlib1.dll  shows the functions are there.

The functions are recognized except _get_crc_table  and _crc32 if instead of zlib1.lib I link the xhb.lib 

Regards,

Jorge A.

> Date: Wed, 16 Jan 2008 01:24:12 +0200
> From: dbtopas@dbtopas.lt
> To: harbour@harbour-project.org
> Date: Wed, 16 Jan 2008 01:26:12 +0200
> Subject: [Harbour] ChangeLog 2008-01-16 01:20 UTC+0200 Mindaugas Kavaliauskas
> 
> 2008-01-16 01:20 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
>    + harbout/contrib/hbzlib
>      + added support for zlib library and zip files (based on
>        minizip)
>    + harbour/contrib/hbzlib/zconf.h
>    + harbour/contrib/hbzlib/zlib.h
>      + zlib include files
>    + harbour/contrib/hbzlib/zip.h
>    + harbour/contrib/hbzlib/unzip.h
>      + minizip include files
>    + harbour/contrib/hbzlib/ioapi.c
>    + harbour/contrib/hbzlib/zip.c
>    + harbour/contrib/hbzlib/unzip.c
>      + minizip source files. Some fixes are applied to avoid compile
>        time warning and errors, see readme.txt for list
>      ; I've compiled with BCC only, please, check other compilers
>    + harbour/contrib/hbzlib/hbzlib.c
>      + zlib wrapper functions. Przemyslaw Czerpak is author of this code.
>        The file was posted to developers mailing list on 2007-05-17.
>        I think licence statments in the begining of file gives permission
>        to include it into SVN.
>      * HB_UNCOMPRESSLEN() function added. Source copied from Przemyslaw's
>        email on 2008-01-10.
>    + harbour/contrib/hbzlib/hbmzip.c
>      + wrapper functions for minizip library
>        Function names uses convention:
>        - HB_ZIP*() - manages compression of .zip file:
>             HB_ZIPOPEN(), HB_ZIPCLOSE()
>        - HB_ZIPFILE*() - manages compression of files inside .zip:
>             HB_ZIPFILECREATE(), HB_ZIPFILEWRITE(), HB_ZIPFILECLOSE()
>        - HB_UNZIP*() - manages decompression of .zip fileL
>             HB_UNZIPOPEN(), HB_UNZIPCLOSE()
>        - HB_UNZIPFILE*() - manages decompression of files inside .zip
>             HB_UNZIPFILEOPEN(), HB_UNZIPFILEREAD(), HB_UNZIPFILECLOSE(),
>             HB_UNZIPFILEFIRST(), HB_UNZIPFILENEXT(), HB_UNZIPFILEPOS(),
>             HB_UNZIPFILEGOTO(), HB_UNZIPFILEINFO()
>        Parameters of functions are documented inside source files.
>      + implemented some higher level functions. These function are not
>        wrapper of minizip:
>        HB_ZIPSTOREFILE(), HB_UNZIPEXTRACTCURRENTFILE()
>      ; minizip gives low level access to zip files. This could be a
>        problem if you're not going to put your fingers on internals, but
>        just want to compress/decompress files. Because managing of
>        file attributes is a little complicated. These higher level
>        functions do the job.
>      ; please test code under linux. Source is written using docs only,
>        without test or deeper knowledge.
>    + harbour/contrib/hbzlib/hbzlib.ch
>      + defines for zlib and minizip libraries
>      ; I've used HB_ZLIB_* and HB_ZIP_* prefixes, because some original
>        names of minizip library are too general, ex., APPEND_STATUS_CREATE
>        If you want to use original define names we can change this.
>    + harbour/contrib/hbzlib/readme.txt
>      * some comments on the source of libraries and ChangeLog for minizip
>        files
>    + harbour/contrib/hbzlib/tests/myzip.prg
>    + harbour/contrib/hbzlib/tests/myunzip.prg
>      + tiny compression/decompression utilities written in Harbour
>    + harbour/contrib/hbzlib/Makefile
>    + harbour/contrib/hbzlib/make_b32.bat
>    + harbour/contrib/hbzlib/make_vc.bat
>      + makefiles written using another contrib's makefiles as template
>      ; I'm not makefiles guru, please test it. I've also used command line
>        parameters: -DNOCRYPT -DNOUNCRYPT, to compile minizip. I don't know
>        howto include these to our makefiles
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_________________________________________________________________
Discover the new Windows Vista
http://search.msn.com/results.aspx?q=windows+vista&mkt=en-US&form=QBRE
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080116/0c974a0f/attachment.html
From cvc at oohg.org  Wed Jan 16 21:45:27 2008
From: cvc at oohg.org (Ciro Vargas Clemow)
Date: Wed Jan 16 16:45:31 2008
Subject: [Harbour] problems in ADORDD
Message-ID: <478E7AF7.7010708@oohg.org>


Hi all:

I test the example access2.prg from the samples of adordd

the program runs and diplay the browse, but if I press ENTER over any field I 
obtain the next error:

Date: 12/30/07 Time: 10:27:49
Error BASE/1073 Argument error: <

Called from ADO_ORDINFO(499)
Called from ORDKEY(0)
Called from INDEXKEY(90)
Called from DOGET(328)
Called from BROWSE(258)
Called from MAIN(27)

I use the last SVN

regards
Ciro



-- 
http://sistemascvc.tripod.com  (la casa del no2imp / the no2imp home )

http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more powerfull )


From druzus at acn.waw.pl  Thu Jan 17 14:26:03 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jan 17 09:26:10 2008
Subject: [Harbour] ChangeLog 2008-01-16 01:20 UTC+0200 Mindaugas
	Kavaliauskas
In-Reply-To: <478D409C.7050903@dbtopas.lt>
References: <478D409C.7050903@dbtopas.lt>
Message-ID: <20080117142603.GA9332@localhost.localdomain>

On Wed, 16 Jan 2008, Mindaugas Kavaliauskas wrote:
>     + minizip source files. Some fixes are applied to avoid compile
>       time warning and errors, see readme.txt for list
>     ; I've compiled with BCC only, please, check other compilers

Hi Mindaugas,
I see that you intentionally reduce the modifications to keep
the code as close to original as possible but I've just make
some tests with C++ compilers and we will have to make some
deeper modifications for them, f.e. dropping standard C declarations.
If you do not have anything against then I'll commit them in few
hours.

best regards,
Przemek
From dbtopas at dbtopas.lt  Thu Jan 17 15:22:03 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Thu Jan 17 10:24:04 2008
Subject: [Harbour] ChangeLog 2008-01-16 01:20 UTC+0200
	Mindaugas	Kavaliauskas
In-Reply-To: <20080117142603.GA9332@localhost.localdomain>
References: <478D409C.7050903@dbtopas.lt>
	<20080117142603.GA9332@localhost.localdomain>
Message-ID: <478F729B.9050700@dbtopas.lt>

Przemyslaw Czerpak wrote:
> On Wed, 16 Jan 2008, Mindaugas Kavaliauskas wrote:
>>     + minizip source files. Some fixes are applied to avoid compile
>>       time warning and errors, see readme.txt for list
>>     ; I've compiled with BCC only, please, check other compilers
> 
> Hi Mindaugas,
> I see that you intentionally reduce the modifications to keep
> the code as close to original as possible but I've just make
> some tests with C++ compilers and we will have to make some
> deeper modifications for them, f.e. dropping standard C declarations.
> If you do not have anything against then I'll commit them in few
> hours.

Hi,


thanks everybody for adding makefiles, and correcting minizip code I was 
not able to fix the right way.

Yes, feel free to change anything you want. minizip code is not very 
good quality, and sometimes I was thinking about complete rewriting of 
it, but it will take much more time. So, we can use existing code as 
long as it fits our needs.
One more change I was going to do is to make minizip IO and memory 
allocation Harbour based, i.e., map ALLOC() define to hb_xgrab(), and
remove ioapi.c module by including hb_fs*() based fill_fopen_filefunc() 
to hbmzip.c. But perhaps I will not find time for it next week, so feel 
free to change anything, I will not have a problem of merging some 
modifications with yours.


Best regards,
Mindaugas
From druzus at acn.waw.pl  Thu Jan 17 15:51:15 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jan 17 10:51:22 2008
Subject: [Harbour] 2008-01-17 16:50 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801171551.m0HFpF86005363@31-mo5-4.acn.waw.pl>

2008-01-17 16:50 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbzlib/ioapi.c
  * harbour/contrib/hbzlib/zip.c
  * harbour/contrib/hbzlib/unzip.c
  * harbour/contrib/hbzlib/crypt.h
  * harbour/contrib/hbzlib/hbzlib.c
  * harbour/contrib/hbzlib/hbmzip.c
    * casting for C++ compilation
    * changed function declaration for C++ compilation
    * removed #include "errno.h" - some platforms do not have it
    * updated WIN32 API for WinCE and UNICODE builds
    * use localtime_r() only for Linux builds - TODO: create our own
      API for it and remove all #if... from core code so we will have
      it only in one place easy to update for different platforms

  * harbour/contrib/hbzlib/common.mak
    * replaced TABs with SPACEs

  * harbour/harbour-ce-spec
  * harbour/harbour-w32-spec
  * harbour/harbour.spec
  * harbour/bin/hb-func.sh
  * harbour/contrib/Makefile
    + added hbzlib to contrib libraries compiled by default

best regards
Przemek
From druzus at acn.waw.pl  Thu Jan 17 16:23:15 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jan 17 11:23:19 2008
Subject: [Harbour] 2008-01-17 17:23 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801171623.m0HGNFwN019952@31-mo5-4.acn.waw.pl>

2008-01-17 17:23 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbzlib/ioapi.c
  * harbour/contrib/hbzlib/zip.c
  * harbour/contrib/hbzlib/unzip.c
  * harbour/contrib/hbzlib/crypt.h
  * harbour/contrib/hbzlib/hbzlib.c
  * harbour/contrib/hbzlib/hbmzip.c
    * casting for C++ compilation
    * changed function declaration for C++ compilation
    * removed #include "errno.h" - some platforms do not have it
    * updated WIN32 API for WinCE and UNICODE builds
    * use localtime_r() only for Linux builds - TODO: create our own
      API for it and remove all #if... from core code so we will have
      it only in one place easy to update for different platforms

  * harbour/contrib/hbzlib/common.mak
    * replaced TABs with SPACEs

  * harbour/harbour-ce-spec
  * harbour/harbour-w32-spec
  * harbour/harbour.spec
  * harbour/bin/hb-func.sh
  * harbour/contrib/Makefile
    + added hbzlib to contrib libraries compiled by default

best regards
Przemek
From druzus at acn.waw.pl  Thu Jan 17 16:29:28 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jan 17 11:29:35 2008
Subject: [Harbour] 2008-01-17 17:29 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801171629.m0HGTSqg020487@31-mo5-4.acn.waw.pl>

2008-01-17 17:29 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/harbour.spec
    ! removed dummy %endif which left after recent modification
      for Mandriva detection

  * harbour/ChangeLog
    ! fixed ChangeLog description - I repeated by mistake the previous one

best regards
Przemek
From lorenzo.fiorini at gmail.com  Thu Jan 17 18:33:28 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Jan 17 13:33:34 2008
Subject: [Harbour] ChangeLog 2008-01-16 01:20 UTC+0200 Mindaugas
	Kavaliauskas
In-Reply-To: <478F729B.9050700@dbtopas.lt>
References: <478D409C.7050903@dbtopas.lt>
	<20080117142603.GA9332@localhost.localdomain>
	<478F729B.9050700@dbtopas.lt>
Message-ID: <9257026e0801171033v4b453d0bq1a985263ec0daee1@mail.gmail.com>

On Jan 17, 2008 4:22 PM, Mindaugas Kavaliauskas <dbtopas@dbtopas.lt> wrote:

> Yes, feel free to change anything you want. minizip code is not very
> good quality, and sometimes I was thinking about complete rewriting of
> it, but it will take much more time. So, we can use existing code as
> long as it fits our needs.
[...]

As an info, here are the warnings I get using gcc 4.1.2 under Linux/Fc8 after
2008-01-17 17:29 UTC+0100 Przemyslaw Czerpak

../../zip.c: In function 'ziplocal_getLong':
../../zip.c:414: warning: 'i' may be used uninitialized in this function
../../zip.c: In function 'zipOpen2':
../../zip.c:386: warning: 'i' may be used uninitialized in this function
../../zip.c:386: warning: 'i' may be used uninitialized in this function
../../zip.c:386: warning: 'i' may be used uninitialized in this function
../../zip.c:386: warning: 'i' may be used uninitialized in this function
../../zip.c:386: warning: 'i' may be used uninitialized in this function
../../unzip.c: In function 'unzlocal_getShort':
../../unzip.c:213: warning: 'i' may be used uninitialized in this function
../../unzip.c: In function 'unzlocal_getLong':
../../unzip.c:241: warning: 'i' may be used uninitialized in this function

best regards,
Lorenzo
From druzus at acn.waw.pl  Fri Jan 18 00:17:37 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jan 17 19:17:43 2008
Subject: [Harbour] 2008-01-18 01:17 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801180017.m0I0HbU3007216@31-mo5-4.acn.waw.pl>

2008-01-18 01:17 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbzlib/zip.c
  * harbour/contrib/hbzlib/unzip.c
    ! fixed possible access to uninitialized memory - thanks to Lorenzo

  * harbour/contrib/hbzlib/hbzlib.c
    * fixed casting - thanks to Andi

  * harbour/contrib/hbzlib/hbmzip.c
    * use hb_fsGetOsHandle() instead of LongToHandle() - code which
      uses hb_fsGetOsHandle() will work also with our own virtual
      handles if we add such extensions in the future

  * harbour/source/vm/harbinit.prg
    ! call __SetHelpK() only when HELP() function/procedure exist
      Clipper compatible behavior

best regards
Przemek
From jorgeagiraldo at hotmail.com  Fri Jan 18 00:21:00 2008
From: jorgeagiraldo at hotmail.com (Jorge A. Giraldo)
Date: Thu Jan 17 19:21:03 2008
Subject: [Harbour] 2008-01-17 17:23 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200801171623.m0HGNFwN019952@31-mo5-4.acn.waw.pl>
References: <200801171623.m0HGNFwN019952@31-mo5-4.acn.waw.pl>
Message-ID: <BAY136-W114C79BD4838E772267B38A1420@phx.gbl>


Thank you,

Jorge A.

> Date: Thu, 17 Jan 2008 17:23:15 +0100
> From: druzus@acn.waw.pl
> To: harbour@harbour-project.org
> Subject: [Harbour] 2008-01-17 17:23 UTC+0100 Przemyslaw Czerpak	(druzus/at/priv.onet.pl)
> 
> 2008-01-17 17:23 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/contrib/hbzlib/ioapi.c
>   * harbour/contrib/hbzlib/zip.c
>   * harbour/contrib/hbzlib/unzip.c
>   * harbour/contrib/hbzlib/crypt.h
>   * harbour/contrib/hbzlib/hbzlib.c
>   * harbour/contrib/hbzlib/hbmzip.c
>     * casting for C++ compilation
>     * changed function declaration for C++ compilation
>     * removed #include "errno.h" - some platforms do not have it
>     * updated WIN32 API for WinCE and UNICODE builds
>     * use localtime_r() only for Linux builds - TODO: create our own
>       API for it and remove all #if... from core code so we will have
>       it only in one place easy to update for different platforms
> 
>   * harbour/contrib/hbzlib/common.mak
>     * replaced TABs with SPACEs
> 
>   * harbour/harbour-ce-spec
>   * harbour/harbour-w32-spec
>   * harbour/harbour.spec
>   * harbour/bin/hb-func.sh
>   * harbour/contrib/Makefile
>     + added hbzlib to contrib libraries compiled by default
> 
> best regards
> Przemek


_________________________________________________________________
Discover the new Windows Vista
http://search.msn.com/results.aspx?q=windows+vista&mkt=en-US&form=QBRE
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080118/9f928467/attachment.html
From druzus at acn.waw.pl  Fri Jan 18 00:22:12 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jan 17 19:22:25 2008
Subject: [Harbour] 2008-01-11 18:01 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <14783034.post@talk.nabble.com>
References: <200801111701.m0BH1d59032450@31-mo5-4.acn.waw.pl>
	<47881A01.9020408@dbtopas.lt>
	<20080112112925.GA24961@localhost.localdomain>
	<14783034.post@talk.nabble.com>
Message-ID: <20080118002212.GA7275@localhost.localdomain>

On Sat, 12 Jan 2008, Petr Chornyj wrote:
> >> hb_stackReturnItem() is more fast than making a copy of item. In many 
> >> cases hb_stackReturnItem() is OK. Maybe we can use hb_stackReturnItem() 
> >> for internal code and hb_itemNew( hb_stackReturnItem() ) for public API.
> >     pItem = hb_itemReturnCopy( pItem /* or NULL */ ) ?
> hb_itemReturnCopy is typo ( I mean hb_itemReturn )?
> Or it is a part new API?

Hi Peter,
It was only a proposition of new function name.

best regards,
Przemek
From druzus at acn.waw.pl  Fri Jan 18 00:23:48 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jan 17 19:23:56 2008
Subject: [Harbour] Re: How to get the pid of a app started with run()?
In-Reply-To: <002001c852f5$c5ba86a0$b400a8c0@ASUSFSG>
References: <9257026e0801090917u351cc0e2l83d976a675e4c5d1@mail.gmail.com>
	<002001c852f5$c5ba86a0$b400a8c0@ASUSFSG>
Message-ID: <20080118002348.GB7275@localhost.localdomain>

On Wed, 09 Jan 2008, Francesco Saverio Giudice wrote:
> Lorenzo, Przemek, all,
> did you have seen hb_OpenProcess(), hb_CloseProcess() and 
> hb_ProcessValue(), also with pure C level correspondant created in xharbour 
> from Giancarlo ?
> Those are multiplatform and I think that give all informations Lorenzo 
> needs, plus possibility to handle input, output and error streams.
> Look at xharbour\source\rtl\philes.c and filesys.c and at 
> xharbour\tests\process.prg for sample.

I know these functions but they need some cleanup.
Maybe in the future.

best regards,
Przemek
From jorgeagiraldo at hotmail.com  Fri Jan 18 00:27:25 2008
From: jorgeagiraldo at hotmail.com (Jorge A. Giraldo)
Date: Thu Jan 17 19:27:30 2008
Subject: [Harbour] 2008-01-18 01:17 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
In-Reply-To: <200801180017.m0I0HbU3007216@31-mo5-4.acn.waw.pl>
References: <200801180017.m0I0HbU3007216@31-mo5-4.acn.waw.pl>
Message-ID: <BAY136-W161DBD4A822C4C61AED807A1420@phx.gbl>


Przemek,

Now I get this:

MAKE Version 5.1  Copyright (c) 1987, 1998 Borland International
    bcc32.exe -c -q -I..\..\include -d  -O2   -o..\..\obj\b32\hbmzip.obj .\hbmzip.c
.\hbmzip.c:
Error E2342 .\hbmzip.c 580: Type mismatch in parameter 'hFile' (wanted 'void *', got 'long') in function hb_zipStoreFile
Error E2342 .\hbmzip.c 714: Type mismatch in parameter 'hFile' (wanted 'void *', got 'long') in function hb_unzipExtractCurrentFile
*** 2 errors in Compile ***

** error 1 ** deleting ..\..\obj\b32\hbmzip.obj

Jorge A.

> Date: Fri, 18 Jan 2008 01:17:37 +0100
> From: druzus@acn.waw.pl
> To: harbour@harbour-project.org
> Subject: [Harbour] 2008-01-18 01:17 UTC+0100 Przemyslaw Czerpak	(druzus/at/priv.onet.pl)
> 
> 2008-01-18 01:17 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
>   * harbour/contrib/hbzlib/zip.c
>   * harbour/contrib/hbzlib/unzip.c
>     ! fixed possible access to uninitialized memory - thanks to Lorenzo
> 
>   * harbour/contrib/hbzlib/hbzlib.c
>     * fixed casting - thanks to Andi
> 
>   * harbour/contrib/hbzlib/hbmzip.c
>     * use hb_fsGetOsHandle() instead of LongToHandle() - code which
>       uses hb_fsGetOsHandle() will work also with our own virtual
>       handles if we add such extensions in the future
> 
>   * harbour/source/vm/harbinit.prg
>     ! call __SetHelpK() only when HELP() function/procedure exist
>       Clipper compatible behavior
> 
> best regards
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_________________________________________________________________
News, entertainment and everything you care about at Live.com. Get it now!
http://www.live.com/getstarted.aspx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080118/ada1d856/attachment.html
From druzus at acn.waw.pl  Fri Jan 18 00:39:38 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jan 17 19:39:43 2008
Subject: [Harbour] 2008-01-18 01:39 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801180039.m0I0dcbr007489@31-mo5-4.acn.waw.pl>

2008-01-18 01:39 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/contrib/hbzlib/hbmzip.c
    * cast result of hb_fsGetOsHandle() to expected OS handle type
      - thanks to Jorge

best regards
Przemek
From harbour.01 at syenar.hu  Fri Jan 18 01:12:16 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 17 20:12:20 2008
Subject: [Harbour] CHANGELOG: 2008-01-18 02:11 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c8596f$Blat.v2.6.2$2a666b3a$230ce0525ec@127.0.0.1>

2008-01-18 02:11 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/hbrddads/make_b32.bat
   * contrib/hbrddads/make_vc.bat
     ! Fixed typo in a label.
       (Thanks to Eduardo Horbino)
--
Brgds,
Viktor

From dmacias at mail.udg.mx  Fri Jan 18 03:00:33 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Jan 17 22:00:30 2008
Subject: [Harbour] HB_LONG_LONG_OFF in OS/2
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <47901651.7010300@mail.udg.mx>

 > 2008-01-15 10:31 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
 >  * harbour/include/hbdefs.h
 >    ! do not define [U]LONGLONG when HB_DONT_DEFINE_BASIC_TYPES macro
 >      is set

Przemek, Maurilio, thanks

Harbour build (just with one known warning) and run fine under eCS, now 
with "long long" support

Any small sample to compare results with and without "long long" ? What 
can I expect as different ? (yes, numerical precision)
I want "to certify" it is working

David Macias


From dmacias at mail.udg.mx  Fri Jan 18 03:07:01 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Thu Jan 17 22:06:57 2008
Subject: [Harbour] hbzlib in OS/2
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <479017D5.2060905@mail.udg.mx>

 >2008-01-17 16:50 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
 >  * harbour/contrib/hbzlib/ioapi.c
...

HbzLib will build/work under OS/2 too or requires something (libraries, 
dlls, ...) ?

David Macias


From mbelgrano at deltain.it  Fri Jan 18 10:35:24 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jan 18 05:35:37 2008
Subject: [Harbour] Using and create a .NET-control
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E82F@SRV02.deltain.net>

Will possible something like this is harbour?


Massimo Belgrano

--------------------------------------------------------
Hello Olaf870" _RemoveThis_Olaf870 (at) yahoo.de,
Hi all,
here is the link:

http://www.combifinanz.de/tools/ -> Using .NET in Xbase-Dialogs 
(C#/.Net-sample with sources).

The sample shows how to create a .NET-control, which you can run embedded in 
a Xbasepart via <XbpActiveXControl():new( :drawingArea, , aPos, aSize )>. 
There are two prg-samples:One is Xbase-pure and one works with Express++ 
(Roger Donnay). With the shown technique it is possible to integrate 
.NET-assemlies as full integrated parts of Xbase-apps.

regards
Olaf870
> I now suceed to build C#/.NET-Controls which can be included with
> XbpActiveXControl():new( :drawingArea, , aPos, aSize )
> In difference to controls created with "createObject()" this kind of
> controls are able to run "embedded" in a Xbase-Part, but can be called
> with
> createobject() too. Of course I can pass parameters and retrieve
> values from
> this .NET-control too. Like this I am able to use and to merge the
> whole
> .NET-world (especially Windows Forms too) as a full (visually)
> integrated
> part of any Xbaseprogram and this without the need of any
> commercial tool
> or lib.
> If this technique is of any interest, I can post here a little sample.
> regards

>>I assume you are exporting back to COM using the .NET COM Interop capability. 
>> I have done this for a traditional ASP application that needed access to 
>>some .NET library code.  It works fine, but does have some extra marshalling 
>>overheads.
>>Not to be critical, but just to ponder a question:
>>Since basic Visual Studio is available for free and can be used for commercial 
>>development, at what point does it make sense to just develop in VS rather 
>>than creating mixed applications such as Xbase with .NET.
>>IMO, the 'lightweight application' benefit of Xbase is lost as the application 
>>develops dependencies on large scale systems such as .NET.  Of course, lightweight 
>>apps may not be a criteria that you care about.
>>Regards,
>>Rodd Graham, Consultant
>>Grham Automation Systems, LLC

>>>Hi Rodd,

>>>to integrate visual .NET-Controls in the Xbase?programs can make sense. One 
>>>advantage can be that we are able now to use the "easy going" 
>>>VS-Formdesigner with all its features (grids, panels, anchors etc.) to 
>>>produce the user interfaces for our Xbase++-programs. With this technique we 
>>>too can do , e.g.
>>>- redesign the user interface without recompilation
>>>- enable customers to "customize" his Xbase++program which he bought from us
>>>Concerning some problems, a solution with CS can be more easy than with 
>>>Xbase++ . There can be some situations too, where a pure Xbase++ solution 
>>>works perhaps a little slow (I think at Automation, but I did not test until 
>>>now, if there is a speed-difference). I like especially the huge amount of 
>>>shared CS sources, which are posted in CS-newsgroups for many problems. 
>>>Xbase-programmers now easy can profit from it.
>>>Perhaps we will find some other usecases more, if we got a little experience 
>>>with this new technique.
>>>>regards
>>>Olaf870


From druzus at acn.waw.pl  Fri Jan 18 11:43:19 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jan 18 06:43:25 2008
Subject: [Harbour] HB_LONG_LONG_OFF in OS/2
In-Reply-To: <47901651.7010300@mail.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<47901651.7010300@mail.udg.mx>
Message-ID: <20080118114319.GA7637@localhost.localdomain>

On Thu, 17 Jan 2008, David Arturo Macias Corona wrote:
> Harbour build (just with one known warning) and run fine under eCS, now 
> with "long long" support
> Any small sample to compare results with and without "long long" ? What 
> can I expect as different ? (yes, numerical precision)
> I want "to certify" it is working

When HB_LONG_LONG_OFF was set then in nearly all places where it was
used I was emulating big numbers using double values so numerical
precission will be only one visible difference with some exceptions
when you reach some limits, f.e. LASTREC() with DBF with more then
2GB records returns negative value with HB_LONG_LONG_OFF.
This is very simple code to check if it works:

    proc main()
    ? 1234567890123456789
    return

Without HB_LONG_LONG_OFF this number is stored as double value
rounded to 53 bits precision and presented as:
    1234567890123457000

best regards,
Przemek
From druzus at acn.waw.pl  Fri Jan 18 11:45:45 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jan 18 06:45:50 2008
Subject: [Harbour] hbzlib in OS/2
In-Reply-To: <479017D5.2060905@mail.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<479017D5.2060905@mail.udg.mx>
Message-ID: <20080118114545.GB7637@localhost.localdomain>

On Thu, 17 Jan 2008, David Arturo Macias Corona wrote:
> HbzLib will build/work under OS/2 too or requires something (libraries, 
> dlls, ...) ?

Yes, but if you want to use it with your application then you will
have to link your code with ZLIB library compiled for OS2. It's
very popular library so you should be able to find it. If you are
using gcc and you have libz.a then -lz linker switch should enough.

best regards,
Przemek
From dmacias at mail.udg.mx  Sat Jan 19 00:35:02 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Jan 18 19:34:57 2008
Subject: [Harbour] Re: HB_LONG_LONG_OFF in OS/2
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <479145B6.3070107@mail.udg.mx>

 > When HB_LONG_LONG_OFF was set then in nearly all places where it was
 > used I was emulating big numbers using double values so numerical
 > precission will be only one visible difference with some exceptions
 > when you reach some limits, f.e. LASTREC() with DBF with more then
 > 2GB records returns negative value with HB_LONG_LONG_OFF.
 > This is very simple code to check if it works:

 >     proc main()
 >     ? 1234567890123456789
 >     return

 > Without HB_LONG_LONG_OFF this number is stored as double value
       ***
 > rounded to 53 bits precision and presented as:
 >     1234567890123457000
                       ***


Sorry, with or without ? I got inverse


I get:

With HB_LONG_LONG_OFF:
( set C_USR=-DHB_LONG_LONG_OFF )

[E:\harbour801\bin]hbrun.exe test.prg

  1234567890123457000


Without HB_LONG_LONG_OFF:
( Rem  set C_USR=-DHB_LONG_LONG_OFF )

[E:\harbour801\bin]hbrun.exe test.prg

  1234567890123456789

David Macias



From dmacias at mail.udg.mx  Sat Jan 19 00:45:33 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Jan 18 19:45:28 2008
Subject: [Harbour] Re: hbzlib in OS/2
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <4791482D.4040305@mail.udg.mx>

 >Yes, but if you want to use it with your application then you will
 >have to link your code with ZLIB library compiled for OS2. It's
 >very popular library so you should be able to find it. If you are
 >using gcc and you have libz.a then -lz linker switch should enough.

In Hobbes I found zlib-1.2.3.zip for OS/2 containing:
-----------------------------------
18/12/05 10:45p         9,614      0 a---  z.a
18/12/05 10:45p        69,683      0 a---  z.dll
18/12/05 10:45p        67,936      0 a---  z_s.a
-----------------------------------

Building Harbour results in known warnings:
-----------------------------------
[E:\harbour801]make -r           1>make_gnu.log
../../gtstd.c: In function `hb_gt_std_ReadKey':
../../gtstd.c:367: warning: unused variable `TODO'
../../hbmzip.c: In function `hb_zipStoreFile':
../../hbmzip.c:545: warning: unused variable `TODO'
../../hbmzip.c: In function `hb_unzipExtractCurrentFile':
../../hbmzip.c:756: warning: unused variable `TODO'
-----------------------------------


Using z.a, z.dll and creating/testing myzip.prg, myunzip.prg samples:

-----------------------------------
[E:\harbour801\bin]myzip.exe testzip test.prg

Archive file: testzip.zip
Adding test.prg
[E:\harbour801\bin]myunzip.exe testzip test.prg

Archive file: testzip.zip

Filename                         Date     Time          Size Compressed 
  Action
--------------------------------------------------------------------------------
-
test.prg                         /  /   00:00:00         46         40 
Extractin
g
[E:\harbour801\bin]unzip -l testzip
Archive:  testzip.zip
   Length     EAs   ACLs    Date   Time    Name
  --------    ---   ----    ----   ----    ----
        46      0      0  00-01-80 00:00   test.prg
  --------  -----  -----                   -------
        46      0      0                   1 file
-----------------------------------


Date/time are not set, or should be fixed ?


David Macias



From druzus at acn.waw.pl  Sat Jan 19 11:00:36 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Sat Jan 19 06:00:46 2008
Subject: [Harbour] Re: HB_LONG_LONG_OFF in OS/2
In-Reply-To: <479145B6.3070107@mail.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<479145B6.3070107@mail.udg.mx>
Message-ID: <20080119110036.GA6731@localhost.localdomain>

On Fri, 18 Jan 2008, David Arturo Macias Corona wrote:
> > Without HB_LONG_LONG_OFF this number is stored as double value
> > rounded to 53 bits precision and presented as:
> Sorry, with or without ? I got inverse

Sorry, typo. Of course _with_.

best regards,
Przemek
From mhsabado at gmail.com  Sun Jan 20 23:48:37 2008
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Sun Jan 20 18:48:55 2008
Subject: [Harbour] *CRC32() Function
Message-ID: <4793DDD5.8050101@gmail.com>

Hi,

What library do I need to link for the above function?

TIA,
Mario

From niki at synel.co.il  Mon Jan 21 01:03:11 2008
From: niki at synel.co.il (Chen Kedem)
Date: Mon Jan 21 01:02:45 2008
Subject: [Harbour] *CRC32() Function
Message-ID: <4794359F.1E4A@synel.co.il>

Mario,

> What library do I need to link for the above function?

The function name is HB_CRC32() and it is included in rtl.lib
(source is source/rtl/hbcrc.c)

  Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From guy.roussin at teledetection.fr  Mon Jan 21 03:26:31 2008
From: guy.roussin at teledetection.fr (Guy Roussin)
Date: Mon Jan 21 03:26:36 2008
Subject: [Harbour] Re: HB_LONG_LONG_OFF in OS/2
In-Reply-To: <479145B6.3070107@mail.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<479145B6.3070107@mail.udg.mx>
Message-ID: <47945737.3050501@teledetection.fr>

Hi,

With this code :
#!/usr/local/bin/hbrun
proc main()
? 1234567890123456789
? 12345678901234567890
return

i get these results (linux debian):
  1234567890123456789
  12345678901234570000

strange no ?

Guy

David Arturo Macias Corona a ?crit :
>  > When HB_LONG_LONG_OFF was set then in nearly all places where it was
>  > used I was emulating big numbers using double values so numerical
>  > precission will be only one visible difference with some exceptions
>  > when you reach some limits, f.e. LASTREC() with DBF with more then
>  > 2GB records returns negative value with HB_LONG_LONG_OFF.
>  > This is very simple code to check if it works:
> 
>  >     proc main()
>  >     ? 1234567890123456789
>  >     return
> 
>  > Without HB_LONG_LONG_OFF this number is stored as double value
>       ***
>  > rounded to 53 bits precision and presented as:
>  >     1234567890123457000
>                       ***
> 
> 
> Sorry, with or without ? I got inverse
> 
> 
> I get:
> 
> With HB_LONG_LONG_OFF:
> ( set C_USR=-DHB_LONG_LONG_OFF )
> 
> [E:\harbour801\bin]hbrun.exe test.prg
> 
>  1234567890123457000
> 
> 
> Without HB_LONG_LONG_OFF:
> ( Rem  set C_USR=-DHB_LONG_LONG_OFF )
> 
> [E:\harbour801\bin]hbrun.exe test.prg
> 
>  1234567890123456789
> 
> David Macias
> 
> 
From druzus at acn.waw.pl  Mon Jan 21 06:21:41 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Mon Jan 21 06:21:46 2008
Subject: [Harbour] Re: HB_LONG_LONG_OFF in OS/2
In-Reply-To: <47945737.3050501@teledetection.fr>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
	<479145B6.3070107@mail.udg.mx> <47945737.3050501@teledetection.fr>
Message-ID: <20080121112141.GA6505@localhost.localdomain>

On Mon, 21 Jan 2008, Guy Roussin wrote:
> Hi,
> With this code :
> #!/usr/local/bin/hbrun
> proc main()
> ? 1234567890123456789
> ? 12345678901234567890
> return
> i get these results (linux debian):
>  1234567890123456789
>  12345678901234570000
> strange no ?

No, expected. 12345678901234567890 is too big to store in 64bit
signed integer and double value has to be used with smaller
(53bits only) precission.

best regards,
Przemek
From mhsabado at gmail.com  Mon Jan 21 16:57:30 2008
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Mon Jan 21 16:57:50 2008
Subject: [Harbour] *CRC32() Function
In-Reply-To: <4794d29b.2b09360a.6ade.2aa8SMTPIN_ADDED@mx.google.com>
References: <4794d29b.2b09360a.6ade.2aa8SMTPIN_ADDED@mx.google.com>
Message-ID: <4795154A.6030603@gmail.com>

Hi Chen,

I tried compiling the myzip.prg from contrib\hbzlib and I got the 
following Unresolved external:
'_get_crc_table'
'_crc32'

What am I missing?

Thanks,
Mario

From jorgeagiraldo at hotmail.com  Mon Jan 21 17:20:36 2008
From: jorgeagiraldo at hotmail.com (Jorge A. Giraldo)
Date: Mon Jan 21 17:20:44 2008
Subject: [Harbour] *CRC32() Function
In-Reply-To: <4795154A.6030603@gmail.com>
References: <4794d29b.2b09360a.6ade.2aa8SMTPIN_ADDED@mx.google.com>
	<4795154A.6030603@gmail.com>
Message-ID: <BAY136-W85408039533EA3F92F38EA13D0@phx.gbl>


Mario,

Perhaps you are linking hrb.lib, the same happened to me, until I saw the readme.txt:

"zlib library (http://www.zlib.net/) wrapper functions"

I downloaded zlib1.dll

Made an:

implib zlib1.lib zlib1.dll 
 
This solved the problem.

Jorge A.

> Date: Tue, 22 Jan 2008 05:57:30 +0800
> From: mhsabado@gmail.com
> To: harbour@harbour-project.org
> Subject: Re: [Harbour] *CRC32() Function
> 
> Hi Chen,
> 
> I tried compiling the myzip.prg from contrib\hbzlib and I got the 
> following Unresolved external:
> '_get_crc_table'
> '_crc32'
> 
> What am I missing?
> 
> Thanks,
> Mario
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_________________________________________________________________
Connect to the next generation of MSN Messenger?
http://imagine-msn.com/messenger/launch80/default.aspx?locale=en-us&source=wlmailtagline
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080121/a0c371ae/attachment.html
From sscc at mweb.co.za  Tue Jan 22 03:21:45 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Jan 22 03:21:57 2008
Subject: [Harbour] Compiling contrib libraries
Message-ID: <4795A799.7090005@mweb.co.za>

Hi all

With a SVN version from yesterday, I got these problems when trying to 
compile the contrib libraries (with MSVC 6). I am at a bit of a loss 
as line 98 is blank as far as I can see. I have *not* set any 
environment variables besides those for VC.

C:\sourceforge\harbour\contrib>make_vc_all
Entering: hbrddado

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
Entering: hbbmcdx

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
Entering: hbbtree

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
Entering: hbgtwvg

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
Entering: hbct

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
Entering: hbgt

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
Entering: hbmisc

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
Entering: hbnf

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
Entering: hbmsql

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
Entering: hbole

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
Entering: hbziparch

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
Entering: hbodbc

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
'sed' is not recognized as an internal or external command,
operable program or batch file.
Microsoft (R) Library Manager Version 6.00.8447
Copyright (C) Microsoft Corp 1992-1998. All rights reserved.

_temp.def : warning LNK4093: Drive/Directory component ignored in 
"LIBRARY" stat
ement
    Creating library ..\..\lib\vc\odbc32.lib and object 
..\..\lib\vc\odbc32.exp
Entering: hbtpathy

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
Entering: hbtip

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
Entering: hbw32

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
Entering: hbzlib

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
Entering: xhb

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
Entering: hbclipsm

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.
Entering: hbw32ddr

Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
Copyright (C) Microsoft Corp 1988-1998. All rights reserved.

..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
Stop.

Regards
Alex
From mpaliwoda at interia.pl  Tue Jan 22 05:04:27 2008
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Tue Jan 22 05:04:34 2008
Subject: [Harbour] Re: Compiling contrib libraries
In-Reply-To: <4795A799.7090005@mweb.co.za>
References: <4795A799.7090005@mweb.co.za>
Message-ID: <fn4f30$489$1@ger.gmane.org>

Hi Alex,

> With a SVN version from yesterday, I got these problems when trying to 
> compile the contrib libraries (with MSVC 6). I am at a bit of a loss as 
> line 98 is blank as far as I can see. I have *not* set any environment 
> variables besides those for VC.
> 
> C:\sourceforge\harbour\contrib>make_vc_all
> Entering: hbrddado
> 
> Microsoft (R) Program Maintenance Utility   Version 6.00.8168.0
> Copyright (C) Microsoft Corp 1988-1998. All rights reserved.
> 
> ..\mtpl_vc.mak(98) : fatal error U1023: syntax error in expression
> Stop.
...

Make sure your HB_VISUALC_VER definition
looks exactly like the line below :
    set HB_VISUALC_VER=60

Do not set it to something similar to :
    set HB_VISUALC_VER=6.0

-- 

Marek

From sscc at mweb.co.za  Tue Jan 22 05:26:09 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Jan 22 05:26:16 2008
Subject: [Harbour] Re: Compiling contrib libraries
In-Reply-To: <fn4f30$489$1@ger.gmane.org>
References: <4795A799.7090005@mweb.co.za> <fn4f30$489$1@ger.gmane.org>
Message-ID: <4795C4C1.6070001@mweb.co.za>

Marek Paliwoda wrote:

> Make sure your HB_VISUALC_VER definition
> looks exactly like the line below :
>    set HB_VISUALC_VER=60
> 
> Do not set it to something similar to :
>    set HB_VISUALC_VER=6.0

Thank you, that did it. Congratulations to you and Victor for whipping 
the make files into shape.

Regards
Alex



From sscc at mweb.co.za  Tue Jan 22 05:28:57 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Tue Jan 22 05:29:02 2008
Subject: [Harbour] Compiling contrib libraries
In-Reply-To: <4795A799.7090005@mweb.co.za>
References: <4795A799.7090005@mweb.co.za>
Message-ID: <4795C569.1050908@mweb.co.za>

Hi all

FYI building contrib libraries (MSVC 6) fails on direct draw (hbw32ddr):

	cl.exe -c -I..\..\include -Ogt2yb1p -GX- -G6 -YX -FD -Gs -W3 -nologo 
-D__WINDOWS__ -DWIN32 -D__WIN32__    -Fo..\..\obj\vc\ .\w32_ddrw.cpp
w32_ddrw.cpp
.\w32_ddrw.h(61) : error C2065: 'IDirectDrawSurface4' : undeclared 
identifier
.\w32_ddrw.h(61) : error C2065: 'pdds' : undeclared identifier
.\w32_ddrw.h(61) : error C2275: 'HBITMAP' : illegal use of this type 
as an expression
         C:\PROGRA~1\MIFD68~1\INCLUDE\windef.h(241) : see declaration 
of 'HBITMAP'
.\w32_ddrw.h(61) : error C2146: syntax error : missing ')' before 
identifier 'hbm'
.\w32_ddrw.h(61) : error C2078: too many initializers
.\w32_ddrw.h(61) : error C2275: 'HBITMAP' : illegal use of this type 
as an expression
         C:\PROGRA~1\MIFD68~1\INCLUDE\windef.h(241) : see declaration 
of 'HBITMAP'
.\w32_ddrw.h(61) : error C2059: syntax error : ')'
.\w32_ddrw.h(63) : error C2275: 'COLORREF' : illegal use of this type 
as an expression
         C:\PROGRA~1\MIFD68~1\INCLUDE\windef.h(290) : see declaration 
of 'COLORREF'
.\w32_ddrw.h(63) : error C2146: syntax error : missing ')' before 
identifier 'rgb'
.\w32_ddrw.h(63) : error C2078: too many initializers
.\w32_ddrw.h(63) : error C2275: 'COLORREF' : illegal use of this type 
as an expression
         C:\PROGRA~1\MIFD68~1\INCLUDE\windef.h(290) : see declaration 
of 'COLORREF'
.\w32_ddrw.h(63) : error C2059: syntax error : ')'
.\w32_ddrw.cpp(42) : error C2146: syntax error : missing ';' before 
identifier 'hb_dd_g_pDD'
.\w32_ddrw.cpp(42) : error C2501: 'LPDIRECTDRAW4' : missing 
storage-class or type specifiers
.\w32_ddrw.cpp(42) : fatal error C1004: unexpected end of file found


Regards
Alex

From lorenzo.fiorini at gmail.com  Tue Jan 22 09:20:55 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Tue Jan 22 09:27:20 2008
Subject: [Harbour] gt windowclose trapping
Message-ID: <9257026e0801220620p5d14cbfer7028e21fb36bda1@mail.gmail.com>

Users use the upper right X to close apps.

To avoid it under X I've always comment out:

/*
         if( ( Atom ) evt->xclient.data.l[ 0 ] == s_atomDelWin )
         {
            hb_vmRequestQuit();
         }
         break;
*/

but the same can happens in other gts.

What about adding sth like GTI_WINDOWCLOSE value to control it?

Even better would be a callback to a user prg function that can return T/F?

best regards,
Lorenzo
From harbour.01 at syenar.hu  Tue Jan 22 09:36:42 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jan 22 09:36:34 2008
Subject: [Harbour] gt windowclose trapping
In-Reply-To: <9257026e0801220620p5d14cbfer7028e21fb36bda1@mail.gmail.com>
References: <9257026e0801220620p5d14cbfer7028e21fb36bda1@mail.gmail.com>
Message-ID: <E55B6C8F-3C5C-4649-95DD-71EE2A51517F@syenar.hu>

You have my vote.

Brgds,
Viktor

On 2008.01.22., at 15:20, Lorenzo Fiorini wrote:

> Users use the upper right X to close apps.
>
> To avoid it under X I've always comment out:
>
> /*
>         if( ( Atom ) evt->xclient.data.l[ 0 ] == s_atomDelWin )
>         {
>            hb_vmRequestQuit();
>         }
>         break;
> */
>
> but the same can happens in other gts.
>
> What about adding sth like GTI_WINDOWCLOSE value to control it?
>
> Even better would be a callback to a user prg function that can  
> return T/F?
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From bedipritpal at hotmail.com  Tue Jan 22 11:49:27 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Jan 22 11:49:31 2008
Subject: [Harbour] gt windowclose trapping
In-Reply-To: <9257026e0801220620p5d14cbfer7028e21fb36bda1@mail.gmail.com>
References: <9257026e0801220620p5d14cbfer7028e21fb36bda1@mail.gmail.com>
Message-ID: <15023041.post@talk.nabble.com>


Lorenzo

<<<<
What about adding sth like GTI_WINDOWCLOSE value to control it?

Even better would be a callback to a user prg function that can return T/F?
>>>>

I am all set to introduce callbacks on core GT for every possible event.
Waiting for release freeze.

Regards
Pritpal Bedi, INDIA-USA
-- 
View this message in context: http://www.nabble.com/gt-windowclose-trapping-tp15019861p15023041.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From bedipritpal at hotmail.com  Tue Jan 22 17:58:59 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Tue Jan 22 17:59:15 2008
Subject: [Harbour] Tbrowse and Teditor.prg - GT commands isolation
Message-ID: <15030800.post@talk.nabble.com>


Hello Viktor

I want to introduce methods corresponding to GT commands in Tbrowse and
Teditor. Like:

METHOD SetColor( cColor ) CLASS Tbrowse/Teditor
METHOD DispOutAt( r,c,x,c ) CLASS Tbrowse/Teditor
etc

and then calls to these functions routed to above methods. This will allow
to integrate these calsses with multi-window GT (with entirely new api and
command set ) by INHERITing from Tbrowse/TEditor and just redefining GT
methods in new class pointing to new api.

As these changes do not raise any incompatibility issue, should I do it
right now or wait for the freeze release ?

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/Tbrowse-and-Teditor.prg---GT-commands-isolation-tp15030800p15030800.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From mhsabado at gmail.com  Tue Jan 22 18:08:13 2008
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Tue Jan 22 18:09:34 2008
Subject: [Harbour] Re: Harbour Digest, Vol 15, Issue 43
In-Reply-To: <479620d5.0a0c360a.6596.6b51SMTPIN_ADDED@mx.google.com>
References: <479620d5.0a0c360a.6596.6b51SMTPIN_ADDED@mx.google.com>
Message-ID: <4796775D.5020800@gmail.com>


> ----------------------------------------------------------------------
>
> Message: 1
> Date: Tue, 22 Jan 2008 05:57:30 +0800
> From: "Mario H. Sabado" <mhsabado@gmail.com>
> Subject: Re: [Harbour] *CRC32() Function
> To: harbour@harbour-project.org
> Message-ID: <4795154A.6030603@gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1; format=flowed
>
> Hi Chen,
>
> I tried compiling the myzip.prg from contrib\hbzlib and I got the 
> following Unresolved external:
> '_get_crc_table'
> '_crc32'
>
> What am I missing?
>
> Thanks,
> Mario
>
>
>
> ------------------------------
>
> Message: 2
> Date: Mon, 21 Jan 2008 22:20:36 +0000
> From: "Jorge A. Giraldo" <jorgeagiraldo@hotmail.com>
> Subject: RE: [Harbour] *CRC32() Function
> To: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Message-ID: <BAY136-W85408039533EA3F92F38EA13D0@phx.gbl>
> Content-Type: text/plain; charset="iso-8859-1"
>
>
> Mario,
>
> Perhaps you are linking hrb.lib, the same happened to me, until I saw the readme.txt:
>
> "zlib library (http://www.zlib.net/) wrapper functions"
>
> I downloaded zlib1.dll
>
> Made an:
>
> implib zlib1.lib zlib1.dll 
>  
> This solved the problem.
>
> Jorge A.
>
>   
Hi Jorge,

I already did the implib and included the generated zlib1.lib and copied 
the zlib1.dll to tests folder but I got the same error.
Anything else I could try?

TIA,
Mario

From harbour.01 at syenar.hu  Tue Jan 22 18:32:08 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Tue Jan 22 18:32:09 2008
Subject: [Harbour] Tbrowse and Teditor.prg - GT commands isolation
In-Reply-To: <15030800.post@talk.nabble.com>
References: <15030800.post@talk.nabble.com>
Message-ID: <B8ECA34D-C18A-4526-B4CE-19E3AC1B0F82@syenar.hu>

Hi Pritpal,

On 2008.01.22., at 23:58, Pritpal Bedi wrote:

>
> Hello Viktor
>
> I want to introduce methods corresponding to GT commands in Tbrowse  
> and
> Teditor. Like:
>
> METHOD SetColor( cColor ) CLASS Tbrowse/Teditor
> METHOD DispOutAt( r,c,x,c ) CLASS Tbrowse/Teditor
> etc
>
> and then calls to these functions routed to above methods. This will  
> allow
> to integrate these calsses with multi-window GT (with entirely new  
> api and
> command set ) by INHERITing from Tbrowse/TEditor and just redefining  
> GT
> methods in new class pointing to new api.
>
> As these changes do not raise any incompatibility issue, should I do  
> it
> right now or wait for the freeze release ?

These do rise compatibility issues, because these are incompatible
extensions to a legacy class.

Moreover, these will quite noticeably slow down these classes.
(if you mean to replace all SetColor()/DispOutAt() calls to
::SetColor()/::DispOutAt() calls inside the class.) This will
penalize everybody while giving benefit only for those who
want to redefine these classes for multi-window usage.

I'm not sure how to resolve these problems, but we definitely
need to give it some more thought, before touching it, IMO,
and this is definitely something to do after a release, and
after having the "multi-window" GT API and Harbour level API
in place. This way a possible solution could be to add
a window ID as a protected object var to TBrowse()/TEditor(),
and internally use the "extended" GT functions (hb_wnd*() or
whatever name we finally settle upon). This window ID would
be initialized on object creation with the default window at
that time.

"worst" case, for those who need this functionality _now_,
the whole class can be locally redefined with all the extra
features.

Brgds,
Viktor

From jorgeagiraldo at hotmail.com  Tue Jan 22 19:18:22 2008
From: jorgeagiraldo at hotmail.com (Jorge A. Giraldo)
Date: Tue Jan 22 19:18:27 2008
Subject: [Harbour] Re: Harbour Digest, Vol 15, Issue 43
In-Reply-To: <4796775D.5020800@gmail.com>
References: <479620d5.0a0c360a.6596.6b51SMTPIN_ADDED@mx.google.com>
	<4796775D.5020800@gmail.com>
Message-ID: <BAY136-W22FEAE2DE77F5E807316D5A13F0@phx.gbl>


Mario,

How could you get only two undefined functions from the set?  It sounds to me that you are still linking xhb.lib or any other lib that contains the declared functions except the two we are looking for... would you check it out please?

Without it you should get:

Error: Unresolved external '_deflateInit2_' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|zip
Error: Unresolved external '_get_crc_table' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|zip
Error: Unresolved external '_crc32' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|zip
Error: Unresolved external '_deflate' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|zip
Error: Unresolved external '_deflateEnd' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|zip
Error: Unresolved external '_inflateInit2_' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|unzip
Error: Unresolved external '_inflate' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|unzip
Error: Unresolved external '_inflateEnd' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|unzip

If you make an impdef zlib1 zlib1
edit zlib1.def

You could see all the functions declared in the dll

Regards,

Jorge A.

> Date: Wed, 23 Jan 2008 07:08:13 +0800
> From: mhsabado@gmail.com
> To: harbour@harbour-project.org
> Subject: [Harbour] Re: Harbour Digest, Vol 15, Issue 43
> 
> 
> > ----------------------------------------------------------------------
> >
> > Message: 1
> > Date: Tue, 22 Jan 2008 05:57:30 +0800
> > From: "Mario H. Sabado" <mhsabado@gmail.com>
> > Subject: Re: [Harbour] *CRC32() Function
> > To: harbour@harbour-project.org
> > Message-ID: <4795154A.6030603@gmail.com>
> > Content-Type: text/plain; charset=ISO-8859-1; format=flowed
> >
> > Hi Chen,
> >
> > I tried compiling the myzip.prg from contrib\hbzlib and I got the 
> > following Unresolved external:
> > '_get_crc_table'
> > '_crc32'
> >
> > What am I missing?
> >
> > Thanks,
> > Mario
> >
> >
> >
> > ------------------------------
> >
> > Message: 2
> > Date: Mon, 21 Jan 2008 22:20:36 +0000
> > From: "Jorge A. Giraldo" <jorgeagiraldo@hotmail.com>
> > Subject: RE: [Harbour] *CRC32() Function
> > To: Harbour Project Main Developer List. <harbour@harbour-project.org>
> > Message-ID: <BAY136-W85408039533EA3F92F38EA13D0@phx.gbl>
> > Content-Type: text/plain; charset="iso-8859-1"
> >
> >
> > Mario,
> >
> > Perhaps you are linking hrb.lib, the same happened to me, until I saw the readme.txt:
> >
> > "zlib library (http://www.zlib.net/) wrapper functions"
> >
> > I downloaded zlib1.dll
> >
> > Made an:
> >
> > implib zlib1.lib zlib1.dll 
> >  
> > This solved the problem.
> >
> > Jorge A.
> >
> >   
> Hi Jorge,
> 
> I already did the implib and included the generated zlib1.lib and copied 
> the zlib1.dll to tests folder but I got the same error.
> Anything else I could try?
> 
> TIA,
> Mario
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_________________________________________________________________
Discover the new Windows Vista
http://search.msn.com/results.aspx?q=windows+vista&mkt=en-US&form=QBRE
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080123/86e6251c/attachment.html
From druzus at acn.waw.pl  Tue Jan 22 20:24:49 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Tue Jan 22 20:24:54 2008
Subject: [Harbour] 2008-01-23 02:24 UTC+0100 Przemyslaw Czerpak
	(druzus/at/priv.onet.pl)
Message-ID: <200801230124.m0N1OnRq005459@31-mo5-4.acn.waw.pl>

2008-01-23 02:24 UTC+0100 Przemyslaw Czerpak (druzus/at/priv.onet.pl)
  * harbour/include/hbrddntx.h
    ! fixed type of Signature field in tag structure

  * harbour/source/rdd/dbfntx/dbfntx1.c
    ! fixed possible leaving locked index when number of tags
      exceed 63. 63 is maximum number of tags in multi tag NTX
      file
    ! fixed typo in HB_TRACE message
    % simplify NTXNODE data access in RDDINFO method

  * harbour/source/rdd/dbfcdx/dbfcdx1.c
    * formatting, some minor cleanup and fixed typo in comment

best regards
Przemek
From alex at belacy.belgorod.su  Wed Jan 23 01:56:31 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Wed Jan 23 01:56:42 2008
Subject: [Harbour] Licence question
Message-ID: <4796E51F.7080702@belacy.belgorod.su>

Hi All,

  I do some work, which I plan to upload to Sourceforge as a new project 
with the same licence as Harbour.
  It includes, among other things, code from hbinet.c and net.c - I was 
need to rework them for purposes of my project.
Does the licence allow me to include that code to other files with 
Harbour licence ? Must I designate Giancarlo Niccolai, Ron Pinkas, 
Marcelo Lombardo, Przemyslaw Czerpak, Viktor Szakats, Luiz Rafael Culik 
as copyright holders in the new files or it is enough to mention them as 
original authors ?

  Regards,
   Alexander
   http://kresin.belgorod.su
From philb at philb.us  Wed Jan 23 02:02:56 2008
From: philb at philb.us (Phil Barnett)
Date: Wed Jan 23 02:03:00 2008
Subject: [Harbour] Licence question
In-Reply-To: <4796E51F.7080702@belacy.belgorod.su>
References: <4796E51F.7080702@belacy.belgorod.su>
Message-ID: <200801230202.56328.philb@philb.us>

On Wednesday 23 January 2008 01:56:31 am Alexander S.Kresin wrote:
> Hi All,
>
>   I do some work, which I plan to upload to Sourceforge as a new project
> with the same licence as Harbour.
>   It includes, among other things, code from hbinet.c and net.c - I was
> need to rework them for purposes of my project.
> Does the licence allow me to include that code to other files with
> Harbour licence ? Must I designate Giancarlo Niccolai, Ron Pinkas,
> Marcelo Lombardo, Przemyslaw Czerpak, Viktor Szakats, Luiz Rafael Culik
> as copyright holders in the new files or it is enough to mention them as
> original authors ?

You cannot remove their copyright from the files.
From alex at belacy.belgorod.su  Wed Jan 23 02:28:54 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Wed Jan 23 02:29:04 2008
Subject: [Harbour] Licence question
In-Reply-To: <200801230202.56328.philb@philb.us>
References: <4796E51F.7080702@belacy.belgorod.su>
	<200801230202.56328.philb@philb.us>
Message-ID: <4796ECB6.4080205@belacy.belgorod.su>

Phil Barnett ?????:
> On Wednesday 23 January 2008 01:56:31 am Alexander S.Kresin wrote:
>> Hi All,
>>
>>   I do some work, which I plan to upload to Sourceforge as a new project
>> with the same licence as Harbour.
>>   It includes, among other things, code from hbinet.c and net.c - I was
>> need to rework them for purposes of my project.
>> Does the licence allow me to include that code to other files with
>> Harbour licence ? Must I designate Giancarlo Niccolai, Ron Pinkas,
>> Marcelo Lombardo, Przemyslaw Czerpak, Viktor Szakats, Luiz Rafael Culik
>> as copyright holders in the new files or it is enough to mention them as
>> original authors ?
> 
> You cannot remove their copyright from the files.

  Just to be clear: I don't want to infringe their interests in any way :).
  If I include those files with my modifications in a new project - then 
the answer is clear - as yours.
  But I want to use parts of that code in other files.
  Just for example:

  I need to include to my file aaa.c a function netname() from net.c, 
modified in such a way that it can be call from a C level - with a name 
aaa_netname(). Can I do this, or I must include the original net.c ?

  Regards,
   Alexander
From mhsabado at gmail.com  Wed Jan 23 02:54:47 2008
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Wed Jan 23 02:55:14 2008
Subject: [Harbour] *CRC32() Function
Message-ID: <4796F2C7.9080405@gmail.com>

Jorge,
> Message: 4
> Date: Wed, 23 Jan 2008 00:18:22 +0000
> From: "Jorge A. Giraldo" <jorgeagiraldo@hotmail.com>
> Subject: RE: [Harbour] Re: Harbour Digest, Vol 15, Issue 43
> To: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Message-ID: <BAY136-W22FEAE2DE77F5E807316D5A13F0@phx.gbl>
> Content-Type: text/plain; charset="iso-8859-1"
>
>
> Mario,
>
> How could you get only two undefined functions from the set?  It sounds to me that you are still linking xhb.lib or any other lib that contains the declared functions except the two we are looking for... would you check it out please?
>
> Without it you should get:
>
> Error: Unresolved external '_deflateInit2_' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|zip
> Error: Unresolved external '_get_crc_table' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|zip
> Error: Unresolved external '_crc32' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|zip
> Error: Unresolved external '_deflate' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|zip
> Error: Unresolved external '_deflateEnd' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|zip
> Error: Unresolved external '_inflateInit2_' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|unzip
> Error: Unresolved external '_inflate' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|unzip
> Error: Unresolved external '_inflateEnd' referenced from C:\HB-DEV\HARBOUR-SVN\LIB\B32\HBZLIB.LIB|unzip
>
> If you make an impdef zlib1 zlib1
> edit zlib1.def
>
> You could see all the functions declared in the dll
>
> Regards,
>
> Jorge A.
Without including the xhb.lib, i got the following error:
Any suggestion?

Error: Unresolved external '_deflateInit2_' referenced from 
D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
Error: Unresolved external '_get_crc_table' referenced from 
D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
Error: Unresolved external '_crc32' referenced from 
D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
Error: Unresolved external '_deflate' referenced from 
D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
Error: Unresolved external '_deflateEnd' referenced from 
D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
Error: Unresolved external '_inflateInit2_' referenced from 
D:\HARBOUR\B32\LIB\HBZLIB.LIB|unzip
Error: Unresolved external '_inflate' referenced from 
D:\HARBOUR\B32\LIB\HBZLIB.LIB|unzip
Error: Unresolved external '_inflateEnd' referenced from 
D:\HARBOUR\B32\LIB\HBZLIB.LIB|unzip

Thanks,
Mario

From druzus at acn.waw.pl  Wed Jan 23 04:48:20 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jan 23 04:48:25 2008
Subject: [Harbour] *CRC32() Function
In-Reply-To: <4796F2C7.9080405@gmail.com>
References: <4796F2C7.9080405@gmail.com>
Message-ID: <20080123094820.GC5164@localhost.localdomain>

On Wed, 23 Jan 2008, Mario H. Sabado wrote:
> Without including the xhb.lib, i got the following error:
> Any suggestion?
> 
> Error: Unresolved external '_deflateInit2_' referenced from 
> D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
> Error: Unresolved external '_get_crc_table' referenced from 
> D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
> Error: Unresolved external '_crc32' referenced from 
> D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
> Error: Unresolved external '_deflate' referenced from 
> D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
> Error: Unresolved external '_deflateEnd' referenced from 
> D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
> Error: Unresolved external '_inflateInit2_' referenced from 
> D:\HARBOUR\B32\LIB\HBZLIB.LIB|unzip
> Error: Unresolved external '_inflate' referenced from 
> D:\HARBOUR\B32\LIB\HBZLIB.LIB|unzip
> Error: Unresolved external '_inflateEnd' referenced from 
> D:\HARBOUR\B32\LIB\HBZLIB.LIB|unzip

Much better. Now you only need to link your code with valid ZLIB
library were these functions are defined. If it does not work
for you then the problem is inside ZLIB binaries you are using
not inside Harbour.
BTW we will have to remove this ZLIB code from XHB lib. It causes
bad side effects, f.e. conflicts with other libraries which needs
full ZLIB library. In the future we can include ZLIB code in our
SVN just like now we have PCRE which can be optionally (by one macro)
replaced by platform native regular expression library.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Jan 23 05:02:06 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jan 23 05:02:12 2008
Subject: [Harbour] Licence question
In-Reply-To: <4796ECB6.4080205@belacy.belgorod.su>
References: <4796E51F.7080702@belacy.belgorod.su>
	<200801230202.56328.philb@philb.us>
	<4796ECB6.4080205@belacy.belgorod.su>
Message-ID: <20080123100206.GD5164@localhost.localdomain>

On Wed, 23 Jan 2008, Alexander S.Kresin wrote:
>  Just to be clear: I don't want to infringe their interests in any way :).
>  If I include those files with my modifications in a new project - then 
> the answer is clear - as yours.
>  But I want to use parts of that code in other files.

So simply left in header file note that this is modified file
xxxxx from yyyyy with original copyright holders.

>  Just for example:
>  I need to include to my file aaa.c a function netname() from net.c, 
> modified in such a way that it can be call from a C level - with a name 
> aaa_netname(). Can I do this, or I must include the original net.c ?

Probably you will duplicate API which we will have in Harbour.
The C level interface to INET socket is a must. Sorry but I haven't
time to create it yet and also make some cleanup in current INET
code. Maybe it will be better to discuss it here and change hbinet.c
also adding some missing functions like wrapper to select().
Please remember that in the future we will add some other extensions
which probably will be interesting for you, f.e. online ZLIB compression.
Now it works probably only in *nixes and it's enough to make:
    CompressedSocket = HB_GZDOPEN( HB_INETFD( Socket ), "w+" ) )
on both side of connection and use CompressedSocket with HB_GZREAD()/
HB_GZWRITE()/HB_GZFLUSH() instead of HB_INET*() functions to send/receive
compressed data.
If you will duplicate HBINET cod in other project then such extension
will not work for you so I strongly suggest to invest time in updating
Harbour API. If you present what you exactly need then I can help in
this job.

best regards,
Przemek
From alex at belacy.belgorod.su  Wed Jan 23 07:00:05 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Wed Jan 23 07:00:24 2008
Subject: [Harbour] Re:  Licence question
In-Reply-To: <20080123100206.GD5164@localhost.localdomain>
References: <4796E51F.7080702@belacy.belgorod.su>	<200801230202.56328.philb@philb.us>	<4796ECB6.4080205@belacy.belgorod.su>
	<20080123100206.GD5164@localhost.localdomain>
Message-ID: <47972C45.10703@belacy.belgorod.su>

> If you will duplicate HBINET cod in other project then such extension
> will not work for you so I strongly suggest to invest time in updating
> Harbour API. If you present what you exactly need then I can help in
> this job.
> 

  I'd prefer to not duplicate hbinet.c and make all necessary 
modifications there, too. But I don't sure that all my changes will be 
suitable for others.
  I've made already all what I need now.
  First of all - C level API. Appropriate functions are rewritten, so 
the  Harbour level functions ( HB_FUNC(...) ) are wrappers over those C 
level functions. This is made, though, only for the basic functions, 
which I need - connect, accept, send, receive, select.
  Secondly, I've added functions to select from multiply sockets.
  And, finally, and this is what, probably, will not be suitable for 
others - I got rid of the HB_SOCKET_STRUCT and appropriate stuff, so the 
sockets are directly passed as parameters and returned, assuming that 
included in HB_SOCKET_STRUCT things may be moved to Harbour level, if 
needed in specific application.
  I did this to make the code less complicated, to simplify writing 
additional functions - now, due to the hb_inetSocketFinalize() and all 
related gc things I can't place new functions in other file ( see the 
hbinet.c thread ).

  The project I'm working on is a db server with appropriate rdd as a 
substitution for ADS. ADS is a perfect product, but it isn't free and it 
  is quite expensive. Besides, writing such a server specially for 
Harbour will help to avoid some problems, which ADS has ( now to solve 
them we need to invent different workarounds ). And, finally, we can 
implement some new interesting stuff - as server-side harbour level 
procedures, for example.
  I've wrote basic part already, and few my applications works perfectly 
with it ( including such a big as Personnel and Salary accounting ).

  Regards,
    Alexander.

From maurilio.longo at libero.it  Wed Jan 23 08:09:43 2008
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Jan 23 08:09:48 2008
Subject: [Harbour] Re:  Licence question
References: <4796E51F.7080702@belacy.belgorod.su>	<200801230202.56328.philb@philb.us>	<4796ECB6.4080205@belacy.belgorod.su>
	<20080123100206.GD5164@localhost.localdomain>
	<47972C45.10703@belacy.belgorod.su>
Message-ID: <47973C97.1BC9DDBC@libero.it>

Alexander,

very interesting!

Is your server using .dbf/.cdx files?

Very interesting :)

Maurilio.


"Alexander S.Kresin" ha scritto:
> 
> > If you will duplicate HBINET cod in other project then such extension
> > will not work for you so I strongly suggest to invest time in updating
> > Harbour API. If you present what you exactly need then I can help in
> > this job.
> >
> 
>   I'd prefer to not duplicate hbinet.c and make all necessary
> modifications there, too. But I don't sure that all my changes will be
> suitable for others.
>   I've made already all what I need now.
>   First of all - C level API. Appropriate functions are rewritten, so
> the  Harbour level functions ( HB_FUNC(...) ) are wrappers over those C
> level functions. This is made, though, only for the basic functions,
> which I need - connect, accept, send, receive, select.
>   Secondly, I've added functions to select from multiply sockets.
>   And, finally, and this is what, probably, will not be suitable for
> others - I got rid of the HB_SOCKET_STRUCT and appropriate stuff, so the
> sockets are directly passed as parameters and returned, assuming that
> included in HB_SOCKET_STRUCT things may be moved to Harbour level, if
> needed in specific application.
>   I did this to make the code less complicated, to simplify writing
> additional functions - now, due to the hb_inetSocketFinalize() and all
> related gc things I can't place new functions in other file ( see the
> hbinet.c thread ).
> 
>   The project I'm working on is a db server with appropriate rdd as a
> substitution for ADS. ADS is a perfect product, but it isn't free and it
>   is quite expensive. Besides, writing such a server specially for
> Harbour will help to avoid some problems, which ADS has ( now to solve
> them we need to invent different workarounds ). And, finally, we can
> implement some new interesting stuff - as server-side harbour level
> procedures, for example.
>   I've wrote basic part already, and few my applications works perfectly
> with it ( including such a big as Personnel and Salary accounting ).
> 
>   Regards,
>     Alexander.
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________                   
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.
From maurilio.longo at libero.it  Wed Jan 23 08:17:21 2008
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Wed Jan 23 08:17:25 2008
Subject: [Harbour] Experiences with sqlite?
References: <JULQXP$1DD6F33D9E21334D69960D46A6447BB3@libero.it>
	<9257026e0801131405n3b8fe0cbo83d4fffc853d8a3d@mail.gmail.com>
	<14797065.post@talk.nabble.com> <478B3443.7A88C0D0@libero.it>
	<14799521.post@talk.nabble.com> <478B7104.EEFE57E@libero.it>
	<14806830.post@talk.nabble.com> <478C918D.648FADE8@libero.it>
	<14839836.post@talk.nabble.com>
Message-ID: <47973E61.1F6C2792@libero.it>

Petr,

we (I at least :)) probably don't need binding at all! 

I was forgetting macro substitution, we can write something like:

local cSeq
private cKey := "part_name"
private cKeyValue := "tailpipe"

text into cSeq
	select * from car_parts 
	where &cKey = "&cKeyValue"
endtext

.....

and inside cSeq you have a sql statement correctly compiled!

The ugly part, here, is that I need privates or publics... but it is not such
a big issue and saves from a lot of bindings and calls to binding functions.

Best regards.

Maurilio.

Petr Chornyj ha scritto:
> 
> Maurilio Longo wrote:
> >
> >
> > I find them 'ugly' and slow to write and writing them this way forces me
> > to do
> > an explicit association between variable names and sql query sentence.
> >
> > I'd like something like this :)
> >
> > local a,b,c
> >
> > text into csql
> >     select * from @a where @c = @b
> > endtext
> >
> > bind_all( csql, a, b, c )
> >
> >
> > This way you have:
> >
> > 1) you're free to write and change your sql code on a free-form text entry
> > (easier to write, maintain and understand)
> > 2) you use .prg variable names with '@' qualifier so that your .prg code
> > and
> > your sql code are 'self documenting' and easier to follow
> > 3) bind_all() accepts a string and a variable number of parameters which
> > are
> > the .prg variables referenced with '@' inside the sql code.
> >
> > To do it this way the only problem is/could be to find a way to know that
> > the
> > 'a' variabile has name 'a' and as such has to be bound to the @a inside
> > sql
> > code.
> >
> > Variable types can be found at .c level from HB_ITEM structure so why
> > bother
> > to pass it explicitly given also that sqlite has just number and text as
> > column type?
> >
> > Best regards.
> >
> > Maurilio.
> >
> >
> > --
> >  __________
> > |  |  | |__| Maurilio Longo
> > |_|_|_|____| farmaconsult s.r.l.
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> >
> 
> Sorry, but I think it's not "low level"
> We can do it in such way on middle or hight level.
> 
> F.e.
> smtp := TSqLite3Smtp:New( db ):sqlText := csql
> smtp:bindAll( [, ..] )
> 
> Regards,
> Petr
> 
> --
> View this message in context: http://www.nabble.com/Re%3AExperiences-with-sqlite--tp14791570p14839836.html
> Sent from the Harbour - Dev mailing list archive at Nabble.com.
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________                   
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.
From philb at philb.us  Wed Jan 23 08:50:23 2008
From: philb at philb.us (Phil Barnett)
Date: Wed Jan 23 08:50:26 2008
Subject: [Harbour] Licence question
In-Reply-To: <4796ECB6.4080205@belacy.belgorod.su>
References: <4796E51F.7080702@belacy.belgorod.su>
	<200801230202.56328.philb@philb.us>
	<4796ECB6.4080205@belacy.belgorod.su>
Message-ID: <200801230850.23323.philb@philb.us>

On Wednesday 23 January 2008 02:28:54 am Alexander S.Kresin wrote:
> Phil Barnett ?????:

> > You cannot remove their copyright from the files.
>
>   Just to be clear: I don't want to infringe their interests in any way :).
>   If I include those files with my modifications in a new project - then
> the answer is clear - as yours.
>   But I want to use parts of that code in other files.
>   Just for example:
>
>   I need to include to my file aaa.c a function netname() from net.c,
> modified in such a way that it can be call from a C level - with a name
> aaa_netname(). Can I do this, or I must include the original net.c ?

If you use any of another persons code, you are creating a derivative work of 
that code and the copyright remains with them.
From harbour.01 at syenar.hu  Wed Jan 23 08:56:32 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Wed Jan 23 08:56:40 2008
Subject: [Harbour] Re:  Licence question
In-Reply-To: <47972C45.10703@belacy.belgorod.su>
References: <4796E51F.7080702@belacy.belgorod.su>	<200801230202.56328.philb@philb.us>	<4796ECB6.4080205@belacy.belgorod.su>
	<20080123100206.GD5164@localhost.localdomain>
	<47972C45.10703@belacy.belgorod.su>
Message-ID: <0E3FBF75-B8E3-4EDC-B609-F157291E83EC@syenar.hu>

Hi Alexander,

Your project looks very good. As for duplicating Harbour
stuff in another project I'd also vote to rather extend
the Harbour C level inet interface to something usable for
more generic usage (like yours). I can't comment on the
specific problems though, but you can most probably discuss
these with Przemek.

Brgds,
Viktor

On 2008.01.23., at 13:00, Alexander S.Kresin wrote:

>> If you will duplicate HBINET cod in other project then such extension
>> will not work for you so I strongly suggest to invest time in  
>> updating
>> Harbour API. If you present what you exactly need then I can help in
>> this job.
>
> I'd prefer to not duplicate hbinet.c and make all necessary  
> modifications there, too. But I don't sure that all my changes will  
> be suitable for others.
> I've made already all what I need now.
> First of all - C level API. Appropriate functions are rewritten, so  
> the  Harbour level functions ( HB_FUNC(...) ) are wrappers over  
> those C level functions. This is made, though, only for the basic  
> functions, which I need - connect, accept, send, receive, select.
> Secondly, I've added functions to select from multiply sockets.
> And, finally, and this is what, probably, will not be suitable for  
> others - I got rid of the HB_SOCKET_STRUCT and appropriate stuff, so  
> the sockets are directly passed as parameters and returned, assuming  
> that included in HB_SOCKET_STRUCT things may be moved to Harbour  
> level, if needed in specific application.
> I did this to make the code less complicated, to simplify writing  
> additional functions - now, due to the hb_inetSocketFinalize() and  
> all related gc things I can't place new functions in other file  
> ( see the hbinet.c thread ).
>
> The project I'm working on is a db server with appropriate rdd as a  
> substitution for ADS. ADS is a perfect product, but it isn't free  
> and it  is quite expensive. Besides, writing such a server specially  
> for Harbour will help to avoid some problems, which ADS has ( now to  
> solve them we need to invent different workarounds ). And, finally,  
> we can implement some new interesting stuff - as server-side harbour  
> level procedures, for example.
> I've wrote basic part already, and few my applications works  
> perfectly with it ( including such a big as Personnel and Salary  
> accounting ).
>
> Regards,
>   Alexander.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Wed Jan 23 08:58:53 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jan 23 08:59:00 2008
Subject: [Harbour] Re:  Licence question
In-Reply-To: <47972C45.10703@belacy.belgorod.su>
References: <4796E51F.7080702@belacy.belgorod.su>
	<200801230202.56328.philb@philb.us>
	<4796ECB6.4080205@belacy.belgorod.su>
	<20080123100206.GD5164@localhost.localdomain>
	<47972C45.10703@belacy.belgorod.su>
Message-ID: <20080123135853.GA7497@localhost.localdomain>

On Wed, 23 Jan 2008, Alexander S.Kresin wrote:
>  I'd prefer to not duplicate hbinet.c and make all necessary 
> modifications there, too. But I don't sure that all my changes will be 
> suitable for others.
>  I've made already all what I need now.
>  First of all - C level API. Appropriate functions are rewritten, so 
> the  Harbour level functions ( HB_FUNC(...) ) are wrappers over those C 
> level functions. This is made, though, only for the basic functions, 
> which I need - connect, accept, send, receive, select.

Fine, we also have to add it.

>  Secondly, I've added functions to select from multiply sockets.

Yes, it's strongly needed function. Privately I was using my own
wrapper to select().

>  And, finally, and this is what, probably, will not be suitable for 
> others - I got rid of the HB_SOCKET_STRUCT and appropriate stuff, so the 
> sockets are directly passed as parameters and returned, assuming that 
> included in HB_SOCKET_STRUCT things may be moved to Harbour level, if 
> needed in specific application.

So you introduced very serious limitations for your own code.
Harder portability and you you will not be able to use other type
of connections when we will add them. HB_SOCKET_STRUCT should hide
platform and protocol differences.
Can you give me any reason why you are not using PHB_ITEM pointers
but low level OS handles directly?

>  I did this to make the code less complicated, to simplify writing 
> additional functions - now, due to the hb_inetSocketFinalize() and all 
> related gc things I can't place new functions in other file ( see the 
> hbinet.c thread ).

I saw this thread and I thought that Mindaugas perfectly explain that
it's not necessary to touch socket internals at all and there is no
problem with hb_inetSocketFinalize() at all. You only need C level API
to access Harbour sockets and of course we should add it. It will be
very small modification so I can give it even today if it helps you.

>  The project I'm working on is a db server with appropriate rdd as a 
> substitution for ADS. ADS is a perfect product, but it isn't free and it 
>  is quite expensive. Besides, writing such a server specially for 
> Harbour will help to avoid some problems, which ADS has ( now to solve 
> them we need to invent different workarounds ). And, finally, we can 
> implement some new interesting stuff - as server-side harbour level 
> procedures, for example.

Very good idea. I started to work some time ago on NETRDD but I've
never found time to finish it.
Anyhow such project is perfect example why you should not use directly
OS connection handles. In fact you do not need TCP/IP connection but
any transport layer. F.e. in *nixes working locally it will be much
more efficient to use unix sockets instead of TCP ones - they are much
faster. If you will use PHB_ITEM as socket handler then all protocol
differences will be hidden by HBINET code.

>  I've wrote basic part already, and few my applications works perfectly 
> with it ( including such a big as Personnel and Salary accounting ).

Again, It's very nice news. And if you can updated your code to use
PHB_ITEM pointers as connection handles then I'll add Harbour public
socket API ASAP.

best regards,
Przemek
From dbtopas at dbtopas.lt  Wed Jan 23 09:54:11 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Jan 23 09:52:44 2008
Subject: [Harbour] /w3 memory leaks
Message-ID: <47975513.5040003@dbtopas.lt>

Hi,

if I compile using /w3 switch I get a lot of unreleased memory blocks. 
Is this a known issue?


Best regards,
Mindaugas
From randy at palmasdev.com  Wed Jan 23 09:46:04 2008
From: randy at palmasdev.com (Randy Portnoff)
Date: Wed Jan 23 09:53:48 2008
Subject: [Harbour] Are detached locals safe?
In-Reply-To: <47973E61.1F6C2792@libero.it>
References: <JULQXP$1DD6F33D9E21334D69960D46A6447BB3@libero.it>
	<9257026e0801131405n3b8fe0cbo83d4fffc853d8a3d@mail.gmail.com>
	<14797065.post@talk.nabble.com> <478B3443.7A88C0D0@libero.it>
	<14799521.post@talk.nabble.com> <478B7104.EEFE57E@libero.it>
	<14806830.post@talk.nabble.com> <478C918D.648FADE8@libero.it>
	<14839836.post@talk.nabble.com> <47973E61.1F6C2792@libero.it>
Message-ID: <20080123144515.47BCDA6E2@smtp.tor.pathcom.com>

Hi all,

Consider the following example:

func main()
local bTest := GetBlock()
? Eval( bTest )  // Prints "Hello!" from local var in GetBlock()
return nil

func GetBlock()
local cSomeVar := "Hello!"
return { || cSomeVar }

Is this safe? Will the garbage collector eventually clean this string?

TIA.

Regards,
Randy.


From M.Horodyski at pzuzycie.com.pl  Wed Jan 23 09:54:42 2008
From: M.Horodyski at pzuzycie.com.pl (Horodyski Marek (PZUZ))
Date: Wed Jan 23 09:54:47 2008
Subject: [Harbour] RE: Harbour Digest, Vol 15, Issue 45
In-Reply-To: <NLB02FEcU6xfPTeip680000d767@gatein.pzuzycie.com.pl>
Message-ID: <FFAFD6EA63A3FC4784FBDA52BE7A7C9564D3C9@PINK.zycie.pzu>

>Date: Wed, 23 Jan 2008 15:00:05 +0300
>From: "Alexander S.Kresin" <alex@belacy.belgorod.su>
>Subject: [Harbour] Re:  Licence question

[ ... ]

>
>  The project I'm working on is a db server with appropriate rdd as a 
>substitution for ADS. ADS is a perfect product, but it isn't 
>free and it 

[ ... ]


Remember you project NetRDD ?
Can you wait on MT in Harbour (my advice) ?

Regards,
Marek Horodyski
From druzus at acn.waw.pl  Wed Jan 23 10:32:32 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jan 23 10:32:37 2008
Subject: [Harbour] /w3 memory leaks
In-Reply-To: <47975513.5040003@dbtopas.lt>
References: <47975513.5040003@dbtopas.lt>
Message-ID: <20080123153231.GA8895@localhost.localdomain>

On Wed, 23 Jan 2008, Mindaugas Kavaliauskas wrote:
> Hi,
> if I compile using /w3 switch I get a lot of unreleased memory blocks. 
> Is this a known issue?

Yes, it's known.
Strong typing code have been never working correctly.
If we want strong typing and we agree the syntax then
new code will have to be created from scratch because
current one will never work correctly in some cases.
Fixing current code is IMHO waste of time and very often
impossible without deep modification so I'd prefer to
disable it then trying to change sth what sooner or
later will have to be removed.

best regards,
Przemek
From dbtopas at dbtopas.lt  Wed Jan 23 10:56:07 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Wed Jan 23 10:54:39 2008
Subject: [Harbour] /w3 memory leaks
In-Reply-To: <20080123153231.GA8895@localhost.localdomain>
References: <47975513.5040003@dbtopas.lt>
	<20080123153231.GA8895@localhost.localdomain>
Message-ID: <47976397.9020701@dbtopas.lt>

Przemyslaw Czerpak wrote:
> On Wed, 23 Jan 2008, Mindaugas Kavaliauskas wrote:
>> Hi,
>> if I compile using /w3 switch I get a lot of unreleased memory blocks. 
>> Is this a known issue?
> 
> Yes, it's known.
> Strong typing code have been never working correctly.
> If we want strong typing and we agree the syntax then
> new code will have to be created from scratch because
> current one will never work correctly in some cases.
> Fixing current code is IMHO waste of time and very often
> impossible without deep modification so I'd prefer to
> disable it then trying to change sth what sooner or
> later will have to be removed.


Hi,


I've just migrated from xHarbour to Harbour in majority of projects. I 
remember xHarbour /w3 warnings was completely wrong, but now I've tried 
/w3 on Harbour. It works much better - no wrong warnings. It helped to 
find one error in code: duplicated data member of class.

I've just found that these memory leaks are "documented" in the source, by:
          /* TOFIX: these allocations causes memory leaks */
(one place in harbour.y, two places in hbmain.c).

This could be easy fixed by:
--- hbmain.c	Wed Jan 23 17:47:12 2008
+++ hbmain.c.my	Wed Jan 23 17:14:56 2008
@@ -4462,6 +4462,10 @@
     {
        PCOMDECLARED pDeclared = HB_COMP_PARAM->pReleaseDeclared;
        HB_COMP_PARAM->pReleaseDeclared = pDeclared->pNext;
+      if( pDeclared->cParamTypes )
+         hb_xfree( ( void * ) pDeclared->cParamTypes );
+      if( pDeclared->pParamClasses )
+         hb_xfree( ( void * ) pDeclared->pParamClasses );
        hb_xfree( ( void * ) pDeclared );
     }
     HB_COMP_PARAM->pFirstDeclared = HB_COMP_PARAM->pLastDeclared = NULL;
@@ -4474,6 +4478,10 @@
        {
           PCOMDECLARED pDeclared = pClass->pMethod;
           pClass->pMethod = pDeclared->pNext;
+         if( pDeclared->cParamTypes )
+            hb_xfree( ( void * ) pDeclared->cParamTypes );
+         if( pDeclared->pParamClasses )
+            hb_xfree( ( void * ) pDeclared->pParamClasses );
           hb_xfree( ( void * ) pDeclared );
        }
        hb_xfree( ( void * ) pClass );

I understand strong typing should be rewritten, but if we do not disable 
/w3, I can commit this change, to avoid long screen of unreleased memory 
block log.


Best regards,
Mindaugas
From druzus at acn.waw.pl  Wed Jan 23 11:47:32 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jan 23 11:47:58 2008
Subject: [Harbour] Are detached locals safe?
In-Reply-To: <20080123144515.47BCDA6E2@smtp.tor.pathcom.com>
References: <9257026e0801131405n3b8fe0cbo83d4fffc853d8a3d@mail.gmail.com>
	<14797065.post@talk.nabble.com> <478B3443.7A88C0D0@libero.it>
	<14799521.post@talk.nabble.com> <478B7104.EEFE57E@libero.it>
	<14806830.post@talk.nabble.com> <478C918D.648FADE8@libero.it>
	<14839836.post@talk.nabble.com> <47973E61.1F6C2792@libero.it>
	<20080123144515.47BCDA6E2@smtp.tor.pathcom.com>
Message-ID: <20080123164732.GB12176@localhost.localdomain>

On Wed, 23 Jan 2008, Randy Portnoff wrote:
> Consider the following example:
> func main()
> local bTest := GetBlock()
> ? Eval( bTest )  // Prints "Hello!" from local var in GetBlock()
> return nil
> 
> func GetBlock()
> local cSomeVar := "Hello!"
> return { || cSomeVar }
> 
> Is this safe?

Yes it is because we have "detached" locals.

> Will the garbage collector eventually clean this string?

Not string but detached item and not by GC but when all
references to detached item comes to 0.
Our GC frees only complex variables with cyclic references.

best regards,
Przemek
From druzus at acn.waw.pl  Wed Jan 23 11:38:25 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Wed Jan 23 11:48:08 2008
Subject: [Harbour] /w3 memory leaks
In-Reply-To: <47976397.9020701@dbtopas.lt>
References: <47975513.5040003@dbtopas.lt>
	<20080123153231.GA8895@localhost.localdomain>
	<47976397.9020701@dbtopas.lt>
Message-ID: <20080123163825.GA12176@localhost.localdomain>

On Wed, 23 Jan 2008, Mindaugas Kavaliauskas wrote:
> I've just migrated from xHarbour to Harbour in majority of projects. I 
> remember xHarbour /w3 warnings was completely wrong, but now I've tried 
> /w3 on Harbour. It works much better - no wrong warnings. It helped to 
> find one error in code: duplicated data member of class.

The information about duplicated members is really usable.
Said that many others do not work or work incorrectly.
The Harbour /w4 output is cleaner then xHarbour one because
most of messages were disabled or never enabled.

> I've just found that these memory leaks are "documented" in the source, by:
>          /* TOFIX: these allocations causes memory leaks */
> (one place in harbour.y, two places in hbmain.c).

I know, I created those TOFIX notes.

> This could be easy fixed by:
[...]
> I understand strong typing should be rewritten, but if we do not disable 
> /w3, I can commit this change, to avoid long screen of unreleased memory 
> block log.

Please do it.

Best regards,
Przemek
From bedipritpal at hotmail.com  Wed Jan 23 12:01:14 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Wed Jan 23 12:01:21 2008
Subject: [Harbour] Licence question
In-Reply-To: <47972C45.10703@belacy.belgorod.su>
References: <4796E51F.7080702@belacy.belgorod.su>
	<200801230202.56328.philb@philb.us>
	<4796ECB6.4080205@belacy.belgorod.su>
	<20080123100206.GD5164@localhost.localdomain>
	<47972C45.10703@belacy.belgorod.su>
Message-ID: <15045607.post@talk.nabble.com>


Alexander


Alexander S.Kresin wrote:
> 
>   The project I'm working on is a db server with appropriate rdd as a 
> substitution for ADS. ADS is a perfect product, but it isn't free and it 
>   is quite expensive. Besides, writing such a server specially for 
> Harbour will help to avoid some problems, which ADS has ( now to solve 
> them we need to invent different workarounds ). And, finally, we can 
> implement some new interesting stuff - as server-side harbour level 
> procedures, for example.
>   I've wrote basic part already, and few my applications works perfectly 
> with it ( including such a big as Personnel and Salary accounting ).
> 

WOW. Congratulations. Indeed a much wanted development.

Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/Licence-question-tp15035945p15045607.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From randy at palmasdev.com  Wed Jan 23 12:19:17 2008
From: randy at palmasdev.com (Randy Portnoff)
Date: Wed Jan 23 12:18:18 2008
Subject: [Harbour] Are detached locals safe?
In-Reply-To: <20080123164732.GB12176@localhost.localdomain>
References: <9257026e0801131405n3b8fe0cbo83d4fffc853d8a3d@mail.gmail.com>
	<14797065.post@talk.nabble.com> <478B3443.7A88C0D0@libero.it>
	<14799521.post@talk.nabble.com> <478B7104.EEFE57E@libero.it>
	<14806830.post@talk.nabble.com> <478C918D.648FADE8@libero.it>
	<14839836.post@talk.nabble.com> <47973E61.1F6C2792@libero.it>
	<20080123144515.47BCDA6E2@smtp.tor.pathcom.com>
	<20080123164732.GB12176@localhost.localdomain>
Message-ID: <20080123171814.71076E6E5@smtp.tor.pathcom.com>

Very cool! Thanks! :-)

At 11:47 AM 1/23/2008, you wrote:
>On Wed, 23 Jan 2008, Randy Portnoff wrote:
> > Consider the following example:
> > func main()
> > local bTest := GetBlock()
> > ? Eval( bTest )  // Prints "Hello!" from local var in GetBlock()
> > return nil
> >
> > func GetBlock()
> > local cSomeVar := "Hello!"
> > return { || cSomeVar }
> >
> > Is this safe?
>
>Yes it is because we have "detached" locals.
>
> > Will the garbage collector eventually clean this string?
>
>Not string but detached item and not by GC but when all
>references to detached item comes to 0.
>Our GC frees only complex variables with cyclic references.
>
>best regards,
>Przemek
>_______________________________________________
>Harbour mailing list
>Harbour@harbour-project.org
>http://lists.harbour-project.org/mailman/listinfo/harbour


From mhsabado at gmail.com  Wed Jan 23 17:14:48 2008
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Wed Jan 23 17:15:03 2008
Subject: [Harbour] *CRC32() Function
In-Reply-To: <47974895.0a0c360a.6596.ffffd81fSMTPIN_ADDED@mx.google.com>
References: <47974895.0a0c360a.6596.ffffd81fSMTPIN_ADDED@mx.google.com>
Message-ID: <4797BC58.8010106@gmail.com>

>
> ------------------------------
>
> Message: 2
> Date: Wed, 23 Jan 2008 10:48:20 +0100
> From: Przemyslaw Czerpak <druzus@acn.waw.pl>
> Subject: Re: [Harbour] *CRC32() Function
> To: "Harbour Project Main Developer List."
> 	<harbour@harbour-project.org>
> Message-ID: <20080123094820.GC5164@localhost.localdomain>
> Content-Type: text/plain; charset=iso-8859-2
>
> On Wed, 23 Jan 2008, Mario H. Sabado wrote:
>   
>> > Without including the xhb.lib, i got the following error:
>> > Any suggestion?
>> > 
>> > Error: Unresolved external '_deflateInit2_' referenced from 
>> > D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
>> > Error: Unresolved external '_get_crc_table' referenced from 
>> > D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
>> > Error: Unresolved external '_crc32' referenced from 
>> > D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
>> > Error: Unresolved external '_deflate' referenced from 
>> > D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
>> > Error: Unresolved external '_deflateEnd' referenced from 
>> > D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
>> > Error: Unresolved external '_inflateInit2_' referenced from 
>> > D:\HARBOUR\B32\LIB\HBZLIB.LIB|unzip
>> > Error: Unresolved external '_inflate' referenced from 
>> > D:\HARBOUR\B32\LIB\HBZLIB.LIB|unzip
>> > Error: Unresolved external '_inflateEnd' referenced from 
>> > D:\HARBOUR\B32\LIB\HBZLIB.LIB|unzip
>>     
>
> Much better. Now you only need to link your code with valid ZLIB
> library were these functions are defined. If it does not work
> for you then the problem is inside ZLIB binaries you are using
> not inside Harbour.
> BTW we will have to remove this ZLIB code from XHB lib. It causes
> bad side effects, f.e. conflicts with other libraries which needs
> full ZLIB library. In the future we can include ZLIB code in our
> SVN just like now we have PCRE which can be optionally (by one macro)
> replaced by platform native regular expression library.
>
> best regards,
> Przemek
>
>   
Hi Przemek,

I've already tried version 1..2.3 and 1.1.4 from www.zlib.net.  I also 
tried the built lib for borland from the contrib but I got same error.

Jorge, would you kindly send me a copy of your zlib at mhsabado@gmail.com?

TIA,
Mario


-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080124/bc9c06fc/attachment.html
From jorgeagiraldo at hotmail.com  Wed Jan 23 17:55:02 2008
From: jorgeagiraldo at hotmail.com (Jorge A. Giraldo)
Date: Wed Jan 23 17:55:16 2008
Subject: [Harbour] *CRC32() Function
In-Reply-To: <4797BC58.8010106@gmail.com>
References: <47974895.0a0c360a.6596.ffffd81fSMTPIN_ADDED@mx.google.com>
	<4797BC58.8010106@gmail.com>
Message-ID: <BAY136-W17FA053696389F5DC7D7FDA13F0@phx.gbl>



Done,

Please, let me know if it works...

Jorge A.
Date: Thu, 24 Jan 2008 06:14:48 +0800
From: mhsabado@gmail.com
To: harbour@harbour-project.org
Subject: Re: [Harbour] *CRC32() Function






  



  ------------------------------

Message: 2
Date: Wed, 23 Jan 2008 10:48:20 +0100
From: Przemyslaw Czerpak <druzus@acn.waw.pl>
Subject: Re: [Harbour] *CRC32() Function
To: "Harbour Project Main Developer List."
	<harbour@harbour-project.org>
Message-ID: <20080123094820.GC5164@localhost.localdomain>
Content-Type: text/plain; charset=iso-8859-2

On Wed, 23 Jan 2008, Mario H. Sabado wrote:
  
  
    > Without including the xhb.lib, i got the following error:
> Any suggestion?
> 
> Error: Unresolved external '_deflateInit2_' referenced from 
> D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
> Error: Unresolved external '_get_crc_table' referenced from 
> D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
> Error: Unresolved external '_crc32' referenced from 
> D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
> Error: Unresolved external '_deflate' referenced from 
> D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
> Error: Unresolved external '_deflateEnd' referenced from 
> D:\HARBOUR\B32\LIB\HBZLIB.LIB|zip
> Error: Unresolved external '_inflateInit2_' referenced from 
> D:\HARBOUR\B32\LIB\HBZLIB.LIB|unzip
> Error: Unresolved external '_inflate' referenced from 
> D:\HARBOUR\B32\LIB\HBZLIB.LIB|unzip
> Error: Unresolved external '_inflateEnd' referenced from 
> D:\HARBOUR\B32\LIB\HBZLIB.LIB|unzip
    
  
  Much better. Now you only need to link your code with valid ZLIB
library were these functions are defined. If it does not work
for you then the problem is inside ZLIB binaries you are using
not inside Harbour.
BTW we will have to remove this ZLIB code from XHB lib. It causes
bad side effects, f.e. conflicts with other libraries which needs
full ZLIB library. In the future we can include ZLIB code in our
SVN just like now we have PCRE which can be optionally (by one macro)
replaced by platform native regular expression library.

best regards,
Przemek

  

Hi Przemek,



I've already tried version 1..2.3 and 1.1.4 from www.zlib.net.  I also
tried the built lib for borland from the contrib but I got same error.



Jorge, would you kindly send me a copy of your zlib at
mhsabado@gmail.com?



TIA,

Mario








_________________________________________________________________
News, entertainment and everything you care about at Live.com. Get it now!
http://www.live.com/getstarted.aspx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080123/81a81730/attachment.html
From mhsabado at gmail.com  Wed Jan 23 18:53:37 2008
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Wed Jan 23 18:53:50 2008
Subject: [Harbour] Re: *CRC32() Function 
In-Reply-To: <479776c2.4301360a.5802.ffffd832SMTPIN_ADDED@mx.google.com>
References: <479776c2.4301360a.5802.ffffd832SMTPIN_ADDED@mx.google.com>
Message-ID: <4797D381.5050709@gmail.com>

Hi Jorge, Przemek,

I was able to compile the myzip.prg after using the zlib1.dll sent to me 
by Jorge.
As usual, Przemek is right when pointing out that something is wrong 
with my zlib1(.lib) binaries.
I'm just curious about the file size difference of the zlib1.lib 
generated by Jorge.
We have the same zlib1.dll but I have an implib generated size of 4608 
bytes while Jorge have 5120.
I'm using Borland Implib Version 3.0.22.

Thanks,
Mario

From jorgeagiraldo at hotmail.com  Wed Jan 23 20:33:34 2008
From: jorgeagiraldo at hotmail.com (Jorge A. Giraldo)
Date: Wed Jan 23 20:33:39 2008
Subject: [Harbour] Re: *CRC32() Function
In-Reply-To: <4797D381.5050709@gmail.com>
References: <479776c2.4301360a.5802.ffffd832SMTPIN_ADDED@mx.google.com>
	<4797D381.5050709@gmail.com>
Message-ID: <BAY136-W31AA7A67771DF7687AA4FFA1380@phx.gbl>


Hi Mario,

You can get that size also if you do an implib -a zlib1 zlib1.dll  :-)

-a     Add '_' alias for MS flavor cdecl functions

Something I forgot... I don't know if it is supposed to work this way...

Jorge A.


> Date: Thu, 24 Jan 2008 07:53:37 +0800
> From: mhsabado@gmail.com
> To: harbour@harbour-project.org
> Subject: [Harbour] Re: *CRC32() Function 
> 
> Hi Jorge, Przemek,
> 
> I was able to compile the myzip.prg after using the zlib1.dll sent to me 
> by Jorge.
> As usual, Przemek is right when pointing out that something is wrong 
> with my zlib1(.lib) binaries.
> I'm just curious about the file size difference of the zlib1.lib 
> generated by Jorge.
> We have the same zlib1.dll but I have an implib generated size of 4608 
> bytes while Jorge have 5120.
> I'm using Borland Implib Version 3.0.22.
> 
> Thanks,
> Mario
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_________________________________________________________________
News, entertainment and everything you care about at Live.com. Get it now!
http://www.live.com/getstarted.aspx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080124/fc2a4e30/attachment-0001.html
From mhsabado at gmail.com  Wed Jan 23 20:52:45 2008
From: mhsabado at gmail.com (Mario H. Sabado)
Date: Wed Jan 23 20:52:58 2008
Subject: [Harbour] Re: *CRC32() Function
In-Reply-To: <4797eb0a.2b09360a.4c06.179cSMTPIN_ADDED@mx.google.com>
References: <4797eb0a.2b09360a.4c06.179cSMTPIN_ADDED@mx.google.com>
Message-ID: <4797EF6D.9070006@gmail.com>


> Message: 6
> Date: Thu, 24 Jan 2008 01:33:34 +0000
> From: "Jorge A. Giraldo" <jorgeagiraldo@hotmail.com>
> Subject: RE: [Harbour] Re: *CRC32() Function
> To: Harbour Project Main Developer List. <harbour@harbour-project.org>
> Message-ID: <BAY136-W31AA7A67771DF7687AA4FFA1380@phx.gbl>
> Content-Type: text/plain; charset="iso-8859-1"
>
>
> Hi Mario,
>
> You can get that size also if you do an implib -a zlib1 zlib1.dll   :-) 
>
> -a     Add '_' alias for MS flavor cdecl functions
>
> Something I forgot... I don't know if it is supposed to work this way...
>
> Jorge A.
>   
Hi Jorge,

Indeed the -a option did the trick.

Thanks again and best regards,
Mario

From wangshuming01 at gmail.com  Wed Jan 23 21:30:18 2008
From: wangshuming01 at gmail.com (wang shuming)
Date: Wed Jan 23 21:30:21 2008
Subject: [Harbour] How to detect if app release resource ?
Message-ID: <c26b21640801231830y51efaff2g93670fe25c4be449@mail.gmail.com>

Hi,
  My app not replease resource after a dialog close (windows task manger
windows shows app memory used), I think it might be some resources not
released, how to detect which resource not replease?
  Harbour + fwh801
Thanks !
Shuming Wang
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080124/63900004/attachment.html
From philb at philb.us  Wed Jan 23 23:18:07 2008
From: philb at philb.us (Phil Barnett)
Date: Wed Jan 23 23:18:10 2008
Subject: [Harbour] Next Beta Release
Message-ID: <200801232318.07568.philb@philb.us>

Przemek,

Are we ready to do another beta release?

Thanks.
From antonioharbour at gmail.com  Thu Jan 24 05:23:29 2008
From: antonioharbour at gmail.com (Antonio Linares)
Date: Thu Jan 24 05:23:33 2008
Subject: [Harbour] How to detect if app release resource ?
In-Reply-To: <c26b21640801231830y51efaff2g93670fe25c4be449@mail.gmail.com>
References: <c26b21640801231830y51efaff2g93670fe25c4be449@mail.gmail.com>
Message-ID: <9471afc80801240223n1cbcb4e2g6b3edaf9d15db598@mail.gmail.com>

Shuming,

Please review our answer to you:
http://fivetechsoft.com/forums/viewtopic.php?t=9661
From alex at belacy.belgorod.su  Thu Jan 24 05:33:35 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Thu Jan 24 05:33:47 2008
Subject: [Harbour] Re:  Licence question
In-Reply-To: <20080123135853.GA7497@localhost.localdomain>
References: <4796E51F.7080702@belacy.belgorod.su>	<200801230202.56328.philb@philb.us>	<4796ECB6.4080205@belacy.belgorod.su>	<20080123100206.GD5164@localhost.localdomain>	<47972C45.10703@belacy.belgorod.su>
	<20080123135853.GA7497@localhost.localdomain>
Message-ID: <4798697F.2050800@belacy.belgorod.su>

Przemyslaw Czerpak writes:

>>  And, finally, and this is what, probably, will not be suitable for 
>> others - I got rid of the HB_SOCKET_STRUCT and appropriate stuff, so the 
>> sockets are directly passed as parameters and returned, assuming that 
>> included in HB_SOCKET_STRUCT things may be moved to Harbour level, if 
>> needed in specific application.
> 
> So you introduced very serious limitations for your own code.
> Harder portability and you you will not be able to use other type
> of connections when we will add them. HB_SOCKET_STRUCT should hide
> platform and protocol differences.

   I don't see limitations here. Server part is written mostly on 
Harbour, at least those parts, which works with sockets - at Harbour 
level there is no differense, what kind of data the socket is, the only 
operation with it is pass it to appropriate socket function ( from 
hbinet.c or any other ).
   The C level socket API is used in client part, because the RDD is 
written on C. I don't see serious problem here, too, because I'm sure 
that in the case of necessity appropriate separated parts can be easily 
adopted.

> Can you give me any reason why you are not using PHB_ITEM pointers
> but low level OS handles directly?

  The main reason was that I cannot place my additional socket functions 
not in hbinet.c, but in my source files without making 
hb_inetSocketFinalize() public - I suppose that if it is static, there 
are reasons for it.
  The second is that I don't understand why hb_parptrGC(), 
hb_inetSocketFinalize() are used instead of usual hb_parptr() and how to 
work with them, I found it more easy for me to rewrite appropiate parts 
of code than dig in it :).

> I saw this thread and I thought that Mindaugas perfectly explain that
> it's not necessary to touch socket internals at all and there is no
> problem with hb_inetSocketFinalize() at all. You only need C level API
> to access Harbour sockets and of course we should add it. It will be
> very small modification so I can give it even today if it helps you.

   It's very appreciated. And with hb_inetSocketFinalize() public :).

  >>  I've wrote basic part already, and few my applications works 
perfectly
>> with it ( including such a big as Personnel and Salary accounting ).
> 
> Again, It's very nice news. And if you can updated your code to use
> PHB_ITEM pointers as connection handles then I'll add Harbour public
> socket API ASAP.

  Almost nothing should be updated there. Just a type of socket variable 
in the workarea structure and calls of it in a couple of functions.

  Regards,
    Alexander
From alex at belacy.belgorod.su  Thu Jan 24 05:33:45 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Thu Jan 24 05:33:51 2008
Subject: [Harbour] Re:   Licence question
In-Reply-To: <47973C97.1BC9DDBC@libero.it>
References: <4796E51F.7080702@belacy.belgorod.su>	<200801230202.56328.philb@philb.us>	<4796ECB6.4080205@belacy.belgorod.su>	<20080123100206.GD5164@localhost.localdomain>	<47972C45.10703@belacy.belgorod.su>
	<47973C97.1BC9DDBC@libero.it>
Message-ID: <47986989.70808@belacy.belgorod.su>

Maurilio Longo writes:

> Alexander,
> very interesting!
> Is your server using .dbf/.cdx files?

  Yes.

  Regards,
    Alexander

From alex at belacy.belgorod.su  Thu Jan 24 05:37:17 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Thu Jan 24 05:37:24 2008
Subject: [Harbour] Re: Next Beta Release
In-Reply-To: <200801232318.07568.philb@philb.us>
References: <200801232318.07568.philb@philb.us>
Message-ID: <47986A5D.6080702@belacy.belgorod.su>

Phil Barnett writes:
> Przemek,
> 
> Are we ready to do another beta release?
> 
  Why Beta, Phil ?
  It has no a big importance for me how the current version is called, 
simply I don't see any reason to consider it Beta.

Regards,
   Alexander
From mbelgrano at deltain.it  Thu Jan 24 06:22:51 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jan 24 06:22:56 2008
Subject: [Harbour] Re:   Licence question
In-Reply-To: <47986989.70808@belacy.belgorod.su>
References: <4796E51F.7080702@belacy.belgorod.su>	<200801230202.56328.philb@philb.us>	<4796ECB6.4080205@belacy.belgorod.su>	<20080123100206.GD5164@localhost.localdomain>	<47972C45.10703@belacy.belgorod.su><47973C97.1BC9DDBC@libero.it>
	<47986989.70808@belacy.belgorod.su>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E873@SRV02.deltain.net>

your project support optimized set filter?
I have an application who made intensive use of ads optimized set filter
how can try with your db server?
Why not add your project in harbour cvs?
Will be intresting Having a standard Client Server in harbour tanks to a
db server with appropriate rdd 
The server side can be windows/linux/ ?
Which name have your project of dbserver?

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Alexander
S.Kresin
Sent: Thursday, January 24, 2008 11:34 AM
To: Harbour Project Main Developer List.
Subject: [Harbour] Re: Licence question

Maurilio Longo writes:

> Alexander,
> very interesting!
> Is your server using .dbf/.cdx files?

  Yes.

  Regards,
    Alexander

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From alex at belacy.belgorod.su  Thu Jan 24 06:44:24 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Thu Jan 24 06:44:37 2008
Subject: [Harbour] Re:   Licence question
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E873@SRV02.deltain.net>
References: <4796E51F.7080702@belacy.belgorod.su>	<200801230202.56328.philb@philb.us>	<4796ECB6.4080205@belacy.belgorod.su>	<20080123100206.GD5164@localhost.localdomain>	<47972C45.10703@belacy.belgorod.su><47973C97.1BC9DDBC@libero.it>	<47986989.70808@belacy.belgorod.su>
	<AFB948164110ED43B5EB849E8DEEF03815E873@SRV02.deltain.net>
Message-ID: <47987A18.8020905@belacy.belgorod.su>

Massimo Belgrano writes:
> your project support optimized set filter?

   I don't sure what kind of optimization are you mean.
The server which I write, supports, of course, server-side filtering - 
so it may be called "optimized" :).

> I have an application who made intensive use of ads optimized set filter
> how can try with your db server?

After it will be uploaded.

> Why not add your project in harbour cvs?

Harbour's contrib section is overfilled, IMO. We discussed here some 
time ago making it a separate Sourceforge project.
That db server isn't a single library, it includes server itself, rdd 
library, management utility and, probably some more stuff ( I've started 
to do it less than month ago ). So it seems to me more convenient to 
have it as separate project.

> Will be intresting Having a standard Client Server in harbour tanks to a
> db server with appropriate rdd 
> The server side can be windows/linux/ ?

Yes. But personally I think more about Linux version.

> Which name have your project of dbserver?

It hasn't a name yet. This usually is a problem for me :)

Regards,
   Alexander.

From makis1970 at gmail.com  Thu Jan 24 07:12:16 2008
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Thu Jan 24 07:13:17 2008
Subject: [Harbour] Re:   Licence question
In-Reply-To: <47987A18.8020905@belacy.belgorod.su>
References: <4796E51F.7080702@belacy.belgorod.su>	<200801230202.56328.philb@philb.us>	<4796ECB6.4080205@belacy.belgorod.su>	<20080123100206.GD5164@localhost.localdomain>	<47972C45.10703@belacy.belgorod.su><47973C97.1BC9DDBC@libero.it>	<47986989.70808@belacy.belgorod.su>	<AFB948164110ED43B5EB849E8DEEF03815E873@SRV02.deltain.net>
	<47987A18.8020905@belacy.belgorod.su>
Message-ID: <007001c85e82$5d6b4650$1841d2f0$@com>

Alexander,
Years ago there was a similar solution from Phil Ide under xBase++. If I
remember correctly it is using named pipes or plain TCP and have a lot of
optimizations to minimize the traffic and latency. I don't know if someone
have the source code of it (it was open source).

Regards
Mike Evans

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Alexander S.Kresin
Sent: Thursday, January 24, 2008 1:44 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Re: Licence question

Massimo Belgrano writes:
> your project support optimized set filter?

   I don't sure what kind of optimization are you mean.
The server which I write, supports, of course, server-side filtering - 
so it may be called "optimized" :).

> I have an application who made intensive use of ads optimized set filter
> how can try with your db server?

After it will be uploaded.

> Why not add your project in harbour cvs?

Harbour's contrib section is overfilled, IMO. We discussed here some 
time ago making it a separate Sourceforge project.
That db server isn't a single library, it includes server itself, rdd 
library, management utility and, probably some more stuff ( I've started 
to do it less than month ago ). So it seems to me more convenient to 
have it as separate project.

> Will be intresting Having a standard Client Server in harbour tanks to a
> db server with appropriate rdd 
> The server side can be windows/linux/ ?

Yes. But personally I think more about Linux version.

> Which name have your project of dbserver?

It hasn't a name yet. This usually is a problem for me :)

Regards,
   Alexander.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From philb at philb.us  Thu Jan 24 07:21:24 2008
From: philb at philb.us (Phil Barnett)
Date: Thu Jan 24 07:21:28 2008
Subject: [Harbour] Re: Next Beta Release
In-Reply-To: <47986A5D.6080702@belacy.belgorod.su>
References: <200801232318.07568.philb@philb.us>
	<47986A5D.6080702@belacy.belgorod.su>
Message-ID: <200801240721.24548.philb@philb.us>

On Thursday 24 January 2008 05:37:17 am Alexander S.Kresin wrote:

> Phil Barnett writes:
> > Przemek,
> >
> > Are we ready to do another beta release?
>
>   Why Beta, Phil ?
>   It has no a big importance for me how the current version is called,
> simply I don't see any reason to consider it Beta.

Fine, then. Release Candidate.

We are under a code freeze for bug fixing only headed for the release of 1.0 
version.
From mbelgrano at deltain.it  Thu Jan 24 07:35:21 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jan 24 07:35:27 2008
Subject: [Harbour] Re:   Licence question
In-Reply-To: <007001c85e82$5d6b4650$1841d2f0$@com>
References: <4796E51F.7080702@belacy.belgorod.su>	<200801230202.56328.philb@philb.us>	<4796ECB6.4080205@belacy.belgorod.su>	<20080123100206.GD5164@localhost.localdomain>	<47972C45.10703@belacy.belgorod.su><47973C97.1BC9DDBC@libero.it>	<47986989.70808@belacy.belgorod.su>	<AFB948164110ED43B5EB849E8DEEF03815E873@SRV02.deltain.net><47987A18.8020905@belacy.belgorod.su>
	<007001c85e82$5d6b4650$1841d2f0$@com>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E875@SRV02.deltain.net>

I confirm it was at http://www.idep.org.uk/xbase
As name for upcoming project I suggest netrdd in honor to Przemek's
original Idea

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Mike Evans
(Gmail)
Sent: Thursday, January 24, 2008 1:12 PM
To: 'Harbour Project Main Developer List.'
Subject: RE: [Harbour] Re: Licence question

Alexander,
Years ago there was a similar solution from Phil Ide under xBase++. If I
remember correctly it is using named pipes or plain TCP and have a lot
of
optimizations to minimize the traffic and latency. I don't know if
someone
have the source code of it (it was open source).

Regards
Mike Evans

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Alexander
S.Kresin
Sent: Thursday, January 24, 2008 1:44 PM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Re: Licence question

Massimo Belgrano writes:
> your project support optimized set filter?

   I don't sure what kind of optimization are you mean.
The server which I write, supports, of course, server-side filtering - 
so it may be called "optimized" :).

> I have an application who made intensive use of ads optimized set
filter
> how can try with your db server?

After it will be uploaded.

> Why not add your project in harbour cvs?

Harbour's contrib section is overfilled, IMO. We discussed here some 
time ago making it a separate Sourceforge project.
That db server isn't a single library, it includes server itself, rdd 
library, management utility and, probably some more stuff ( I've started

to do it less than month ago ). So it seems to me more convenient to 
have it as separate project.

> Will be intresting Having a standard Client Server in harbour tanks to
a
> db server with appropriate rdd 
> The server side can be windows/linux/ ?

Yes. But personally I think more about Linux version.

> Which name have your project of dbserver?

It hasn't a name yet. This usually is a problem for me :)

Regards,
   Alexander.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From mbelgrano at deltain.it  Thu Jan 24 07:38:20 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jan 24 07:38:31 2008
Subject: [Harbour] Re:   Licence question
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E875@SRV02.deltain.net>
References: <4796E51F.7080702@belacy.belgorod.su>	<200801230202.56328.philb@philb.us>	<4796ECB6.4080205@belacy.belgorod.su>	<20080123100206.GD5164@localhost.localdomain>	<47972C45.10703@belacy.belgorod.su><47973C97.1BC9DDBC@libero.it>	<47986989.70808@belacy.belgorod.su>	<AFB948164110ED43B5EB849E8DEEF03815E873@SRV02.deltain.net><47987A18.8020905@belacy.belgorod.su><007001c85e82$5d6b4650$1841d2f0$@com>
	<AFB948164110ED43B5EB849E8DEEF03815E875@SRV02.deltain.net>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E876@SRV02.deltain.net>

DBFSERVER
DBF Client/Server Suite for Xbase++Server SoftwareClient Connectivity Library
This document as a whole is copyrighted ? 2001 by Phil Ide. The software package (comprising dbfServer.exe, dbSocketc.dll, header [.ch] files, sample programs, source code) is copyright ? Bj?rn Kaarigstad & Phil Ide, 2002. All Rights Reserved.

The package is released under the terms of the GNU GENERAL PUBLIC LICENCE 
Disclaimer
This software is supplied free of charge, and so there is no warranty for the software or accompanying documentation (herinafter called the "package"), to the extent permitted by applicable law. Except when otherwise stated in writing the copyright holders and/or other parties provide the package "as is," without warranty of any kind, either expressed or implied, including, but not limited to, the implied warranties of merchantability and fitness for a particular purpose. The entire risk as to the quality of this package is with you.

In no event unless required by applicable law or agreed to in writing will any copyright holder, or any other party who may modify and/or redistribute the package as permitted above, be liable to you for damages, including any general, special, incidental or consequential damages arising out of the use or inability to use this package (including but not limited to loss of data or data being rendered inaccurate or losses sustained by you or third parties).

Any contributions made by others to this package have been acknowledged where possible. Commercial products, retailers, or distributors mentioned here are not necessarily endorsed by me or any other particular party. 
Authors
Phil Ide    code and documentation 
Bj?rn Kaarigstad  concept, ideas, inspiration 

Acknowledgements
Many thanks to those who tested and broke everything. Special thanks goes to the following people who made particularly important contributions.

Edgar Borger 
Jan Dirk Schuitmaker 
Mike Evans 
Mike Grace 
Jose Luis Otermin 

Thanks to everyone else who made comments, gave encouragement etc. 
Documentation
Description
The package consists of a server program which accepts requests via TCP/IP to perform operations on .DBF database tables. All Xbase++ operations are supported with the exception of dacSession (which includes XbpQuickBrowse) and compound legacy UI superfunctions (e.g. dbEdit()). The results of these operations are returned to the client program.

There are many reasons why you might want to remove database operations to a remote program, but in Xbase++ probably the most compelling reason is the way that DBF access times deteriorate rapidly as more and more users connect to the database in a multi-user environment under Windows.

dbfServer still opens the table once for each client connection, spawning a new thread to service each connecting client. Within Xbase++, each thread maintains a unique workspace, which has it's own set of unique workareas. The thread remains active for as along as the server is running and the client is connected.

Client programs can be forced to use the server by linking in a DLL which handles all the communication between server and client. A #include file is supplied which translates all standard database operations to use the functions in the DLL. For many programs, particularly those generated by the Form Designer, this is sufficient. However, this is largely dependant upon coding style, as there are some elements the pre-processor cannot handle, and so some additional changes are likely to be required.

New code can be written to take advantage of the fact that operations are performed through the server. Converted legacy code will suffer from a certain amount of lag since the code was written in the standard 'local connection' format. Understanding how to reduce lag by caching commands is fundamental to getting the best performance from the server.

Using code optimised for best performance with regard to the server will produce fast responsive programs and reduce network traffic immensely thereby making the network itself faster and more responsive to the benefit of all users and applications regardless of whether or not they are utilising dbfServer.

There are several other distinct advantages to using this package: 
Want to lock everybody out of the system? Shut down the server program and everyone will be unable to access the tables! 
Using the server program console, you can see exactly who is connected, which machine they are using, which socket number they are connected through and which files they have open (both tables and indexes). 
Do you have a time-consuming process which you know would run much faster on the server? dbfServer has the ability to run such procedures for you. Not only will the process run much faster, but again network traffic will be vastly reduced to the benefit of all network users. 
It should be pointed out that any DBF table can be accessed by any client program, provided it is visible to dbfServer. 
Converting Existing Programs
To link to the dbfServer in your own application, you need to do the following: 
In each source file where database activity takes place, you need to add this directive:

#include "dbfsocket.ch"


In your project make file, you need to add the following statement to your executable's list of files:

DBFSOCKETC.LIB


In the same directory as your executable resides, and with the same name but with an .ini extension you need to create an ini file. This file should contain the following code:

[SOCKETS]
port=1042
server=localhost

You should change the port number to match the port dbfServer is listening on, and the server name should be the IP name (or dotted octet address) of the machine where dbfServer can be found.


There are three types of code that dbfServer cannot handle: 
Whilst it handles:
(cExpr)->fname
(cExpr)->(fname)

it cannot handle:
alias->fname
alias->(fname)

This is due to limitations in the preprocessor. You should change all such code to enclose the ALIAS in parenthesis.


Expressions generated as macro's from strings will not be parsed properly, and will still expect local workarea connectivity.


Fieldnames without aliased expressions cannot be pre- determined by the pre-processor. You must alias them.

For example, if you have a table with the field NAME in it, you cannot do this:

cName := NAME

Instead, you must do this:

cName := (Alias())->NAME  // or
cName := (cAlias)->NAME


Remember that the path you supply to the program for opening tables is FROM THE SERVER not the client! 
That's all there is to it! 
Optimising
The Form Designer when used to connect to a database, adds database access controls to the ::editControls array, which is then evaluated when the dialog is created or the record pointer is moved (via dialog controls). In a 'local database connection' e.g. a USE  statement, this is ok. In a remote connection scenario, this becomes innefficient because to refresh 20 controls, you need to send at least 60 instructions to the server. In large data-intensive dialog's, you should consider another strategy.

One method is to perform dbfScatter()/dbfGather() to/from an array, and point your dialog controls at the array rather than the database. dbfServer handles these read/write operations in a single instruction.

All database functions are mapped to the function dbfSocket(). This function accepts 3 parameters:

dbfSocket(<nFunction> [,<aParams> [, <lCache>] ] )

<nFunction>  This is a numeric constant identifying the database operation to call. You should use the constants defined in dbfSocket2.ch

<aParams> This optional parameter is an array of parameters to be passed to the function defined in <nFunction>

<lCache> When this parameter is TRUE, the command is automatically cached and not sent to the server until a non-cached command is issued.

Certain commands are automatically cached, but you can use dbfSocket()  with the auto-cache option to increase performance. The automatically cached commands are a subset of all commands which return NIL. Some NIL-returning commands are excluded from the subset because they are considered immediate, e.g. dbCommit() and dbCommitAll() should not be cached, nor unlock operations.

If you know that you are not interested in the return value from a command, then you should consider caching it. As an Example, Select(cAlias) may be used to select a workarea prior to performing operations on it, and if you are not interested in saving the return value then you should cache the command.

dbfScatter() and dbfGather() are special functions which request the server to return and process an array respectively. This is more efficient than a standard Scatter()/Gather() which sends at least 3 requests to the server for each element of the array. As with the standard Alaska functions, dbfScatter() and dbfGather()  handle arrays of simple values or objects.

Additionally, dbfScatter()  can accept an array of code blocks. This can be used to explicitely identify the fields which are accessed in the event that you don't need all the fields or want to get field data from multiple workareas.   
Automatically Cached Commands
The following commands are automatically cached:

dbAppend()    dbGoTo()    dbSetFilter() 
dbClearFilter()  dbGoTop()  dbSetIndex() 
dbClearIndex()  dbRefresh()  dbSetOrder() 
dbClearRelation()  dbResumeSelect()  dbSetRelation() 
dbClearScope()  dbRollBack()  dbSetScope() 
dbCloseRelation()  dbRSuspendSelect()  dbSkip() 
dbGoBottom()  dbSelectArea()  OrdCondSet() 
dbGoPosition()  dbSetDescend()  
 

Remote Procedures
Remote Procedures are functions which are called by the client program, but are run entirely on the server. The client tells the server to run the procedure, then waits until the process has completed. The return value of the process is the return value of the called procedure.

A Remote Procedure is programmed as a function in a dynamically loadable DLL which must be visible to the server. If the function needs parameters, the function must accept two parameters. The second parameter is an array containing all the values the function requires, the first parameter is a numeric indicating the length of the array.

Note that you cannot pass variables by reference to a remote procedure.

To call the remote procedure, use this command:

REMOTE CALL <func> IN <dll> [WITH <parms,...>] [<lUnload:UNLOAD>]

<func> is the name of the function to call
<dll> is the name (and path if required) of the dll where the function can be found
<parms> is a comma-seperated list of all parameters that need to be passed to the function
UNLOAD is an optional statement which causes the dll to be unloaded once the procedure has finished.

An example of a (totally senseless!) function that can be used as a remote procedure:

  Function Useless(argc, argv)
    local bFilt := {|| TRUE }
    local i := 0

    if argc > 0
       bFilt := argv[1]
    endif

    dbGoTop()
    While !Eof()
      if Eval(bFilt)
         i += RecNo() // this is silly...
      endif
      SKIP
    Enddo
    return (i)
  


To call this (assume it is linked into "RProc.DLL"):

REMOTE CALL Useless IN RProc WITH {|| GENDER == 'M' } UNLOAD


Error Handling
If the client attempts to perform an operation which fails at the server, the server returns an error object to the client, which automaticaly passes it to the current error handler. Any error message displayed by the client will probably display the callstack of the client program, so you should be able to track logic errors in your code. In the event the error really belongs to a bug in the server (oh, horror!), you can find the callstack of the server embedded in the error object's cargo slot.

By passing the error back to the client to handle, the error is displayed where the problem most likely lays - if you attempt to write a record without locking it first, the problem is in the client code not the server. This also makes the server robust and resilient, allowing other connected clients to continue working without interruption. 
Rebuilding the Server and dbfSocket.dll
To rebuild either the server or dbfSocketC.dll, you will require ASINET1C.LIB, which is part of the Professional Subscription.

ASINET1C.DLL, which is part of the Professional Subscription redistributable libraries, is supplied with the package, and should be placed in your RUNTIME directory or somewhere in your PATH. 
GNU GENERAL


From makis1970 at gmail.com  Thu Jan 24 08:08:10 2008
From: makis1970 at gmail.com (Mike Evans (Gmail))
Date: Thu Jan 24 08:09:06 2008
Subject: [Harbour] Re:   Licence question
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E876@SRV02.deltain.net>
References: <4796E51F.7080702@belacy.belgorod.su>	<200801230202.56328.philb@philb.us>	<4796ECB6.4080205@belacy.belgorod.su>	<20080123100206.GD5164@localhost.localdomain>	<47972C45.10703@belacy.belgorod.su><47973C97.1BC9DDBC@libero.it>	<47986989.70808@belacy.belgorod.su>	<AFB948164110ED43B5EB849E8DEEF03815E873@SRV02.deltain.net><47987A18.8020905@belacy.belgorod.su><007001c85e82$5d6b4650$1841d2f0$@com>	<AFB948164110ED43B5EB849E8DEEF03815E875@SRV02.deltain.net>
	<AFB948164110ED43B5EB849E8DEEF03815E876@SRV02.deltain.net>
Message-ID: <007b01c85e8a$2c67ff50$8537fdf0$@com>

Massimo,
Except from the threading part of this, it will be easier under (x)Harbour
to implement a special RDD for this. Also if I remember correctly Phil asked
for xBase++ RDD documentation but it was too complex to implement a real RDD
for xBase++.

Regards
Mike Evans

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Massimo Belgrano
Sent: Thursday, January 24, 2008 2:38 PM
To: Harbour Project Main Developer List.
Subject: RE: [Harbour] Re: Licence question

DBFSERVER
DBF Client/Server Suite for Xbase++Server SoftwareClient Connectivity
Library
This document as a whole is copyrighted ? 2001 by Phil Ide. The software
package (comprising dbfServer.exe, dbSocketc.dll, header [.ch] files, sample
programs, source code) is copyright ? Bj?rn Kaarigstad & Phil Ide, 2002. All
Rights Reserved.

The package is released under the terms of the GNU GENERAL PUBLIC LICENCE 
Disclaimer
This software is supplied free of charge, and so there is no warranty for
the software or accompanying documentation (herinafter called the
"package"), to the extent permitted by applicable law. Except when otherwise
stated in writing the copyright holders and/or other parties provide the
package "as is," without warranty of any kind, either expressed or implied,
including, but not limited to, the implied warranties of merchantability and
fitness for a particular purpose. The entire risk as to the quality of this
package is with you.

In no event unless required by applicable law or agreed to in writing will
any copyright holder, or any other party who may modify and/or redistribute
the package as permitted above, be liable to you for damages, including any
general, special, incidental or consequential damages arising out of the use
or inability to use this package (including but not limited to loss of data
or data being rendered inaccurate or losses sustained by you or third
parties).

Any contributions made by others to this package have been acknowledged
where possible. Commercial products, retailers, or distributors mentioned
here are not necessarily endorsed by me or any other particular party. 
Authors
Phil Ide    code and documentation 
Bj?rn Kaarigstad  concept, ideas, inspiration 

Acknowledgements
Many thanks to those who tested and broke everything. Special thanks goes to
the following people who made particularly important contributions.

Edgar Borger 
Jan Dirk Schuitmaker 
Mike Evans 
Mike Grace 
Jose Luis Otermin 

Thanks to everyone else who made comments, gave encouragement etc. 
Documentation
Description
The package consists of a server program which accepts requests via TCP/IP
to perform operations on .DBF database tables. All Xbase++ operations are
supported with the exception of dacSession (which includes XbpQuickBrowse)
and compound legacy UI superfunctions (e.g. dbEdit()). The results of these
operations are returned to the client program.

There are many reasons why you might want to remove database operations to a
remote program, but in Xbase++ probably the most compelling reason is the
way that DBF access times deteriorate rapidly as more and more users connect
to the database in a multi-user environment under Windows.

dbfServer still opens the table once for each client connection, spawning a
new thread to service each connecting client. Within Xbase++, each thread
maintains a unique workspace, which has it's own set of unique workareas.
The thread remains active for as along as the server is running and the
client is connected.

Client programs can be forced to use the server by linking in a DLL which
handles all the communication between server and client. A #include file is
supplied which translates all standard database operations to use the
functions in the DLL. For many programs, particularly those generated by the
Form Designer, this is sufficient. However, this is largely dependant upon
coding style, as there are some elements the pre-processor cannot handle,
and so some additional changes are likely to be required.

New code can be written to take advantage of the fact that operations are
performed through the server. Converted legacy code will suffer from a
certain amount of lag since the code was written in the standard 'local
connection' format. Understanding how to reduce lag by caching commands is
fundamental to getting the best performance from the server.

Using code optimised for best performance with regard to the server will
produce fast responsive programs and reduce network traffic immensely
thereby making the network itself faster and more responsive to the benefit
of all users and applications regardless of whether or not they are
utilising dbfServer.

There are several other distinct advantages to using this package: 
Want to lock everybody out of the system? Shut down the server program and
everyone will be unable to access the tables! 
Using the server program console, you can see exactly who is connected,
which machine they are using, which socket number they are connected through
and which files they have open (both tables and indexes). 
Do you have a time-consuming process which you know would run much faster on
the server? dbfServer has the ability to run such procedures for you. Not
only will the process run much faster, but again network traffic will be
vastly reduced to the benefit of all network users. 
It should be pointed out that any DBF table can be accessed by any client
program, provided it is visible to dbfServer. 
Converting Existing Programs
To link to the dbfServer in your own application, you need to do the
following: 
In each source file where database activity takes place, you need to add
this directive:

#include "dbfsocket.ch"


In your project make file, you need to add the following statement to your
executable's list of files:

DBFSOCKETC.LIB


In the same directory as your executable resides, and with the same name but
with an .ini extension you need to create an ini file. This file should
contain the following code:

[SOCKETS]
port=1042
server=localhost

You should change the port number to match the port dbfServer is listening
on, and the server name should be the IP name (or dotted octet address) of
the machine where dbfServer can be found.


There are three types of code that dbfServer cannot handle: 
Whilst it handles:
(cExpr)->fname
(cExpr)->(fname)

it cannot handle:
alias->fname
alias->(fname)

This is due to limitations in the preprocessor. You should change all such
code to enclose the ALIAS in parenthesis.


Expressions generated as macro's from strings will not be parsed properly,
and will still expect local workarea connectivity.


Fieldnames without aliased expressions cannot be pre- determined by the
pre-processor. You must alias them.

For example, if you have a table with the field NAME in it, you cannot do
this:

cName := NAME

Instead, you must do this:

cName := (Alias())->NAME  // or
cName := (cAlias)->NAME


Remember that the path you supply to the program for opening tables is FROM
THE SERVER not the client! 
That's all there is to it! 
Optimising
The Form Designer when used to connect to a database, adds database access
controls to the ::editControls array, which is then evaluated when the
dialog is created or the record pointer is moved (via dialog controls). In a
'local database connection' e.g. a USE  statement, this is ok. In a remote
connection scenario, this becomes innefficient because to refresh 20
controls, you need to send at least 60 instructions to the server. In large
data-intensive dialog's, you should consider another strategy.

One method is to perform dbfScatter()/dbfGather() to/from an array, and
point your dialog controls at the array rather than the database. dbfServer
handles these read/write operations in a single instruction.

All database functions are mapped to the function dbfSocket(). This function
accepts 3 parameters:

dbfSocket(<nFunction> [,<aParams> [, <lCache>] ] )

<nFunction>  This is a numeric constant identifying the database operation
to call. You should use the constants defined in dbfSocket2.ch

<aParams> This optional parameter is an array of parameters to be passed to
the function defined in <nFunction>

<lCache> When this parameter is TRUE, the command is automatically cached
and not sent to the server until a non-cached command is issued.

Certain commands are automatically cached, but you can use dbfSocket()  with
the auto-cache option to increase performance. The automatically cached
commands are a subset of all commands which return NIL. Some NIL-returning
commands are excluded from the subset because they are considered immediate,
e.g. dbCommit() and dbCommitAll() should not be cached, nor unlock
operations.

If you know that you are not interested in the return value from a command,
then you should consider caching it. As an Example, Select(cAlias) may be
used to select a workarea prior to performing operations on it, and if you
are not interested in saving the return value then you should cache the
command.

dbfScatter() and dbfGather() are special functions which request the server
to return and process an array respectively. This is more efficient than a
standard Scatter()/Gather() which sends at least 3 requests to the server
for each element of the array. As with the standard Alaska functions,
dbfScatter() and dbfGather()  handle arrays of simple values or objects.

Additionally, dbfScatter()  can accept an array of code blocks. This can be
used to explicitely identify the fields which are accessed in the event that
you don't need all the fields or want to get field data from multiple
workareas.   
Automatically Cached Commands
The following commands are automatically cached:

dbAppend()    dbGoTo()    dbSetFilter() 
dbClearFilter()  dbGoTop()  dbSetIndex() 
dbClearIndex()  dbRefresh()  dbSetOrder() 
dbClearRelation()  dbResumeSelect()  dbSetRelation() 
dbClearScope()  dbRollBack()  dbSetScope() 
dbCloseRelation()  dbRSuspendSelect()  dbSkip() 
dbGoBottom()  dbSelectArea()  OrdCondSet() 
dbGoPosition()  dbSetDescend()  
 

Remote Procedures
Remote Procedures are functions which are called by the client program, but
are run entirely on the server. The client tells the server to run the
procedure, then waits until the process has completed. The return value of
the process is the return value of the called procedure.

A Remote Procedure is programmed as a function in a dynamically loadable DLL
which must be visible to the server. If the function needs parameters, the
function must accept two parameters. The second parameter is an array
containing all the values the function requires, the first parameter is a
numeric indicating the length of the array.

Note that you cannot pass variables by reference to a remote procedure.

To call the remote procedure, use this command:

REMOTE CALL <func> IN <dll> [WITH <parms,...>] [<lUnload:UNLOAD>]

<func> is the name of the function to call
<dll> is the name (and path if required) of the dll where the function can
be found
<parms> is a comma-seperated list of all parameters that need to be passed
to the function
UNLOAD is an optional statement which causes the dll to be unloaded once the
procedure has finished.

An example of a (totally senseless!) function that can be used as a remote
procedure:

  Function Useless(argc, argv)
    local bFilt := {|| TRUE }
    local i := 0

    if argc > 0
       bFilt := argv[1]
    endif

    dbGoTop()
    While !Eof()
      if Eval(bFilt)
         i += RecNo() // this is silly...
      endif
      SKIP
    Enddo
    return (i)
  


To call this (assume it is linked into "RProc.DLL"):

REMOTE CALL Useless IN RProc WITH {|| GENDER == 'M' } UNLOAD


Error Handling
If the client attempts to perform an operation which fails at the server,
the server returns an error object to the client, which automaticaly passes
it to the current error handler. Any error message displayed by the client
will probably display the callstack of the client program, so you should be
able to track logic errors in your code. In the event the error really
belongs to a bug in the server (oh, horror!), you can find the callstack of
the server embedded in the error object's cargo slot.

By passing the error back to the client to handle, the error is displayed
where the problem most likely lays - if you attempt to write a record
without locking it first, the problem is in the client code not the server.
This also makes the server robust and resilient, allowing other connected
clients to continue working without interruption. 
Rebuilding the Server and dbfSocket.dll
To rebuild either the server or dbfSocketC.dll, you will require
ASINET1C.LIB, which is part of the Professional Subscription.

ASINET1C.DLL, which is part of the Professional Subscription redistributable
libraries, is supplied with the package, and should be placed in your
RUNTIME directory or somewhere in your PATH. 
GNU GENERAL


_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Thu Jan 24 09:14:42 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jan 24 09:14:48 2008
Subject: [Harbour] Re:  Licence question
In-Reply-To: <4798697F.2050800@belacy.belgorod.su>
References: <4796E51F.7080702@belacy.belgorod.su>
	<200801230202.56328.philb@philb.us>
	<4796ECB6.4080205@belacy.belgorod.su>
	<20080123100206.GD5164@localhost.localdomain>
	<47972C45.10703@belacy.belgorod.su>
	<20080123135853.GA7497@localhost.localdomain>
	<4798697F.2050800@belacy.belgorod.su>
Message-ID: <20080124141442.GA7794@localhost.localdomain>

On Thu, 24 Jan 2008, Alexander S.Kresin wrote:
> >So you introduced very serious limitations for your own code.
> >Harder portability and you you will not be able to use other type
> >of connections when we will add them. HB_SOCKET_STRUCT should hide
> >platform and protocol differences.
>   I don't see limitations here. Server part is written mostly on 
> Harbour, at least those parts, which works with sockets - at Harbour 
> level there is no differense, what kind of data the socket is, the only 
> operation with it is pass it to appropriate socket function ( from 
> hbinet.c or any other ).

OK, at .prg level it will work.

>   The C level socket API is used in client part, because the RDD is 
> written on C. I don't see serious problem here, too, because I'm sure 
> that in the case of necessity appropriate separated parts can be easily 
> adopted.

So how it will work with compressed socket when we add native
support for stream compression? Using OS handles you are dropping
all such extensions. For me it's very serious limitation.
And what if Harbour socket will not have usable OS handle at all
on some platforms? What if it will be necessary to hide some
OS dependent differences? F.e. select() works a little bit different
in MS-Windows then in *nixes. Even between *nixes there are some
important differences in this function. Do you know these differences?
Can you write a code which will work well with both versions? And what
about other platforms? To resolve some problems it will be necessary to
keep additional information inside socket structure so functions which
will receive only OS handle without additional information cannot make
well their job on all platforms.

> >Can you give me any reason why you are not using PHB_ITEM pointers
> >but low level OS handles directly?
>  The main reason was that I cannot place my additional socket functions 
> not in hbinet.c, but in my source files without making 
> hb_inetSocketFinalize() public - I suppose that if it is static, there 
> are reasons for it.

Can you tell me what functionality is necessary for you?
If it will be portable then we will add it to hbinet.c.
There is absolutely no reason to make hb_inetSocketFinalize
public until we want to keep sockets internals 3-rd party
code independent and easy expandable.

>  The second is that I don't understand why hb_parptrGC(), 
> hb_inetSocketFinalize() are used instead of usual hb_parptr() and how to 
> work with them, I found it more easy for me to rewrite appropiate parts 
> of code than dig in it :).

The answer is very simple. .prg code should protect against low level
errors like GPF. hb_parptrGC() validate if given pointer is a pointer
to valid socket structure. hb_parptr() will also work but it will accept
all possible pointer items not only these one which point to socket
structure. Look at HWGUI. There is no validation at all so user can pass
wrong pointers or handles to functions which will accept them and later
GPF. Such code is unsafe. We should always try to write code as safe
as possible.

> >I saw this thread and I thought that Mindaugas perfectly explain that
> >it's not necessary to touch socket internals at all and there is no
> >problem with hb_inetSocketFinalize() at all. You only need C level API
> >to access Harbour sockets and of course we should add it. It will be
> >very small modification so I can give it even today if it helps you.
>   It's very appreciated. And with hb_inetSocketFinalize() public :).

As I said it's not necessary at all and so far you haven't answer
why you need it. Again, please tell me which additional functionality
is necessary for you and I'll add them to hbinet.c.
If me make hb_inetSocketFinalize() public then we will open doors
to create pseudo socket structures by 3-rd party code which will
be accepted by our code with unpedictible results. F.e. someone
could copy HB_SOCKET_STRUCT to his code and create new socket.
Exactly like in RTL code. And it can be source of unpredictable
errors because his code will have to be compiled with exactly
the same alignment switches as core code. F.e. now hbole code
borrowed from xHarbour needs 8 bytes alignment for OLE structures
and because it access core HVM structures then also forces that
HVM has to be compiled with 8 bytes alignment what increase memory
consumption and reduce the HVM speed. For me it's very serious
limitation and hbole code has to be fixed.

>  >>  I've wrote basic part already, and few my applications works 
> perfectly
> >>with it ( including such a big as Personnel and Salary accounting ).
> >Again, It's very nice news. And if you can updated your code to use
> >PHB_ITEM pointers as connection handles then I'll add Harbour public
> >socket API ASAP.
>  Almost nothing should be updated there. Just a type of socket variable 
> in the workarea structure and calls of it in a couple of functions.

Fantastic. I will work on basic version today.

best regards,
Przemek
From druzus at acn.waw.pl  Thu Jan 24 21:46:06 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Thu Jan 24 21:46:13 2008
Subject: [Harbour] Next Beta Release
In-Reply-To: <200801232318.07568.philb@philb.us>
References: <200801232318.07568.philb@philb.us>
Message-ID: <20080125024606.GA9825@localhost.localdomain>

On Wed, 23 Jan 2008, Phil Barnett wrote:
> Are we ready to do another beta release?

I think so. And probably it should be called rc-1.
The open question is what to do with beta branch.
After Viktor's cleanup in devel code (mostly in
contrib) the diff file between branches has over
10MB. I can sync it but probably it will be much
easier to remove old beta branch create new new
one from current devel.
If you agre then I'll try to make it in this weekend
and then we can start release process. Meanwhile
I'd like to ask everybody to make build tests on
different platforms. I'm interesting specially in
some less used ones, f.e. can someone make tests
on SunOS? It's the long time when I was making
last test with Solaris and now I do not have access
to computer with this OS where I can make such tests.
The OS2 build reports from David suggests that we
should reactivate make_gnu.cmd. Viktor can you do
that? We can also add some cleanup for this OS
by adding few function to our C FS API f.e. to
set file attributes and day time. They will be
usable also in other places like CT library so
it's good idea to have them but I do not know
it I should add them now. If yes then I should
make it quite fast.

best regards,
Przemek
From dmacias at mail.udg.mx  Fri Jan 25 00:13:22 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Fri Jan 25 00:13:04 2008
Subject: [Harbour] Re: hbzlib in OS/2
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <47996FF2.3080106@mail.udg.mx>

Przemek, recalling question of previous message

"Date/time are not set, or should be fixed ?"

David Macias


>Yes, but if you want to use it with your application then you will
>have to link your code with ZLIB library compiled for OS2. It's
>very popular library so you should be able to find it. If you are
>using gcc and you have libz.a then -lz linker switch should enough.

In Hobbes I found zlib-1.2.3.zip for OS/2 containing:
-----------------------------------
18/12/05 10:45p         9,614      0 a---  z.a
18/12/05 10:45p        69,683      0 a---  z.dll
18/12/05 10:45p        67,936      0 a---  z_s.a
-----------------------------------

Building Harbour results in known warnings:
-----------------------------------
[E:\harbour801]make -r           1>make_gnu.log
../../gtstd.c: In function `hb_gt_std_ReadKey':
../../gtstd.c:367: warning: unused variable `TODO'
../../hbmzip.c: In function `hb_zipStoreFile':
../../hbmzip.c:545: warning: unused variable `TODO'
../../hbmzip.c: In function `hb_unzipExtractCurrentFile':
../../hbmzip.c:756: warning: unused variable `TODO'
-----------------------------------


Using z.a, z.dll and creating/testing myzip.prg, myunzip.prg samples:

-----------------------------------
[E:\harbour801\bin]myzip.exe testzip test.prg

Archive file: testzip.zip
Adding test.prg
[E:\harbour801\bin]myunzip.exe testzip test.prg

Archive file: testzip.zip

Filename                         Date     Time          Size Compressed
  Action
--------------------------------------------------------------------------------
-
test.prg                         /  /   00:00:00         46         40
Extractin
g
[E:\harbour801\bin]unzip -l testzip
Archive:  testzip.zip
   Length     EAs   ACLs    Date   Time    Name
  --------    ---   ----    ----   ----    ----
        46      0      0  00-01-80 00:00   test.prg
  --------  -----  -----                   -------
        46      0      0                   1 file
-----------------------------------


Date/time are not set, or should be fixed ?


David Macias


From alex at belacy.belgorod.su  Fri Jan 25 01:32:58 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Fri Jan 25 01:33:11 2008
Subject: [Harbour] Re:  Licence question
In-Reply-To: <20080124141442.GA7794@localhost.localdomain>
References: <4796E51F.7080702@belacy.belgorod.su>
	<200801230202.56328.philb@philb.us>
	<4796ECB6.4080205@belacy.belgorod.su>
	<20080123100206.GD5164@localhost.localdomain>
	<47972C45.10703@belacy.belgorod.su>
	<20080123135853.GA7497@localhost.localdomain>
	<4798697F.2050800@belacy.belgorod.su>
	<20080124141442.GA7794@localhost.localdomain>
Message-ID: <4799829A.2010302@belacy.belgorod.su>

On  Thursday, January 24, 2008, 17:14 Przemyslaw Czerpak 
<druzus@acn.waw.pl> wrote:

>>   The C level socket API is used in client part, because the RDD is
>> written on C. I don't see serious problem here, too, because I'm sure 
>> that in the case of necessity appropriate separated parts can be easily 
>> adopted.

PC> So how it will work with compressed socket when we add native
PC> support for stream compression?

  Just borrowing appropriate piece of code. I hope that such important
  additions won't come every month :).

PC> And what if Harbour socket will not have usable OS handle at all
PC> on some platforms? What if it will be necessary to hide some
PC> OS dependent differences? F.e. select() works a little bit different
PC> in MS-Windows then in *nixes. Even between *nixes there are some
PC> important differences in this function. Do you know these differences?

  No. But I tested my code under both XP and Linux and didn't find any
  difference. Maybe, I didn't dig deeply enough, though.

PC> Can you tell me what functionality is necessary for you?

   See below.

PC> If it will be portable then we will add it to hbinet.c.
PC> There is absolutely no reason to make hb_inetSocketFinalize
PC> public until we want to keep sockets internals 3-rd party
PC> code independent and easy expandable.

  So, you confirm that hbinet.c can't be extended by 3-rd party 
libraries and if someone need any changes or additions, he have to 
modify the hbinet.c. And what if this changes aren't fully portable or 
suitable for general use, but satisfy his specific needs ? Isn't this a 
limitation, too ?

>>  The second is that I don't understand why hb_parptrGC(), 
>> hb_inetSocketFinalize() are used instead of usual hb_parptr() and how to 
>> work with them, I found it more easy for me to rewrite appropiate parts 
>> of code than dig in it :).

PC> The answer is very simple. .prg code should protect against low level
PC> errors like GPF. hb_parptrGC() validate if given pointer is a pointer
PC> to valid socket structure. hb_parptr() will also work but it will accept
PC> all possible pointer items not only these one which point to socket
PC> structure. Look at HWGUI. There is no validation at all so user can pass
PC> wrong pointers or handles to functions which will accept them and later
PC> GPF. Such code is unsafe. We should always try to write code as safe
PC> as possible.

  You are right. Harbour's rtl is written for general use and this code 
may be used in any kinds of applications, including those, where this 
kind of safety is important - I mean, first of all, pieces of code, 
which are intended for executing by some server.
  In case of common desktop applications it is, IMO, isn't important. 
Imagine, that programmer made a mistake and pass some bad word :) 
instead of a handle to a function. Only his desktop application will 
crash and after some time of hunting he will find that mistake. And, 
probably, in case of GPF it will be more easy to identify the mistake 
than if the GPF doesn't occur and he get some 'strange' application 
behavior. That's why, for example, I don't worry about such things in 
HwGUI - as any other GUI library, it is intended for desktop applications.
  In the case of rdd for the db server it isn't an issue at all, because 
the socket handle is hidden in workarea structure.

PC> As I said it's not necessary at all and so far you haven't answer
PC> why you need it. Again, please tell me which additional functionality
PC> is necessary for you and I'll add them to hbinet.c.

Ok. Below are the functions I've added:

static fd_set rd_fds, active_fds;
static unsigned int rd_maxfd;

HB_FUNC( HB_IP_RFD_SET )
{
    HB_SOCKET_T hSocket = (HB_SOCKET_T)hb_parnl(1);

    if( !hSocket )
    {
       return;
    }

    HB_SOCKET_ZERO_ERROR();

    FD_SET( hSocket, &rd_fds );
    rd_maxfd = ( rd_maxfd > hSocket )? rd_maxfd : hSocket;
}

HB_FUNC( HB_IP_RFD_ZERO )
{
    FD_ZERO( &rd_fds );
    rd_maxfd = 0;
}

HB_FUNC( HB_IP_RFD_CLR )
{
    HB_SOCKET_T hSocket = (HB_SOCKET_T)hb_parnl(1);
    FD_CLR( hSocket, &rd_fds );
}

HB_FUNC( HB_IP_RFD_SELECT )
{
    struct timeval tv = {0,0};
    int iTimeOut;

    if( hb_pcount() == 1 )
    {
       iTimeOut = hb_parni( 1 );
       tv.tv_sec = iTimeOut / 1000;
       tv.tv_usec = (iTimeOut % 1000) * 1000;
    }
    active_fds = rd_fds;

    iTimeOut = select( rd_maxfd + 1, &active_fds, NULL, NULL, &tv);

    hb_retni( iTimeOut );
}

HB_FUNC( HB_IP_RFD_ISSET )
{
    HB_SOCKET_T hSocket = (HB_SOCKET_T)hb_parnl(1);
    hb_retl( FD_ISSET( hSocket,&active_fds ) );
}

  I know that this code isn't proper for general use, because it uses 
one static rd_fds and, so this set of functions can't be used for 
selecting concurrently from two sets of sockets. But it fully satisfies 
my needs - at least now.

Other small change is that I've added 3'rd value of iMode to read and 
send functions - to avoid the call of hb_selectReadSocket(), because I 
check the socket before calling send() and receive() every time and 
don't need an additional checking.


Regards,
  Alexander
http://kresin.belgorod.su


From alex at belacy.belgorod.su  Fri Jan 25 01:37:33 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Fri Jan 25 01:37:43 2008
Subject: [Harbour] Re:   Licence question
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E875@SRV02.deltain.net>
References: <4796E51F.7080702@belacy.belgorod.su>	<200801230202.56328.philb@philb.us>	<4796ECB6.4080205@belacy.belgorod.su>	<20080123100206.GD5164@localhost.localdomain>	<47972C45.10703@belacy.belgorod.su><47973C97.1BC9DDBC@libero.it>	<47986989.70808@belacy.belgorod.su>	<AFB948164110ED43B5EB849E8DEEF03815E873@SRV02.deltain.net><47987A18.8020905@belacy.belgorod.su>	<007001c85e82$5d6b4650$1841d2f0$@com>
	<AFB948164110ED43B5EB849E8DEEF03815E875@SRV02.deltain.net>
Message-ID: <479983AD.4030404@belacy.belgorod.su>

Massimo Belgrano writes:
> I confirm it was at http://www.idep.org.uk/xbase

  Now the link is broken.

> As name for upcoming project I suggest netrdd in honor to Przemek's
> original Idea
> 

  Hm... NETRDD is a RDD, not a server.
And probably, Przemek will decide to implement it himself at some time, 
who knows ...

  Regards,
   Alexander.

From philb at philb.us  Fri Jan 25 02:07:16 2008
From: philb at philb.us (Phil Barnett)
Date: Fri Jan 25 02:07:19 2008
Subject: [Harbour] Next Beta Release
In-Reply-To: <20080125024606.GA9825@localhost.localdomain>
References: <200801232318.07568.philb@philb.us>
	<20080125024606.GA9825@localhost.localdomain>
Message-ID: <200801250207.16211.philb@philb.us>

On Thursday 24 January 2008 09:46:06 pm Przemyslaw Czerpak wrote:

> I think so. And probably it should be called rc-1.
> The open question is what to do with beta branch.
> After Viktor's cleanup in devel code (mostly in
> contrib) the diff file between branches has over
> 10MB. I can sync it but probably it will be much
> easier to remove old beta branch create new new
> one from current devel.

Agreed.


From philb at philb.us  Fri Jan 25 02:18:37 2008
From: philb at philb.us (Phil Barnett)
Date: Fri Jan 25 02:18:39 2008
Subject: [Harbour] Next Beta Release
In-Reply-To: <200801250207.16211.philb@philb.us>
References: <200801232318.07568.philb@philb.us>
	<20080125024606.GA9825@localhost.localdomain>
	<200801250207.16211.philb@philb.us>
Message-ID: <200801250218.37325.philb@philb.us>

On Friday 25 January 2008 02:07:16 am Phil Barnett wrote:
> On Thursday 24 January 2008 09:46:06 pm Przemyslaw Czerpak wrote:
> > I think so. And probably it should be called rc-1.
> > The open question is what to do with beta branch.
> > After Viktor's cleanup in devel code (mostly in
> > contrib) the diff file between branches has over
> > 10MB. I can sync it but probably it will be much
> > easier to remove old beta branch create new new
> > one from current devel.
>
> Agreed.

And, further to that point, it is important to understand what this means.

Release Candidate means we are freezing the code until the release of 1.0. No 
new code. Period.

If you have new code, hang on to it. You've had a year to put it in during the 
Beta cycle. Now, you wait.

The ONLY changes are bug fixes to existing code.

The cycle will be two weeks before the next RC.

Let's get this done, folks!
From lorenzo.fiorini at gmail.com  Fri Jan 25 02:26:36 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jan 25 02:26:42 2008
Subject: [Harbour] Next Beta Release
In-Reply-To: <200801250218.37325.philb@philb.us>
References: <200801232318.07568.philb@philb.us>
	<20080125024606.GA9825@localhost.localdomain>
	<200801250207.16211.philb@philb.us>
	<200801250218.37325.philb@philb.us>
Message-ID: <9257026e0801242326w9c2c31j71eaa76e781f04d@mail.gmail.com>

On Jan 25, 2008 8:18 AM, Phil Barnett <philb@philb.us> wrote:

> Release Candidate means we are freezing the code until the release of 1.0. No
> new code. Period.

Does this apply to contribs too?

best regards,
Lorenzo
From philb at philb.us  Fri Jan 25 02:29:16 2008
From: philb at philb.us (Phil Barnett)
Date: Fri Jan 25 02:29:19 2008
Subject: [Harbour] Next Beta Release
In-Reply-To: <9257026e0801242326w9c2c31j71eaa76e781f04d@mail.gmail.com>
References: <200801232318.07568.philb@philb.us>
	<200801250218.37325.philb@philb.us>
	<9257026e0801242326w9c2c31j71eaa76e781f04d@mail.gmail.com>
Message-ID: <200801250229.16951.philb@philb.us>

On Friday 25 January 2008 02:26:36 am Lorenzo Fiorini wrote:
> On Jan 25, 2008 8:18 AM, Phil Barnett <philb@philb.us> wrote:
> > Release Candidate means we are freezing the code until the release of
> > 1.0. No new code. Period.
>
> Does this apply to contribs too?

Yes. We need to have stability now.
From harbour.01 at syenar.hu  Fri Jan 25 02:49:18 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 02:49:09 2008
Subject: [Harbour] Next Beta Release
In-Reply-To: <20080125024606.GA9825@localhost.localdomain>
References: <200801232318.07568.philb@philb.us>
	<20080125024606.GA9825@localhost.localdomain>
Message-ID: <BD936935-BDD3-460C-AF69-E82D41786F04@syenar.hu>

Hi all,

I'm trying to minimize confusion and variations
when it comes to make files, and adding make_gnu.cmd
doesn't really help in that process (since we
already have the same filename with .bat extension,
and for most ppl - who are Windows users - .cmd seems
to be a possible (but in our case, non-working) choice
when trying to initiate a build.

So, if .bat works in OS/2 (which I believe they do, but
I may be wrong), I'd suggest not to add a copy of that
file with the .cmd extension (and different HB_* defaults
set). If it works OS/2 users will have to set those three
envvars and lauch the .bat file. Same goes for bin/bld.bat.

set HB_ARCHITECTURE=os2
set HB_COMPILER=gcc (or icc)
set HB_GT_LIB=gtos2
call make_gnu.bat

Notice that most ppl have to do this even on Windows,
so there is no disadvantage for OS/2 users.

Brgds,
Viktor

On 2008.01.25., at 3:46, Przemyslaw Czerpak wrote:

> On Wed, 23 Jan 2008, Phil Barnett wrote:
>> Are we ready to do another beta release?
>
> I think so. And probably it should be called rc-1.
> The open question is what to do with beta branch.
> After Viktor's cleanup in devel code (mostly in
> contrib) the diff file between branches has over
> 10MB. I can sync it but probably it will be much
> easier to remove old beta branch create new new
> one from current devel.
> If you agre then I'll try to make it in this weekend
> and then we can start release process. Meanwhile
> I'd like to ask everybody to make build tests on
> different platforms. I'm interesting specially in
> some less used ones, f.e. can someone make tests
> on SunOS? It's the long time when I was making
> last test with Solaris and now I do not have access
> to computer with this OS where I can make such tests.
> The OS2 build reports from David suggests that we
> should reactivate make_gnu.cmd. Viktor can you do
> that? We can also add some cleanup for this OS
> by adding few function to our C FS API f.e. to
> set file attributes and day time. They will be
> usable also in other places like CT library so
> it's good idea to have them but I do not know
> it I should add them now. If yes then I should
> make it quite fast.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Jan 25 02:52:26 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 02:52:16 2008
Subject: [Harbour] Next Beta Release
In-Reply-To: <20080125024606.GA9825@localhost.localdomain>
References: <200801232318.07568.philb@philb.us>
	<20080125024606.GA9825@localhost.localdomain>
Message-ID: <F0F0739F-0F56-446D-B0D0-69350A8F7316@syenar.hu>

Hi Przemek and all,

One important issue came to my mind, namely the
renaming of Harbour core libraries, to have the
"hb" prefix on them, as we've planned and already
agreed on not long ago.

I can do this on the weekend, but since this
would be a move which would definitely stir up
users, since all make files will need to be
modified, I was reluctant to do it so far. But
still I feel it would be important to separate
Harbour from other present or future products.

Shall I do this renaming now?

Brgds,
Viktor

On 2008.01.25., at 3:46, Przemyslaw Czerpak wrote:

> On Wed, 23 Jan 2008, Phil Barnett wrote:
>> Are we ready to do another beta release?
>
> I think so. And probably it should be called rc-1.
> The open question is what to do with beta branch.
> After Viktor's cleanup in devel code (mostly in
> contrib) the diff file between branches has over
> 10MB. I can sync it but probably it will be much
> easier to remove old beta branch create new new
> one from current devel.
> If you agre then I'll try to make it in this weekend
> and then we can start release process. Meanwhile
> I'd like to ask everybody to make build tests on
> different platforms. I'm interesting specially in
> some less used ones, f.e. can someone make tests
> on SunOS? It's the long time when I was making
> last test with Solaris and now I do not have access
> to computer with this OS where I can make such tests.
> The OS2 build reports from David suggests that we
> should reactivate make_gnu.cmd. Viktor can you do
> that? We can also add some cleanup for this OS
> by adding few function to our C FS API f.e. to
> set file attributes and day time. They will be
> usable also in other places like CT library so
> it's good idea to have them but I do not know
> it I should add them now. If yes then I should
> make it quite fast.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From philb at philb.us  Fri Jan 25 02:56:42 2008
From: philb at philb.us (Phil Barnett)
Date: Fri Jan 25 02:56:45 2008
Subject: [Harbour] Next Beta Release
In-Reply-To: <F0F0739F-0F56-446D-B0D0-69350A8F7316@syenar.hu>
References: <200801232318.07568.philb@philb.us>
	<20080125024606.GA9825@localhost.localdomain>
	<F0F0739F-0F56-446D-B0D0-69350A8F7316@syenar.hu>
Message-ID: <200801250256.42438.philb@philb.us>

On Friday 25 January 2008 02:52:26 am Szak?ts Viktor wrote:
> Shall I do this renaming now?

Yes.
From harbour.01 at syenar.hu  Fri Jan 25 03:00:11 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 03:00:02 2008
Subject: [Harbour] Compiling contrib libraries
In-Reply-To: <4795C569.1050908@mweb.co.za>
References: <4795A799.7090005@mweb.co.za> <4795C569.1050908@mweb.co.za>
Message-ID: <61079159-887C-47EC-BE10-B044E82B2E25@syenar.hu>

Hi Alex,

You may need a newer version of the Windows SDK.

But even with the latest (or at least one from 2007 autumn),
I'm still getting some fatal build error with VC:

	cl.exe -c -I..\..\include -Ot2b1 -EHs-c- -FD -Gs - 
D_CRT_SECURE_NO_DEPRECATE -W3 -nologo -D__WINDOWS__ -DWIN32 - 
D__WIN32__  -O2  -Fo..\..\obj\vc\ .\w32_ddrw.cpp
w32_ddrw.cpp
.\w32_ddrw.cpp(154) : warning C4996: 'strdup': The POSIX name for this  
item is deprecated. Instead, use the ISO C++ conformant name: _strdup.  
See online help for details.
         C:\Program Files\Microsoft Visual Studio 8\VC\INCLUDE 
\string.h(207) : see declaration of 'strdup'
.\w32_ddrw.cpp(197) : warning C4996: 'strdup': The POSIX name for this  
item is deprecated. Instead, use the ISO C++ conformant name: _strdup.  
See online help for details.
         C:\Program Files\Microsoft Visual Studio 8\VC\INCLUDE 
\string.h(207) : see declaration of 'strdup'
.\w32_ddrw.cpp(205) : warning C4996: 'strdup': The POSIX name for this  
item is deprecated. Instead, use the ISO C++ conformant name: _strdup.  
See online help for details.
         C:\Program Files\Microsoft Visual Studio 8\VC\INCLUDE 
\string.h(207) : see declaration of 'strdup'
.\w32_ddrw.cpp(213) : warning C4996: 'strdup': The POSIX name for this  
item is deprecated. Instead, use the ISO C++ conformant name: _strdup.  
See online help for details.
         C:\Program Files\Microsoft Visual Studio 8\VC\INCLUDE 
\string.h(207) : see declaration of 'strdup'
.\w32_ddrw.cpp(226) : warning C4996: 'strdup': The POSIX name for this  
item is deprecated. Instead, use the ISO C++ conformant name: _strdup.  
See online help for details.
         C:\Program Files\Microsoft Visual Studio 8\VC\INCLUDE 
\string.h(207) : see declaration of 'strdup'
.\w32_ddrw.cpp(622) : error C4430: missing type specifier - int  
assumed. Note: C++ does not support default-int

Brgds,
Viktor

On 2008.01.22., at 11:28, Alex Strickland wrote:

> Hi all
>
> FYI building contrib libraries (MSVC 6) fails on direct draw  
> (hbw32ddr):
>
> 	cl.exe -c -I..\..\include -Ogt2yb1p -GX- -G6 -YX -FD -Gs -W3 - 
> nologo -D__WINDOWS__ -DWIN32 -D__WIN32__    -Fo..\..\obj\vc\ . 
> \w32_ddrw.cpp
> w32_ddrw.cpp
> .\w32_ddrw.h(61) : error C2065: 'IDirectDrawSurface4' : undeclared  
> identifier
> .\w32_ddrw.h(61) : error C2065: 'pdds' : undeclared identifier
> .\w32_ddrw.h(61) : error C2275: 'HBITMAP' : illegal use of this type  
> as an expression
>        C:\PROGRA~1\MIFD68~1\INCLUDE\windef.h(241) : see declaration  
> of 'HBITMAP'
> .\w32_ddrw.h(61) : error C2146: syntax error : missing ')' before  
> identifier 'hbm'
> .\w32_ddrw.h(61) : error C2078: too many initializers
> .\w32_ddrw.h(61) : error C2275: 'HBITMAP' : illegal use of this type  
> as an expression
>        C:\PROGRA~1\MIFD68~1\INCLUDE\windef.h(241) : see declaration  
> of 'HBITMAP'
> .\w32_ddrw.h(61) : error C2059: syntax error : ')'
> .\w32_ddrw.h(63) : error C2275: 'COLORREF' : illegal use of this  
> type as an expression
>        C:\PROGRA~1\MIFD68~1\INCLUDE\windef.h(290) : see declaration  
> of 'COLORREF'
> .\w32_ddrw.h(63) : error C2146: syntax error : missing ')' before  
> identifier 'rgb'
> .\w32_ddrw.h(63) : error C2078: too many initializers
> .\w32_ddrw.h(63) : error C2275: 'COLORREF' : illegal use of this  
> type as an expression
>        C:\PROGRA~1\MIFD68~1\INCLUDE\windef.h(290) : see declaration  
> of 'COLORREF'
> .\w32_ddrw.h(63) : error C2059: syntax error : ')'
> .\w32_ddrw.cpp(42) : error C2146: syntax error : missing ';' before  
> identifier 'hb_dd_g_pDD'
> .\w32_ddrw.cpp(42) : error C2501: 'LPDIRECTDRAW4' : missing storage- 
> class or type specifiers
> .\w32_ddrw.cpp(42) : fatal error C1004: unexpected end of file found
>
>
> Regards
> Alex
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Fri Jan 25 03:08:19 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jan 25 03:08:23 2008
Subject: [Harbour] Next Beta Release
In-Reply-To: <BD936935-BDD3-460C-AF69-E82D41786F04@syenar.hu>
References: <200801232318.07568.philb@philb.us>
	<20080125024606.GA9825@localhost.localdomain>
	<BD936935-BDD3-460C-AF69-E82D41786F04@syenar.hu>
Message-ID: <20080125080819.GA5060@localhost.localdomain>

On Fri, 25 Jan 2008, Szak?ts Viktor wrote:
> I'm trying to minimize confusion and variations
> when it comes to make files, and adding make_gnu.cmd
> doesn't really help in that process (since we
> already have the same filename with .bat extension,
> and for most ppl - who are Windows users - .cmd seems
> to be a possible (but in our case, non-working) choice
> when trying to initiate a build.

I understand and agree.

> So, if .bat works in OS/2 (which I believe they do, but
> I may be wrong), I'd suggest not to add a copy of that
> file with the .cmd extension (and different HB_* defaults
> set). If it works OS/2 users will have to set those three
> envvars and lauch the .bat file. Same goes for bin/bld.bat.

AFAIK it doesn't. Here is part of David message which he sent
to this list few weeks ago.
,-----------------------------------------------------------------------
| These type of files are need under OS/2
| Using make_gnu.bat ( with proper platform/compiler sets ) result in:
| ---------------------
| [E:\harbour712]make_gnu.bat
| SYS1057: The file or path name entered is invalid in a DOS session.
| ---------------------
| .bat files are considered for 16 bits sessions and in this case OS/2
| open one "DOS session" to handle make_gnu.bat, while .cmd files are for
| 32 bits sessions
| Can you recall .cmd files ?
`-----------------------------------------------------------------------

Maybe I missed sth but I understood that now he has to set all
envvars manually and call 'make' directly.

best regards,
Przemek
From maurilio.longo at libero.it  Fri Jan 25 03:10:53 2008
From: maurilio.longo at libero.it (Maurilio Longo)
Date: Fri Jan 25 03:11:01 2008
Subject: [Harbour] Next Beta Release
References: <200801232318.07568.philb@philb.us>
	<20080125024606.GA9825@localhost.localdomain>
	<BD936935-BDD3-460C-AF69-E82D41786F04@syenar.hu>
Message-ID: <4799998D.8F2B9275@libero.it>

Viktor,

.cmd files are enhanced .bat files on OS/2 as well as on Win32 from NT on.

On OS/2 if you launch a .bat file you open a DOS emulation box which cannot
execute OS/2 executables (with a few exceptions, which are those .EXEs which
have bundled inside them a DOS .EXE), so the .cmd variant of make_gnu could
have the same content of the .bat one, but it is a different thing.

Best regards.

Maurilio.

Szak?ts Viktor ha scritto:
> 
> Hi all,
> 
> I'm trying to minimize confusion and variations
> when it comes to make files, and adding make_gnu.cmd
> doesn't really help in that process (since we
> already have the same filename with .bat extension,
> and for most ppl - who are Windows users - .cmd seems
> to be a possible (but in our case, non-working) choice
> when trying to initiate a build.
> 
> So, if .bat works in OS/2 (which I believe they do, but
> I may be wrong), I'd suggest not to add a copy of that
> file with the .cmd extension (and different HB_* defaults
> set). If it works OS/2 users will have to set those three
> envvars and lauch the .bat file. Same goes for bin/bld.bat.
> 
> set HB_ARCHITECTURE=os2
> set HB_COMPILER=gcc (or icc)
> set HB_GT_LIB=gtos2
> call make_gnu.bat
> 
> Notice that most ppl have to do this even on Windows,
> so there is no disadvantage for OS/2 users.
> 
> Brgds,
> Viktor
> 
> On 2008.01.25., at 3:46, Przemyslaw Czerpak wrote:
> 
> > On Wed, 23 Jan 2008, Phil Barnett wrote:
> >> Are we ready to do another beta release?
> >
> > I think so. And probably it should be called rc-1.
> > The open question is what to do with beta branch.
> > After Viktor's cleanup in devel code (mostly in
> > contrib) the diff file between branches has over
> > 10MB. I can sync it but probably it will be much
> > easier to remove old beta branch create new new
> > one from current devel.
> > If you agre then I'll try to make it in this weekend
> > and then we can start release process. Meanwhile
> > I'd like to ask everybody to make build tests on
> > different platforms. I'm interesting specially in
> > some less used ones, f.e. can someone make tests
> > on SunOS? It's the long time when I was making
> > last test with Solaris and now I do not have access
> > to computer with this OS where I can make such tests.
> > The OS2 build reports from David suggests that we
> > should reactivate make_gnu.cmd. Viktor can you do
> > that? We can also add some cleanup for this OS
> > by adding few function to our C FS API f.e. to
> > set file attributes and day time. They will be
> > usable also in other places like CT library so
> > it's good idea to have them but I do not know
> > it I should add them now. If yes then I should
> > make it quite fast.
> >
> > best regards,
> > Przemek
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

-- 
 __________                   
|  |  | |__| Maurilio Longo
|_|_|_|____| farmaconsult s.r.l.
From harbour.01 at syenar.hu  Fri Jan 25 03:37:19 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 03:37:13 2008
Subject: [Harbour] Next Beta Release
In-Reply-To: <20080125080819.GA5060@localhost.localdomain>
References: <200801232318.07568.philb@philb.us>
	<20080125024606.GA9825@localhost.localdomain>
	<BD936935-BDD3-460C-AF69-E82D41786F04@syenar.hu>
	<20080125080819.GA5060@localhost.localdomain>
Message-ID: <F434C7B5-BEF7-41B5-BECC-A38512CEB492@syenar.hu>

>> So, if .bat works in OS/2 (which I believe they do, but
>> I may be wrong), I'd suggest not to add a copy of that
>> file with the .cmd extension (and different HB_* defaults
>> set). If it works OS/2 users will have to set those three
>> envvars and lauch the .bat file. Same goes for bin/bld.bat.
>
> AFAIK it doesn't. Here is part of David message which he sent
> to this list few weeks ago.
> ,-----------------------------------------------------------------------
> | These type of files are need under OS/2
> | Using make_gnu.bat ( with proper platform/compiler sets ) result in:
> | ---------------------
> | [E:\harbour712]make_gnu.bat
> | SYS1057: The file or path name entered is invalid in a DOS session.
> | ---------------------
> | .bat files are considered for 16 bits sessions and in this case OS/2
> | open one "DOS session" to handle make_gnu.bat, while .cmd files  
> are for
> | 32 bits sessions
> | Can you recall .cmd files ?
> ` 
> -----------------------------------------------------------------------
>
> Maybe I missed sth but I understood that now he has to set all
> envvars manually and call 'make' directly.

Yes, that's basically it. There is not much magic done
in these batch files (platform envvars, HB_BIN/INC/LIB_INSTALL
envvars set and make called with -r, that's it).

Maybe make_gnu_os2.cmd could be non-confusing name. I don't like
it too much but we already have some long names anyway.

Brgds,
Viktor

From druzus at acn.waw.pl  Fri Jan 25 03:37:57 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jan 25 03:38:02 2008
Subject: [Harbour] Next Beta Release
In-Reply-To: <F0F0739F-0F56-446D-B0D0-69350A8F7316@syenar.hu>
References: <200801232318.07568.philb@philb.us>
	<20080125024606.GA9825@localhost.localdomain>
	<F0F0739F-0F56-446D-B0D0-69350A8F7316@syenar.hu>
Message-ID: <20080125083757.GB5060@localhost.localdomain>

On Fri, 25 Jan 2008, Szak?ts Viktor wrote:
> Hi Przemek and all,
> One important issue came to my mind, namely the
> renaming of Harbour core libraries, to have the
> "hb" prefix on them, as we've planned and already
> agreed on not long ago.
> I can do this on the weekend, but since this
> would be a move which would definitely stir up
> users, since all make files will need to be
> modified, I was reluctant to do it so far. But

Not all. Users who use hb* scripts will not see any
difference. The main problem is that they are available
only on platforms with bash.
But we will have to update our own make files for each
platform and this will have to be tested.

> still I feel it would be important to separate
> Harbour from other present or future products.
> Shall I do this renaming now?

OK, please do it if all can be done in this weekend.
Better now then never. I also had some problems with
name conflicts here so I agree that it's a problem.
Though maybe we should try to create one big library
f.e. harbour.lib instead? In such case I suggest to
leave it now and make modifications in the future
after 1.0 release.
Anyhow any modifications should be done fast. We are all
blocked by the release state and there is a lot of other
changes and extensions frozen by it so we have to finish
it ASAP. We cannot expect that developers will be interested
in some projects enough to wait for months to realise them.
We will never reach the state when we all will be happy from
current code and can say that there is nothing more to improve
so sometimes we have to take an arbitrary decision. I think
that in one and a half of month we can have version 1.0 and
begin to work on many other things.

BTW H in HVM is from harbour so do not create HBHVM but HBVM ;-)
and rather leave names of GT* libraries as they are. GT seems
to be quite good prefix too, f.e.:
    HBCP
    HBCOM
    HBCMP
    HBDBG
    HBLNG
    HBMAC
    HBPP
    HBRDD
    HBRTL
    HBVM
Please remember that first five letters have to be significant
for DJGPP DOS8.3 build where LIB prefix is used. You can use
longer names but after stripping to 8.3 format they should be
unique.

best regards,
Przemek
From harbour.01 at syenar.hu  Fri Jan 25 03:39:10 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 03:39:00 2008
Subject: [Harbour] problems in ADORDD
In-Reply-To: <478E7AF7.7010708@oohg.org>
References: <478E7AF7.7010708@oohg.org>
Message-ID: <B4A36B87-B684-4371-A3C0-7F90F7CE9E91@syenar.hu>

Anyone with a fix for this one? Antonio?

Brgds,
Viktor

On 2008.01.16., at 22:45, Ciro Vargas Clemow wrote:

>
> Hi all:
>
> I test the example access2.prg from the samples of adordd
>
> the program runs and diplay the browse, but if I press ENTER over  
> any field I obtain the next error:
>
> Date: 12/30/07 Time: 10:27:49
> Error BASE/1073 Argument error: <
>
> Called from ADO_ORDINFO(499)
> Called from ORDKEY(0)
> Called from INDEXKEY(90)
> Called from DOGET(328)
> Called from BROWSE(258)
> Called from MAIN(27)
>
> I use the last SVN
>
> regards
> Ciro
>
>
>
> -- 
> http://sistemascvc.tripod.com  (la casa del no2imp / the no2imp home )
>
> http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more  
> powerfull )
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From druzus at acn.waw.pl  Fri Jan 25 03:50:17 2008
From: druzus at acn.waw.pl (Przemyslaw Czerpak)
Date: Fri Jan 25 03:50:22 2008
Subject: [Harbour] Next Beta Release
In-Reply-To: <F434C7B5-BEF7-41B5-BECC-A38512CEB492@syenar.hu>
References: <200801232318.07568.philb@philb.us>
	<20080125024606.GA9825@localhost.localdomain>
	<BD936935-BDD3-460C-AF69-E82D41786F04@syenar.hu>
	<20080125080819.GA5060@localhost.localdomain>
	<F434C7B5-BEF7-41B5-BECC-A38512CEB492@syenar.hu>
Message-ID: <20080125085017.GC5060@localhost.localdomain>

On Fri, 25 Jan 2008, Szak?ts Viktor wrote:
> >Maybe I missed sth but I understood that now he has to set all
> >envvars manually and call 'make' directly.
> Yes, that's basically it. There is not much magic done
> in these batch files (platform envvars, HB_BIN/INC/LIB_INSTALL
> envvars set and make called with -r, that's it).
> Maybe make_gnu_os2.cmd could be non-confusing name. I don't like
> it too much but we already have some long names anyway.

If the .cmd extension is not enough then I suggest make_os2.cmd
We do not have non GNU make files for OS2.
BTW if we add support for OpenWatcom to our non GNU make files
then we can also add OpenWatcom OS2 builds. Does any one tried
to build Harbour using OpenWatcom on OS2?

best regards,
Przemek
From sscc at mweb.co.za  Fri Jan 25 03:54:24 2008
From: sscc at mweb.co.za (Alex Strickland)
Date: Fri Jan 25 03:54:35 2008
Subject: [Harbour] Compiling contrib libraries
In-Reply-To: <61079159-887C-47EC-BE10-B044E82B2E25@syenar.hu>
References: <4795A799.7090005@mweb.co.za> <4795C569.1050908@mweb.co.za>
	<61079159-887C-47EC-BE10-B044E82B2E25@syenar.hu>
Message-ID: <4799A3C0.80409@mweb.co.za>

Szak?ts Viktor wrote:

> You may need a newer version of the Windows SDK.
> 
> But even with the latest (or at least one from 2007 autumn),
> I'm still getting some fatal build error with VC:

Perhaps we should remove it?

Is anyone using it?

Regards
Alex
From harbour.01 at syenar.hu  Fri Jan 25 04:04:54 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 04:04:45 2008
Subject: [Harbour] zlib contrib question
Message-ID: <3D0251BF-C577-4B9F-98AC-8A1770C8628B@syenar.hu>

Hi Mindaugas and all,

I'd suggest to keep zlib.h and zconf.h out of our SVN,
since the zlib dll package is needed anyway to use this
contrib. This way we'd be in sync with the rest of the
contribs where similar concept is used to avoid any
user installed .dll vs. local header file incompatibilites.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jan 25 04:06:02 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 04:06:04 2008
Subject: [Harbour] CHANGELOG: 2008-01-25 10:05 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c85f31$Blat.v2.6.2$8296b450$1200957a70de@127.0.0.1>

2008-01-25 10:05 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/hbzlib/make_b32.bat
   * contrib/hbzlib/make_vc.bat
     + Added creation of .lib from .dll for non-GNU make systems.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jan 25 04:09:04 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 04:09:07 2008
Subject: [Harbour] CHANGELOG: 2008-01-25 10:08 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c85f31$Blat.v2.6.2$eed153d2$157c39d07cae@127.0.0.1>

2008-01-25 10:08 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/hbrddads/make_b32.bat
   * contrib/hbrddads/make_vc.bat
     ! Removed duplicate line.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jan 25 04:16:32 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 04:16:21 2008
Subject: [Harbour] Next Beta Release
In-Reply-To: <20080125083757.GB5060@localhost.localdomain>
References: <200801232318.07568.philb@philb.us>
	<20080125024606.GA9825@localhost.localdomain>
	<F0F0739F-0F56-446D-B0D0-69350A8F7316@syenar.hu>
	<20080125083757.GB5060@localhost.localdomain>
Message-ID: <1237B110-B02F-4C1F-BD59-9264E217E54F@syenar.hu>

Hi Przemek,

Okey, here's my TODO list for rename, let's revise it.

Current     Proposed
LIBNAME     LIBNAME
----------- -------------
codepage    hbcp
common      hbcommon
compiler    hbcomp ! -> hbc
debug       hbdebug
hbsix       hbsix
hsx         hbhsx
lang        hblang
macro       hbmacro
pp          hbpp
rtl         hbrtl
vm          hbvm
gt*         hbgt* ! -> gt* ?
rdd         hbrdd
dbfcdx      hbrddcdx ! -> hbcdxrdd ?
dbffpt      hbrddfpt ! -> hbfptrdd ?
dbfntx      hbrddntx ! -> hbntxrdd ?
nulsys      hbnulrdd
usrrdd      hbusrrdd

The problem seems to be with the ones with an
exclamation mark (with proposals). (I'd not rename
everything to be 3 chars this time, since this
would make them not resemble to their dir name in
the source tree)

Brgds,
Viktor

On 2008.01.25., at 9:37, Przemyslaw Czerpak wrote:

> On Fri, 25 Jan 2008, Szak?ts Viktor wrote:
>> Hi Przemek and all,
>> One important issue came to my mind, namely the
>> renaming of Harbour core libraries, to have the
>> "hb" prefix on them, as we've planned and already
>> agreed on not long ago.
>> I can do this on the weekend, but since this
>> would be a move which would definitely stir up
>> users, since all make files will need to be
>> modified, I was reluctant to do it so far. But
>
> Not all. Users who use hb* scripts will not see any
> difference. The main problem is that they are available
> only on platforms with bash.
> But we will have to update our own make files for each
> platform and this will have to be tested.
>
>> still I feel it would be important to separate
>> Harbour from other present or future products.
>> Shall I do this renaming now?
>
> OK, please do it if all can be done in this weekend.
> Better now then never. I also had some problems with
> name conflicts here so I agree that it's a problem.
> Though maybe we should try to create one big library
> f.e. harbour.lib instead? In such case I suggest to
> leave it now and make modifications in the future
> after 1.0 release.
> Anyhow any modifications should be done fast. We are all
> blocked by the release state and there is a lot of other
> changes and extensions frozen by it so we have to finish
> it ASAP. We cannot expect that developers will be interested
> in some projects enough to wait for months to realise them.
> We will never reach the state when we all will be happy from
> current code and can say that there is nothing more to improve
> so sometimes we have to take an arbitrary decision. I think
> that in one and a half of month we can have version 1.0 and
> begin to work on many other things.
>
> BTW H in HVM is from harbour so do not create HBHVM but HBVM ;-)
> and rather leave names of GT* libraries as they are. GT seems
> to be quite good prefix too, f.e.:
>    HBCP
>    HBCOM
>    HBCMP
>    HBDBG
>    HBLNG
>    HBMAC
>    HBPP
>    HBRDD
>    HBRTL
>    HBVM
> Please remember that first five letters have to be significant
> for DJGPP DOS8.3 build where LIB prefix is used. You can use
> longer names but after stripping to 8.3 format they should be
> unique.
>
> best regards,
> Przemek
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Jan 25 04:28:05 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 04:27:53 2008
Subject: [Harbour] Compiling contrib libraries
In-Reply-To: <4799A3C0.80409@mweb.co.za>
References: <4795A799.7090005@mweb.co.za> <4795C569.1050908@mweb.co.za>
	<61079159-887C-47EC-BE10-B044E82B2E25@syenar.hu>
	<4799A3C0.80409@mweb.co.za>
Message-ID: <1288C9A3-0A87-4F3A-B8A4-846962BFC9F2@syenar.hu>

I didn't remove it because it sort of works (after
some work done on it), and this could be an exciting /
interesting lib.

I think it could be easily fixed for someone familiar
with C++ and DX.

Brgds,
Viktor

On 2008.01.25., at 9:54, Alex Strickland wrote:

> Szak?ts Viktor wrote:
>
>> You may need a newer version of the Windows SDK.
>> But even with the latest (or at least one from 2007 autumn),
>> I'm still getting some fatal build error with VC:
>
> Perhaps we should remove it?
>
> Is anyone using it?
>
> Regards
> Alex
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mpaliwoda at interia.pl  Fri Jan 25 04:47:39 2008
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Fri Jan 25 04:47:49 2008
Subject: [Harbour] 2008-01-25 10:47 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
Message-ID: <fncb7k$irb$1@ger.gmane.org>

2008-01-25 10:47 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
    * contrib/make_b32_all.bat
    * contrib/make_vc_all.bat
     ! moved hbzlib compilation into "conditional section" of above batfiles

-- 

   Marek Paliwoda
mpaliwoda@interia.pl

From harbour.01 at syenar.hu  Fri Jan 25 04:57:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 04:57:22 2008
Subject: [Harbour] Next Beta Release
In-Reply-To: <1237B110-B02F-4C1F-BD59-9264E217E54F@syenar.hu>
References: <200801232318.07568.philb@philb.us>
	<20080125024606.GA9825@localhost.localdomain>
	<F0F0739F-0F56-446D-B0D0-69350A8F7316@syenar.hu>
	<20080125083757.GB5060@localhost.localdomain>
	<1237B110-B02F-4C1F-BD59-9264E217E54F@syenar.hu>
Message-ID: <21387841-2A7C-4E97-A310-DF2369531B2F@syenar.hu>

Proposal updated for rdds:

> Current     Proposed
> LIBNAME     LIBNAME
> ----------- -------------
> dbfcdx      hbrddcdx ! -> rddcdx
> dbffpt      hbrddfpt ! -> rddfpt
> dbfntx      hbrddntx ! -> rddntx

Since we're breaking the hb* rule for 'gt's,
I think it's logical to do the same for 'rdd's
where the concept is similar. Dunno how this
could collide with other Clipper implementations.

Brgds,
Viktor

From alex at belacy.belgorod.su  Fri Jan 25 05:13:34 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Fri Jan 25 05:13:48 2008
Subject: [Harbour] hbini error
Message-ID: <4799B64E.30701@belacy.belgorod.su>

Hi All,

  I tried to test the hbini module and have no success.
This short sample:

Function Main
Local aIni := HB_IniRead( "a1.ini" )
Return

where a1.ini is:

[abcd]
ppp=xyz

gives an error:

ERROR BASE/1111 Argument error: LEN
Called from LEN(0)
Called from HB_INIRDLOW(154)
Called from HB_INIREAD(106)
Called from Main(2)

  Could someone, who ported it from the xHarbour, look at it ?


Regards,
   Alexander
From lorenzo.fiorini at gmail.com  Fri Jan 25 05:23:11 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jan 25 05:23:15 2008
Subject: [Harbour] hbini error
In-Reply-To: <4799B64E.30701@belacy.belgorod.su>
References: <4799B64E.30701@belacy.belgorod.su>
Message-ID: <9257026e0801250223j60e006c6u1f48d48dbb35096f@mail.gmail.com>

On Jan 25, 2008 11:13 AM, Alexander S.Kresin <alex@belacy.belgorod.su> wrote:

>   I tried to test the hbini module and have no success.

I've tried it under Linux/Fc8 and I see the "Ok".

best regards,
Lorenzo

[abcd]
ppp=xyz

Function Main
Local aIni := HB_IniRead( "a1.ini" )
? "Ok"
Return
From alex at belacy.belgorod.su  Fri Jan 25 06:25:27 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Fri Jan 25 06:26:01 2008
Subject: [Harbour] Re:  hbini error
In-Reply-To: <9257026e0801250223j60e006c6u1f48d48dbb35096f@mail.gmail.com>
References: <4799B64E.30701@belacy.belgorod.su>
	<9257026e0801250223j60e006c6u1f48d48dbb35096f@mail.gmail.com>
Message-ID: <4799C727.6040607@belacy.belgorod.su>

Lorenzo Fiorini writes:
> On Jan 25, 2008 11:13 AM, Alexander S.Kresin <alex@belacy.belgorod.su> wrote:
> 
>>   I tried to test the hbini module and have no success.
> 
> I've tried it under Linux/Fc8 and I see the "Ok".
> 

  After rebuilding Harbour with latest sources ( previous was from 
17.12.2007 ) it works here, too.
  Sorry for a confusion.

Regards,
   Alexander.
From lorenzo.fiorini at gmail.com  Fri Jan 25 06:35:13 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Fri Jan 25 06:35:16 2008
Subject: [Harbour] Small change in contrib/hbtip
Message-ID: <9257026e0801250335x5cc9aa5o2e0be4762d2d27e0@mail.gmail.com>

Before RC1 I'd like to upload this change:

* contrib/hbtip/utils.c

added *.ico mimetype support in TIP_MIMETYPE

* contrib/hbtip/cgi.prg
+ contrib/hbtip/sessid.prg

moved static functions SID GenerateSID,  CheckSID, DateToGmt into a
separate prg since they can be used outside cgi.
Added TIP_ to the names to avoid collisions.

Any comment?

best regards,
Lorenzo
From dbtopas at dbtopas.lt  Fri Jan 25 08:23:23 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Jan 25 08:22:15 2008
Subject: [Harbour] ChangeLog 2008-01-25 15:20 UTC+0200 Mindaugas Kavaliauskas
Message-ID: <4799E2CB.3010909@dbtopas.lt>

2008-01-25 15:20 UTC+0200 Mindaugas Kavaliauskas (dbtopas/at/dbtopas.lt)
   * harbour/source/compiler/hbmain.c
     ! fixed a few /w3 memory leaks
From dbtopas at dbtopas.lt  Fri Jan 25 08:31:17 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Jan 25 08:30:42 2008
Subject: [Harbour] zlib contrib question
In-Reply-To: <3D0251BF-C577-4B9F-98AC-8A1770C8628B@syenar.hu>
References: <3D0251BF-C577-4B9F-98AC-8A1770C8628B@syenar.hu>
Message-ID: <4799E4A5.9060404@dbtopas.lt>

Szak?ts Viktor wrote:
> I'd suggest to keep zlib.h and zconf.h out of our SVN,
> since the zlib dll package is needed anyway to use this
> contrib. This way we'd be in sync with the rest of the
> contribs where similar concept is used to avoid any
> user installed .dll vs. local header file incompatibilites.

Hi,


I do not know how to manage this situation the best, so, feel free to 
change. I went the most simple way - included it into contrib project.


Best regards,
Mindaugas


From mbelgrano at deltain.it  Fri Jan 25 09:35:31 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Fri Jan 25 09:37:06 2008
Subject: [Harbour] Re:   Licence question
In-Reply-To: <479983AD.4030404@belacy.belgorod.su>
References: <4796E51F.7080702@belacy.belgorod.su>	<200801230202.56328.philb@philb.us>	<4796ECB6.4080205@belacy.belgorod.su>	<20080123100206.GD5164@localhost.localdomain>	<47972C45.10703@belacy.belgorod.su><47973C97.1BC9DDBC@libero.it>	<47986989.70808@belacy.belgorod.su>	<AFB948164110ED43B5EB849E8DEEF03815E873@SRV02.deltain.net><47987A18.8020905@belacy.belgorod.su>	<007001c85e82$5d6b4650$1841d2f0$@com><AFB948164110ED43B5EB849E8DEEF03815E875@SRV02.deltain.net>
	<479983AD.4030404@belacy.belgorod.su>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E87C@SRV02.deltain.net>

Netcsd    Net client server dbf
Dbf.net
Net.hds Harbour Database server by net

-----Original Message-----
From: harbour-bounces@harbour-project.org
[mailto:harbour-bounces@harbour-project.org] On Behalf Of Alexander
S.Kresin
Sent: Friday, January 25, 2008 7:38 AM
To: Harbour Project Main Developer List.
Subject: Re: [Harbour] Re: Licence question

Massimo Belgrano writes:
> I confirm it was at http://www.idep.org.uk/xbase

  Now the link is broken.

> As name for upcoming project I suggest netrdd in honor to Przemek's
> original Idea
> 

  Hm... NETRDD is a RDD, not a server.
And probably, Przemek will decide to implement it himself at some time, 
who knows ...

  Regards,
   Alexander.

_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From dbtopas at dbtopas.lt  Fri Jan 25 09:49:31 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Jan 25 09:49:08 2008
Subject: [Harbour] Next Beta Release
In-Reply-To: <20080125024606.GA9825@localhost.localdomain>
References: <200801232318.07568.philb@philb.us>
	<20080125024606.GA9825@localhost.localdomain>
Message-ID: <4799F6FB.7040100@dbtopas.lt>

Przemyslaw Czerpak wrote:
> I think so. And probably it should be called rc-1.
> The open question is what to do with beta branch.
> After Viktor's cleanup in devel code (mostly in
> contrib) the diff file between branches has over
> 10MB. I can sync it but probably it will be much
> easier to remove old beta branch create new new
> one from current devel.

Hi,


if we are going to have rc-1, we can just remove old and create new 
branch for 1.0. tag/1.0-rc1 will be the first tag of branch/1.0

We should also have a feeling (or better definition/agreement) what is 
fix and what is new code, and commit fixes to branch/1.0. Is redesign of 
some API a fix or new feature? Is redesign of make system a fix? Are new 
FS functions for date/attribute management and OS2 minizip support a new 
feature or a fix? Is new hbinet.c a fix?

Otherwise one of two things can happen:
1) fixes are committed to thunk only and branch/1.0 is not used;
2) new features will be committed to branch/1.0 and this makes branch 
unstable.

I have a feeling that the first thing has more chances to happen. We 
should limit definition of "fix" to be some local fixes of existing 
code, but not redesign of existing functionality. Because many things in 
Harbour needs redesign. If we want to include redesigned hbinet, hbole, 
gt with multiple windows, etc. in 1.0, it is not time to have rc1 now, 
but we must work hard on existing code.
If we want to release 1.0 now, let's limit it for local fixes and 
include redesigned features in 1.2. (I propose to use 1.1, 1.3, etc. for 
unstable (thunk) versions).


Best regards,
Mindaugas

From dbtopas at dbtopas.lt  Fri Jan 25 10:11:39 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Jan 25 10:10:48 2008
Subject: [Harbour] DIRECTORY() compatibility
Message-ID: <4799FC2B.4000100@dbtopas.lt>

Hi,


my friend found DIRECTORY() function incompatibility with clipper, when 
he tries to get file list by passing path with terminating "\" character.


PROC main()
   ? LEN(DIRECTORY("c:\harbour\source\rdd"))
   ? LEN(DIRECTORY("c:\harbour\source\rdd\"))
   ? LEN(DIRECTORY("c:\harbour\source\rdd\*.*"))
   ? LEN(DIRECTORY("c:\harbour\source\rdd", "D"))
   ? LEN(DIRECTORY("c:\harbour\source\rdd\", "D"))
   ? LEN(DIRECTORY("c:\harbour\source\rdd\*.*", "D"))
RETURN


Clipper:
          0
         35
         35
          1
         46
         46

Harbour:
          0
          0
         35
          1
          0
         46


Best regards,
Mindaugas

From harbour.01 at syenar.hu  Fri Jan 25 10:33:01 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 10:33:06 2008
Subject: [Harbour] CHANGELOG: 2008-01-25 16:32 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c85f67$Blat.v2.6.2$91f55506$17b02b24cd1e@127.0.0.1>

2008-01-25 16:32 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   - contrib/hbzlib/zlib.h
   - contrib/hbzlib/zconf.h
   * contrib/hbzlib/hbmzip.c
   * contrib/hbzlib/readme.txt
     ! Removed zlib headers included in Harbour SVN.
       For this contrib to compiler, users will need to have 
       the zlib package installed.
     ! stricmp() -> hb_stricmp() to avoid MSVC warning and 
       to be more portable.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jan 25 10:40:21 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 10:40:10 2008
Subject: [Harbour] zlib contrib question
In-Reply-To: <4799E4A5.9060404@dbtopas.lt>
References: <3D0251BF-C577-4B9F-98AC-8A1770C8628B@syenar.hu>
	<4799E4A5.9060404@dbtopas.lt>
Message-ID: <F78F80B4-6E65-4409-B771-7E1181E48446@syenar.hu>

Okey and thanks.

to Przemek: The GNU make system will have to adapted
too I guess.

Brgds,
Viktor

On 2008.01.25., at 14:31, Mindaugas Kavaliauskas wrote:

> Szak?ts Viktor wrote:
>> I'd suggest to keep zlib.h and zconf.h out of our SVN,
>> since the zlib dll package is needed anyway to use this
>> contrib. This way we'd be in sync with the rest of the
>> contribs where similar concept is used to avoid any
>> user installed .dll vs. local header file incompatibilites.
>
> Hi,
>
>
> I do not know how to manage this situation the best, so, feel free  
> to change. I went the most simple way - included it into contrib  
> project.
>
>
> Best regards,
> Mindaugas
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Jan 25 11:14:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 11:14:28 2008
Subject: [Harbour] DIRECTORY() compatibility
In-Reply-To: <4799FC2B.4000100@dbtopas.lt>
References: <4799FC2B.4000100@dbtopas.lt>
Message-ID: <7C74355E-7949-4C4C-B08E-19F8DD7FCB7D@syenar.hu>

Hi Mindaugas,

Seems to me this rather goes to down to platform behavior,
than being a bug in Harbour code itself. Harbour actually
passes down the file spec to the OS filefind call, unmodified.

Exact behavior for this case is also not described in detail
in the CA-Cl*pper NG.

We may try to mask these platform differences in Harbour
code (controlled with some more SETs), but I'd rather suggest
to modify the call to be more platform independent. (f.e.:
*.* won't return some stuff under Linux, which would be
returned under DOS/Windows)

Probably the same goes for ADIR().

Brgds,
Viktor

On 2008.01.25., at 16:11, Mindaugas Kavaliauskas wrote:

> Hi,
>
>
> my friend found DIRECTORY() function incompatibility with clipper,  
> when he tries to get file list by passing path with terminating "\"  
> character.
>
>
> PROC main()
>  ? LEN(DIRECTORY("c:\harbour\source\rdd"))
>  ? LEN(DIRECTORY("c:\harbour\source\rdd\"))
>  ? LEN(DIRECTORY("c:\harbour\source\rdd\*.*"))
>  ? LEN(DIRECTORY("c:\harbour\source\rdd", "D"))
>  ? LEN(DIRECTORY("c:\harbour\source\rdd\", "D"))
>  ? LEN(DIRECTORY("c:\harbour\source\rdd\*.*", "D"))
> RETURN
>
>
> Clipper:
>         0
>        35
>        35
>         1
>        46
>        46
>
> Harbour:
>         0
>         0
>        35
>         1
>         0
>        46
>
>
> Best regards,
> Mindaugas
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Fri Jan 25 11:55:41 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 11:55:43 2008
Subject: [Harbour] CHANGELOG: 2008-01-25 17:55 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c85f73$Blat.v2.6.2$1e4fbb9e$cd85a1b400@127.0.0.1>

2008-01-25 17:55 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * source/rtl/radiogrp.prg
     ! Minor formatting.
--
Brgds,
Viktor

From dbtopas at dbtopas.lt  Fri Jan 25 12:33:12 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Fri Jan 25 12:31:58 2008
Subject: [Harbour] DIRECTORY() compatibility
In-Reply-To: <7C74355E-7949-4C4C-B08E-19F8DD7FCB7D@syenar.hu>
References: <4799FC2B.4000100@dbtopas.lt>
	<7C74355E-7949-4C4C-B08E-19F8DD7FCB7D@syenar.hu>
Message-ID: <479A1D58.1090204@dbtopas.lt>

Hi,


> Seems to me this rather goes to down to platform behavior,
> than being a bug in Harbour code itself. Harbour actually
> passes down the file spec to the OS filefind call, unmodified.
> 
> Exact behavior for this case is also not described in detail
> in the CA-Cl*pper NG.

I know that parameter of of Directory() is passed to system function 
unmodified. And the question is a little delicate (not sure is the right 
english word to express what I mean), that's why I wanted to say it on 
mailing list before changing behavior on SVN.

I guess this behavior of clipper is from DOS int 21h system API, but one 
of Harbour's purpose is to mask platform dependent behavior. Perhaps 
this case is not an exception also. Norton guide and other documentation 
never shows all possible behavior of the functions and we use tests to 
be Clipper compatible.

Since directory("c:\path","d") returns an array of 1 element, my friend 
used directory("c:\path\","d") to get list of directory for years. He 
did it in Clipper, and after that he successfully did it in xHarbour.
I've looked to xHarbour's code, they have code to mask platform 
dependent behavior:

      if ( pFileName[iNameLen-1] == OS_PATH_DELIMITER )  //  '\\'
      {
         strcat(pFileName,"*.*") ; // 26/01/2004: Clipper compatibility
      }

> We may try to mask these platform differences in Harbour
> code (controlled with some more SETs), but I'd rather suggest
> to modify the call to be more platform independent. 

I don't thing we need some set, we just need to a few lines like above 
of code to mask platform dependent behavior.

> (f.e.:
> *.* won't return some stuff under Linux, which would be
> returned under DOS/Windows)

I've just finished my test on linux. I do not have Harbour under linux, 
but I've tried to analyze opendir() system call. opendir("/path/") gives 
listing of folder, so, I guess directory("/path/") will also (but it can 
depend on our implementation). This made me a stronger feeling we must 
hide platform dependent behavior under windows.

So, if DOS and Linux version for directory(".../") gives file list and 
the Clipper also, I found it to be enough reason to hide platform 
behavior under windows by adding a few lines of code.

BTW, "*" will work on both windows and Linux, but it's not the case, 
because in linux we need to pass path only to opendir() function. File 
mask filtering is done later by our code.


> Probably the same goes for ADIR().

I should look to the docs. I do not know such function :)


Best regards,
Mindaugas

P.S. please, can someone test directory("/path/") under Linux.
From harbour.01 at syenar.hu  Fri Jan 25 12:51:43 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 12:51:34 2008
Subject: [Harbour] DIRECTORY() compatibility
In-Reply-To: <479A1D58.1090204@dbtopas.lt>
References: <4799FC2B.4000100@dbtopas.lt>
	<7C74355E-7949-4C4C-B08E-19F8DD7FCB7D@syenar.hu>
	<479A1D58.1090204@dbtopas.lt>
Message-ID: <410CE937-5AF3-4F0C-9A44-E2A262EB65AB@syenar.hu>

Hi Mindaugas,

>> Since directory("c:\path","d") returns an array of 1 element, my  
>> friend used directory("c:\path\","d") to get list of directory for  
>> years. He did it in Clipper, and after that he successfully did it  
>> in xHarbour.
> I've looked to xHarbour's code, they have code to mask platform  
> dependent behavior:
>
>     if ( pFileName[iNameLen-1] == OS_PATH_DELIMITER )  //  '\\'
>     {
>        strcat(pFileName,"*.*") ; // 26/01/2004: Clipper compatibility
>     }
>
>
>> We may try to mask these platform differences in Harbour
>> code (controlled with some more SETs), but I'd rather suggest
>> to modify the call to be more platform independent.
>
> I don't thing we need some set, we just need to a few lines like  
> above of code to mask platform dependent behavior.

I'm not sure if this is right, or future proof. In Harbour we cover all
such cases with SETs, because not everyone wants to leave any
filename messing to Harbour, and the whole issue is mostly relevant
for legacy apps; for new or updated ones, it's not always good or  
desired.

Notice that it's also hard to tell (without testing) whether Clipper
behaves the same way under plain DOS, other DOS flavors, and Windows.

>> (f.e.:
>> *.* won't return some stuff under Linux, which would be
>> returned under DOS/Windows)
>
> I've just finished my test on linux. I do not have Harbour under  
> linux, but I've tried to analyze opendir() system call. opendir("/ 
> path/") gives listing of folder, so, I guess directory("/path/")  
> will also (but it can depend on our implementation). This made me a  
> stronger feeling we must hide platform dependent behavior under  
> windows.
>
> So, if DOS and Linux version for directory(".../") gives file list  
> and the Clipper also, I found it to be enough reason to hide  
> platform behavior under windows by adding a few lines of code.
>
> BTW, "*" will work on both windows and Linux, but it's not the case,  
> because in linux we need to pass path only to opendir() function.  
> File mask filtering is done later by our code.

Maybe this works, but it's easy to find a parameter which
would behave differently depending on the platform, enough
to think about casing, drive letters, or any other speciality
(like special chars).

See the discussion on trimming filenames last week or so.
(File(" myfile.txt") or something like this)

I still think it's not Harbour's job, to present a "virtual FS"
with fully MS-DOS compatible rules. Or even if want such thing,
it should be an option.

Would be interesting to see how Flasgship solved this same
problem.

Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jan 25 15:40:57 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 15:41:00 2008
Subject: [Harbour] CHANGELOG: 2008-01-25 21:27 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c85f92$Blat.v2.6.2$967e6e52$d941c82818c@127.0.0.1>

2008-01-25 21:27 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * harbour-ce-spec
   * harbour-w32-spec
   * bin/bld.bat
   * harbour.spec
   * common.mak
   * source/pp/Makefile
   * source/lang/Makefile
   * source/macro/Makefile
   * source/rtl/Makefile
   * source/vm/mainstd/Makefile
   * source/vm/Makefile
   * source/vm/mainwin/Makefile
   * source/main/Makefile
   * source/debug/Makefile
   * source/codepage/Makefile
   * source/common/Makefile
   * source/rdd/nulsys/Makefile
   * source/rdd/Makefile
   * source/rdd/hsx/Makefile
   * source/rdd/usrrdd/Makefile
   * source/compiler/Makefile
   * contrib/hbct/tests/Makefile
   * contrib/hbodbc/tests/bld_b32.bat
   * contrib/hbole/tests/bld_b32.bat
   * contrib/hbapollo/tests/bld.bat
   * contrib/hbfbird/tests/bld_b32.bat
   * contrib/hbfbird/tests/Makefile
   * contrib/hbpgsql/tests/Makefile
   * contrib/hbfimage/tests/bld_b32.bat
   * contrib/hbgd/tests/bldtest.bat
   * contrib/hbmisc/tests/Makefile
   * contrib/hbgf/tests/bld_b32.bat
   * contrib/hbbtree/tests/Makefile
   * contrib/examples/guestbk/Makefile
   * contrib/examples/pe/Makefile
   * contrib/examples/dbu/Makefile
   * contrib/examples/misc/Makefile
   * contrib/examples/hscript/Makefile
   * utils/hbdoc/Makefile
   * utils/hbextern/Makefile
   * utils/hbdot/Makefile
   * utils/hbmake/Makefile
   * utils/hbmake/hbmutils.prg
   * utils/hbmake/hbmake.prg
   * utils/hbpp/Makefile
   * utils/hbpptest/Makefile
   * utils/hbtest/Makefile
   * utils/hbrun/Makefile
   * tests/Makefile
     * Core libs renamed to be prefixed with hb, while 
       having the first significant 5 chars unique.

       Old name    New name
       --------    --------
       codepage -> hbcpage 
       common   -> hbcommon
       compiler -> hbcplr  
       debug    -> hbdebug 
       hbsix    -> hbsix   
       hsx      -> hbhsx   
       lang     -> hblang  
       macro    -> hbmacro 
       pp       -> hbpp    
       rtl      -> hbrtl   
       vm       -> hbvm    
       rdd      -> hbrdd
       dbfcdx   -> rddcdx
       dbffpt   -> rddfpt
       dbfntx   -> rddntx
       nulsys   -> hbnulrdd
       usrrdd   -> hbusrrdd
       mainwin  -> hbmainwin
       mainstd  -> hbmainstd

       NOTE/TODO: We're currently not in sync with contribs, 
                  regarding hb prefixing, since in contrib 
                  rdds and gts (rightly) also have hb prefixes.
                  The only reason not to add them in core this
                  time, is to keep compatibility with DJGPP.
                  Maybe we should remove those prefixes from 
                  contrib.

       NOTE/TODO: Do tests in as many platforms and as many contrib 
                  tests as possible. Feedback from hbmake users is 
                  also welcome.

       !!! Please update your local make files !!!

   * include/hbgtinfo.ch
     + Added HB_ prefixed versions for all GTI_ macros.
       Unprefixed GTI_ macros are to be considered xhb 
       compatible (or legacy) ones, and they can be 
       excluded by #defining HB_GT_NO_XHB if they seem to 
       collide with user code.
       TODO: Switch to use HB_GTI_* inside Harbour code.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Fri Jan 25 15:46:33 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Fri Jan 25 15:46:26 2008
Subject: [Harbour] Re:   Licence question
In-Reply-To: <AFB948164110ED43B5EB849E8DEEF03815E87C@SRV02.deltain.net>
References: <4796E51F.7080702@belacy.belgorod.su>	<200801230202.56328.philb@philb.us>	<4796ECB6.4080205@belacy.belgorod.su>	<20080123100206.GD5164@localhost.localdomain>	<47972C45.10703@belacy.belgorod.su><47973C97.1BC9DDBC@libero.it>	<47986989.70808@belacy.belgorod.su>	<AFB948164110ED43B5EB849E8DEEF03815E873@SRV02.deltain.net><47987A18.8020905@belacy.belgorod.su>	<007001c85e82$5d6b4650$1841d2f0$@com><AFB948164110ED43B5EB849E8DEEF03815E875@SRV02.deltain.net>
	<479983AD.4030404@belacy.belgorod.su>
	<AFB948164110ED43B5EB849E8DEEF03815E87C@SRV02.deltain.net>
Message-ID: <31FA7E95-5C62-40F8-AC99-AC071C21E2D3@syenar.hu>

Just an idea (if NETRDD is occupied):
CLIRDD
THINRDD

After all I see no reason why an RDD couldn't have
a server and a client part and still called an RDD.
(the client part would have to called RDD anyway IMO)

Brgds,
Viktor

On 2008.01.25., at 15:35, Massimo Belgrano wrote:

> Netcsd    Net client server dbf
> Dbf.net
> Net.hds Harbour Database server by net
>
> -----Original Message-----
> From: harbour-bounces@harbour-project.org
> [mailto:harbour-bounces@harbour-project.org] On Behalf Of Alexander
> S.Kresin
> Sent: Friday, January 25, 2008 7:38 AM
> To: Harbour Project Main Developer List.
> Subject: Re: [Harbour] Re: Licence question
>
> Massimo Belgrano writes:
>> I confirm it was at http://www.idep.org.uk/xbase
>
>  Now the link is broken.
>
>> As name for upcoming project I suggest netrdd in honor to Przemek's
>> original Idea
>>
>
>  Hm... NETRDD is a RDD, not a server.
> And probably, Przemek will decide to implement it himself at some  
> time,
> who knows ...
>
>  Regards,
>   Alexander.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From carlo.borelli at gmail.com  Fri Jan 25 16:02:36 2008
From: carlo.borelli at gmail.com (Carlo Borelli)
Date: Fri Jan 25 16:02:43 2008
Subject: [Harbour] FLISOL 2008 - Venezuela Caracas
Message-ID: <f60d50830801251302t4c5a6be8h3c5f1d7de7b3d2fa@mail.gmail.com>

Good morning everybody,
due to the event here linked
http://www.flisol.info/FLISOL2008/Venezuela/Caracas (sorry, only
spanish), I'm interested to develop a talk about Harbour Project.
The FLISOL is an Latino America Open Source Installation Festival and
I think could be a good opportunity to spread words about Harbour
since I'm an old clipper developer and, in the last year, using
Harbour with great satisfaction on Linux and some Microsoft platforms.
So, I want kindly ask to everybody: whoever has any kind of
documentations like slides, docs, whatever will be, core internal
calls, haw work the engine, etc. plz send me for the translation job
from english and italian, meanwhile the talk will be in spanish. I'll
accept this three languages: italian, english, spanish.
Moreover, what I'll produce about the talk will be avalaible for
everybody will needs that.

A big thanks,

Carlo.
From philb at philb.us  Fri Jan 25 20:16:36 2008
From: philb at philb.us (Phil Barnett)
Date: Fri Jan 25 20:16:39 2008
Subject: [Harbour] Next Beta Release
In-Reply-To: <4799F6FB.7040100@dbtopas.lt>
References: <200801232318.07568.philb@philb.us>
	<20080125024606.GA9825@localhost.localdomain>
	<4799F6FB.7040100@dbtopas.lt>
Message-ID: <200801252016.36665.philb@philb.us>

On Friday 25 January 2008 09:49:31 am Mindaugas Kavaliauskas wrote:
> Przemyslaw Czerpak wrote:
> > I think so. And probably it should be called rc-1.
> > The open question is what to do with beta branch.
> > After Viktor's cleanup in devel code (mostly in
> > contrib) the diff file between branches has over
> > 10MB. I can sync it but probably it will be much
> > easier to remove old beta branch create new new
> > one from current devel.
>
> Hi,
>
>
> if we are going to have rc-1, we can just remove old and create new
> branch for 1.0. tag/1.0-rc1 will be the first tag of branch/1.0
>
> We should also have a feeling (or better definition/agreement) what is
> fix and what is new code, and commit fixes to branch/1.0. Is redesign of
> some API a fix or new feature? Is redesign of make system a fix? Are new
> FS functions for date/attribute management and OS2 minizip support a new
> feature or a fix? Is new hbinet.c a fix?
>
> Otherwise one of two things can happen:
> 1) fixes are committed to thunk only and branch/1.0 is not used;
> 2) new features will be committed to branch/1.0 and this makes branch
> unstable.
>
> I have a feeling that the first thing has more chances to happen. We
> should limit definition of "fix" to be some local fixes of existing
> code, but not redesign of existing functionality. Because many things in
> Harbour needs redesign. If we want to include redesigned hbinet, hbole,
> gt with multiple windows, etc. in 1.0, it is not time to have rc1 now,
> but we must work hard on existing code.
> If we want to release 1.0 now, let's limit it for local fixes and
> include redesigned features in 1.2. (I propose to use 1.1, 1.3, etc. for
> unstable (thunk) versions).

Having two branches in the past has only lead to the lead one being worked on 
and the one we are supposed to be bugfixing being ignored.

So, we are not going to do that. we will tag the current dev branch with RC-1 
and only fix what is demonstrably broken. And we will do it quickly so that 
it doesn't hang on and on.

When Przemek drops the tag onto the dev branch, it's time for everyone to 
submit bugs and not new ideas and not chunks of code that do not already 
exist.

Bug fixing of existing code only.
From philb at philb.us  Fri Jan 25 20:17:25 2008
From: philb at philb.us (Phil Barnett)
Date: Fri Jan 25 20:17:29 2008
Subject: [Harbour] Small change in contrib/hbtip
In-Reply-To: <9257026e0801250335x5cc9aa5o2e0be4762d2d27e0@mail.gmail.com>
References: <9257026e0801250335x5cc9aa5o2e0be4762d2d27e0@mail.gmail.com>
Message-ID: <200801252017.25236.philb@philb.us>

On Friday 25 January 2008 06:35:13 am Lorenzo Fiorini wrote:
> Before RC1 I'd like to upload this change:
>
> * contrib/hbtip/utils.c
>
> added *.ico mimetype support in TIP_MIMETYPE
>
> * contrib/hbtip/cgi.prg
> + contrib/hbtip/sessid.prg
>
> moved static functions SID GenerateSID,  CheckSID, DateToGmt into a
> separate prg since they can be used outside cgi.
> Added TIP_ to the names to avoid collisions.
>
> Any comment?

Better hurry.
From harbour.01 at syenar.hu  Sat Jan 26 00:29:27 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jan 26 00:29:29 2008
Subject: [Harbour] CHANGELOG: 2008-01-26 06:27 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c85fdc$Blat.v2.6.2$6b279860$f14e2e94b48@127.0.0.1>

2008-01-26 06:27 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * tests/gfx.prg
   * tests/wcecon.prg
   * tests/gtchars.prg
   * tests/gtkeys.prg
   * include/hbgtinfo.ch
   * source/rtl/hbgtcore.c
   * source/rtl/gtkbstat.c
   * source/rtl/gtdos/gtdos.c
   * source/rtl/gtwin/gtwin.c
   * source/rtl/gtxwc/gtxwc.c
   * source/rtl/gtos2/gtos2.c
   * source/rtl/gtcrs/gtcrs.c
   * source/rtl/gtalleg/gtalleg.c
   * source/rtl/gtstd/gtstd.c
   * source/rtl/gtsln/gtsln.c
   * source/rtl/gttrm/gttrm.c
   * source/rtl/gtpca/gtpca.c
   * source/rtl/gtgui/gtgui.c
   * source/rtl/gtcgi/gtcgi.c
   * source/rtl/gtwvt/gtwvt.c
   * contrib/hbgtwvg/gtwvg.c
     ! Some minor formatting to the .ch file. Removed 
       reference to non-existing doc/gtinfo.txt.
     * Using HB_GTI_* instead of GTI_* in Harbour files.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jan 26 01:55:02 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jan 26 01:55:03 2008
Subject: [Harbour] CHANGELOG: 2008-01-26 07:53 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c85fe8$Blat.v2.6.2$5fd0e078$c386717a04a@127.0.0.1>

2008-01-26 07:53 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * source/pp/pplib.c
   * source/rtl/run.c
   * source/rtl/hbgtcore.c
   * source/rtl/philesx.c
   * source/rtl/strzero.c
   * source/vm/runner.c
   * source/vm/debug.c
   * source/vm/itemapi.c
   * source/vm/arrayshb.c
   * source/vm/classes.c
   * source/rdd/dbfntx/dbfntx1.c
   * source/rdd/dbfcdx/dbfcdx1.c
     ! Replaced 9999 internal and RT error codes with 
       unique ones, in new Harbour ranges:
       RT/PP: 1001-1999
       RT/BASE: 6001-6999
          runner: 6101-6199
       Internal/misc: 6001-6999
       Internal/RDD: 7001-7999
          CDX: 7001-7099
          NTX: 7101-7199
       NOTE: If you find some more 9999s in the core code, 
             pls tell.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Sat Jan 26 04:02:33 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jan 26 04:02:34 2008
Subject: [Harbour] CHANGELOG: 2008-01-26 09:54 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c85ffa$Blat.v2.6.2$303b846e$cd43594e91a@127.0.0.1>

2008-01-26 09:54 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/make_b32_all.bat
   * contrib/make_vc_all.bat
   * contrib/Makefile
   + contrib/rddado
   * contrib/rddado/common.mak
   * contrib/rddado/Makefile
   + contrib/gtwvg
   * contrib/gtwvg/common.mak
   * contrib/gtwvg/Makefile
   + contrib/rddads
   * contrib/rddads/common.mak
   * contrib/rddads/Makefile
   - contrib/hbrddado
   - contrib/hbgtwvg
   - contrib/hbrddads
   * utils/hbmake/hbmutils.prg
     ! Done some final renames in contrib to be consistent 
       with the core names where some new rules had to be 
       made for DJGPP compatibility.

       Old name    New name
       --------    --------
       hbgtwvg  -> gtwvg
       hbrddado -> rddado
       hbrddads -> rddads
--
Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Sat Jan 26 04:17:50 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Jan 26 04:17:55 2008
Subject: [Harbour] ChangeLog 2008-01-26 10:10 UTC+0100 Lorenzo Fiorini
Message-ID: <9257026e0801260117y2333084cg63afe9b8b9bdc4ed@mail.gmail.com>

2008-01-26 10:10 UTC+0100 Lorenzo Fiorini (lorenzo.fiorini/at/gmail.com)
  * contrib/hbtip/utils.c
    added .ico support to TIP_MIMETYPE
  * contrib/hbtip/cgi.prg
  + contrib/hbtip/sessid.prg
    moved statis funcs GenerateSID, CheckSID, DateToGmt from cgi.prg
	 to new sessid.prg and renamed to TIP_*
  * contrib/hbtip/httpcln.prg	
    fixed few typos that generated RT errors
  * source/rtl/gtxwc/gtxwc.c	
    added missed K_SH_keys

please update non gnu makefiles.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sat Jan 26 04:28:14 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jan 26 04:28:14 2008
Subject: [Harbour] CHANGELOG: 2008-01-26 10:26 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c85ffd$Blat.v2.6.2$c6b1892c$117ca2048978@127.0.0.1>

2008-01-26 10:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/rddads/adsfunc.c
     ! Warning fixed in ADSGetServerName().

   * contrib/hbtip/sessid.prg
     ! SVN header added.

   * contrib/hbtip/common.mak
     + New file added.

   * contrib/hbtip/Makefile
     * Formatting.

   * source/rtl/gtxwc/gtxwc.c
     ! Formatting.
--
Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Sat Jan 26 04:41:25 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Jan 26 04:41:29 2008
Subject: [Harbour] CHANGELOG: 2008-01-26 10:26 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
In-Reply-To: <01c85ffd$Blat.v2.6.2$c6b1892c$117ca2048978@127.0.0.1>
References: <01c85ffd$Blat.v2.6.2$c6b1892c$117ca2048978@127.0.0.1>
Message-ID: <9257026e0801260141v5a1e921lae5ccd50214417bf@mail.gmail.com>

On Jan 26, 2008 10:28 AM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> 2008-01-26 10:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
[...]
>    * contrib/hbtip/sessid.prg
>      ! SVN header added.
[..]

Many thanks.

Just for future information what was the header I missed?

( this time I was pretty sure I followed howtosvn.txt after cvs, git,
bzr probably the 4th SCM doesn't fit in my brain :)

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sat Jan 26 04:53:26 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jan 26 04:53:22 2008
Subject: [Harbour] CHANGELOG: 2008-01-26 10:26 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
In-Reply-To: <9257026e0801260141v5a1e921lae5ccd50214417bf@mail.gmail.com>
References: <01c85ffd$Blat.v2.6.2$c6b1892c$117ca2048978@127.0.0.1>
	<9257026e0801260141v5a1e921lae5ccd50214417bf@mail.gmail.com>
Message-ID: <7E9464DB-B693-49B9-A202-874C1B0DA4B5@syenar.hu>

Hi Lorenzo,

No prob at all.

These four lines were missing from the top of the file:
--
/*
  * $Id$
  */

--

(You can find a bit more detail in section 1.6 of doc/howtosvn.txt)

Brgds,
Viktor

On 2008.01.26., at 10:41, Lorenzo Fiorini wrote:

> On Jan 26, 2008 10:28 AM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:
>
>> 2008-01-26 10:26 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
> [...]
>>   * contrib/hbtip/sessid.prg
>>     ! SVN header added.
> [..]
>
> Many thanks.
>
> Just for future information what was the header I missed?
>
> ( this time I was pretty sure I followed howtosvn.txt after cvs, git,
> bzr probably the 4th SCM doesn't fit in my brain :)
>
> best regards,
> Lorenzo

From harbour.01 at syenar.hu  Sat Jan 26 05:01:14 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sat Jan 26 05:01:13 2008
Subject: [Harbour] CHANGELOG: 2008-01-26 11:00 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c86002$Blat.v2.6.2$62986afa$12e8e5005d44@127.0.0.1>

2008-01-26 11:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * source/pp/Makefile
     ! Missed modification made after lib name change.
--
Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Sat Jan 26 05:27:58 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Jan 26 05:28:03 2008
Subject: [Harbour] CHANGELOG: 2008-01-26 11:00 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
In-Reply-To: <01c86002$Blat.v2.6.2$62986afa$12e8e5005d44@127.0.0.1>
References: <01c86002$Blat.v2.6.2$62986afa$12e8e5005d44@127.0.0.1>
Message-ID: <9257026e0801260227k599d648bxd2fc6302b0d49d2d@mail.gmail.com>

On Jan 26, 2008 11:01 AM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> 2008-01-26 11:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>    * source/pp/Makefile
>      ! Missed modification made after lib name change.

As far as I understand it's not enough.

LINKPATHS += $(foreach lib, $(LIBS), -L$(TOP)$(ROOT)source/$(lib)/$(HB_ARCH))

suggest that lib name and lib dir should have the same name.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Sat Jan 26 06:03:35 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sat Jan 26 06:03:26 2008
Subject: [Harbour] CHANGELOG: 2008-01-26 11:00 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
In-Reply-To: <9257026e0801260227k599d648bxd2fc6302b0d49d2d@mail.gmail.com>
References: <01c86002$Blat.v2.6.2$62986afa$12e8e5005d44@127.0.0.1>
	<9257026e0801260227k599d648bxd2fc6302b0d49d2d@mail.gmail.com>
Message-ID: <AFF5285D-D046-4243-93CA-3347C9318A93@syenar.hu>

This leads a bit further than I expected,
I guess someone will have to remove this constraint
from the GNU make system, otherwise it will be
pretty ugly to work it around, or we should revert
everything. Renaming all dirs to have the same name
as the libs looks insane, but at least not something
I had ever seen in any projects :(

Maybe adding "hb" in these GNU expressions could
solve the problem, but it won't be easy either, as
I had to change some names besides the "hb" prefix
due to the DJGPP requirement.

Now I have to leave for today, so opinions are welcome
until I'm back.

Brgds,
Viktor

On 2008.01.26., at 11:27, Lorenzo Fiorini wrote:

> On Jan 26, 2008 11:01 AM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:
>
>> 2008-01-26 11:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>   * source/pp/Makefile
>>     ! Missed modification made after lib name change.
>
> As far as I understand it's not enough.
>
> LINKPATHS += $(foreach lib, $(LIBS), -L$(TOP)$(ROOT)source/$(lib)/$ 
> (HB_ARCH))
>
> suggest that lib name and lib dir should have the same name.
>
> best regards,
> Lorenzo

From alex at belacy.belgorod.su  Sat Jan 26 07:14:18 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Sat Jan 26 07:14:40 2008
Subject: [Harbour] Re:  Licence question
In-Reply-To: <31FA7E95-5C62-40F8-AC99-AC071C21E2D3@syenar.hu>
References: <4796E51F.7080702@belacy.belgorod.su>
	<200801230202.56328.philb@philb.us>
	<4796ECB6.4080205@belacy.belgorod.su>
	<20080123100206.GD5164@localhost.localdomain>
	<47972C45.10703@belacy.belgorod.su><47973C97.1BC9DDBC@libero.it>
	<47986989.70808@belacy.belgorod.su>
	<AFB948164110ED43B5EB849E8DEEF03815E873@SRV02.deltain.net><47987A18.8020905@belacy.belgorod.su>
	<007001c85e82$5d6b4650$1841d2f0$@com><AFB948164110ED43B5EB849E8DEEF03815E875@SRV02.deltain.net>
	<479983AD.4030404@belacy.belgorod.su>
	<AFB948164110ED43B5EB849E8DEEF03815E87C@SRV02.deltain.net>
	<31FA7E95-5C62-40F8-AC99-AC071C21E2D3@syenar.hu>
Message-ID: <1519030354.20080126151418@belacy.belgorod.su>

On  Friday, January 25, 2008, 23:46 Szak?ts Viktor <harbour.01@syenar.hu> wrote:

SV> Just an idea (if NETRDD is occupied):
SV> CLIRDD
SV> THINRDD

SV> After all I see no reason why an RDD couldn't have
SV> a server and a client part and still called an RDD.
SV> (the client part would have to called RDD anyway IMO)

SV> Brgds,
SV> Viktor

SV> On 2008.01.25., at 15:35, Massimo Belgrano wrote:

>> Netcsd    Net client server dbf
>> Dbf.net
>> Net.hds Harbour Database server by net

 I don't like such kinds of abbreviations, they pretend to be
 informative, but aren't informative in fact and are difficult to
 pronounce, to hear and to differ one from another. All those
 abcdeGUI and ghklmnRDD ...
 
 My first idea ( which presents in current code in form of server's
 welcome message and RDD methods prefixes ) was: "Harbour remote db
 server" for a server and rmtrdd ( rmt - remote ) for RDD. But I don't
 like it because of the above ( yet another ghklmnRDD ) and because I
 don't sure that 'remote' is a proper name.
 
 Now I want to call it 'Leto': 'Leto db server', letoRDD, rddleto.lib,
 letoSkipRaw() method ...
 'Leto' is a 'summer' on Russian.
 Why summer ? Because I like it and I miss it much :). Maybe because
 'Summer' was the first Clipper version, which many of us started
 with.
 Why on Russian ? I think that using of national languages gives
 additional colors. And because if it will be named 'Summer', everyone
 will ask 'Why Summer ? How it is related to the ...' :), while 'Leto' is a incomprehensible word
 for many people and will not cause such a questions :). And it is simple
 to pronounce and not unattractive for an ear.
 

Regards,
 Alexander
http://kresin.belgorod.su

From ptucker at sympatico.ca  Sat Jan 26 08:32:42 2008
From: ptucker at sympatico.ca (Paul Tucker)
Date: Sat Jan 26 08:32:46 2008
Subject: [Harbour] DIRECTORY() compatibility
References: <4799FC2B.4000100@dbtopas.lt><7C74355E-7949-4C4C-B08E-19F8DD7FCB7D@syenar.hu><479A1D58.1090204@dbtopas.lt>
	<410CE937-5AF3-4F0C-9A44-E2A262EB65AB@syenar.hu>
Message-ID: <BAYC1-PASMTP04D50C185F0C4BC2FB5A54DF3A0@CEZ.ICE>

Victor,

 MK>> I've just finished my test on linux. I do not have Harbour under
 ??>> linux, but I've tried to analyze opendir() system call. opendir("/
 ??>> path/") gives listing of folder, so, I guess directory("/path/")
 ??>> will also (but it can depend on our implementation). This made me a
 ??>> stronger feeling we must hide platform dependent behavior under
 ??>> windows.

 ??>> So, if DOS and Linux version for directory(".../") gives file list
 ??>> and the Clipper also, I found it to be enough reason to hide
 ??>> platform behavior under windows by adding a few lines of code.

 ??>> BTW, "*" will work on both windows and Linux, but it's not the case,
 ??>> because in linux we need to pass path only to opendir() function.
 ??>> File mask filtering is done later by our code.

 SV> Maybe this works, but it's easy to find a parameter which
 SV> would behave differently depending on the platform, enough
 SV> to think about casing, drive letters, or any other speciality
 SV> (like special chars).

...

 SV> I still think it's not Harbour's job, to present a "virtual FS"
 SV> with fully MS-DOS compatible rules. Or even if want such thing,
 SV> it should be an option.

If you open a command window under xp and vista, DIR mydir and DIR mydir\ 
both do the same thing.  Ditto if you paste those into an explorer window.

If you expect dir c:\mydir to show one entry, then you're asking for the 
contents of c:\ and just need to append a wild-card. (at least at the 
command prompt, and I would think in Harbour code too)

Random thoughts.

Paul


From mpaliwoda at interia.pl  Sat Jan 26 10:08:55 2008
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Sat Jan 26 10:09:30 2008
Subject: [Harbour] gtxwc compiling errors under Cygwin 
Message-ID: <fnfie9$536$1@ger.gmane.org>

Hi,

Compiling Harbour under Cygwin I get the following errors :


source/rtl/filesys.c: In function `hb_fsPOpen':
source/rtl/filesys.c:590: warning: passing arg 1 of `pipe' from incompatible 
pointer type
source/rtl/gtxwc/gtxwc.c:195: error: `K_SH_UP' undeclared here (not in a 
function)
source/rtl/gtxwc/gtxwc.c:195: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:195: error: (near initialization for 
`extKeyTab[12].shift_key')
source/rtl/gtxwc/gtxwc.c:195: warning: missing initializer
source/rtl/gtxwc/gtxwc.c:195: warning: (near initialization for 
`extKeyTab[12].shift_key')
source/rtl/gtxwc/gtxwc.c:195: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:195: error: (near initialization for `extKeyTab[12]')
source/rtl/gtxwc/gtxwc.c:196: error: `K_SH_DOWN' undeclared here (not in a 
function)
source/rtl/gtxwc/gtxwc.c:196: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:196: error: (near initialization for 
`extKeyTab[13].shift_key')
source/rtl/gtxwc/gtxwc.c:196: warning: missing initializer
source/rtl/gtxwc/gtxwc.c:196: warning: (near initialization for 
`extKeyTab[13].shift_key')
source/rtl/gtxwc/gtxwc.c:196: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:196: error: (near initialization for `extKeyTab[13]')
source/rtl/gtxwc/gtxwc.c:197: error: `K_SH_LEFT' undeclared here (not in a 
function)
source/rtl/gtxwc/gtxwc.c:197: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:197: error: (near initialization for 
`extKeyTab[14].shift_key')
source/rtl/gtxwc/gtxwc.c:197: warning: missing initializer
source/rtl/gtxwc/gtxwc.c:197: warning: (near initialization for 
`extKeyTab[14].shift_key')
source/rtl/gtxwc/gtxwc.c:197: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:197: error: (near initialization for `extKeyTab[14]')
source/rtl/gtxwc/gtxwc.c:198: error: `K_SH_RIGHT' undeclared here (not in a 
function)
source/rtl/gtxwc/gtxwc.c:198: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:198: error: (near initialization for 
`extKeyTab[15].shift_key')
source/rtl/gtxwc/gtxwc.c:198: warning: missing initializer
source/rtl/gtxwc/gtxwc.c:198: warning: (near initialization for 
`extKeyTab[15].shift_key')
source/rtl/gtxwc/gtxwc.c:198: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:198: error: (near initialization for `extKeyTab[15]')
source/rtl/gtxwc/gtxwc.c:199: error: `K_SH_INS' undeclared here (not in a 
function)
source/rtl/gtxwc/gtxwc.c:199: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:199: error: (near initialization for 
`extKeyTab[16].shift_key')
source/rtl/gtxwc/gtxwc.c:199: warning: missing initializer
source/rtl/gtxwc/gtxwc.c:199: warning: (near initialization for 
`extKeyTab[16].shift_key')
source/rtl/gtxwc/gtxwc.c:199: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:199: error: (near initialization for `extKeyTab[16]')
source/rtl/gtxwc/gtxwc.c:200: error: `K_SH_DEL' undeclared here (not in a 
function)
source/rtl/gtxwc/gtxwc.c:200: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:200: error: (near initialization for 
`extKeyTab[17].shift_key')
source/rtl/gtxwc/gtxwc.c:200: warning: missing initializer
source/rtl/gtxwc/gtxwc.c:200: warning: (near initialization for 
`extKeyTab[17].shift_key')
source/rtl/gtxwc/gtxwc.c:200: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:200: error: (near initialization for `extKeyTab[17]')
source/rtl/gtxwc/gtxwc.c:201: error: `K_SH_HOME' undeclared here (not in a 
function)
source/rtl/gtxwc/gtxwc.c:201: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:201: error: (near initialization for 
`extKeyTab[18].shift_key')
source/rtl/gtxwc/gtxwc.c:201: warning: missing initializer
source/rtl/gtxwc/gtxwc.c:201: warning: (near initialization for 
`extKeyTab[18].shift_key')
source/rtl/gtxwc/gtxwc.c:201: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:201: error: (near initialization for `extKeyTab[18]')
source/rtl/gtxwc/gtxwc.c:202: error: `K_SH_END' undeclared here (not in a 
function)
source/rtl/gtxwc/gtxwc.c:202: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:202: error: (near initialization for 
`extKeyTab[19].shift_key')
source/rtl/gtxwc/gtxwc.c:202: warning: missing initializer
source/rtl/gtxwc/gtxwc.c:202: warning: (near initialization for 
`extKeyTab[19].shift_key')
source/rtl/gtxwc/gtxwc.c:202: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:202: error: (near initialization for `extKeyTab[19]')
source/rtl/gtxwc/gtxwc.c:203: error: `K_SH_PGUP' undeclared here (not in a 
function)
source/rtl/gtxwc/gtxwc.c:203: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:203: error: (near initialization for 
`extKeyTab[20].shift_key')
source/rtl/gtxwc/gtxwc.c:203: warning: missing initializer
source/rtl/gtxwc/gtxwc.c:203: warning: (near initialization for 
`extKeyTab[20].shift_key')
source/rtl/gtxwc/gtxwc.c:203: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:203: error: (near initialization for `extKeyTab[20]')
source/rtl/gtxwc/gtxwc.c:204: error: `K_SH_PGDN' undeclared here (not in a 
function)
source/rtl/gtxwc/gtxwc.c:204: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:204: error: (near initialization for 
`extKeyTab[21].shift_key')
source/rtl/gtxwc/gtxwc.c:204: warning: missing initializer
source/rtl/gtxwc/gtxwc.c:204: warning: (near initialization for 
`extKeyTab[21].shift_key')
source/rtl/gtxwc/gtxwc.c:204: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:204: error: (near initialization for `extKeyTab[21]')
source/rtl/gtxwc/gtxwc.c:205: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:205: error: (near initialization for `extKeyTab[22]')
source/rtl/gtxwc/gtxwc.c:206: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:206: error: (near initialization for `extKeyTab[23]')
source/rtl/gtxwc/gtxwc.c:207: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:207: error: (near initialization for `extKeyTab[24]')
source/rtl/gtxwc/gtxwc.c:208: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:208: error: (near initialization for `extKeyTab[25]')
source/rtl/gtxwc/gtxwc.c:209: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:209: error: (near initialization for `extKeyTab[26]')
source/rtl/gtxwc/gtxwc.c:210: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:210: error: (near initialization for `extKeyTab[27]')
source/rtl/gtxwc/gtxwc.c:211: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:211: error: (near initialization for `extKeyTab[28]')
source/rtl/gtxwc/gtxwc.c:212: error: initializer element is not constant
source/rtl/gtxwc/gtxwc.c:212: error: (near initialization for `extKeyTab[29]')

-- 

Marek

From lorenzo.fiorini at gmail.com  Sat Jan 26 10:55:06 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Jan 26 10:55:11 2008
Subject: [Harbour] CahngeLog 2008-01-26 17:00 UTC+0100 Lorenzo Fiorini
Message-ID: <9257026e0801260755n90d4565u87ba3c85928e80b@mail.gmail.com>

2008-01-26 17:00 UTC+0100 Lorenzo Fiorini (lorenzo.fiorini/at/gmail.com)
  * source/rtl/gtxwc/gtxwc.h
    added missed K_SH_keys

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Sat Jan 26 10:56:25 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Sat Jan 26 10:56:29 2008
Subject: [Harbour] gtxwc compiling errors under Cygwin
In-Reply-To: <fnfie9$536$1@ger.gmane.org>
References: <fnfie9$536$1@ger.gmane.org>
Message-ID: <9257026e0801260756i350a6410uf10fc1824e014c2b@mail.gmail.com>

On Jan 26, 2008 4:08 PM, Marek Paliwoda <mpaliwoda@interia.pl> wrote:

> Compiling Harbour under Cygwin I get the following errors :
> source/rtl/gtxwc/gtxwc.c:195: error: `K_SH_UP' undeclared here (not in a
> function)

Please check after ChangeLog 2008-01-26 17:00 UTC+0100 Lorenzo Fiorini

best regards,
Lorenzo
From devlist.harbour at gmail.com  Sat Jan 26 16:07:56 2008
From: devlist.harbour at gmail.com (Patrick Mast)
Date: Sat Jan 26 16:08:01 2008
Subject: [Harbour] Re: Licence question
In-Reply-To: <1519030354.20080126151418@belacy.belgorod.su>
References: <4796E51F.7080702@belacy.belgorod.su>
	<47986989.70808@belacy.belgorod.su>
	<AFB948164110ED43B5EB849E8DEEF03815E873@SRV02.deltain.net>
	<47987A18.8020905@belacy.belgorod.su>
	<007001c85e82$5d6b4650$1841d2f0$@com>
	<AFB948164110ED43B5EB849E8DEEF03815E875@SRV02.deltain.net>
	<479983AD.4030404@belacy.belgorod.su>
	<AFB948164110ED43B5EB849E8DEEF03815E87C@SRV02.deltain.net>
	<31FA7E95-5C62-40F8-AC99-AC071C21E2D3@syenar.hu>
	<1519030354.20080126151418@belacy.belgorod.su>
Message-ID: <15c075f70801261307k2abf61c4r2650eedfe04b9e9f@mail.gmail.com>

I like "Leto Server" ;-)

And as a bonus, LetoServer.org, .com and .net are free also
I would say; Go for it Alexander!

Patrick



2008/1/26 Alexander S.Kresin <alex@belacy.belgorod.su>:
> On  Friday, January 25, 2008, 23:46 Szak?ts Viktor <harbour.01@syenar.hu> wrote:
>
> SV> Just an idea (if NETRDD is occupied):
> SV> CLIRDD
> SV> THINRDD
>
> SV> After all I see no reason why an RDD couldn't have
> SV> a server and a client part and still called an RDD.
> SV> (the client part would have to called RDD anyway IMO)
>
> SV> Brgds,
> SV> Viktor
>
> SV> On 2008.01.25., at 15:35, Massimo Belgrano wrote:
>
> >> Netcsd    Net client server dbf
> >> Dbf.net
> >> Net.hds Harbour Database server by net
>
>  I don't like such kinds of abbreviations, they pretend to be
>  informative, but aren't informative in fact and are difficult to
>  pronounce, to hear and to differ one from another. All those
>  abcdeGUI and ghklmnRDD ...
>
>  My first idea ( which presents in current code in form of server's
>  welcome message and RDD methods prefixes ) was: "Harbour remote db
>  server" for a server and rmtrdd ( rmt - remote ) for RDD. But I don't
>  like it because of the above ( yet another ghklmnRDD ) and because I
>  don't sure that 'remote' is a proper name.
>
>  Now I want to call it 'Leto': 'Leto db server', letoRDD, rddleto.lib,
>  letoSkipRaw() method ...
>  'Leto' is a 'summer' on Russian.
>  Why summer ? Because I like it and I miss it much :). Maybe because
>  'Summer' was the first Clipper version, which many of us started
>  with.
>  Why on Russian ? I think that using of national languages gives
>  additional colors. And because if it will be named 'Summer', everyone
>  will ask 'Why Summer ? How it is related to the ...' :), while 'Leto' is a incomprehensible word
>  for many people and will not cause such a questions :). And it is simple
>  to pronounce and not unattractive for an ear.
>
>
> Regards,
>  Alexander
> http://kresin.belgorod.su
>
> _______________________________________________
>
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour
>
From mpaliwoda at interia.pl  Sat Jan 26 16:42:36 2008
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Sat Jan 26 16:42:49 2008
Subject: [Harbour] 2008-01-26 22:42 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
Message-ID: <fng9gc$7hn$1@ger.gmane.org>

2008-01-26 22:42 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
    * make_gcc.mak
     + Added an extra compilation phase for building
       shared VM+RTL library (if needed)
     ! Some minor fixes and cleanup

-- 

     Marek Paliwoda
mpaliwoda at interia pl

From josemisu at yahoo.com.ar  Sat Jan 26 17:57:43 2008
From: josemisu at yahoo.com.ar (Jose Miguel)
Date: Sat Jan 26 17:57:46 2008
Subject: [Harbour] DIRECTOY and subfolders?
Message-ID: <201696.83519.qm@web32813.mail.mud.yahoo.com>

Hola, Existe algun comando como DIRECTOY que incluya las subcarpetas?
------------------------------------------
Hello, Exists algun commando like DIRECTOY that includes the subfolders?

Saludos
Jose Miguel



Ejemplos y programas para Harbour + MiniGUI Extended 
http://www.gateos.com/misdoc/programas/programas.html


       
---------------------------------

Tarjeta de cr?dito Yahoo! de Banco Supervielle.Solicit? tu nueva Tarjeta de cr?dito. De tu PC directo a tu casa. 
 Visit? www.tuprimeratarjeta.com.ar
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080126/4f7924a3/attachment.html
From jorgeagiraldo at hotmail.com  Sat Jan 26 18:48:42 2008
From: jorgeagiraldo at hotmail.com (Jorge A. Giraldo)
Date: Sat Jan 26 18:48:45 2008
Subject: [Harbour] zlib contrib question
In-Reply-To: <F78F80B4-6E65-4409-B771-7E1181E48446@syenar.hu>
References: <3D0251BF-C577-4B9F-98AC-8A1770C8628B@syenar.hu>
	<4799E4A5.9060404@dbtopas.lt> 
	<F78F80B4-6E65-4409-B771-7E1181E48446@syenar.hu>
Message-ID: <BAY136-W7BDDB0856A41932B4977CA13A0@phx.gbl>


Viktor,

Please add the -a switch in IMPLIB for the MAKE_B32.BAT 

Thanks,

Jorge A.

> From: harbour.01@syenar.hu
> To: harbour@harbour-project.org
> Subject: Re: [Harbour] zlib contrib question
> Date: Fri, 25 Jan 2008 16:40:21 +0100
> 
> Okey and thanks.
> 
> to Przemek: The GNU make system will have to adapted
> too I guess.
> 
> Brgds,
> Viktor
> 
> On 2008.01.25., at 14:31, Mindaugas Kavaliauskas wrote:
> 
> > Szak?ts Viktor wrote:
> >> I'd suggest to keep zlib.h and zconf.h out of our SVN,
> >> since the zlib dll package is needed anyway to use this
> >> contrib. This way we'd be in sync with the rest of the
> >> contribs where similar concept is used to avoid any
> >> user installed .dll vs. local header file incompatibilites.
> >
> > Hi,
> >
> >
> > I do not know how to manage this situation the best, so, feel free  
> > to change. I went the most simple way - included it into contrib  
> > project.
> >
> >
> > Best regards,
> > Mindaugas
> >
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
> 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_________________________________________________________________
Explore the seven wonders of the world
http://search.msn.com/results.aspx?q=7+wonders+world&mkt=en-US&form=QBRE
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080126/dceffb78/attachment.html
From jorgeagiraldo at hotmail.com  Sat Jan 26 19:12:21 2008
From: jorgeagiraldo at hotmail.com (Jorge A. Giraldo)
Date: Sat Jan 26 19:12:25 2008
Subject: [Harbour] DIRECTOY and subfolders?
In-Reply-To: <201696.83519.qm@web32813.mail.mud.yahoo.com>
References: <201696.83519.qm@web32813.mail.mud.yahoo.com>
Message-ID: <BAY136-W20D3D13CE872C3A99F80B7A13B0@phx.gbl>


Jose Miguel,

Look for tree.zip in the oasis:

http://www.the-oasis.net/ftpmaster.php3?content=ftpgenrl.htm

Thanks Phil :-)

Jorge A.

Date: Sat, 26 Jan 2008 19:57:43 -0300
From: josemisu@yahoo.com.ar
To: harbour@harbour-project.org
Subject: [Harbour] DIRECTOY and subfolders?

Hola, Existe algun comando como DIRECTOY que incluya las subcarpetas?
------------------------------------------
Hello, Exists algun commando like DIRECTOY that includes the subfolders?

Saludos
Jose Miguel



Ejemplos y programas para Harbour + MiniGUI Extended 
http://www.gateos.com/misdoc/programas/programas.html

 
      
Tarjeta de cr?dito Yahoo! de Banco Supervielle.
Solicit? tu nueva Tarjeta de cr?dito. De tu PC directo a tu casa. 
 Visit? www.tuprimeratarjeta.com.ar
_________________________________________________________________
News, entertainment and everything you care about at Live.com. Get it now!
http://www.live.com/getstarted.aspx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080127/f24637b4/attachment.html
From philb at philb.us  Sat Jan 26 20:00:49 2008
From: philb at philb.us (Phil Barnett)
Date: Sat Jan 26 20:00:53 2008
Subject: [Harbour] DIRECTOY and subfolders?
In-Reply-To: <BAY136-W20D3D13CE872C3A99F80B7A13B0@phx.gbl>
References: <201696.83519.qm@web32813.mail.mud.yahoo.com>
	<BAY136-W20D3D13CE872C3A99F80B7A13B0@phx.gbl>
Message-ID: <200801262000.49818.philb@philb.us>

On Saturday 26 January 2008 07:12:21 pm Jorge A. Giraldo wrote:
> Look for tree.zip in the oasis:
>
> http://www.the-oasis.net/ftpmaster.php3?content=ftpgenrl.htm
>
> Thanks Phil :-)

It is truly amazing how that site continues to live on. You would not believe 
the traffic it still gets to this day.
From jorgeagiraldo at hotmail.com  Sat Jan 26 21:38:36 2008
From: jorgeagiraldo at hotmail.com (Jorge A. Giraldo)
Date: Sat Jan 26 21:38:41 2008
Subject: [Harbour] DIRECTOY and subfolders?
In-Reply-To: <200801262000.49818.philb@philb.us>
References: <201696.83519.qm@web32813.mail.mud.yahoo.com>
	<BAY136-W20D3D13CE872C3A99F80B7A13B0@phx.gbl> 
	<200801262000.49818.philb@philb.us>
Message-ID: <BAY136-W1922D0F588AFE58F052E0BA13B0@phx.gbl>


Phil, 

Very nice piece of code, and it works better in Harbour than in Clipper! No limits!!!

A dream come true.

Thank you for your extended and outstanding support, 

Thanks to all the Harbour team for such a wonderful job.

Jorge A.


> From: philb@philb.us
> To: harbour@harbour-project.org
> Subject: Re: [Harbour] DIRECTOY and subfolders?
> Date: Sat, 26 Jan 2008 20:00:49 -0500
> 
> On Saturday 26 January 2008 07:12:21 pm Jorge A. Giraldo wrote:
> > Look for tree.zip in the oasis:
> >
> > http://www.the-oasis.net/ftpmaster.php3?content=ftpgenrl.htm
> >
> > Thanks Phil :-)
> 
> It is truly amazing how that site continues to live on. You would not believe 
> the traffic it still gets to this day.
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

_________________________________________________________________
News, entertainment and everything you care about at Live.com. Get it now!
http://www.live.com/getstarted.aspx
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080127/cff6c066/attachment.html
From niki at synel.co.il  Sun Jan 27 03:38:01 2008
From: niki at synel.co.il (Chen Kedem)
Date: Sun Jan 27 03:38:36 2008
Subject: [Harbour] CHANGELOG: 2008-01-26 07:53 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <479C42E9.3A7B@synel.co.il>

Viktor,

> ! Replaced 9999 internal and RT error codes with 
>       unique ones, in new Harbour ranges:

> NOTE: If you find some more 9999s in the core code, pls tell.

HBTest expected results should be updated in a few places
because of this change.


File contrib\hbbmcdx\bmdbfcdx1.c:
         hb_errInternal( 9999, "hb_cdxSortWritePage: Can't create temporary file.", "", "" );
      hb_errInternal( 9999, "hb_cdxSortWritePage: Write error in temporary file.", "", "" );
         hb_errInternal( 9999, "hb_cdxSortGetPageKey: Read error from temporary file.", "", "" );
         hb_errInternal( 9999, "hb_cdxSortOut: memory structure corrupted.", "", "" );
            hb_errInternal( 9999, "hb_cdxSortOut: sorting fails.", "", "" );
      hb_errInternal( 9999, "hb_cdxSortOut: memory structure corrupted(2).", "", "" );
File contrib\hbct\ctnet.c:
         pError = hb_errRT_New( ES_ERROR, HB_ERR_SS_TOOLS, 9999, 9999,
      pError = hb_errRT_New( ES_ERROR, HB_ERR_SS_TOOLS, 9999, 9999,
File utils\hbpp\hbpplib.c:
   pError = hb_errRT_New( ES_ERROR, "PP", 9999, ( ULONG ) iError, buffer, NULL, 0, EF_NONE | EF_CANDEFAULT );
File utils\hbtest\rt_array.prg:
   TEST_LINE( AFill()                         , "E BASE 9999 Argument error AFILL "        )
   TEST_LINE( AFill( NIL )                    , "E BASE 9999 Argument error AFILL "        )
File utils\hbtest\rt_stra.prg:
   TEST_LINE( StrZero(NIL)                    , "E BASE 9999 Argument error STRZERO A:1:U:NIL F:S"             )
   TEST_LINE( StrZero("A", 10, 2)             , "E BASE 9999 Argument error STRZERO A:3:C:A;N:10;N:2 F:S"      )
   TEST_LINE( StrZero(100, 10, "A")           , "E BASE 9999 Argument error STRZERO A:3:N:100;N:10;C:A F:S"    )
   TEST_LINE( StrZero(100, 10, NIL)           , "E BASE 9999 Argument error STRZERO A:3:N:100;N:10;U:NIL F:S"  )
   TEST_LINE( StrZero(100, NIL, NIL)          , "E BASE 9999 Argument error STRZERO A:3:N:100;U:NIL;U:NIL F:S" )


  Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From niki at synel.co.il  Sun Jan 27 03:47:06 2008
From: niki at synel.co.il (Chen Kedem)
Date: Sun Jan 27 03:47:17 2008
Subject: [Harbour] Re: SF bugtracker#1861888: Object manipulation
	__objAddMethod( )
References: <478A0466.5FBF@synel.co.il>
Message-ID: <479C450A.5439@synel.co.il>

http://lists.harbour-project.org/pipermail/harbour/2008-January/005797.html

Are the functions in source/rtl/objfunc.prg still supported?
if so, the code should be updated to replace ISNUMBER( nFuncPtr )
to something like ISPOINTER( pFuncPtr )
(there is no ISPOINTER macro equivalent in the PRG level,
there is such in the C level).


  Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From harbour.01 at syenar.hu  Sun Jan 27 07:07:40 2008
From: harbour.01 at syenar.hu (=?WINDOWS-1252?Q?Szak=E1ts_Viktor?=)
Date: Sun Jan 27 07:07:29 2008
Subject: [Harbour] DIRECTORY() compatibility
In-Reply-To: <BAYC1-PASMTP04D50C185F0C4BC2FB5A54DF3A0@CEZ.ICE>
References: <4799FC2B.4000100@dbtopas.lt><7C74355E-7949-4C4C-B08E-19F8DD7FCB7D@syenar.hu><479A1D58.1090204@dbtopas.lt>
	<410CE937-5AF3-4F0C-9A44-E2A262EB65AB@syenar.hu>
	<BAYC1-PASMTP04D50C185F0C4BC2FB5A54DF3A0@CEZ.ICE>
Message-ID: <FCD25C52-E0BA-45C5-BF5A-ABCD6CF201C9@syenar.hu>

Hi Paul,

This is fine, but DIR command will probably do its own
logic when it comes to processing and modifying passed
filenames.

I personally _always_ append an ending slash manually
to avoid any confusion or to rely on the logic of the
underlying systems, because:

"C:\entry" could as well mean file C:\entry itself or
the content of C:\entry, depending on the situation,
subsystem or tools actually used.

"C:\entry\" however _always_ means the content of the
folder named "entry".

For a tool which is really confused about these matters,
it's enough to see DOS/WIN COPY, which goes as far as
_asking_ the user what was exactly meant.

So, if Harbour would automagically append an ending slash,
how would I be able to get the file data of one sole
entry, like "C:\entry" where "entry" is a single file in
the C: root?

In case of DIRECTORY() we simply cannot be sure if the
ending backslash is intentionally added, or it is just the
underlying subsystems' side-effect. And even if it were
added by DIRECTORY() I'd rather consider it a bug, or
at least not something portable, or universally correct.
This would then fall (IMO) into the same category when
functions are automatically changing the casing of a filename.
All these situations are handled with SETs in Harbour,
just because there are ppl who favour strict MS-DOS
compatibility over portability and vice versa. (it is
usually a process I guess, where these SETs are eventually
turned off, when application code is corrected to avoid
these gotchas.)

Brgds,
Viktor

On 2008.01.26., at 14:32, Paul Tucker wrote:

> Victor,
>
> MK>> I've just finished my test on linux. I do not have Harbour under
> ??>> linux, but I've tried to analyze opendir() system call.  
> opendir("/
> ??>> path/") gives listing of folder, so, I guess directory("/path/")
> ??>> will also (but it can depend on our implementation). This made  
> me a
> ??>> stronger feeling we must hide platform dependent behavior under
> ??>> windows.
>
> ??>> So, if DOS and Linux version for directory(".../") gives file  
> list
> ??>> and the Clipper also, I found it to be enough reason to hide
> ??>> platform behavior under windows by adding a few lines of code.
>
> ??>> BTW, "*" will work on both windows and Linux, but it's not the  
> case,
> ??>> because in linux we need to pass path only to opendir() function.
> ??>> File mask filtering is done later by our code.
>
> SV> Maybe this works, but it's easy to find a parameter which
> SV> would behave differently depending on the platform, enough
> SV> to think about casing, drive letters, or any other speciality
> SV> (like special chars).
>
> ...
>
> SV> I still think it's not Harbour's job, to present a "virtual FS"
> SV> with fully MS-DOS compatible rules. Or even if want such thing,
> SV> it should be an option.
>
> If you open a command window under xp and vista, DIR mydir and DIR  
> mydir\ both do the same thing.  Ditto if you paste those into an  
> explorer window.
>
> If you expect dir c:\mydir to show one entry, then you're asking for  
> the contents of c:\ and just need to append a wild-card. (at least  
> at the command prompt, and I would think in Harbour code too)
>
> Random thoughts.
>
> Paul
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Jan 27 07:09:51 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Sun Jan 27 07:09:39 2008
Subject: [Harbour] zlib contrib question
In-Reply-To: <BAY136-W7BDDB0856A41932B4977CA13A0@phx.gbl>
References: <3D0251BF-C577-4B9F-98AC-8A1770C8628B@syenar.hu>
	<4799E4A5.9060404@dbtopas.lt>
	<F78F80B4-6E65-4409-B771-7E1181E48446@syenar.hu>
	<BAY136-W7BDDB0856A41932B4977CA13A0@phx.gbl>
Message-ID: <881044FF-1FDC-49C0-9AD7-327DD01C11DE@syenar.hu>

Hi Jorge,

Before I add this - which would create a one time exception of all
current contribs -, do you, or anyone know, how to compile hbzlib
to _not_ require this implib hack when compiled with BCC?

If there were a compiler switch or some ZLIB #define we could use,
I think we could get a better, more generic solution.

Brgds,
Viktor

On 2008.01.27., at 0:48, Jorge A. Giraldo wrote:

> Viktor,
>
> Please add the -a switch in IMPLIB for the MAKE_B32.BAT
>
> Thanks,
>
> Jorge A.
>
> > From: harbour.01@syenar.hu
> > To: harbour@harbour-project.org
> > Subject: Re: [Harbour] zlib contrib question
> > Date: Fri, 25 Jan 2008 16:40:21 +0100
> >
> > Okey and thanks.
> >
> > to Przemek: The GNU make system will have to adapted
> > too I guess.
> >
> > Brgds,
> > Viktor
> >
> > On 2008.01.25., at 14:31, Mindaugas Kavaliauskas wrote:
> >
> > > Szak?ts Viktor wrote:
> > >> I'd suggest to keep zlib.h and zconf.h out of our SVN,
> > >> since the zlib dll package is needed anyway to use this
> > >> contrib. This way we'd be in sync with the rest of the
> > >> contribs where similar concept is used to avoid any
> > >> user installed .dll vs. local header file incompatibilites.
> > >
> > > Hi,
> > >
> > >
> > > I do not know how to manage this situation the best, so, feel free
> > > to change. I went the most simple way - included it into contrib
> > > project.
> > >
> > >
> > > Best regards,
> > > Mindaugas
> > >
> > >
> > > _______________________________________________
> > > Harbour mailing list
> > > Harbour@harbour-project.org
> > > http://lists.harbour-project.org/mailman/listinfo/harbour
> >
> > _______________________________________________
> > Harbour mailing list
> > Harbour@harbour-project.org
> > http://lists.harbour-project.org/mailman/listinfo/harbour
>
> Explore the seven wonders of the world Learn more! 
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Sun Jan 27 07:32:45 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jan 27 07:32:45 2008
Subject: [Harbour] CHANGELOG: 2008-01-27 12:46 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c860e0$Blat.v2.6.2$b80c6ee4$14cc8779f286@127.0.0.1>

2008-01-27 12:46 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * source/rtl/objfunc.prg
     ! Fixed ISNUMBER() -> hb_ISPOINTER() for pointers.
       Thanks to Chen Kedem.

   * utils/hbtest/rt_stra.prg
   * utils/hbtest/rt_array.prg
     ! Fixed expected results to use the recently introduced new error codes.
       Thanks to Chen Kedem.
--
Brgds,
Viktor

From niki at synel.co.il  Sun Jan 27 08:29:23 2008
From: niki at synel.co.il (Chen Kedem)
Date: Sun Jan 27 08:29:24 2008
Subject: [Harbour] ChangeLog: 2008-01-27 15:26 UTC+0200 Chen Kedem
Message-ID: <479C8732.D50@synel.co.il>

2008-01-27 15:26 UTC+0200 Chen Kedem <niki@synel.co.il>
   * source/rtl/objfunc.prg
     ! Change hb_ISPOINTER() -> hb_ISSYMBOL()


  Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From jorgeagiraldo at hotmail.com  Sun Jan 27 09:48:36 2008
From: jorgeagiraldo at hotmail.com (Jorge A. Giraldo)
Date: Sun Jan 27 09:48:39 2008
Subject: [Harbour] zlib contrib question
In-Reply-To: <881044FF-1FDC-49C0-9AD7-327DD01C11DE@syenar.hu>
References: <3D0251BF-C577-4B9F-98AC-8A1770C8628B@syenar.hu>
	<4799E4A5.9060404@dbtopas.lt>
	<F78F80B4-6E65-4409-B771-7E1181E48446@syenar.hu>
	<BAY136-W7BDDB0856A41932B4977CA13A0@phx.gbl> 
	<881044FF-1FDC-49C0-9AD7-327DD01C11DE@syenar.hu>
Message-ID: <BAY136-W3774E19E49A5B8841E614FA13B0@phx.gbl>


Viktor,

After some research, it seems to be related to the way the dll is built, 
in zlib1.dll (http://www.zlib.net) they use the CDECL, not the STDCALL 
convention (something they explain in the site http://www.zlib.net/DLL_FAQ.txt).

Instead, zlibwapi.dll (http://www.winimage.com/zLibDll/) is supposed to 
be built with the STDCALL standard. They even offer a zlib_bor.lib

I had luck with the second one but only if using the -a switch. :-(

Another way is to build the dll from the sources but defining ZLIB_WINAPI, 
something I have not tried yet. But I think this is a worst task than using 
the -a switch.

Those are my findings, hope others have better luck.

Jorge A.

> From: harbour.01@syenar.hu
> To: harbour@harbour-project.org
> Subject: Re: [Harbour] zlib contrib question
> Date: Sun, 27 Jan 2008 13:09:51 +0100
> 
> Hi Jorge,
> 
> Before I add this - which would create a one time exception of all
> current contribs -, do you, or anyone know, how to compile hbzlib
> to _not_ require this implib hack when compiled with BCC?
> 
> If there were a compiler switch or some ZLIB #define we could use,
> I think we could get a better, more generic solution.
> 
> Brgds,
> Viktor
> 
> On 2008.01.27., at 0:48, Jorge A. Giraldo wrote:
> 
> > Viktor,
> >
> > Please add the -a switch in IMPLIB for the MAKE_B32.BAT
> >
> > Thanks,
> >
> > Jorge A.
> >
> > > From: harbour.01@syenar.hu
> > > To: harbour@harbour-project.org
> > > Subject: Re: [Harbour] zlib contrib question
> > > Date: Fri, 25 Jan 2008 16:40:21 +0100
> > >
> > > Okey and thanks.
> > >
> > > to Przemek: The GNU make system will have to adapted
> > > too I guess.
> > >
> > > Brgds,
> > > Viktor
> > >
> > > On 2008.01.25., at 14:31, Mindaugas Kavaliauskas wrote:
> > >
> > > > Szak?ts Viktor wrote:
> > > >> I'd suggest to keep zlib.h and zconf.h out of our SVN,
> > > >> since the zlib dll package is needed anyway to use this
> > > >> contrib. This way we'd be in sync with the rest of the
> > > >> contribs where similar concept is used to avoid any
> > > >> user installed .dll vs. local header file incompatibilites.
> > > >
> > > > Hi,
> > > >
> > > >
> > > > I do not know how to manage this situation the best, so, feel free
> > > > to change. I went the most simple way - included it into contrib
> > > > project.
> > > >
> > > >
> > > > Best regards,
> > > > Mindaugas
> > > >


_________________________________________________________________
Explore the seven wonders of the world
http://search.msn.com/results.aspx?q=7+wonders+world&mkt=en-US&form=QBRE
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080127/fa868d44/attachment.html
From harbour.01 at syenar.hu  Sun Jan 27 11:25:55 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Sun Jan 27 11:25:55 2008
Subject: [Harbour] CHANGELOG: 2008-01-27 17:24 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c86101$Blat.v2.6.2$4a9e0752$1610af95b0dc@127.0.0.1>

2008-01-27 17:24 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/hbmysql/make_b32.bat
   * contrib/hbmysql/make_vc.bat
   * contrib/hbodbc/make_b32.bat
   * contrib/hbodbc/make_vc.bat
   * contrib/hbfbird/make_b32.bat
   * contrib/hbfbird/make_vc.bat
   * contrib/hbapollo/make_b32.bat
   * contrib/hbapollo/make_vc.bat
   * contrib/hbzlib/make_b32.bat
   * contrib/hbzlib/make_vc.bat
   * contrib/hbpgsql/make_b32.bat
   * contrib/hbpgsql/make_vc.bat
   * contrib/rddads/make_b32.bat
   * contrib/rddads/make_vc.bat
   * contrib/hbfimage/make_b32.bat
   * contrib/hbfimage/make_vc.bat
   * contrib/hbgd/make_b32.bat
   * contrib/hbgd/make_vc.bat
     ! Minor formatting.

   * contrib/hbzlib/make_b32.bat
     ! -a added to implib until a better fix is found 
       for the problem.

   * source/rdd/dbfntx/dbfntx1.c
   * source/rdd/dbfcdx/dbfcdx1.c
     ! Changed previously used internal error code 
       ranges to better fit in already used ones.
       (70??/71?? -> 93??)

   * contrib/hbbmcdx/bmdbfcdx1.c
     ! 9999 internal error codes synced with CDX RDD.
--
Brgds,
Viktor

From gvarona at ec-red.com  Sun Jan 27 18:56:33 2008
From: gvarona at ec-red.com (=?ISO-8859-1?Q?Guillermo_Varona_Silup=FA?=)
Date: Sun Jan 27 18:56:41 2008
Subject: [Harbour] =?iso-8859-1?q?Can=B4t_build_Harbour_from_last_SVN?=
Message-ID: <479D1A31.6030806@ec-red.com>

[SPA]
Hola:
Uso harbour + MinGW + WinXP SP2
He actualizado harbour al ultimo SVN, y al generar me da el siguiente error:

[ENG]
Hello:
Use harbour MinGW + + Windows XP SP2
I upgraded to the latest SVN harbour, and to generate gives me the 
following error:

D:\harbour>make_gnu
c:\mingw\bin\..\lib\gcc\mingw32\3.4.2\..\..\..\..\mingw32\bin\ld.exe: 
cannot find -lhbcommon
collect2: ld returned 1 exit status
make[3]: *** [hbppgen.exe] Error 1
make[2]: *** [descend] Error 2
c:\mingw\bin\..\lib\gcc\mingw32\3.4.2\..\..\..\..\mingw32\bin\ld.exe: 
cannot find -lhbcplr
collect2: ld returned 1 exit status
make[3]: *** [harbour.exe] Error 1
make[2]: *** [descend] Error 2
process_begin: CreateProcess(NULL, 
../../../../source/main/w32/mingw32/harbour.exe ../../achoice.prg -n -q0 
-w2 -es2 -gc0 -kM -I../../ -I../../../../include, ...) failed.
make (e=2): El sistema no puede hallar el archivo especificado.
make[3]: *** [achoice.c] Error 2
make[2]: *** [descend] Error 2
process_begin: CreateProcess(NULL, 
../../../../source/main/w32/mingw32/harbour.exe ../../harbinit.prg -n 
-q0 -w2 -es2 -gc0 -kM -I../../ -I../../../../include, .
..) failed.
make (e=2): El sistema no puede hallar el archivo especificado.
make[3]: *** [harbinit.c] Error 2
make[2]: *** [descend] Error 2
. . . .

any tip?

Best Regards.
GVS
From harbour.01 at syenar.hu  Mon Jan 28 03:27:44 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jan 28 03:27:32 2008
Subject: [Harbour] CHANGELOG: 2008-01-26 11:00 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
In-Reply-To: <9257026e0801260227k599d648bxd2fc6302b0d49d2d@mail.gmail.com>
References: <01c86002$Blat.v2.6.2$62986afa$12e8e5005d44@127.0.0.1>
	<9257026e0801260227k599d648bxd2fc6302b0d49d2d@mail.gmail.com>
Message-ID: <57A06DB7-BC73-4A4A-B36C-74FCC0872820@syenar.hu>

Hi all,

Any opinions on resolving this problem by removing
'hb' from the libname to create the path under /source/,
and at the same time to rename 'source/codepage' into 'source/cpage',
'source/compiler' into 'source/cplr', 'source/rdd/nulsys'
to 'source/rdd/nulrdd', 'source/rdd/dbf*' to 'source/rdd/rdd*',
etc.

I don't like this too much, but it would resolve
the problem. The other solution is to create a translation
table in the GNU make code, so that any lib names can be
assigned to any directory names.

Brgds,
Viktor

On 2008.01.26., at 11:27, Lorenzo Fiorini wrote:

> On Jan 26, 2008 11:01 AM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:
>
>> 2008-01-26 11:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>>   * source/pp/Makefile
>>     ! Missed modification made after lib name change.
>
> As far as I understand it's not enough.
>
> LINKPATHS += $(foreach lib, $(LIBS), -L$(TOP)$(ROOT)source/$(lib)/$ 
> (HB_ARCH))
>
> suggest that lib name and lib dir should have the same name.
>
> best regards,
> Lorenzo

From harbour.01 at syenar.hu  Mon Jan 28 03:29:39 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jan 28 03:29:37 2008
Subject: [Harbour] CHANGELOG: 2008-01-28 09:28 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c86187$Blat.v2.6.2$ec6a99ac$da84ad0cd12@127.0.0.1>

2008-01-28 09:28 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * source/rdd/dbfntx/Makefile
   * source/rdd/dbfdbt/Makefile
   * source/rdd/dbfcdx/Makefile
   * source/rdd/dbffpt/Makefile
     ! Missing LIBNAME change now done.

   * ChangeLog
     ! Missing dbfdbt -> rdddbt name changed added to prev entry.
--
Brgds,
Viktor

From niki at synel.co.il  Mon Jan 28 04:14:18 2008
From: niki at synel.co.il (Chen Kedem)
Date: Mon Jan 28 04:13:55 2008
Subject: [Harbour] CHANGELOG: 2008-01-26 11:00 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <479D9CEA.1231@synel.co.il>

> Any opinions on resolving this problem by removing
> 'hb' from the libname to create the path under /source/,
> and at the same time to rename 'source/codepage' into 'source/cpage'
> ...
> I don't like this too much, but it would resolve the problem

These names starting to look too cryptic.
One huge harbour.lib or translation table in the GNU make code,
should be the preferred solution.

Hmm, mono lib makes it harder to replace some of the code, or making
sure unwanted sub-systems are not linked in. Also, compiler.lib got
a different license. So its not a good choice too.


  Chen.
**********************************************************************************************
IMPORTANT: The contents of this email and any attachments are confidential. They are intended for the 
named recipient(s) only.
If you have received this email in error, please notify the system manager or the sender immediately and do 
not disclose the contents to anyone or make copies thereof.
*** eSafe scanned this email for viruses, vandals, and malicious content. ***
**********************************************************************************************

From lorenzo.fiorini at gmail.com  Mon Jan 28 05:28:49 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Mon Jan 28 05:28:52 2008
Subject: [Harbour] CHANGELOG: 2008-01-26 11:00 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
In-Reply-To: <57A06DB7-BC73-4A4A-B36C-74FCC0872820@syenar.hu>
References: <01c86002$Blat.v2.6.2$62986afa$12e8e5005d44@127.0.0.1>
	<9257026e0801260227k599d648bxd2fc6302b0d49d2d@mail.gmail.com>
	<57A06DB7-BC73-4A4A-B36C-74FCC0872820@syenar.hu>
Message-ID: <9257026e0801280228o25d27bd8tdd769df1edf8e04c@mail.gmail.com>

On Jan 28, 2008 9:27 AM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> Any opinions on resolving this problem by removing
> 'hb' from the libname to create the path under /source/,
...
> assigned to any directory names.

I'm not a make guru and since gnu make system manages many platforms
and many C compilers, I think it's better to wait for Przemyslaw
comment or simply revert to "old" names.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Mon Jan 28 06:01:02 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Mon Jan 28 06:00:55 2008
Subject: [Harbour] CHANGELOG: 2008-01-26 11:00 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
In-Reply-To: <479D9CEA.1231@synel.co.il>
References: <479D9CEA.1231@synel.co.il>
Message-ID: <0C7FD646-9BED-41DC-B5DA-975987E8F15B@syenar.hu>

Yes, one big lib would be good. compiler lib could
be left separate. I think code replacement can be
done just as well using one large lib, at least I
cannot see any real life situations where this could
have any disadvantages (others will surely tell them :).
This would also simplify the build process for users.

So so far:
- translation table
- harbour.lib + hbcompiler.lib
- or both

I hope we can avoid reverting, because lib name
collision _is_ a valid problem, and can be an even
bigger problem anytime in the future.

Brgds,
Viktor

On 2008.01.28., at 10:14, Chen Kedem wrote:

>> Any opinions on resolving this problem by removing
>> 'hb' from the libname to create the path under /source/,
>> and at the same time to rename 'source/codepage' into 'source/cpage'
>> ...
>> I don't like this too much, but it would resolve the problem
>
> These names starting to look too cryptic.
> One huge harbour.lib or translation table in the GNU make code,
> should be the preferred solution.
>
> Hmm, mono lib makes it harder to replace some of the code, or making
> sure unwanted sub-systems are not linked in. Also, compiler.lib got
> a different license. So its not a good choice too.
>
>
>  Chen.
> **********************************************************************************************
> IMPORTANT: The contents of this email and any attachments are  
> confidential. They are intended for the
> named recipient(s) only.
> If you have received this email in error, please notify the system  
> manager or the sender immediately and do
> not disclose the contents to anyone or make copies thereof.
> *** eSafe scanned this email for viruses, vandals, and malicious  
> content. ***
> **********************************************************************************************
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Mon Jan 28 06:12:47 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jan 28 06:12:46 2008
Subject: [Harbour] CHANGELOG: 2008-01-28 12:10 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c8619e$Blat.v2.6.2$b6ad67a6$109886173e7a@127.0.0.1>

2008-01-28 12:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * include/hbapierr.h
   * source/rtl/errorapi.c
     ! Removed HB_ERR_SS_TOOLS non-core #define (formerly used by 
       /contrib/hbct from core header.
     ! Removed non-core related error API call hb_errRT_TOOLS()
       (functionality was similar to hb_errRT_BASE())

   * contrib/hbct/ctnet.c
     ! Fixed RTE calls to use unique IDs instead of 9999.
       Subcode changed to 0 from 999.

   * utils/hbpp/hbpplib.c
     ! Replaced RTE code 9999 with 1001.
--
Brgds,
Viktor

From dbtopas at dbtopas.lt  Mon Jan 28 09:05:33 2008
From: dbtopas at dbtopas.lt (Mindaugas Kavaliauskas)
Date: Mon Jan 28 09:05:35 2008
Subject: [Harbour] DIRECTORY() compatibility
In-Reply-To: <410CE937-5AF3-4F0C-9A44-E2A262EB65AB@syenar.hu>
References: <4799FC2B.4000100@dbtopas.lt>	<7C74355E-7949-4C4C-B08E-19F8DD7FCB7D@syenar.hu>	<479A1D58.1090204@dbtopas.lt>
	<410CE937-5AF3-4F0C-9A44-E2A262EB65AB@syenar.hu>
Message-ID: <4724897F.6050707@dbtopas.lt>

Hi,

>>> Since directory("c:\path","d") returns an array of 1 element, my 
>>> friend used directory("c:\path\","d") to get list of directory for 
>>> years. He did it in Clipper, and after that he successfully did it in 
>>> xHarbour.
>> I've looked to xHarbour's code, they have code to mask platform 
>> dependent behavior:
>>
>>     if ( pFileName[iNameLen-1] == OS_PATH_DELIMITER )  //  '\\'
>>     {
>>        strcat(pFileName,"*.*") ; // 26/01/2004: Clipper compatibility
>>     }
>>
>>
>>> We may try to mask these platform differences in Harbour
>>> code (controlled with some more SETs), but I'd rather suggest
>>> to modify the call to be more platform independent.
>>
>> I don't thing we need some set, we just need to a few lines like above 
>> of code to mask platform dependent behavior.
> 
> I'm not sure if this is right, or future proof. In Harbour we cover all
> such cases with SETs, because not everyone wants to leave any
> filename messing to Harbour, and the whole issue is mostly relevant
> for legacy apps; for new or updated ones, it's not always good or desired.
> 
> Notice that it's also hard to tell (without testing) whether Clipper
> behaves the same way under plain DOS, other DOS flavors, and Windows.

It's easy to tell: Clipper behaves the same, because this case is 
managed by Clipper DIRECTORY() function. See, below.


> Maybe this works, but it's easy to find a parameter which
> would behave differently depending on the platform, enough
> to think about casing, drive letters, or any other speciality
> (like special chars).
> 
> See the discussion on trimming filenames last week or so.
> (File(" myfile.txt") or something like this)

I do not see here relation to spaces or upper/lower case filenames. 
Spaces and upper/lower case letters are valid in some OS, but not DOS. 
Since Clipper was written for DOS only, we must solve this aspect for 
other OS by SET's. Here is different question, every OS has path 
separator, and we must list all files if last character is path 
separator. What SET's do you propose?


> I still think it's not Harbour's job, to present a "virtual FS"
> with fully MS-DOS compatible rules. Or even if want such thing,
> it should be an option.

I've tested what strings are passed to DOS. The same results in 
directory(".../") and directory(".../*.*") function calls are obtained 
because Clipper adds *.* if last character is path sepatator. So, it's 
not a question of platform behavior, it's Clipper.



Best regards,
Mindaugas

From labitas at gmail.com  Mon Jan 28 12:19:02 2008
From: labitas at gmail.com (Saulius Zrelskis)
Date: Mon Jan 28 12:19:10 2008
Subject: [Harbour] DIRECTORY() compatibility
In-Reply-To: <4724897F.6050707@dbtopas.lt>
References: <4799FC2B.4000100@dbtopas.lt>
	<7C74355E-7949-4C4C-B08E-19F8DD7FCB7D@syenar.hu>
	<479A1D58.1090204@dbtopas.lt>
	<410CE937-5AF3-4F0C-9A44-E2A262EB65AB@syenar.hu>
	<4724897F.6050707@dbtopas.lt>
Message-ID: <2386af1b0801280919p8396a03ld9653deee3191b07@mail.gmail.com>

Hi,

I've tested what strings are passed to DOS. The same results in
> directory(".../") and directory(".../*.*") function calls are obtained
> because Clipper adds *.* if last character is path sepatator. So, it's
> not a question of platform behavior, it's Clipper.



Exactly, if there is no <cDirSpec> parameter in call to DIRECTORY(), or
string is empty, or
string ends with symbol ":" or "\", Clipper adds "*.*"

best regards,
Saulius
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080128/1abd3d8a/attachment.html
From harbour at rglab.pl  Mon Jan 28 17:09:20 2008
From: harbour at rglab.pl (=?iso-8859-2?Q?Ryszard_G=B3=B1b?=)
Date: Mon Jan 28 17:09:19 2008
Subject: [Harbour] CHANGELOG: 2008-01-26 11:00 UTC+0100 Viktor Szakats 
	(harbour.01 syenar.hu)
References: <01c86002$Blat.v2.6.2$62986afa$12e8e5005d44@127.0.0.1>
	<9257026e0801260227k599d648bxd2fc6302b0d49d2d@mail.gmail.com>
	<57A06DB7-BC73-4A4A-B36C-74FCC0872820@syenar.hu>
Message-ID: <a008bfaeb5e73c06c54224dcca39a0ab.qmail@home.pl>

Szak?ts Viktor <harbour.01@syenar.hu> napisa?(a):
> Hi all,
>
> Any opinions on resolving this problem by removing
> 'hb' from the libname to create the path under /source/,
> and at the same time to rename 'source/codepage' into 'source/cpage',
> 'source/compiler' into 'source/cplr', 'source/rdd/nulsys'
> to 'source/rdd/nulrdd', 'source/rdd/dbf*' to 'source/rdd/rdd*',
> etc.

  I belive that the simplest method will be moving libraries into common
harbour/lib directory or harbour/lib/<arch_name>/<compiler> eg.
harbour/lib/linux/gcc instead of source/<libname>/linux/gcc simmilar to
non GNU makefiles.

Regards, Ryszard

From harbour.01 at syenar.hu  Mon Jan 28 19:01:02 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Mon Jan 28 19:01:01 2008
Subject: [Harbour] CHANGELOG: 2008-01-29 01:00 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c8620a$Blat.v2.6.2$097e8742$128c1ec6093a@127.0.0.1>

2008-01-29 01:00 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * ChangeLog
     ! Typos.

   * utils/hbpp/hbpplib.c
     ! Replaced RTE code 1001 with 1002.
       (almost the same error condition, but better have 
       it different to avoid any support confusions).
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Tue Jan 29 05:42:10 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Tue Jan 29 05:41:58 2008
Subject: [Harbour] CHANGELOG: 2008-01-26 11:00 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
In-Reply-To: <a008bfaeb5e73c06c54224dcca39a0ab.qmail@home.pl>
References: <01c86002$Blat.v2.6.2$62986afa$12e8e5005d44@127.0.0.1>
	<9257026e0801260227k599d648bxd2fc6302b0d49d2d@mail.gmail.com>
	<57A06DB7-BC73-4A4A-B36C-74FCC0872820@syenar.hu>
	<a008bfaeb5e73c06c54224dcca39a0ab.qmail@home.pl>
Message-ID: <7172C26A-5EF9-4D0E-873F-8B03EBED614D@syenar.hu>

Hi Ryszard,

I like your idea very much.

I don't think I can implement it though, so all help would
be welcome.

Brgds,
Viktor

On 2008.01.28., at 23:09, Ryszard G??b wrote:

> Szak?ts Viktor <harbour.01@syenar.hu> napisa?(a):
>> Hi all,
>>
>> Any opinions on resolving this problem by removing
>> 'hb' from the libname to create the path under /source/,
>> and at the same time to rename 'source/codepage' into 'source/cpage',
>> 'source/compiler' into 'source/cplr', 'source/rdd/nulsys'
>> to 'source/rdd/nulrdd', 'source/rdd/dbf*' to 'source/rdd/rdd*',
>> etc.
>
>  I belive that the simplest method will be moving libraries into  
> common
> harbour/lib directory or harbour/lib/<arch_name>/<compiler> eg.
> harbour/lib/linux/gcc instead of source/<libname>/linux/gcc simmilar  
> to
> non GNU makefiles.
>
> Regards, Ryszard
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From dmacias at mail.udg.mx  Wed Jan 30 03:01:10 2008
From: dmacias at mail.udg.mx (David Arturo Macias Corona)
Date: Wed Jan 30 03:00:44 2008
Subject: [Harbour] Harbour under OS/2 - eCS
In-Reply-To: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
References: <20070304160715.C41882572F8@antivirus.noc.udg.mx>
Message-ID: <47A02EC6.4070403@mail.udg.mx>

Viktor:

Below are errors with current Harbour under OS/2. Are same as those 
reported by Guillermo Varona Silup? under Win32

( Can?t build Harbour from last SVN,   Sun Jan 27 18:56:33 EST 2008 )


.cmd files will be restored ?

David Macias


[E:\harbour801]make -r           1>make_gnu.log
E:/usr/i386-pc-os2-emx/bin/ld.exe: No such file or directory for hbcommon
make[3]: *** [hbppgen.exe] Error 1
make[2]: *** [descend] Error 2
E:/usr/i386-pc-os2-emx/bin/ld.exe: No such file or directory for hbcplr
make[3]: *** [harbour.exe] Error 1
make[2]: *** [descend] Error 2


From labitas at gmail.com  Wed Jan 30 03:25:35 2008
From: labitas at gmail.com (Saulius Zrelskis)
Date: Wed Jan 30 03:25:38 2008
Subject: [Harbour] DIRCHANGE bug
Message-ID: <2386af1b0801300025g65a13441j1b67fcf75713c2c5@mail.gmail.com>

Hi,

CT function DIRCHANGE in Clipper not change default disk,
while Harbour changes.

Proc main()
 ? DiskName()
 ? DirChange( "C:\WINDOWS" )
 ? DiskName()
Return

Clipper:
D
        0
D

Harbour:
D
        0
C

DOS API "CHDIR" - SET CURRENT DIRECTORY note:
if new directory name includes a drive letter, the default drive is
not changed, only the current directory on that drive.

best regards,
Saulius
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080130/ff0e6cb7/attachment.html
From harbour.01 at syenar.hu  Wed Jan 30 03:51:56 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jan 30 03:51:50 2008
Subject: [Harbour] DIRCHANGE bug
In-Reply-To: <2386af1b0801300025g65a13441j1b67fcf75713c2c5@mail.gmail.com>
References: <2386af1b0801300025g65a13441j1b67fcf75713c2c5@mail.gmail.com>
Message-ID: <533B3BB2-7719-46A4-A1B2-D2DC634F579E@syenar.hu>

Hi Saulius,

Similar thing as discussed just recently:

This behaviour is tied to the way OS implements
"dir change" function (that's why you had to paste
the DOS API documentation and not the Clipper one),
Clipper 5.3 (not CT) is only the messenger here,
the job is done by the OS. So this is a "virtual FS",
or "MS-DOS filesystem" emulation issue, not a C5.x
implementation issue. In Harbour for Win32, this
functionality is implemented by a "SetCurrentDirectory()"
Win32 API call, which - apparently - does change the
drive too.

If you want to make sure your code works on all OSes
and file-systems the same way, just strip the drive
from the passed path. You can use
HB_FNAMESPLIT()/HB_FNAMEMERGE() to do that:

DirChange( DriveStrip( cMyPath ) )

FUNCTION DriveStrip( cFullPath )
    LOCAL cPath, cName, cExt
    hb_FNameSplit( cFullPath, @cPath, @cName, @cExt )
    RETURN hb_FNameMerge( cPath, cName, cExt )

Similar function to add an ending backslash, for Directory():

Directory( DirAddBackslash( cMyDir ) )

FUNCTION DirAddBackslash( cDir )
    RETURN cDir + iif( !Empty( cDir ) .AND. ( !( Right( cDir, 1 ) $  
hb_OSPathDelimiters() ) .OR. Right( cDir, 1 ) ==  
hb_OSDriveSeparator() ), Set( _SET_DIRSEPARATOR ), "" )

(Both examples untested)

Brgds,
Viktor

On 2008.01.30., at 9:25, Saulius Zrelskis wrote:

> Hi,
>
> CT function DIRCHANGE in Clipper not change default disk,
> while Harbour changes.
>
> Proc main()
>  ? DiskName()
>  ? DirChange( "C:\WINDOWS" )
>  ? DiskName()
> Return
>
> Clipper:
> D
>         0
> D
>
> Harbour:
> D
>         0
> C
>
> DOS API "CHDIR" - SET CURRENT DIRECTORY note:
> if new directory name includes a drive letter, the default drive is
> not changed, only the current directory on that drive.
>
> best regards,
> Saulius
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From labitas at gmail.com  Wed Jan 30 04:29:46 2008
From: labitas at gmail.com (Saulius Zrelskis)
Date: Wed Jan 30 04:29:49 2008
Subject: [Harbour] DIRCHANGE bug
In-Reply-To: <533B3BB2-7719-46A4-A1B2-D2DC634F579E@syenar.hu>
References: <2386af1b0801300025g65a13441j1b67fcf75713c2c5@mail.gmail.com>
	<533B3BB2-7719-46A4-A1B2-D2DC634F579E@syenar.hu>
Message-ID: <2386af1b0801300129s79a76e8axaf392181c8d2fd7d@mail.gmail.com>

Now is clear, thank you Victor.
SetCurrentDirectory changes drive too.

best regards,
Saulius
-------------- next part --------------
An HTML attachment was scrubbed...
URL: http://lists.harbour-project.org/pipermail/harbour/attachments/20080130/b109ef8b/attachment.html
From mpaliwoda at interia.pl  Wed Jan 30 15:40:28 2008
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Wed Jan 30 15:40:40 2008
Subject: [Harbour] 2008-01-30 21:30 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
Message-ID: <47A0E0BC.80508@interia.pl>

2008-01-30 21:30 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
    * contrib/gtwvg/common.mak
    * contrib/hbapollo/common.mak
    * contrib/hbbmcdx/common.mak
    * contrib/hbbtree/common.mak
    * contrib/hbclipsm/common.mak
    * contrib/hbct/common.mak
    * contrib/hbfbird/common.mak
    * contrib/hbfimage/common.mak
    * contrib/hbgd/common.mak
    * contrib/hbgt/common.mak
    * contrib/hbmisc/common.mak
    * contrib/hbmsql/common.mak
    * contrib/hbmysql/common.mak
    * contrib/hbnf/common.mak
    * contrib/hbodbc/common.mak
    * contrib/hbole/common.mak
    * contrib/hbpgsql/common.mak
    * contrib/hbtip/common.mak
    * contrib/hbtpathy/common.mak
    * contrib/hbw32/common.mak
    * contrib/hbw32ddr/common.mak
    * contrib/hbwhat32/common.mak
    * contrib/hbziparch/common.mak
    * contrib/hbzlib/common.mak
    * contrib/rddado/common.mak
    * contrib/rddads/common.mak
    * contrib/xhb/common.mak
      ! Changed to be compatible with GNU make for alternative
        building system centered around common.mak.

    + contrib/make_gcc_all.sh
    + contrib/mtpl_gcc.mak
    + contrib/mtpl_gcc.sh
      + New files for building contrib libs with GNU make using
        alternative building system centered around common.mak.

    + contrib/hbbmcdx/make_gcc.sh
    + contrib/hbbtree/make_gcc.sh
    + contrib/rddado/make_gcc.sh
      + New files for building contrib libs with GNU make using
        alternative building system centered around common.mak.
        Work in progress.

    * contrib/make_b32_all.bat
    * contrib/make_vc_all.bat
      + Added Copyright notes.

    * contrib/mtpl_b32.bat
    * contrib/mtpl_b32.mak
    * contrib/mtpl_vc.bat
    * contrib/mtpl_vc.mak
      ! Minor cleanup and formatting.

    * make_gcc.mak
    * make_gcc.sh
      ! Minor fix related to Cygwin platform

-- 

     Marek Paliwoda
mpaliwoda at interia pl

----------------------------------------------------------------------
Wygraj nagrody! Ten konkurs jest dla Ciebie!
Kliknij >>>  http://link.interia.pl/f1ce8  

From cvc at oohg.org  Wed Jan 30 16:27:37 2008
From: cvc at oohg.org (Ciro Vargas Clemow)
Date: Wed Jan 30 16:28:04 2008
Subject: [Harbour] what about this problem ?
Message-ID: <47A0EBC9.1020902@oohg.org>


Hi all:

I test the example access2.prg from the samples of adordd

the program runs and diplay the browse, but if I press ENTER over any field I 
obtain the next error:

Date: 12/30/07 Time: 10:27:49
Error BASE/1073 Argument error: <

Called from ADO_ORDINFO(499)
Called from ORDKEY(0)
Called from INDEXKEY(90)
Called from DOGET(328)
Called from BROWSE(258)
Called from MAIN(27)

I use the last SVN

regards
Ciro



-- 
http://sistemascvc.tripod.com  (la casa del no2imp / the no2imp home )

http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more powerfull )


From harbour.01 at syenar.hu  Wed Jan 30 17:59:47 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Wed Jan 30 17:59:33 2008
Subject: [Harbour] what about this problem ?
In-Reply-To: <47A0EBC9.1020902@oohg.org>
References: <47A0EBC9.1020902@oohg.org>
Message-ID: <BD2E048F-51DF-4709-A65D-F699ADA73FF7@syenar.hu>

Hi Ciro,

Since no original contributors seem to be
answering, if you could help locating (and fixing)
the problem, it would be a great contribution.

Brgds,
Viktor

On 2008.01.30., at 22:27, Ciro Vargas Clemow wrote:

>
> Hi all:
>
> I test the example access2.prg from the samples of adordd
>
> the program runs and diplay the browse, but if I press ENTER over  
> any field I obtain the next error:
>
> Date: 12/30/07 Time: 10:27:49
> Error BASE/1073 Argument error: <
>
> Called from ADO_ORDINFO(499)
> Called from ORDKEY(0)
> Called from INDEXKEY(90)
> Called from DOGET(328)
> Called from BROWSE(258)
> Called from MAIN(27)
>
> I use the last SVN
>
> regards
> Ciro
>
>
>
> -- 
> http://sistemascvc.tripod.com  (la casa del no2imp / the no2imp home )
>
> http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more  
> powerfull )
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour at rglab.pl  Thu Jan 31 06:59:52 2008
From: harbour at rglab.pl (=?iso-8859-2?Q?Ryszard_G=B3=B1b?=)
Date: Thu Jan 31 06:59:55 2008
Subject: [Harbour] Changelog 2008-01-31 12:40 UTC+0100 Ryszard Glab
Message-ID: <468c5c05ca6014e56950b68409d0ced1.qmail@home.pl>

2008-01-31 12:40 UTC+0100 Ryszard Glab <harbour//rglab.pl>
   * doc/howtosvn.txt
      * svn update does not report locally modified files - it is
        required to run 'svn status' to list all changed files

   * config/lib.cf
   * config/bin.cf
   * config/darwin/gcc.cf
   * config/darwin/global.cf
   * config/hpux/gcc.cf
   * config/hpux/global.cf
   * config/dos/owatcom.cf
   * config/dos/watcom.cf
   * config/dos/bcc16.cf
   * config/dos/global.cf
   * config/dos/rsx32.cf
   * config/dos/djgpp.cf
   * config/global.cf
   * config/linux/owatcom.cf
   * config/linux/gcc.cf
   * config/linux/global.cf
   * config/os2/gcc.cf
   * config/os2/icc.cf
   * config/os2/global.cf
   * config/sunos/gcc.cf
   * config/sunos/global.cf
   * config/bsd/gcc.cf
   * config/bsd/global.cf
   * config/w32/msvc.cf
   * config/w32/owatcom.cf
   * config/w32/watcom.cf
   * config/w32/bcc32.cf
   * config/w32/gcc.cf
   * config/w32/xcc.cf
   * config/w32/rsxnt.cf
   * config/w32/global.cf
   * config/w32/cemgw.cf
   * config/w32/pocc.cf
   * config/w32/mingw32.cf
      * updated to create libraries in harbour/lib/<arch>/<compiler>
        subdirectories
      NOTE: only 'linux/gcc' modifications were tested -please
      report any problems (mostly slash or backslash issues probably)

Regards, Ryszard

From harbour at rglab.pl  Thu Jan 31 07:01:44 2008
From: harbour at rglab.pl (=?iso-8859-2?Q?Ryszard_G=B3=B1b?=)
Date: Thu Jan 31 07:01:56 2008
Subject: [Harbour] Changelog 2008-01-31 13:00 UTC+0100 Ryszard Glab
Message-ID: <10fc276844f2cf5dd025be3e8dee987a.qmail@home.pl>

2008-01-31 13:00 UTC+0100 Ryszard Glab <harbour//rglab.pl>
   * source/rdd/Makefile
   * config/global.cf
      * added HB_LIB_DIRS with a list of valid RDD subdirectories
        (HB_LIB_DRIVERS stores the list of valid RDD libraries)

Regards, Ryszard

From alex at belacy.belgorod.su  Thu Jan 31 07:02:32 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Thu Jan 31 07:03:01 2008
Subject: [Harbour] Leto DB Server
Message-ID: <47A1B8D8.4050000@belacy.belgorod.su>

Hi All,

  finally I've created this project and uploaded initial files to CVS - 
http://sourceforge.net/projects/letodb/.
Release packages are available, too - letodb-0.1.src.zip and 
letodb-0.1.src.tar.gz.

  There are server itself, rdd and management utility - this one is 
written for HwGUI, but I'll add a console utility later for to not force 
people use HwGUI.

  Of course, it's far from production state yet, but can be used for 
some tasks if there aren't many users.

  The socket library is an adopted and truncated hbinet.c I've talked 
about. If and when there hbinet.c will be modified, it may be used instead.

  Currently the server uses a simplest sequential mode, when each query 
is processed one after another. We haven't threads yet in Harbour, so I 
plan to use processes to work up queries, which demands more time ( 
indexing, walking through the filtered database, etc. ).

  The server main cycle and queries recognition is made in simplest way 
now - I wanted to have it working as soon as possible. Later it should 
be rewritten as C routine, I think.

  Not all basic methods are implemented yet ( scopes aren't, for example 
) - I did those, which I use in my programs to be able to test it.
  The server is up for few days in my server at work, sometimes I open 
up to 15 client programs from different workstations - and it works :).

  Regards,
   Alexander
From harbour.01 at syenar.hu  Thu Jan 31 07:46:53 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 07:46:40 2008
Subject: [Harbour] Leto DB Server
In-Reply-To: <47A1B8D8.4050000@belacy.belgorod.su>
References: <47A1B8D8.4050000@belacy.belgorod.su>
Message-ID: <CB632523-18C4-4577-8DBB-A6D4115844C2@syenar.hu>

Hi Alexander,

Great stuff again, thanks a lot.

Would it help you to eliminate net.c, if I'd create
a C level version of NETNAME()?

Brgds,
Viktor

On 2008.01.31., at 13:02, Alexander S.Kresin wrote:

> Hi All,
>
> finally I've created this project and uploaded initial files to CVS  
> - http://sourceforge.net/projects/letodb/.
> Release packages are available, too - letodb-0.1.src.zip and  
> letodb-0.1.src.tar.gz.
>
> There are server itself, rdd and management utility - this one is  
> written for HwGUI, but I'll add a console utility later for to not  
> force people use HwGUI.
>
> Of course, it's far from production state yet, but can be used for  
> some tasks if there aren't many users.
>
> The socket library is an adopted and truncated hbinet.c I've talked  
> about. If and when there hbinet.c will be modified, it may be used  
> instead.
>
> Currently the server uses a simplest sequential mode, when each  
> query is processed one after another. We haven't threads yet in  
> Harbour, so I plan to use processes to work up queries, which  
> demands more time ( indexing, walking through the filtered database,  
> etc. ).
>
> The server main cycle and queries recognition is made in simplest  
> way now - I wanted to have it working as soon as possible. Later it  
> should be rewritten as C routine, I think.
>
> Not all basic methods are implemented yet ( scopes aren't, for  
> example ) - I did those, which I use in my programs to be able to  
> test it.
> The server is up for few days in my server at work, sometimes I open  
> up to 15 client programs from different workstations - and it  
> works :).
>
> Regards,
>  Alexander
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Jan 31 08:11:06 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 08:10:53 2008
Subject: [Harbour] Changelog 2008-01-31 13:00 UTC+0100 Ryszard Glab
In-Reply-To: <10fc276844f2cf5dd025be3e8dee987a.qmail@home.pl>
References: <10fc276844f2cf5dd025be3e8dee987a.qmail@home.pl>
Message-ID: <D13D6134-3E38-4C30-8E2F-CA9B1F809263@syenar.hu>

Hi Ryszard,

Great, now I was able to build Harbour using Mingw32 on Win32.

The /utils didn't get build though due to this
error: "ld.exe: cannot find -lmainstd"

Pls, I'd also suggest to create all executables also
in some central dir (/bin/<arch>/<compiler>/), instead of
them being scattered like libs were.

Brgds,
Viktor

On 2008.01.31., at 13:01, Ryszard G??b wrote:

> 2008-01-31 13:00 UTC+0100 Ryszard Glab <harbour//rglab.pl>
>   * source/rdd/Makefile
>   * config/global.cf
>      * added HB_LIB_DIRS with a list of valid RDD subdirectories
>        (HB_LIB_DRIVERS stores the list of valid RDD libraries)
>
> Regards, Ryszard
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Jan 31 08:13:01 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 08:12:50 2008
Subject: [Harbour] rdddbt lib question
Message-ID: <CEA2B5EA-65AB-4F46-A3C4-EDF1A7BC7491@syenar.hu>

Hi Przemek and all,

I've noticed this RDD doesn't get built
either using the GNU and non-GNU make system.
Yet the source directory is there in SVN.

Should we add it to the make systems, or should
we rather remove the source? or else?

Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jan 31 08:12:47 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 08:13:50 2008
Subject: [Harbour] CHANGELOG: 2008-01-31 14:13 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c8640a$Blat.v2.6.2$f984f530$2f0fc49a896@127.0.0.1>

2008-01-31 14:13 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/hbbtree/hb_btree.c
     ! Removed HB_ERR_SS_TOOLS reference.
--
Brgds,
Viktor

From alex at belacy.belgorod.su  Thu Jan 31 08:59:59 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Thu Jan 31 09:00:18 2008
Subject: [Harbour] Re:  Leto DB Server
In-Reply-To: <CB632523-18C4-4577-8DBB-A6D4115844C2@syenar.hu>
References: <47A1B8D8.4050000@belacy.belgorod.su>
	<CB632523-18C4-4577-8DBB-A6D4115844C2@syenar.hu>
Message-ID: <47A1D45F.6070702@belacy.belgorod.su>

Szak?ts Viktor writes:
> Hi Alexander,
> 
> Great stuff again, thanks a lot.
> 
> Would it help you to eliminate net.c, if I'd create
> a C level version of NETNAME()?
> 

  Yes, of course, but I will still need to leave it for some time for 
those, who don't use latest code and for xHarbour users.

  Regards,
   Alexander.

From rglab at przesiew.imid.med.pl  Thu Jan 31 10:28:54 2008
From: rglab at przesiew.imid.med.pl (Ryszard Glab)
Date: Thu Jan 31 10:16:16 2008
Subject: [Harbour] Changelog 2008-01-31 13:00 UTC+0100 Ryszard Glab
In-Reply-To: <D13D6134-3E38-4C30-8E2F-CA9B1F809263@syenar.hu>
References: <10fc276844f2cf5dd025be3e8dee987a.qmail@home.pl>,
	<D13D6134-3E38-4C30-8E2F-CA9B1F809263@syenar.hu>
Message-ID: <47A1F746.20033.114BD37@rglab.przesiew.imid.med.pl>

On 31 Jan 2008 at 14:11, Szak?ts Viktor wrote:

> Great, now I was able to build Harbour using Mingw32 on Win32.
> 
> The /utils didn't get build though due to this
> error: "ld.exe: cannot find -lmainstd"

  Can you check if lib/w32/mingw32/hbmainstd.a was created?

> Pls, I'd also suggest to create all executables also
> in some central dir (/bin/<arch>/<compiler>/), instead of
> them being scattered like libs were.

  OK, I can do it if there will be no objections. What about contrib 
directory - should be librariers from here placed also in central
lib/<arch>/<compiler> directory?

Regards, Ryszard
From harbour.01 at syenar.hu  Thu Jan 31 10:29:31 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 10:29:17 2008
Subject: [Harbour] 2008-01-30 21:30 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
In-Reply-To: <47A0E0BC.80508@interia.pl>
References: <47A0E0BC.80508@interia.pl>
Message-ID: <B2D6EC48-5A8C-401D-84BC-3AACB399B29E@syenar.hu>

Hi Marek,

This broke the normal BCC build method because
you've changed the forward slash to backslash in
common.mak, and now TLIB wants to process some
path names as command line switches.

I'd propose to revert and discuss your change
and implement it after the release. Only fixes
are permitted since last week in the repository.

Brgds,
Viktor

On 2008.01.30., at 21:40, Marek Paliwoda wrote:

> 2008-01-30 21:30 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
>   * contrib/gtwvg/common.mak
>   * contrib/hbapollo/common.mak
>   * contrib/hbbmcdx/common.mak
>   * contrib/hbbtree/common.mak
>   * contrib/hbclipsm/common.mak
>   * contrib/hbct/common.mak
>   * contrib/hbfbird/common.mak
>   * contrib/hbfimage/common.mak
>   * contrib/hbgd/common.mak
>   * contrib/hbgt/common.mak
>   * contrib/hbmisc/common.mak
>   * contrib/hbmsql/common.mak
>   * contrib/hbmysql/common.mak
>   * contrib/hbnf/common.mak
>   * contrib/hbodbc/common.mak
>   * contrib/hbole/common.mak
>   * contrib/hbpgsql/common.mak
>   * contrib/hbtip/common.mak
>   * contrib/hbtpathy/common.mak
>   * contrib/hbw32/common.mak
>   * contrib/hbw32ddr/common.mak
>   * contrib/hbwhat32/common.mak
>   * contrib/hbziparch/common.mak
>   * contrib/hbzlib/common.mak
>   * contrib/rddado/common.mak
>   * contrib/rddads/common.mak
>   * contrib/xhb/common.mak
>     ! Changed to be compatible with GNU make for alternative
>       building system centered around common.mak.
>
>   + contrib/make_gcc_all.sh
>   + contrib/mtpl_gcc.mak
>   + contrib/mtpl_gcc.sh
>     + New files for building contrib libs with GNU make using
>       alternative building system centered around common.mak.
>
>   + contrib/hbbmcdx/make_gcc.sh
>   + contrib/hbbtree/make_gcc.sh
>   + contrib/rddado/make_gcc.sh
>     + New files for building contrib libs with GNU make using
>       alternative building system centered around common.mak.
>       Work in progress.
>
>   * contrib/make_b32_all.bat
>   * contrib/make_vc_all.bat
>     + Added Copyright notes.
>
>   * contrib/mtpl_b32.bat
>   * contrib/mtpl_b32.mak
>   * contrib/mtpl_vc.bat
>   * contrib/mtpl_vc.mak
>     ! Minor cleanup and formatting.
>
>   * make_gcc.mak
>   * make_gcc.sh
>     ! Minor fix related to Cygwin platform
>
> -- 
>
>    Marek Paliwoda
> mpaliwoda at interia pl
>
> ----------------------------------------------------------------------
> Wygraj nagrody! Ten konkurs jest dla Ciebie!
> Kliknij >>>  http://link.interia.pl/f1ce8
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Jan 31 10:46:04 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 10:47:08 2008
Subject: [Harbour] CHANGELOG: 2008-01-31 16:32 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c86420$Blat.v2.6.2$6343f22c$178c1fb06cf0@127.0.0.1>

2008-01-31 16:32 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * include/hbextern.ch
   * source/rtl/net.c
   * contrib/xhb/hbcompat.ch
     ! Removed non-compatible xhb extension from NetName().
     + hb_UserName() function added with the above functionality.
     ! Slight correction to the Win32 branch of hb_UserName().
     + Added compatibility translations to NetName(1) for 
       xhb lib users (enough to #include "hbcompat.ch").
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jan 31 11:06:50 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 11:06:38 2008
Subject: [Harbour] Changelog 2008-01-31 13:00 UTC+0100 Ryszard Glab
In-Reply-To: <47A1F746.20033.114BD37@rglab.przesiew.imid.med.pl>
References: <10fc276844f2cf5dd025be3e8dee987a.qmail@home.pl>,
	<D13D6134-3E38-4C30-8E2F-CA9B1F809263@syenar.hu>
	<47A1F746.20033.114BD37@rglab.przesiew.imid.med.pl>
Message-ID: <84127326-4F33-4230-9C7C-53D42CE704EB@syenar.hu>

Hi Ryszard,

On 2008.01.31., at 16:28, Ryszard Glab wrote:

> On 31 Jan 2008 at 14:11, Szak?ts Viktor wrote:
>
>> Great, now I was able to build Harbour using Mingw32 on Win32.
>>
>> The /utils didn't get build though due to this
>> error: "ld.exe: cannot find -lmainstd"
>
>  Can you check if lib/w32/mingw32/hbmainstd.a was created?

It's there but the name is:
lib/w32/mingw32/libhbmainstd.a

>> Pls, I'd also suggest to create all executables also
>> in some central dir (/bin/<arch>/<compiler>/), instead of
>> them being scattered like libs were.
>
>  OK, I can do it if there will be no objections. What about contrib
> directory - should be librariers from here placed also in central
> lib/<arch>/<compiler> directory?

Absolutely, you have my vote for it.

Brgds,
Viktor

From lorenzo.fiorini at gmail.com  Thu Jan 31 11:17:37 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Jan 31 11:17:42 2008
Subject: [Harbour] 2008-01-30 21:30 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
In-Reply-To: <B2D6EC48-5A8C-401D-84BC-3AACB399B29E@syenar.hu>
References: <47A0E0BC.80508@interia.pl>
	<B2D6EC48-5A8C-401D-84BC-3AACB399B29E@syenar.hu>
Message-ID: <9257026e0801310817v2d06926en5356e2095f34f71c@mail.gmail.com>

On Jan 31, 2008 4:29 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

> I'd propose to revert and discuss your change
> and implement it after the release. Only fixes
> are permitted since last week in the repository.

Just my personal opinion but such deep changes to the build system
right before RC1 is not a good idea. What about hb-func.sh? What about
rpms, debs? What about user's makefiles?

I suggest to revert to a stable point
( for me is 2008-01-25 10:08 UTC+0100 Viktor Szakats (harbour.01
syenar.hu ) and plan more carefully the meaning of a change like that.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Thu Jan 31 11:35:00 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 11:34:46 2008
Subject: [Harbour] 2008-01-30 21:30 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
In-Reply-To: <9257026e0801310817v2d06926en5356e2095f34f71c@mail.gmail.com>
References: <47A0E0BC.80508@interia.pl>
	<B2D6EC48-5A8C-401D-84BC-3AACB399B29E@syenar.hu>
	<9257026e0801310817v2d06926en5356e2095f34f71c@mail.gmail.com>
Message-ID: <F9001CD8-D603-4D1D-B33B-813EFD4F7C6A@syenar.hu>

Hi Lorenzo,

The lib rename was already planned (and discussed
and agreed) to be done before the release. So I'd
vote to move forward. Especially since doing a lib
rename _after_ a stable release doesn't look like
a very good idea.

I'll update hb-func.sh as much as I can.

Brgds,
Viktor

On 2008.01.31., at 17:17, Lorenzo Fiorini wrote:

> On Jan 31, 2008 4:29 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:
>
>> I'd propose to revert and discuss your change
>> and implement it after the release. Only fixes
>> are permitted since last week in the repository.
>
> Just my personal opinion but such deep changes to the build system
> right before RC1 is not a good idea. What about hb-func.sh? What about
> rpms, debs? What about user's makefiles?
>
> I suggest to revert to a stable point
> ( for me is 2008-01-25 10:08 UTC+0100 Viktor Szakats (harbour.01
> syenar.hu ) and plan more carefully the meaning of a change like that.
>
> best regards,
> Lorenzo
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour at rglab.pl  Thu Jan 31 11:38:37 2008
From: harbour at rglab.pl (=?iso-8859-2?Q?Ryszard_G=B3=B1b?=)
Date: Thu Jan 31 11:38:37 2008
Subject: [Harbour] Changelog
Message-ID: <e05f43e64483a061c7bfea9570012c9c.qmail@home.pl>

2008-01-31 17:40 UTC+0100 Ryszard Glab <harbour//rglab.pl>
   * config/w32/mingw32.cf
      * fixed library name mainstd -> hbmainstd

Regards, Ryszard

From harbour.01 at syenar.hu  Thu Jan 31 11:47:08 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 11:48:11 2008
Subject: [Harbour] CHANGELOG: 2008-01-31 17:40 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c86428$Blat.v2.6.2$ead0fe76$b7c1b52e52e@127.0.0.1>

2008-01-31 17:40 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * bin/hb-func.sh
     + Updated for lib name change.
       Please test & review.

   * source/rtl/net.c
   * include/hbapi.h
     + Added hb_netname() and hb_username() low level versions 
       of NETNAME() and hb_USERNAME().
--
Brgds,
Viktor

From mpaliwoda at interia.pl  Thu Jan 31 11:49:13 2008
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Thu Jan 31 11:49:33 2008
Subject: [Harbour] Re: 2008-01-30 21:30 UTC+0100 Marek Paliwoda (mpaliwoda
 at interia pl)
In-Reply-To: <B2D6EC48-5A8C-401D-84BC-3AACB399B29E@syenar.hu>
References: <47A0E0BC.80508@interia.pl>
	<B2D6EC48-5A8C-401D-84BC-3AACB399B29E@syenar.hu>
Message-ID: <fnsu6b$ss6$1@ger.gmane.org>

Hi Viktor,

> This broke the normal BCC build method because
> you've changed the forward slash to backslash in
> common.mak, and now TLIB wants to process some
> path names as command line switches.

Everything builds *without* problems here
either with Bcc or Msvc. I'd suggest to check
your environment, since I am *not able* to
replicate your problem.

> I'd propose to revert and discuss your change
> and implement it after the release. Only fixes
> are permitted since last week in the repository.

The changes are *minor* and are more a "fix"
than anything else. Please, don't paint the
"bad" picture again.

-- 

Marek

From harbour.01 at syenar.hu  Thu Jan 31 11:51:04 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 11:50:51 2008
Subject: [Harbour] Changelog
In-Reply-To: <e05f43e64483a061c7bfea9570012c9c.qmail@home.pl>
References: <e05f43e64483a061c7bfea9570012c9c.qmail@home.pl>
Message-ID: <9BC9C910-25CD-4AA2-8E1E-BF432DAB1F7E@syenar.hu>

Thanks, now it works perfectly.

Brgds,
Viktor

On 2008.01.31., at 17:38, Ryszard G??b wrote:

> 2008-01-31 17:40 UTC+0100 Ryszard Glab <harbour//rglab.pl>
>   * config/w32/mingw32.cf
>      * fixed library name mainstd -> hbmainstd
>
> Regards, Ryszard
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mpaliwoda at interia.pl  Thu Jan 31 11:50:30 2008
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Thu Jan 31 11:55:11 2008
Subject: [Harbour] Re: 2008-01-30 21:30 UTC+0100 Marek Paliwoda (mpaliwoda
 at interia pl)
In-Reply-To: <9257026e0801310817v2d06926en5356e2095f34f71c@mail.gmail.com>
References: <47A0E0BC.80508@interia.pl>	<B2D6EC48-5A8C-401D-84BC-3AACB399B29E@syenar.hu>
	<9257026e0801310817v2d06926en5356e2095f34f71c@mail.gmail.com>
Message-ID: <fnsu8o$ss6$2@ger.gmane.org>

Hi Lorenzo,

>> I'd propose to revert and discuss your change
>> and implement it after the release. Only fixes
>> are permitted since last week in the repository.
> 
> Just my personal opinion but such deep changes to the build system
> right before RC1 is not a good idea. What about hb-func.sh? What about
> rpms, debs? What about user's makefiles?
> 
> I suggest to revert to a stable point
> ( for me is 2008-01-25 10:08 UTC+0100 Viktor Szakats (harbour.01
> syenar.hu ) and plan more carefully the meaning of a change like that.

I am curious what my changes have to do with
hb-func.sh, rpms and debs ? Could you explain
a little bit more ?

-- 

Marek

From mpaliwoda at interia.pl  Thu Jan 31 12:06:22 2008
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Thu Jan 31 12:06:37 2008
Subject: [Harbour] Re: 2008-01-30 21:30 UTC+0100 Marek Paliwoda (mpaliwoda
 at interia pl)
In-Reply-To: <B2D6EC48-5A8C-401D-84BC-3AACB399B29E@syenar.hu>
References: <47A0E0BC.80508@interia.pl>
	<B2D6EC48-5A8C-401D-84BC-3AACB399B29E@syenar.hu>
Message-ID: <fnsv6g$10r$1@ger.gmane.org>

Hi Viktor,

> This broke the normal BCC build method because
> you've changed the forward slash to backslash in
> common.mak, and now TLIB wants to process some
> path names as command line switches.

Ok, I've got it. I'll revert the change imidiately.

-- 

Marek

From harbour.01 at syenar.hu  Thu Jan 31 12:08:24 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 12:09:26 2008
Subject: [Harbour] CHANGELOG: 2008-01-31 18:07 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c8642b$Blat.v2.6.2$e3559b0e$100877ebdf2@127.0.0.1>

2008-01-31 18:07 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * common.mak
   * harbour-ce-spec
   * harbour-w32-spec
   * harbour.spec
   * make_tgz.sh
   * utils/hbpptest/Makefile
   + utils/hbpptest/hbpptest.prg
   - utils/hbpptest/pretest.prg
     ! Fixed hbpptest to have this name (instead of 'pretest') even 
       when built with the GNU make system.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jan 31 12:14:04 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 12:13:51 2008
Subject: [Harbour] Changelog
In-Reply-To: <e05f43e64483a061c7bfea9570012c9c.qmail@home.pl>
References: <e05f43e64483a061c7bfea9570012c9c.qmail@home.pl>
Message-ID: <205B25A7-1512-4BF4-ADA4-EE8B1E4959B7@syenar.hu>

Hi Ryszard,

One more thing, it seems to me the 'install' mode of
GNU make doesn't work for the libs.

Brgds,
Viktor

On 2008.01.31., at 17:38, Ryszard G??b wrote:

> 2008-01-31 17:40 UTC+0100 Ryszard Glab <harbour//rglab.pl>
>   * config/w32/mingw32.cf
>      * fixed library name mainstd -> hbmainstd
>
> Regards, Ryszard
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From mpaliwoda at interia.pl  Thu Jan 31 12:31:23 2008
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Thu Jan 31 12:31:42 2008
Subject: [Harbour] 2008-01-31 18:29 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
Message-ID: <fnt0le$7h4$1@ger.gmane.org>

2008-01-31 18:29 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
    * contrib/gtwvg/common.mak
    * contrib/hbapollo/common.mak
    * contrib/hbbmcdx/common.mak
    * contrib/hbbtree/common.mak
    * contrib/hbclipsm/common.mak
    * contrib/hbct/common.mak
    * contrib/hbfbird/common.mak
    * contrib/hbfimage/common.mak
    * contrib/hbgd/common.mak
    * contrib/hbgt/common.mak
    * contrib/hbmisc/common.mak
    * contrib/hbmsql/common.mak
    * contrib/hbmysql/common.mak
    * contrib/hbnf/common.mak
    * contrib/hbodbc/common.mak
    * contrib/hbole/common.mak
    * contrib/hbpgsql/common.mak
    * contrib/hbtip/common.mak
    * contrib/hbtpathy/common.mak
    * contrib/hbw32/common.mak
    * contrib/hbw32ddr/common.mak
    * contrib/hbwhat32/common.mak
    * contrib/hbziparch/common.mak
    * contrib/hbzlib/common.mak
    * contrib/mtpl_b32.mak
    * contrib/mtpl_vc.mak
    * contrib/rddado/common.mak
    * contrib/rddads/common.mak
    * contrib/xhb/common.mak
    * contrib/mtpl_gcc.mak
      ! Fixed possible error in Bcc build, related to recent changes

    + contrib/hbbmcdx/make_gcc.sh
    + contrib/hbbtree/make_gcc.sh
    + contrib/rddado/make_gcc.sh
    + contrib/make_gcc_all.sh
    + contrib/mtpl_gcc.sh
      + Readded, due to my wrong last commit, when these files
        were not added at all

(instead of reverting, I decided to fix possible problems with TLIB)

-- 

     Marek Paliwoda
mpaliwoda at interia pl

From mpaliwoda at interia.pl  Thu Jan 31 12:40:14 2008
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Thu Jan 31 12:40:37 2008
Subject: [Harbour] 2008-01-31 18:41 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
Message-ID: <fnt160$9ld$1@ger.gmane.org>

2008-01-31 18:41 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
    + contrib/mtpl_gcc.mak
      + Readded to SVN yet another time

-- 

     Marek Paliwoda
mpaliwoda at interia pl

From harbour at rglab.pl  Thu Jan 31 12:48:59 2008
From: harbour at rglab.pl (=?iso-8859-2?Q?Ryszard_G=B3=B1b?=)
Date: Thu Jan 31 12:49:13 2008
Subject: [Harbour] Changelog 2008-01-31 18:47 UTC+0100 Ryszard Glab
Message-ID: <76d94039b3cf3716a5c5f17c1dfb8afd.qmail@home.pl>

2008-01-31 18:47 UTC+0100 Ryszard Glab <harbour//rglab.pl>
   * config/hpux/gcc.cf
   * config/darwin/gcc.cf
   * config/dos/owatcom.cf
   * config/dos/watcom.cf
   * config/dos/bcc16.cf
   * config/dos/rsx32.cf
   * config/dos/djgpp.cf
   * config/linux/owatcom.cf
   * config/linux/gcc.cf
   * config/os2/gcc.cf
   * config/os2/icc.cf
   * config/sunos/gcc.cf
   * config/bsd/gcc.cf
   * config/w32/msvc.cf
   * config/w32/owatcom.cf
   * config/w32/watcom.cf
   * config/w32/bcc32.cf
   * config/w32/gcc.cf
   * config/w32/xcc.cf
   * config/w32/rsxnt.cf
   * config/w32/cemgw.cf
   * config/w32/pocc.cf
   * config/w32/mingw32.cf
      * fixed to link contrib libraries (all contrib libraries are
        placed in lib/<arch>/<compiler> directory)
        NOTE:
        OS/2 users: the names of libraries have 'hbgf' prefix

Please notice that there is something wrong with 'hbzlib' - implicit 
declaration of function 'compressBound' and others, also are 'rddads' and 
'hbodbc' working on unixes?

Regards, Ryszard

From gvarona at ec-red.com  Thu Jan 31 12:52:10 2008
From: gvarona at ec-red.com (=?ISO-8859-2?Q?Guillermo_Varona_Silup=FA?=)
Date: Thu Jan 31 12:51:49 2008
Subject: [Harbour] Changelog
In-Reply-To: <9BC9C910-25CD-4AA2-8E1E-BF432DAB1F7E@syenar.hu>
References: <e05f43e64483a061c7bfea9570012c9c.qmail@home.pl>
	<9BC9C910-25CD-4AA2-8E1E-BF432DAB1F7E@syenar.hu>
Message-ID: <47A20ACA.4010603@ec-red.com>

Szak?ts Viktor escribi?:
> Thanks, now it works perfectly.
[SPA] Hola, yo estoy obteniendo estos mensajes:
[ENG] Hello, I am getting these messages:

D:\harbour>MAKE_GNU
../../ioapi.c:13:18: zlib.h: No such file or directory In file included 
from ../../ioapi.c:14:
../../ioapi.h:38: error: syntax error before '*' token
../../ioapi.h:39: error: syntax error before '*' token
../../ioapi.h:40: error: syntax error before '*' token
../../ioapi.h:41: error: syntax error before "OF"
../../ioapi.h:42: error: syntax error before "OF"
../../ioapi.h:43: error: syntax error before "OF"
../../ioapi.h:44: error: syntax error before "OF"
../../ioapi.h:48: error: syntax error before "open_file_func"
../../ioapi.h:48: warning: no semicolon at end of struct or union
../../ioapi.h:49: warning: type defaults to `int' in declaration of 
`zread_file'
../../ioapi.h:49: warning: data definition has no type or storage class
../../ioapi.h:50: error: syntax error before "zwrite_file"
../../ioapi.h:50: warning: type defaults to `int' in declaration of 
`zwrite_file'
../../ioapi.h:50: warning: data definition has no type or storage class
../../ioapi.h:51: error: syntax error before "ztell_file"
../../ioapi.h:51: warning: type defaults to `int' in declaration of 
`ztell_file'
../../ioapi.h:51: warning: data definition has no type or storage class
../../ioapi.h:52: error: syntax error before "zseek_file"
../../ioapi.h:52: warning: type defaults to `int' in declaration of 
`zseek_file'
../../ioapi.h:52: warning: data definition has no type or storage class
../../ioapi.h:53: error: syntax error before "zclose_file"
../../ioapi.h:53: warning: type defaults to `int' in declaration of 
`zclose_file'
../../ioapi.h:53: warning: data definition has no type or storage class
../../ioapi.h:54: error: syntax error before "zerror_file"
../../ioapi.h:54: warning: type defaults to `int' in declaration of 
`zerror_file'
../../ioapi.h:54: warning: data definition has no type or storage class
../../ioapi.h:55: error: syntax error before "opaque"
../../ioapi.h:55: warning: type defaults to `int' in declaration of `opaque'
../../ioapi.h:55: warning: data definition has no type or storage class
../../ioapi.h:56: warning: type defaults to `int' in declaration of 
`zlib_filefunc_def'
../../ioapi.h:56: warning: data definition has no type or storage class
../../ioapi.h:60: error: syntax error before "OF"
../../ioapi.c:49: error: syntax error before "OF"
../../ioapi.c:53: error: syntax error before "OF"
../../ioapi.c:59: error: syntax error before "OF"
../../ioapi.c:63: error: syntax error before "OF"
../../ioapi.c:69: error: syntax error before "opaque"
../../ioapi.c:72: warning: return type defaults to `int'
../../ioapi.c: In function `fopen_file_func':
../../ioapi.c:78: error: `mode' undeclared (first use in this function)
../../ioapi.c:78: error: (Each undeclared identifier is reported only once
../../ioapi.c:78: error: for each function it appears in.)
../../ioapi.c:87: error: `filename' undeclared (first use in this function)
../../ioapi.c:89: warning: return makes integer from pointer without a cast
../../ioapi.c: At top level:
../../ioapi.c:93: error: syntax error before "fread_file_func"
../../ioapi.c:94: error: syntax error before "opaque"
../../ioapi.c:98: warning: return type defaults to `int'
../../ioapi.c: In function `fread_file_func':
../../ioapi.c:99: error: `uLong' undeclared (first use in this function)
../../ioapi.c:99: error: syntax error before "ret"
../../ioapi.c:103: error: `ret' undeclared (first use in this function)
../../ioapi.c:103: error: syntax error before "fread"
../../ioapi.c: At top level:
../../ioapi.c:108: error: syntax error before "fwrite_file_func"
../../ioapi.c:109: error: syntax error before "opaque"
../../ioapi.c:113: warning: return type defaults to `int'
../../ioapi.c: In function `fwrite_file_func':
../../ioapi.c:114: error: `uLong' undeclared (first use in this function)
../../ioapi.c:114: error: syntax error before "ret"
../../ioapi.c:118: error: `ret' undeclared (first use in this function)
../../ioapi.c:118: error: syntax error before "fwrite"
../../ioapi.c: At top level:
../../ioapi.c:123: error: syntax error before "opaque"
../../ioapi.c: In function `ftell_file_func':
../../ioapi.c:130: error: `stream' undeclared (first use in this function)
../../ioapi.c: At top level:
../../ioapi.c:135: error: syntax error before "opaque"
../../ioapi.c: In function `fseek_file_func':
../../ioapi.c:145: error: `origin' undeclared (first use in this function)
../../ioapi.c:159: error: `stream' undeclared (first use in this function)
../../ioapi.c:159: error: `offset' undeclared (first use in this function)
../../ioapi.c: At top level:
../../ioapi.c:164: error: syntax error before "opaque"
../../ioapi.c: In function `fclose_file_func':
../../ioapi.c:171: error: `stream' undeclared (first use in this function)
../../ioapi.c: At top level:
../../ioapi.c:176: error: syntax error before "opaque"
../../ioapi.c: In function `ferror_file_func':
../../ioapi.c:183: error: `stream' undeclared (first use in this function)
../../ioapi.c: At top level:
../../ioapi.c:188: error: syntax error before '*' token
../../ioapi.c: In function `fill_fopen_filefunc':
../../ioapi.c:190: error: `pzlib_filefunc_def' undeclared (first use in 
this fun
ction)
make[3]: *** [ioapi.o] Error 1
make[2]: *** [descend] Error 2
In file included from ../../ads1.c:66: ../../rddads.h:69:17: ace.h: No 
such file or directory
In file included from ../../ads1.c:66: ../../rddads.h:149: error: syntax 
error before "ADSHANDLE" ../../rddads.h:149: warning: no semicolon at 
end of struct or union
../../rddads.h:150: warning: type defaults to `int' in declaration of 
`hOrdCurrent'
../../rddads.h:150: warning: data definition has no type or storage class
../../rddads.h:151: error: syntax error before "hStatement"
../../rddads.h:151: warning: type defaults to `int' in declaration of 
`hStatement'
../../rddads.h:151: warning: data definition has no type or storage class
../../rddads.h:152: warning: type defaults to `int' in declaration of 
`ADSAREA'
../../rddads.h:152: warning: data definition has no type or storage class
../../rddads.h:154: error: syntax error before '*' token
../../rddads.h:154: warning: type defaults to `int' in declaration of 
`ADSAREAP'
../../rddads.h:154: warning: data definition has no type or storage class
../../rddads.h:186: error: syntax error before "adsConnectHandle"
../../rddads.h:186: warning: type defaults to `int' in declaration of 
`adsConnectHandle'
../../rddads.h:186: warning: data definition has no type or storage class
../../rddads.h:187: error: syntax error before "pArea"
../../rddads.h:188: error: syntax error before "hb_rddGetADSWorkAreaPointer"
../../rddads.h:188: warning: type defaults to `int' in declaration of 
`hb_rddGetADSWorkAreaPointer'
../../rddads.h:188: warning: data definition has no type or storage class
../../ads1.c: In function `adsSetListener_callback':
../../ads1.c:108: warning: implicit declaration of function 
`AdsSetDateFormat'
../../ads1.c:108: error: `UNSIGNED8' undeclared (first use in this function)
../../ads1.c:108: error: (Each undeclared identifier is reported only once
../../ads1.c:108: error: for each function it appears in.)
../../ads1.c:108: error: syntax error before ')' token
../../ads1.c:111: warning: implicit declaration of function `AdsSetDefault'
../../ads1.c:111: error: syntax error before ')' token
../../ads1.c:114: warning: implicit declaration of function `AdsShowDeleted'
../../ads1.c:117: warning: implicit declaration of function `AdsSetEpoch'
../../ads1.c:120: warning: implicit declaration of function `AdsSetExact'
../../ads1.c:123: warning: implicit declaration of function 
`AdsSetSearchPath'
../../ads1.c:123: error: syntax error before ')' token
../../ads1.c:127: warning: implicit declaration of function `AdsSetDecimals'
../../ads1.c:127: error: `UNSIGNED16' undeclared (first use in this 
function)
../../ads1.c:127: error: syntax error before "hb_setGetNI"
../../ads1.c: In function `adsSetSend':
../../ads1.c:151: error: `UNSIGNED8' undeclared (first use in this function)
../../ads1.c:151: error: syntax error before ')' token
../../ads1.c:152: error: syntax error before ')' token
../../ads1.c:156: error: syntax error before ')' token
../../ads1.c:157: error: `UNSIGNED16' undeclared (first use in this 
function)
../../ads1.c:157: error: syntax error before "hb_setGetNI"
../../ads1.c: At top level:
../../ads1.c:160: error: syntax error before "pArea"
../../ads1.c: In function `commonError':
../../ads1.c:167: error: `uiGenCode' undeclared (first use in this function)
../../ads1.c:168: error: `uiSubCode' undeclared (first use in this function)
../../ads1.c:170: error: `uiOsCode' undeclared (first use in this function)
../../ads1.c:172: error: `szFileName' undeclared (first use in this 
function)
../../ads1.c:174: error: `uiFlags' undeclared (first use in this function)
../../ads1.c:176: error: `pArea' undeclared (first use in this function)
../../ads1.c: At top level:
../../ads1.c:237: error: syntax error before "hIndex"
../../ads1.c: In function `adsIndexKeyCmp':
../../ads1.c:239: error: `UNSIGNED32' undeclared (first use in this 
function)
../../ads1.c:239: error: syntax error before "u32RetVal"
../../ads1.c:240: error: `UNSIGNED16' undeclared (first use in this 
function)
../../ads1.c:242: error: `UNSIGNED8' undeclared (first use in this function)
../../ads1.c:250: error: `u32RetVal' undeclared (first use in this function)
../../ads1.c:250: warning: implicit declaration of function `AdsExtractKey'
../../ads1.c:250: error: `hIndex' undeclared (first use in this function)
../../ads1.c:250: error: `pucCurKey' undeclared (first use in this function)
../../ads1.c:250: error: `u16CurKeyLen' undeclared (first use in this 
function)
../../ads1.c:251: error: `AE_SUCCESS' undeclared (first use in this 
function)
../../ads1.c:255: error: `u16KeyLen' undeclared (first use in this function)
../../ads1.c:256: error: syntax error before ')' token
../../ads1.c: At top level:
../../ads1.c:263: error: syntax error before "return"
../../ads1.c: In function `adsGetFileType':
../../ads1.c:269: error: `ADS_CDX' undeclared (first use in this function)
../../ads1.c:270: error: `ADS_NTX' undeclared (first use in this function)
../../ads1.c:271: error: `ADS_ADT' undeclared (first use in this function)
../../ads1.c: In function `adsTableExt':
../../ads1.c:276: error: `ADS_ADT' undeclared (first use in this function)
../../ads1.c: In function `adsMemoExt':
../../ads1.c:281: error: `ADS_ADT' undeclared (first use in this function)
../../ads1.c:282: error: `ADS_CDX' undeclared (first use in this function)
../../ads1.c: In function `adsIndexExt':
../../ads1.c:287: error: `ADS_ADT' undeclared (first use in this function)
../../ads1.c:288: error: `ADS_CDX' undeclared (first use in this function)
../../ads1.c: At top level:
../../ads1.c:291: error: syntax error before "hb_adsFindBag"
../../ads1.c:291: error: syntax error before "pArea"
../../ads1.c:292: warning: return type defaults to `int'
../../ads1.c: In function `hb_adsFindBag':
../../ads1.c:296: error: `ADSHANDLE' undeclared (first use in this function)
../../ads1.c:296: error: syntax error before "ahIndex"
../../ads1.c:297: error: `UNSIGNED16' undeclared (first use in this 
function)
../../ads1.c:298: error: `UNSIGNED32' undeclared (first use in this 
function)
../../ads1.c:300: error: `u32Result' undeclared (first use in this function)
../../ads1.c:300: warning: implicit declaration of function `AdsOpenIndex'
../../ads1.c:300: error: `pArea' undeclared (first use in this function)
../../ads1.c:301: error: `UNSIGNED8' undeclared (first use in this function)
../../ads1.c:301: error: syntax error before ')' token
../../ads1.c:302: error: `AE_INDEX_ALREADY_OPEN' undeclared (first use 
in this function)
../../ads1.c:304: error: `ahIndex' undeclared (first use in this function)
../../ads1.c:306: error: `AE_SUCCESS' undeclared (first use in this 
function)
../../ads1.c:308: warning: implicit declaration of function `AdsCloseIndex'
../../ads1.c: At top level:
../../ads1.c:346: error: syntax error before "pArea"
../../ads1.c: In function `hb_adsUpdateAreaFlags':
../../ads1.c:348: error: `UNSIGNED16' undeclared (first use in this 
function)
../../ads1.c:348: error: syntax error before "u16Bof"
../../ads1.c:350: warning: implicit declaration of function `AdsAtBOF'
../../ads1.c:350: error: `pArea' undeclared (first use in this function)
../../ads1.c:350: error: `u16Bof' undeclared (first use in this function)
../../ads1.c:351: warning: implicit declaration of function `AdsAtEOF'
../../ads1.c:351: error: `u16Eof' undeclared (first use in this function)
../../ads1.c:352: warning: implicit declaration of function `AdsIsFound'
../../ads1.c:352: error: `u16Found' undeclared (first use in this function)
../../ads1.c: At top level:
../../ads1.c:363: error: syntax error before "pArea"
../../ads1.c: In function `hb_adsCheckLock':
../../ads1.c:365: error: `pArea' undeclared (first use in this function)
../../ads1.c:367: error: `UNSIGNED16' undeclared (first use in this 
function)
../../ads1.c:367: error: syntax error before "u16Locked"
../../ads1.c:368: error: `UNSIGNED32' undeclared (first use in this 
function)
../../ads1.c:370: error: `u32RetVal' undeclared (first use in this function)
../../ads1.c:370: warning: implicit declaration of function 
`AdsIsRecordLocked'
../../ads1.c:370: error: `u16Locked' undeclared (first use in this function)
../../ads1.c:371: error: `AE_SUCCESS' undeclared (first use in this 
function)
../../ads1.c: At top level:
../../ads1.c:385: error: syntax error before "pArea"
../../ads1.c: In function `adsGetKeyItem':
../../ads1.c:390: error: `iKeyType' undeclared (first use in this function)
../../ads1.c:396: error: `ADS_RAW' undeclared (first use in this function)
../../ads1.c:397: error: `ADS_STRING' undeclared (first use in this 
function)
../../ads1.c:398: error: `pItem' undeclared (first use in this function)
../../ads1.c:398: error: `pKeyBuf' undeclared (first use in this function)
../../ads1.c:398: error: `iKeyLen' undeclared (first use in this function)
../../ads1.c:401: error: `ADS_NUMERIC' undeclared (first use in this 
function)
../../ads1.c:402: error: `pArea' undeclared (first use in this function)
../../ads1.c:402: error: `ADS_NTX' undeclared (first use in this function)
../../ads1.c:432: error: `ADS_DATE' undeclared (first use in this function)
../../ads1.c:444: error: `ADS_LOGICAL' undeclared (first use in this 
function)
../../ads1.c: At top level:
../../ads1.c:454: error: syntax error before "pArea"
../../ads1.c: In function `adsScopeGet':
../../ads1.c:456: error: `UNSIGNED8' undeclared (first use in this function)
../../ads1.c:456: error: syntax error before "pucScope"
../../ads1.c:457: error: `UNSIGNED16' undeclared (first use in this 
function)
../../ads1.c:458: error: `UNSIGNED32' undeclared (first use in this 
function)
../../ads1.c:463: error: `hOrder' undeclared (first use in this function)
../../ads1.c:466: error: `nScope' undeclared (first use in this function)
../../ads1.c:466: error: `ADS_TOP' undeclared (first use in this function)
../../ads1.c:466: error: `ADS_BOTTOM' undeclared (first use in this 
function)
../../ads1.c:468: error: `u32RetVal' undeclared (first use in this function)
../../ads1.c:468: warning: implicit declaration of function `AdsGetScope'
../../ads1.c:468: error: syntax error before "nScope"
../../ads1.c:470: error: `AE_SUCCESS' undeclared (first use in this 
function)
../../ads1.c:472: warning: implicit declaration of function `AdsGetKeyType'
../../ads1.c:472: error: `u16KeyType' undeclared (first use in this 
function)
../../ads1.c:473: error: `pArea' undeclared (first use in this function)
../../ads1.c:473: error: `pItem' undeclared (first use in this function)
../../ads1.c:473: error: `pucScope' undeclared (first use in this function)
../../ads1.c:473: error: `u16Len' undeclared (first use in this function)
../../ads1.c: At top level:
../../ads1.c:482: error: syntax error before "pArea"
../../ads1.c: In function `adsScopeSet':
../../ads1.c:484: error: `UNSIGNED16' undeclared (first use in this 
function)
../../ads1.c:484: error: syntax error before "u16DataType"
../../ads1.c:485: error: `UNSIGNED8' undeclared (first use in this function)
../../ads1.c:485: error: `pucScope' undeclared (first use in this function)
../../ads1.c:487: error: `pArea' undeclared (first use in this function)
../../ads1.c:491: error: `hOrder' undeclared (first use in this function)
../../ads1.c:493: error: `nScope' undeclared (first use in this function)
../../ads1.c:493: error: `ADS_TOP' undeclared (first use in this function)
../../ads1.c:493: error: `ADS_BOTTOM' undeclared (first use in this 
function)
../../ads1.c:494: error: `pItem' undeclared (first use in this function)
../../ads1.c:496: error: syntax error before "u16KeyType"
../../ads1.c:497: error: `u16KeyType' undeclared (first use in this 
function)
../../ads1.c:502: error: `ADS_RAW' undeclared (first use in this function)
../../ads1.c:503: error: `ADS_STRING' undeclared (first use in this 
function)
../../ads1.c:513: error: syntax error before ')' token
../../ads1.c:514: warning: implicit declaration of function `AdsSetScope'
../../ads1.c:515: error: syntax error before ')' token
../../ads1.c:520: error: `ADS_NUMERIC' undeclared (first use in this 
function)
../../ads1.c:527: error: `u16DataType' undeclared (first use in this 
function)
../../ads1.c:527: error: `ADS_DOUBLEKEY' undeclared (first use in this 
function)
../../ads1.c:529: error: syntax error before ')' token
../../ads1.c:530: error: syntax error before "sizeof"
../../ads1.c:535: error: `ADS_DATE' undeclared (first use in this function)
../../ads1.c:543: error: syntax error before ')' token
../../ads1.c:544: error: syntax error before "sizeof"
../../ads1.c:548: error: `ADS_LOGICAL' undeclared (first use in this 
function)
../../ads1.c:550: error: syntax error before ')' token
../../ads1.c:551: error: `ADS_STRINGKEY' undeclared (first use in this 
function)
../../ads1.c:557: warning: implicit declaration of function `AdsClearScope'
../../ads1.c: At top level:
../../ads1.c:568: error: syntax error before "pArea"
../../ads1.c: In function `adsGetRelPos':
../../ads1.c:573: error: `pArea' undeclared (first use in this function)
../../ads1.c:581: error: `hOrder' undeclared (first use in this function)
../../ads1.c:583: error: `DOUBLE' undeclared (first use in this function)
../../ads1.c:583: error: syntax error before "dPos"
../../ads1.c:584: warning: implicit declaration of function 
`AdsGetRelKeyPos'
../../ads1.c:584: error: `dPos' undeclared (first use in this function)
../../ads1.c: At top level:
../../ads1.c:603: error: syntax error before "pArea"
../../ads1.c: In function `adsSetRelPos':
../../ads1.c:605: error: `ADSHANDLE' undeclared (first use in this function)
../../ads1.c:605: error: syntax error before "hCurrOrder"
../../ads1.c:607: error: `pArea' undeclared (first use in this function)
../../ads1.c:607: error: `hOrder' undeclared (first use in this function)
../../ads1.c:608: error: `dPos' undeclared (first use in this function)
../../ads1.c:621: warning: implicit declaration of function 
`AdsSetRelKeyPos'
../../ads1.c:645: error: `hCurrOrder' undeclared (first use in this 
function)
../../ads1.c: At top level:
../../ads1.c:648: error: syntax error before "pArea"
../../ads1.c: In function `adsCloseCursor':
../../ads1.c:654: error: `pArea' undeclared (first use in this function)
../../ads1.c:657: error: `UNSIGNED32' undeclared (first use in this 
function)
../../ads1.c:657: error: syntax error before "u32RetVal"
../../ads1.c:659: error: `u32RetVal' undeclared (first use in this function)
../../ads1.c:659: error: `AE_SUCCESS' undeclared (first use in this 
function)
../../ads1.c:667: warning: implicit declaration of function 
`AdsCloseSQLStatement'
../../ads1.c: At top level:
../../ads1.c:696: error: syntax error before "pArea"
../../ads1.c: In function `adsBof':
../../ads1.c:701: error: `pArea' undeclared (first use in this function)
../../ads1.c:704: error: `pBof' undeclared (first use in this function)
../../ads1.c: At top level:
../../ads1.c:709: error: syntax error before "pArea"
../../ads1.c: In function `adsEof':
../../ads1.c:714: error: `pArea' undeclared (first use in this function)
../../ads1.c:717: error: `pEof' undeclared (first use in this function)
../../ads1.c: At top level:
../../ads1.c:722: error: syntax error before "pArea"
../../ads1.c: In function `adsFound':
../../ads1.c:727: error: `pArea' undeclared (first use in this function)
../../ads1.c:730: error: `pFound' undeclared (first use in this function)
../../ads1.c: At top level:
../../ads1.c:735: error: syntax error before "pArea"
../../ads1.c: In function `adsGoBottom':
../../ads1.c:740: error: `pArea' undeclared (first use in this function)
../../ads1.c:744: warning: implicit declaration of function `AdsGotoBottom'
../../ads1.c: At top level:
../../ads1.c:755: error: syntax error before "pArea"
../../ads1.c: In function `adsGoTo':
../../ads1.c:766: error: `UNSIGNED32' undeclared (first use in this 
function)
../../ads1.c:766: error: syntax error before "ulRetVal"
../../ads1.c:789: error: `pArea' undeclared (first use in this function)
../../ads1.c:792: warning: implicit declaration of function 
`AdsGetRecordNum'
../../ads1.c:792: error: `ADS_IGNOREFILTERS' undeclared (first use in 
this function)
../../ads1.c:792: error: `u32RecNo' undeclared (first use in this function)
../../ads1.c:798: error: `ulRetVal' undeclared (first use in this function)
../../ads1.c:798: warning: implicit declaration of function `AdsGotoRecord'
../../ads1.c:798: error: syntax error before "ulRecNo"
../../ads1.c:800: error: `AE_INVALID_RECORD_NUMBER' undeclared (first 
use in this function)
../../ads1.c:806: error: `ulRecNo' undeclared (first use in this function)
../../ads1.c:827: warning: implicit declaration of function 
`AdsRefreshRecord'
../../ads1.c:834: error: `AE_SUCCESS' undeclared (first use in this 
function)
../../ads1.c: At top level:
../../ads1.c:837: error: syntax error before "pArea"
../../ads1.c: In function `adsGoToId':
../../ads1.c:843: error: `pItem' undeclared (first use in this function)
../../ads1.c:846: error: `pArea' undeclared (first use in this function)
../../ads1.c: At top level:
../../ads1.c:855: error: syntax error before "pArea"
../../ads1.c: In function `adsGoTop':
../../ads1.c:860: error: `pArea' undeclared (first use in this function)
../../ads1.c:864: warning: implicit declaration of function `AdsGotoTop'
../../ads1.c: At top level:
../../ads1.c:875: error: syntax error before "pArea"
../../ads1.c: In function `adsSeek':
../../ads1.c:877: error: `UNSIGNED32' undeclared (first use in this 
function)
../../ads1.c:877: error: syntax error before "u32RecNo"
../../ads1.c:878: error: `UNSIGNED16' undeclared (first use in this 
function)
../../ads1.c:880: error: `UNSIGNED8' undeclared (first use in this function)
../../ads1.c:880: error: `pszKey' undeclared (first use in this function)
../../ads1.c:882: error: `pucSavedKey' undeclared (first use in this 
function)
../../ads1.c:883: error: syntax error before "u16SavedKeyLen"
../../ads1.c:887: error: `pArea' undeclared (first use in this function)
../../ads1.c:894: error: `pKey' undeclared (first use in this function)
../../ads1.c:896: error: syntax error before ')' token
../../ads1.c:897: error: `u16KeyLen' undeclared (first use in this function)
../../ads1.c:897: error: syntax error before "hb_itemGetCLen"
 . . .

Best Regards.
GVS
From lorenzo.fiorini at gmail.com  Thu Jan 31 12:54:53 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Jan 31 12:55:13 2008
Subject: [Harbour] Re: 2008-01-30 21:30 UTC+0100 Marek Paliwoda (mpaliwoda
	at interia pl)
In-Reply-To: <fnsu8o$ss6$2@ger.gmane.org>
References: <47A0E0BC.80508@interia.pl>
	<B2D6EC48-5A8C-401D-84BC-3AACB399B29E@syenar.hu>
	<9257026e0801310817v2d06926en5356e2095f34f71c@mail.gmail.com>
	<fnsu8o$ss6$2@ger.gmane.org>
Message-ID: <9257026e0801310954u752f16c1k30cbc62e3f4bd35b@mail.gmail.com>

On Jan 31, 2008 5:50 PM, Marek Paliwoda <mpaliwoda@interia.pl> wrote:

> I am curious what my changes have to do with
> hb-func.sh, rpms and debs ? Could you explain
> a little bit more ?

Nothing against "your" changes, worried about "all" late minute changes.

best regards,
Lorenzo
From harbour.01 at syenar.hu  Thu Jan 31 13:00:20 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 13:00:06 2008
Subject: [Harbour] Re: 2008-01-30 21:30 UTC+0100 Marek Paliwoda (mpaliwoda
	at interia pl)
In-Reply-To: <fnsv6g$10r$1@ger.gmane.org>
References: <47A0E0BC.80508@interia.pl>
	<B2D6EC48-5A8C-401D-84BC-3AACB399B29E@syenar.hu>
	<fnsv6g$10r$1@ger.gmane.org>
Message-ID: <52D605FD-BA09-4E39-8DE9-C702923C82AF@syenar.hu>

Thanks Marek. (This correctly reads "backslash to forward slash".)

Brgds,
Viktor

On 2008.01.31., at 18:06, Marek Paliwoda wrote:

> Hi Viktor,
>
>> This broke the normal BCC build method because
>> you've changed the forward slash to backslash in
>> common.mak, and now TLIB wants to process some
>> path names as command line switches.
>
> Ok, I've got it. I'll revert the change imidiately.
>
> -- 
>
> Marek
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Jan 31 13:03:55 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 13:05:02 2008
Subject: [Harbour] CHANGELOG: 2008-01-31 19:04 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c86433$Blat.v2.6.2$a533ed14$148042a01d6e@127.0.0.1>

2008-01-31 19:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/make_gcc_all.sh
     ! Added SVN header.

   * contrib/hbgf/win32/common.mak
     ! Same change done as on the other 'common.mak's in contrib.
--
Brgds,
Viktor

From harbour.01 at syenar.hu  Thu Jan 31 13:06:59 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 13:06:52 2008
Subject: [Harbour] 2008-01-31 18:29 UTC+0100 Marek Paliwoda (mpaliwoda at
	interia pl)
In-Reply-To: <fnt0le$7h4$1@ger.gmane.org>
References: <fnt0le$7h4$1@ger.gmane.org>
Message-ID: <D63587EF-CC17-4BA6-8305-569454A94895@syenar.hu>

Now it's working fine.

Brgds,
Viktor

On 2008.01.31., at 18:31, Marek Paliwoda wrote:

> 2008-01-31 18:29 UTC+0100 Marek Paliwoda (mpaliwoda at interia pl)
>   * contrib/gtwvg/common.mak
>   * contrib/hbapollo/common.mak
>   * contrib/hbbmcdx/common.mak
>   * contrib/hbbtree/common.mak
>   * contrib/hbclipsm/common.mak
>   * contrib/hbct/common.mak
>   * contrib/hbfbird/common.mak
>   * contrib/hbfimage/common.mak
>   * contrib/hbgd/common.mak
>   * contrib/hbgt/common.mak
>   * contrib/hbmisc/common.mak
>   * contrib/hbmsql/common.mak
>   * contrib/hbmysql/common.mak
>   * contrib/hbnf/common.mak
>   * contrib/hbodbc/common.mak
>   * contrib/hbole/common.mak
>   * contrib/hbpgsql/common.mak
>   * contrib/hbtip/common.mak
>   * contrib/hbtpathy/common.mak
>   * contrib/hbw32/common.mak
>   * contrib/hbw32ddr/common.mak
>   * contrib/hbwhat32/common.mak
>   * contrib/hbziparch/common.mak
>   * contrib/hbzlib/common.mak
>   * contrib/mtpl_b32.mak
>   * contrib/mtpl_vc.mak
>   * contrib/rddado/common.mak
>   * contrib/rddads/common.mak
>   * contrib/xhb/common.mak
>   * contrib/mtpl_gcc.mak
>     ! Fixed possible error in Bcc build, related to recent changes
>
>   + contrib/hbbmcdx/make_gcc.sh
>   + contrib/hbbtree/make_gcc.sh
>   + contrib/rddado/make_gcc.sh
>   + contrib/make_gcc_all.sh
>   + contrib/mtpl_gcc.sh
>     + Readded, due to my wrong last commit, when these files
>       were not added at all
>
> (instead of reverting, I decided to fix possible problems with TLIB)
>
> -- 
>
>    Marek Paliwoda
> mpaliwoda at interia pl
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Jan 31 13:08:47 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 13:08:36 2008
Subject: [Harbour] Re:  Leto DB Server
In-Reply-To: <47A1D45F.6070702@belacy.belgorod.su>
References: <47A1B8D8.4050000@belacy.belgorod.su>
	<CB632523-18C4-4577-8DBB-A6D4115844C2@syenar.hu>
	<47A1D45F.6070702@belacy.belgorod.su>
Message-ID: <2B741E35-203D-40F6-8732-4972D08EFA08@syenar.hu>

Hi Alexander,

The new C level function is called hb_netname().
Caller have to free the returned pointer (char *), if not NULL.

Brgds,
Viktor

On 2008.01.31., at 14:59, Alexander S.Kresin wrote:

> Szak?ts Viktor writes:
>> Hi Alexander,
>> Great stuff again, thanks a lot.
>> Would it help you to eliminate net.c, if I'd create
>> a C level version of NETNAME()?
>
> Yes, of course, but I will still need to leave it for some time for  
> those, who don't use latest code and for xHarbour users.
>
> Regards,
>  Alexander.
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From lorenzo.fiorini at gmail.com  Thu Jan 31 13:24:07 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Jan 31 13:24:16 2008
Subject: [Harbour] CHANGELOG: 2008-01-31 17:40 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
In-Reply-To: <01c86428$Blat.v2.6.2$ead0fe76$b7c1b52e52e@127.0.0.1>
References: <01c86428$Blat.v2.6.2$ead0fe76$b7c1b52e52e@127.0.0.1>
Message-ID: <9257026e0801311024n146fbf0csb4543da0074261a7@mail.gmail.com>

On Jan 31, 2008 5:47 PM, Szak?ts Viktor <harbour.01@syenar.hu> wrote:

>    * source/rtl/net.c
>    * include/hbapi.h
>      + Added hb_netname() and hb_username() low level versions
>        of NETNAME() and hb_USERNAME().

Under Linux/gcc:

../../net.c: In function 'hb_netname':
../../net.c:120: error: 'szValue' undeclared (first use in this function)
../../net.c:120: error: (Each undeclared identifier is reported only once
../../net.c:120: error: for each function it appears in.)

best regards,
Lorenzo
From lorenzo.fiorini at gmail.com  Thu Jan 31 13:28:43 2008
From: lorenzo.fiorini at gmail.com (Lorenzo Fiorini)
Date: Thu Jan 31 13:28:48 2008
Subject: [Harbour] make_gnu.sh install errors
Message-ID: <9257026e0801311028g3b1d3bfak972d03570ffdb0fd@mail.gmail.com>

[...] snipped
! Can't install linux/gcc/libhbcommon.a, not found
! Can't install linux/gcc/libhbpp.a, not found
! Can't install linux/gcc/libhbcplr.a, not found
! Can't install linux/gcc/libhbrtl.a, not found
! Can't install linux/gcc/libgtcgi.a, not found
! Can't install linux/gcc/libgtpca.a, not found
! Can't install linux/gcc/libgtstd.a, not found
! Can't install linux/gcc/libgttrm.a, not found
! Can't install linux/gcc/libgtxwc.a, not found
! Can't install linux/gcc/libhbvm.a, not found
! Can't install linux/gcc/libhbmacro.a, not found
! Can't install linux/gcc/libhbcpage.a, not found
! Can't install linux/gcc/libhblang.a, not found
! Can't install linux/gcc/libhbrdd.a, not found
! Can't install linux/gcc/libhbnulrdd.a, not found
! Can't install linux/gcc/librddntx.a, not found
! Can't install linux/gcc/librddcdx.a, not found
! Can't install linux/gcc/librddfpt.a, not found
! Can't install linux/gcc/libhbsix.a, not found
! Can't install linux/gcc/libhbhsx.a, not found
! Can't install linux/gcc/libhbusrrdd.a, not found
! Can't install linux/gcc/libhbpcre.a, not found
! Can't install linux/gcc/libhbdebug.a, not found
! Can't install linux/gcc/libhbbtree.a, not found
! Can't install linux/gcc/libhbct.a, not found
! Can't install linux/gcc/libhbgt.a, not found
! Can't install linux/gcc/libhbmisc.a, not found
! Can't install linux/gcc/libhbnf.a, not found
! Can't install linux/gcc/libhbclipsm.a, not found
! Can't install linux/gcc/libhbzlib.a, not found
! Can't install linux/gcc/libxhb.a, not found
! Can't install linux/gcc/libxhb.a, not found
! Can't install linux/gcc/libhbbmcdx.a, not found
! Can't install linux/gcc/libhbtip.a, not found
Generating /home/twfiorlo/harbour_devel/bin/hb-build...
Creating links...
Making libharbour-1.1.1.so...
usage: hb-mkslib <target[.so]> [link options] src1.a .. srcN.a [obj1.o
.. objN.o]
[...]

best regards,
Lorenzo
From harbour.01 at syenar.hu  Thu Jan 31 13:35:39 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 13:36:43 2008
Subject: [Harbour] CHANGELOG: 2008-01-31 19:36 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c86438$Blat.v2.6.2$142657e4$ef8fc36bdd8@127.0.0.1>

2008-01-31 19:36 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * source/rtl/net.c
     ! Typo fixed.
--
Brgds,
Viktor

From cvc at oohg.org  Thu Jan 31 14:14:47 2008
From: cvc at oohg.org (Ciro Vargas Clemow)
Date: Thu Jan 31 14:14:59 2008
Subject: [Harbour] problem testing samples gtwvg
Message-ID: <47A21E27.7020503@oohg.org>


Hi all:

I did build contrib gtwvg and try to make the sample dmowvg.prg


and I obtain.....

	C:\borland\BCC55\BIN\ILINK32.EXE -Gn -Tpe -aa -LC:\borland\BCC55\LIB 
@_2008013138542$Script.ld
Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
Error: Unresolved external '_hb_vmPushNumInt' referenced from 
C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|gtwvg
Error: Unresolved external '_hb_gt_w32_tone' referenced from 
C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|gtwvg
Error: Unresolved external '_hb_gt_w32_setClipboard' referenced from 
C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|gtwvg
Error: Unresolved external '_hb_gt_w32_getClipboard' referenced from 
C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|gtwvg
Error: Unresolved external '_hb_gtGetScrChar' referenced from 
C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|wvtcore
Error: Unresolved external '_hb_gtPutScrChar' referenced from 
C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|wvtcore
Error: Unresolved external '_hb_gtGetCurrColor' referenced from 
C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|wvtcore

what library I  missed?

best regards
Ciro


-- 
http://sistemascvc.tripod.com  (la casa del no2imp / the no2imp home )

http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more powerfull )


From alex at belacy.belgorod.su  Thu Jan 31 14:13:49 2008
From: alex at belacy.belgorod.su (Alexander S.Kresin)
Date: Thu Jan 31 14:19:15 2008
Subject: [Harbour] Re: CHANGELOG: 2008-01-31 17:40 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
In-Reply-To: <01c86428$Blat.v2.6.2$ead0fe76$b7c1b52e52e@127.0.0.1>
References: <01c86428$Blat.v2.6.2$ead0fe76$b7c1b52e52e@127.0.0.1>
Message-ID: <6545545140.20080131221349@belacy.belgorod.su>

On  Thursday, January 31, 2008, 19:47 Szak?ts Viktor <harbour.01@syenar.hu> wrote:

SV>  [ ... ]
SV>    * source/rtl/net.c
SV>    * include/hbapi.h
SV>      + Added hb_netname() and hb_username() low level versions 
SV>        of NETNAME() and hb_USERNAME().


 Thanks, Viktor.


Regards,
 Alexander
http://kresin.belgorod.su

From mpaliwoda at interia.pl  Thu Jan 31 14:40:17 2008
From: mpaliwoda at interia.pl (Marek Paliwoda)
Date: Thu Jan 31 14:40:56 2008
Subject: [Harbour] Re: CHANGELOG: 2008-01-31 19:04 UTC+0100 Viktor Szakats
 (harbour.01 syenar.hu)
In-Reply-To: <01c86433$Blat.v2.6.2$a533ed14$148042a01d6e@127.0.0.1>
References: <01c86433$Blat.v2.6.2$a533ed14$148042a01d6e@127.0.0.1>
Message-ID: <fnt873$4mm$1@ger.gmane.org>

Viktor,

> 2008-01-31 19:04 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
>    * contrib/make_gcc_all.sh
>      ! Added SVN header.
> 
>    * contrib/hbgf/win32/common.mak
>      ! Same change done as on the other 'common.mak's in contrib.

Oops !  Thanks.

-- 

Marek

From bedipritpal at hotmail.com  Thu Jan 31 15:44:07 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jan 31 15:44:11 2008
Subject: [Harbour] problem testing samples gtwvg
In-Reply-To: <47A21E27.7020503@oohg.org>
References: <47A21E27.7020503@oohg.org>
Message-ID: <15214175.post@talk.nabble.com>


Hello

Wait to get Harbour stable on changing folder structure. I can review only
after that.

Pritpal


Ciro Vargas Clemow wrote:
> 
> 	C:\borland\BCC55\BIN\ILINK32.EXE -Gn -Tpe -aa -LC:\borland\BCC55\LIB 
> @_2008013138542$Script.ld
> Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
> Error: Unresolved external '_hb_vmPushNumInt' referenced from 
> C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|gtwvg
> Error: Unresolved external '_hb_gt_w32_tone' referenced from 
> C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|gtwvg
> Error: Unresolved external '_hb_gt_w32_setClipboard' referenced from 
> C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|gtwvg
> Error: Unresolved external '_hb_gt_w32_getClipboard' referenced from 
> C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|gtwvg
> Error: Unresolved external '_hb_gtGetScrChar' referenced from 
> C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|wvtcore
> Error: Unresolved external '_hb_gtPutScrChar' referenced from 
> C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|wvtcore
> Error: Unresolved external '_hb_gtGetCurrColor' referenced from 
> C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|wvtcore
> 

-- 
View this message in context: http://www.nabble.com/problem-testing-samples-gtwvg-tp15213872p15214175.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour.01 at syenar.hu  Thu Jan 31 16:10:46 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 16:11:50 2008
Subject: [Harbour] CHANGELOG: 2008-01-31 22:10 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c8644d$Blat.v2.6.2$bf8912b0$13c9ad9ff92@127.0.0.1>

2008-01-31 22:10 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/examples/guestbk/bld_b32.bat
   * contrib/examples/pe/bld_b32.bat
   * contrib/examples/dbu/bld_b32.bat
   * contrib/examples/hscript/bld_b32.bat
     ! Lib name changes.
--
Brgds,
Viktor

From cvc at oohg.org  Thu Jan 31 16:46:09 2008
From: cvc at oohg.org (Ciro Vargas Clemow)
Date: Thu Jan 31 16:46:16 2008
Subject: [Harbour] problem testing samples gtwvg
In-Reply-To: <15214175.post@talk.nabble.com>
References: <47A21E27.7020503@oohg.org> <15214175.post@talk.nabble.com>
Message-ID: <47A241A1.3050003@oohg.org>

Pritpal Bedi escribi?:
> Hello
> 
> Wait to get Harbour stable on changing folder structure. I can review only
> after that.
> 
> Pritpal

thanks Pritpal

I will wait

regards
Ciro

> 
> 
> Ciro Vargas Clemow wrote:
>> 	C:\borland\BCC55\BIN\ILINK32.EXE -Gn -Tpe -aa -LC:\borland\BCC55\LIB 
>> @_2008013138542$Script.ld
>> Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
>> Error: Unresolved external '_hb_vmPushNumInt' referenced from 
>> C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|gtwvg
>> Error: Unresolved external '_hb_gt_w32_tone' referenced from 
>> C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|gtwvg
>> Error: Unresolved external '_hb_gt_w32_setClipboard' referenced from 
>> C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|gtwvg
>> Error: Unresolved external '_hb_gt_w32_getClipboard' referenced from 
>> C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|gtwvg
>> Error: Unresolved external '_hb_gtGetScrChar' referenced from 
>> C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|wvtcore
>> Error: Unresolved external '_hb_gtPutScrChar' referenced from 
>> C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|wvtcore
>> Error: Unresolved external '_hb_gtGetCurrColor' referenced from 
>> C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|wvtcore
>>
> 


-- 
http://sistemascvc.tripod.com  (la casa del no2imp / the no2imp home )

http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more powerfull )


From mbelgrano at deltain.it  Thu Jan 31 16:50:55 2008
From: mbelgrano at deltain.it (Massimo Belgrano)
Date: Thu Jan 31 16:51:05 2008
Subject: [Harbour] Leto DB Server
In-Reply-To: <47A1B8D8.4050000@belacy.belgorod.su>
References: <47A1B8D8.4050000@belacy.belgorod.su>
Message-ID: <AFB948164110ED43B5EB849E8DEEF03815E8DD@SRV02.deltain.net>

Compliment for yoyr works
Very good!

-----Original Message-----
From: harbour-bounces@harbour-project.org [mailto:harbour-bounces@harbour-project.org] On Behalf Of Alexander S.Kresin
Sent: Thursday, January 31, 2008 1:03 PM
To: Harbour Project Main Developer List.
Subject: [Harbour] Leto DB Server

Hi All,

  finally I've created this project and uploaded initial files to CVS - 
http://sourceforge.net/projects/letodb/.
Release packages are available, too - letodb-0.1.src.zip and 
letodb-0.1.src.tar.gz.

  There are server itself, rdd and management utility - this one is 
written for HwGUI, but I'll add a console utility later for to not force 
people use HwGUI.

  Of course, it's far from production state yet, but can be used for 
some tasks if there aren't many users.

  The socket library is an adopted and truncated hbinet.c I've talked 
about. If and when there hbinet.c will be modified, it may be used instead.

  Currently the server uses a simplest sequential mode, when each query 
is processed one after another. We haven't threads yet in Harbour, so I 
plan to use processes to work up queries, which demands more time ( 
indexing, walking through the filtered database, etc. ).

  The server main cycle and queries recognition is made in simplest way 
now - I wanted to have it working as soon as possible. Later it should 
be rewritten as C routine, I think.

  Not all basic methods are implemented yet ( scopes aren't, for example 
) - I did those, which I use in my programs to be able to test it.
  The server is up for few days in my server at work, sometimes I open 
up to 15 client programs from different workstations - and it works :).

  Regards,
   Alexander
_______________________________________________
Harbour mailing list
Harbour@harbour-project.org
http://lists.harbour-project.org/mailman/listinfo/harbour
From harbour.01 at syenar.hu  Thu Jan 31 16:58:31 2008
From: harbour.01 at syenar.hu (=?ISO-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 16:58:21 2008
Subject: [Harbour] Changelog
In-Reply-To: <47A20ACA.4010603@ec-red.com>
References: <e05f43e64483a061c7bfea9570012c9c.qmail@home.pl>
	<9BC9C910-25CD-4AA2-8E1E-BF432DAB1F7E@syenar.hu>
	<47A20ACA.4010603@ec-red.com>
Message-ID: <C032AE9E-C40F-4B66-9CB3-32D4E3CE4181@syenar.hu>

Hi Guillermo,

You'll need to add the include path for these external
packages to your custom C options:

set C_USR=-IC:\ads\acesdk -IC:\zlib-dll\include

Brgds,
Viktor

On 2008.01.31., at 18:52, Guillermo Varona Silup? wrote:

> Szak?ts Viktor escribi?:
>> Thanks, now it works perfectly.
> [SPA] Hola, yo estoy obteniendo estos mensajes:
> [ENG] Hello, I am getting these messages:
>
> D:\harbour>MAKE_GNU
> ../../ioapi.c:13:18: zlib.h: No such file or directory In file  
> included from ../../ioapi.c:14:
> ../../ioapi.h:38: error: syntax error before '*' token
> ../../ioapi.h:39: error: syntax error before '*' token
> ../../ioapi.h:40: error: syntax error before '*' token
> ../../ioapi.h:41: error: syntax error before "OF"
> ../../ioapi.h:42: error: syntax error before "OF"
> ../../ioapi.h:43: error: syntax error before "OF"
> ../../ioapi.h:44: error: syntax error before "OF"
> ../../ioapi.h:48: error: syntax error before "open_file_func"
> ../../ioapi.h:48: warning: no semicolon at end of struct or union
> ../../ioapi.h:49: warning: type defaults to `int' in declaration of  
> `zread_file'
> ../../ioapi.h:49: warning: data definition has no type or storage  
> class
> ../../ioapi.h:50: error: syntax error before "zwrite_file"
> ../../ioapi.h:50: warning: type defaults to `int' in declaration of  
> `zwrite_file'
> ../../ioapi.h:50: warning: data definition has no type or storage  
> class
> ../../ioapi.h:51: error: syntax error before "ztell_file"
> ../../ioapi.h:51: warning: type defaults to `int' in declaration of  
> `ztell_file'
> ../../ioapi.h:51: warning: data definition has no type or storage  
> class
> ../../ioapi.h:52: error: syntax error before "zseek_file"
> ../../ioapi.h:52: warning: type defaults to `int' in declaration of  
> `zseek_file'
> ../../ioapi.h:52: warning: data definition has no type or storage  
> class
> ../../ioapi.h:53: error: syntax error before "zclose_file"
> ../../ioapi.h:53: warning: type defaults to `int' in declaration of  
> `zclose_file'
> ../../ioapi.h:53: warning: data definition has no type or storage  
> class
> ../../ioapi.h:54: error: syntax error before "zerror_file"
> ../../ioapi.h:54: warning: type defaults to `int' in declaration of  
> `zerror_file'
> ../../ioapi.h:54: warning: data definition has no type or storage  
> class
> ../../ioapi.h:55: error: syntax error before "opaque"
> ../../ioapi.h:55: warning: type defaults to `int' in declaration of  
> `opaque'
> ../../ioapi.h:55: warning: data definition has no type or storage  
> class
> ../../ioapi.h:56: warning: type defaults to `int' in declaration of  
> `zlib_filefunc_def'
> ../../ioapi.h:56: warning: data definition has no type or storage  
> class
> ../../ioapi.h:60: error: syntax error before "OF"
> ../../ioapi.c:49: error: syntax error before "OF"
> ../../ioapi.c:53: error: syntax error before "OF"
> ../../ioapi.c:59: error: syntax error before "OF"
> ../../ioapi.c:63: error: syntax error before "OF"
> ../../ioapi.c:69: error: syntax error before "opaque"
> ../../ioapi.c:72: warning: return type defaults to `int'
> ../../ioapi.c: In function `fopen_file_func':
> ../../ioapi.c:78: error: `mode' undeclared (first use in this  
> function)
> ../../ioapi.c:78: error: (Each undeclared identifier is reported  
> only once
> ../../ioapi.c:78: error: for each function it appears in.)
> ../../ioapi.c:87: error: `filename' undeclared (first use in this  
> function)
> ../../ioapi.c:89: warning: return makes integer from pointer without  
> a cast
> ../../ioapi.c: At top level:
> ../../ioapi.c:93: error: syntax error before "fread_file_func"
> ../../ioapi.c:94: error: syntax error before "opaque"
> ../../ioapi.c:98: warning: return type defaults to `int'
> ../../ioapi.c: In function `fread_file_func':
> ../../ioapi.c:99: error: `uLong' undeclared (first use in this  
> function)
> ../../ioapi.c:99: error: syntax error before "ret"
> ../../ioapi.c:103: error: `ret' undeclared (first use in this  
> function)
> ../../ioapi.c:103: error: syntax error before "fread"
> ../../ioapi.c: At top level:
> ../../ioapi.c:108: error: syntax error before "fwrite_file_func"
> ../../ioapi.c:109: error: syntax error before "opaque"
> ../../ioapi.c:113: warning: return type defaults to `int'
> ../../ioapi.c: In function `fwrite_file_func':
> ../../ioapi.c:114: error: `uLong' undeclared (first use in this  
> function)
> ../../ioapi.c:114: error: syntax error before "ret"
> ../../ioapi.c:118: error: `ret' undeclared (first use in this  
> function)
> ../../ioapi.c:118: error: syntax error before "fwrite"
> ../../ioapi.c: At top level:
> ../../ioapi.c:123: error: syntax error before "opaque"
> ../../ioapi.c: In function `ftell_file_func':
> ../../ioapi.c:130: error: `stream' undeclared (first use in this  
> function)
> ../../ioapi.c: At top level:
> ../../ioapi.c:135: error: syntax error before "opaque"
> ../../ioapi.c: In function `fseek_file_func':
> ../../ioapi.c:145: error: `origin' undeclared (first use in this  
> function)
> ../../ioapi.c:159: error: `stream' undeclared (first use in this  
> function)
> ../../ioapi.c:159: error: `offset' undeclared (first use in this  
> function)
> ../../ioapi.c: At top level:
> ../../ioapi.c:164: error: syntax error before "opaque"
> ../../ioapi.c: In function `fclose_file_func':
> ../../ioapi.c:171: error: `stream' undeclared (first use in this  
> function)
> ../../ioapi.c: At top level:
> ../../ioapi.c:176: error: syntax error before "opaque"
> ../../ioapi.c: In function `ferror_file_func':
> ../../ioapi.c:183: error: `stream' undeclared (first use in this  
> function)
> ../../ioapi.c: At top level:
> ../../ioapi.c:188: error: syntax error before '*' token
> ../../ioapi.c: In function `fill_fopen_filefunc':
> ../../ioapi.c:190: error: `pzlib_filefunc_def' undeclared (first use  
> in this fun
> ction)
> make[3]: *** [ioapi.o] Error 1
> make[2]: *** [descend] Error 2
> In file included from ../../ads1.c:66: ../../rddads.h:69:17: ace.h:  
> No such file or directory
> In file included from ../../ads1.c:66: ../../rddads.h:149: error:  
> syntax error before "ADSHANDLE" ../../rddads.h:149: warning: no  
> semicolon at end of struct or union
> ../../rddads.h:150: warning: type defaults to `int' in declaration  
> of `hOrdCurrent'
> ../../rddads.h:150: warning: data definition has no type or storage  
> class
> ../../rddads.h:151: error: syntax error before "hStatement"
> ../../rddads.h:151: warning: type defaults to `int' in declaration  
> of `hStatement'
> ../../rddads.h:151: warning: data definition has no type or storage  
> class
> ../../rddads.h:152: warning: type defaults to `int' in declaration  
> of `ADSAREA'
> ../../rddads.h:152: warning: data definition has no type or storage  
> class
> ../../rddads.h:154: error: syntax error before '*' token
> ../../rddads.h:154: warning: type defaults to `int' in declaration  
> of `ADSAREAP'
> ../../rddads.h:154: warning: data definition has no type or storage  
> class
> ../../rddads.h:186: error: syntax error before "adsConnectHandle"
> ../../rddads.h:186: warning: type defaults to `int' in declaration  
> of `adsConnectHandle'
> ../../rddads.h:186: warning: data definition has no type or storage  
> class
> ../../rddads.h:187: error: syntax error before "pArea"
> ../../rddads.h:188: error: syntax error before  
> "hb_rddGetADSWorkAreaPointer"
> ../../rddads.h:188: warning: type defaults to `int' in declaration  
> of `hb_rddGetADSWorkAreaPointer'
> ../../rddads.h:188: warning: data definition has no type or storage  
> class
> ../../ads1.c: In function `adsSetListener_callback':
> ../../ads1.c:108: warning: implicit declaration of function  
> `AdsSetDateFormat'
> ../../ads1.c:108: error: `UNSIGNED8' undeclared (first use in this  
> function)
> ../../ads1.c:108: error: (Each undeclared identifier is reported  
> only once
> ../../ads1.c:108: error: for each function it appears in.)
> ../../ads1.c:108: error: syntax error before ')' token
> ../../ads1.c:111: warning: implicit declaration of function  
> `AdsSetDefault'
> ../../ads1.c:111: error: syntax error before ')' token
> ../../ads1.c:114: warning: implicit declaration of function  
> `AdsShowDeleted'
> ../../ads1.c:117: warning: implicit declaration of function  
> `AdsSetEpoch'
> ../../ads1.c:120: warning: implicit declaration of function  
> `AdsSetExact'
> ../../ads1.c:123: warning: implicit declaration of function  
> `AdsSetSearchPath'
> ../../ads1.c:123: error: syntax error before ')' token
> ../../ads1.c:127: warning: implicit declaration of function  
> `AdsSetDecimals'
> ../../ads1.c:127: error: `UNSIGNED16' undeclared (first use in this  
> function)
> ../../ads1.c:127: error: syntax error before "hb_setGetNI"
> ../../ads1.c: In function `adsSetSend':
> ../../ads1.c:151: error: `UNSIGNED8' undeclared (first use in this  
> function)
> ../../ads1.c:151: error: syntax error before ')' token
> ../../ads1.c:152: error: syntax error before ')' token
> ../../ads1.c:156: error: syntax error before ')' token
> ../../ads1.c:157: error: `UNSIGNED16' undeclared (first use in this  
> function)
> ../../ads1.c:157: error: syntax error before "hb_setGetNI"
> ../../ads1.c: At top level:
> ../../ads1.c:160: error: syntax error before "pArea"
> ../../ads1.c: In function `commonError':
> ../../ads1.c:167: error: `uiGenCode' undeclared (first use in this  
> function)
> ../../ads1.c:168: error: `uiSubCode' undeclared (first use in this  
> function)
> ../../ads1.c:170: error: `uiOsCode' undeclared (first use in this  
> function)
> ../../ads1.c:172: error: `szFileName' undeclared (first use in this  
> function)
> ../../ads1.c:174: error: `uiFlags' undeclared (first use in this  
> function)
> ../../ads1.c:176: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c: At top level:
> ../../ads1.c:237: error: syntax error before "hIndex"
> ../../ads1.c: In function `adsIndexKeyCmp':
> ../../ads1.c:239: error: `UNSIGNED32' undeclared (first use in this  
> function)
> ../../ads1.c:239: error: syntax error before "u32RetVal"
> ../../ads1.c:240: error: `UNSIGNED16' undeclared (first use in this  
> function)
> ../../ads1.c:242: error: `UNSIGNED8' undeclared (first use in this  
> function)
> ../../ads1.c:250: error: `u32RetVal' undeclared (first use in this  
> function)
> ../../ads1.c:250: warning: implicit declaration of function  
> `AdsExtractKey'
> ../../ads1.c:250: error: `hIndex' undeclared (first use in this  
> function)
> ../../ads1.c:250: error: `pucCurKey' undeclared (first use in this  
> function)
> ../../ads1.c:250: error: `u16CurKeyLen' undeclared (first use in  
> this function)
> ../../ads1.c:251: error: `AE_SUCCESS' undeclared (first use in this  
> function)
> ../../ads1.c:255: error: `u16KeyLen' undeclared (first use in this  
> function)
> ../../ads1.c:256: error: syntax error before ')' token
> ../../ads1.c: At top level:
> ../../ads1.c:263: error: syntax error before "return"
> ../../ads1.c: In function `adsGetFileType':
> ../../ads1.c:269: error: `ADS_CDX' undeclared (first use in this  
> function)
> ../../ads1.c:270: error: `ADS_NTX' undeclared (first use in this  
> function)
> ../../ads1.c:271: error: `ADS_ADT' undeclared (first use in this  
> function)
> ../../ads1.c: In function `adsTableExt':
> ../../ads1.c:276: error: `ADS_ADT' undeclared (first use in this  
> function)
> ../../ads1.c: In function `adsMemoExt':
> ../../ads1.c:281: error: `ADS_ADT' undeclared (first use in this  
> function)
> ../../ads1.c:282: error: `ADS_CDX' undeclared (first use in this  
> function)
> ../../ads1.c: In function `adsIndexExt':
> ../../ads1.c:287: error: `ADS_ADT' undeclared (first use in this  
> function)
> ../../ads1.c:288: error: `ADS_CDX' undeclared (first use in this  
> function)
> ../../ads1.c: At top level:
> ../../ads1.c:291: error: syntax error before "hb_adsFindBag"
> ../../ads1.c:291: error: syntax error before "pArea"
> ../../ads1.c:292: warning: return type defaults to `int'
> ../../ads1.c: In function `hb_adsFindBag':
> ../../ads1.c:296: error: `ADSHANDLE' undeclared (first use in this  
> function)
> ../../ads1.c:296: error: syntax error before "ahIndex"
> ../../ads1.c:297: error: `UNSIGNED16' undeclared (first use in this  
> function)
> ../../ads1.c:298: error: `UNSIGNED32' undeclared (first use in this  
> function)
> ../../ads1.c:300: error: `u32Result' undeclared (first use in this  
> function)
> ../../ads1.c:300: warning: implicit declaration of function  
> `AdsOpenIndex'
> ../../ads1.c:300: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c:301: error: `UNSIGNED8' undeclared (first use in this  
> function)
> ../../ads1.c:301: error: syntax error before ')' token
> ../../ads1.c:302: error: `AE_INDEX_ALREADY_OPEN' undeclared (first  
> use in this function)
> ../../ads1.c:304: error: `ahIndex' undeclared (first use in this  
> function)
> ../../ads1.c:306: error: `AE_SUCCESS' undeclared (first use in this  
> function)
> ../../ads1.c:308: warning: implicit declaration of function  
> `AdsCloseIndex'
> ../../ads1.c: At top level:
> ../../ads1.c:346: error: syntax error before "pArea"
> ../../ads1.c: In function `hb_adsUpdateAreaFlags':
> ../../ads1.c:348: error: `UNSIGNED16' undeclared (first use in this  
> function)
> ../../ads1.c:348: error: syntax error before "u16Bof"
> ../../ads1.c:350: warning: implicit declaration of function `AdsAtBOF'
> ../../ads1.c:350: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c:350: error: `u16Bof' undeclared (first use in this  
> function)
> ../../ads1.c:351: warning: implicit declaration of function `AdsAtEOF'
> ../../ads1.c:351: error: `u16Eof' undeclared (first use in this  
> function)
> ../../ads1.c:352: warning: implicit declaration of function  
> `AdsIsFound'
> ../../ads1.c:352: error: `u16Found' undeclared (first use in this  
> function)
> ../../ads1.c: At top level:
> ../../ads1.c:363: error: syntax error before "pArea"
> ../../ads1.c: In function `hb_adsCheckLock':
> ../../ads1.c:365: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c:367: error: `UNSIGNED16' undeclared (first use in this  
> function)
> ../../ads1.c:367: error: syntax error before "u16Locked"
> ../../ads1.c:368: error: `UNSIGNED32' undeclared (first use in this  
> function)
> ../../ads1.c:370: error: `u32RetVal' undeclared (first use in this  
> function)
> ../../ads1.c:370: warning: implicit declaration of function  
> `AdsIsRecordLocked'
> ../../ads1.c:370: error: `u16Locked' undeclared (first use in this  
> function)
> ../../ads1.c:371: error: `AE_SUCCESS' undeclared (first use in this  
> function)
> ../../ads1.c: At top level:
> ../../ads1.c:385: error: syntax error before "pArea"
> ../../ads1.c: In function `adsGetKeyItem':
> ../../ads1.c:390: error: `iKeyType' undeclared (first use in this  
> function)
> ../../ads1.c:396: error: `ADS_RAW' undeclared (first use in this  
> function)
> ../../ads1.c:397: error: `ADS_STRING' undeclared (first use in this  
> function)
> ../../ads1.c:398: error: `pItem' undeclared (first use in this  
> function)
> ../../ads1.c:398: error: `pKeyBuf' undeclared (first use in this  
> function)
> ../../ads1.c:398: error: `iKeyLen' undeclared (first use in this  
> function)
> ../../ads1.c:401: error: `ADS_NUMERIC' undeclared (first use in this  
> function)
> ../../ads1.c:402: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c:402: error: `ADS_NTX' undeclared (first use in this  
> function)
> ../../ads1.c:432: error: `ADS_DATE' undeclared (first use in this  
> function)
> ../../ads1.c:444: error: `ADS_LOGICAL' undeclared (first use in this  
> function)
> ../../ads1.c: At top level:
> ../../ads1.c:454: error: syntax error before "pArea"
> ../../ads1.c: In function `adsScopeGet':
> ../../ads1.c:456: error: `UNSIGNED8' undeclared (first use in this  
> function)
> ../../ads1.c:456: error: syntax error before "pucScope"
> ../../ads1.c:457: error: `UNSIGNED16' undeclared (first use in this  
> function)
> ../../ads1.c:458: error: `UNSIGNED32' undeclared (first use in this  
> function)
> ../../ads1.c:463: error: `hOrder' undeclared (first use in this  
> function)
> ../../ads1.c:466: error: `nScope' undeclared (first use in this  
> function)
> ../../ads1.c:466: error: `ADS_TOP' undeclared (first use in this  
> function)
> ../../ads1.c:466: error: `ADS_BOTTOM' undeclared (first use in this  
> function)
> ../../ads1.c:468: error: `u32RetVal' undeclared (first use in this  
> function)
> ../../ads1.c:468: warning: implicit declaration of function  
> `AdsGetScope'
> ../../ads1.c:468: error: syntax error before "nScope"
> ../../ads1.c:470: error: `AE_SUCCESS' undeclared (first use in this  
> function)
> ../../ads1.c:472: warning: implicit declaration of function  
> `AdsGetKeyType'
> ../../ads1.c:472: error: `u16KeyType' undeclared (first use in this  
> function)
> ../../ads1.c:473: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c:473: error: `pItem' undeclared (first use in this  
> function)
> ../../ads1.c:473: error: `pucScope' undeclared (first use in this  
> function)
> ../../ads1.c:473: error: `u16Len' undeclared (first use in this  
> function)
> ../../ads1.c: At top level:
> ../../ads1.c:482: error: syntax error before "pArea"
> ../../ads1.c: In function `adsScopeSet':
> ../../ads1.c:484: error: `UNSIGNED16' undeclared (first use in this  
> function)
> ../../ads1.c:484: error: syntax error before "u16DataType"
> ../../ads1.c:485: error: `UNSIGNED8' undeclared (first use in this  
> function)
> ../../ads1.c:485: error: `pucScope' undeclared (first use in this  
> function)
> ../../ads1.c:487: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c:491: error: `hOrder' undeclared (first use in this  
> function)
> ../../ads1.c:493: error: `nScope' undeclared (first use in this  
> function)
> ../../ads1.c:493: error: `ADS_TOP' undeclared (first use in this  
> function)
> ../../ads1.c:493: error: `ADS_BOTTOM' undeclared (first use in this  
> function)
> ../../ads1.c:494: error: `pItem' undeclared (first use in this  
> function)
> ../../ads1.c:496: error: syntax error before "u16KeyType"
> ../../ads1.c:497: error: `u16KeyType' undeclared (first use in this  
> function)
> ../../ads1.c:502: error: `ADS_RAW' undeclared (first use in this  
> function)
> ../../ads1.c:503: error: `ADS_STRING' undeclared (first use in this  
> function)
> ../../ads1.c:513: error: syntax error before ')' token
> ../../ads1.c:514: warning: implicit declaration of function  
> `AdsSetScope'
> ../../ads1.c:515: error: syntax error before ')' token
> ../../ads1.c:520: error: `ADS_NUMERIC' undeclared (first use in this  
> function)
> ../../ads1.c:527: error: `u16DataType' undeclared (first use in this  
> function)
> ../../ads1.c:527: error: `ADS_DOUBLEKEY' undeclared (first use in  
> this function)
> ../../ads1.c:529: error: syntax error before ')' token
> ../../ads1.c:530: error: syntax error before "sizeof"
> ../../ads1.c:535: error: `ADS_DATE' undeclared (first use in this  
> function)
> ../../ads1.c:543: error: syntax error before ')' token
> ../../ads1.c:544: error: syntax error before "sizeof"
> ../../ads1.c:548: error: `ADS_LOGICAL' undeclared (first use in this  
> function)
> ../../ads1.c:550: error: syntax error before ')' token
> ../../ads1.c:551: error: `ADS_STRINGKEY' undeclared (first use in  
> this function)
> ../../ads1.c:557: warning: implicit declaration of function  
> `AdsClearScope'
> ../../ads1.c: At top level:
> ../../ads1.c:568: error: syntax error before "pArea"
> ../../ads1.c: In function `adsGetRelPos':
> ../../ads1.c:573: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c:581: error: `hOrder' undeclared (first use in this  
> function)
> ../../ads1.c:583: error: `DOUBLE' undeclared (first use in this  
> function)
> ../../ads1.c:583: error: syntax error before "dPos"
> ../../ads1.c:584: warning: implicit declaration of function  
> `AdsGetRelKeyPos'
> ../../ads1.c:584: error: `dPos' undeclared (first use in this  
> function)
> ../../ads1.c: At top level:
> ../../ads1.c:603: error: syntax error before "pArea"
> ../../ads1.c: In function `adsSetRelPos':
> ../../ads1.c:605: error: `ADSHANDLE' undeclared (first use in this  
> function)
> ../../ads1.c:605: error: syntax error before "hCurrOrder"
> ../../ads1.c:607: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c:607: error: `hOrder' undeclared (first use in this  
> function)
> ../../ads1.c:608: error: `dPos' undeclared (first use in this  
> function)
> ../../ads1.c:621: warning: implicit declaration of function  
> `AdsSetRelKeyPos'
> ../../ads1.c:645: error: `hCurrOrder' undeclared (first use in this  
> function)
> ../../ads1.c: At top level:
> ../../ads1.c:648: error: syntax error before "pArea"
> ../../ads1.c: In function `adsCloseCursor':
> ../../ads1.c:654: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c:657: error: `UNSIGNED32' undeclared (first use in this  
> function)
> ../../ads1.c:657: error: syntax error before "u32RetVal"
> ../../ads1.c:659: error: `u32RetVal' undeclared (first use in this  
> function)
> ../../ads1.c:659: error: `AE_SUCCESS' undeclared (first use in this  
> function)
> ../../ads1.c:667: warning: implicit declaration of function  
> `AdsCloseSQLStatement'
> ../../ads1.c: At top level:
> ../../ads1.c:696: error: syntax error before "pArea"
> ../../ads1.c: In function `adsBof':
> ../../ads1.c:701: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c:704: error: `pBof' undeclared (first use in this  
> function)
> ../../ads1.c: At top level:
> ../../ads1.c:709: error: syntax error before "pArea"
> ../../ads1.c: In function `adsEof':
> ../../ads1.c:714: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c:717: error: `pEof' undeclared (first use in this  
> function)
> ../../ads1.c: At top level:
> ../../ads1.c:722: error: syntax error before "pArea"
> ../../ads1.c: In function `adsFound':
> ../../ads1.c:727: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c:730: error: `pFound' undeclared (first use in this  
> function)
> ../../ads1.c: At top level:
> ../../ads1.c:735: error: syntax error before "pArea"
> ../../ads1.c: In function `adsGoBottom':
> ../../ads1.c:740: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c:744: warning: implicit declaration of function  
> `AdsGotoBottom'
> ../../ads1.c: At top level:
> ../../ads1.c:755: error: syntax error before "pArea"
> ../../ads1.c: In function `adsGoTo':
> ../../ads1.c:766: error: `UNSIGNED32' undeclared (first use in this  
> function)
> ../../ads1.c:766: error: syntax error before "ulRetVal"
> ../../ads1.c:789: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c:792: warning: implicit declaration of function  
> `AdsGetRecordNum'
> ../../ads1.c:792: error: `ADS_IGNOREFILTERS' undeclared (first use  
> in this function)
> ../../ads1.c:792: error: `u32RecNo' undeclared (first use in this  
> function)
> ../../ads1.c:798: error: `ulRetVal' undeclared (first use in this  
> function)
> ../../ads1.c:798: warning: implicit declaration of function  
> `AdsGotoRecord'
> ../../ads1.c:798: error: syntax error before "ulRecNo"
> ../../ads1.c:800: error: `AE_INVALID_RECORD_NUMBER' undeclared  
> (first use in this function)
> ../../ads1.c:806: error: `ulRecNo' undeclared (first use in this  
> function)
> ../../ads1.c:827: warning: implicit declaration of function  
> `AdsRefreshRecord'
> ../../ads1.c:834: error: `AE_SUCCESS' undeclared (first use in this  
> function)
> ../../ads1.c: At top level:
> ../../ads1.c:837: error: syntax error before "pArea"
> ../../ads1.c: In function `adsGoToId':
> ../../ads1.c:843: error: `pItem' undeclared (first use in this  
> function)
> ../../ads1.c:846: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c: At top level:
> ../../ads1.c:855: error: syntax error before "pArea"
> ../../ads1.c: In function `adsGoTop':
> ../../ads1.c:860: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c:864: warning: implicit declaration of function  
> `AdsGotoTop'
> ../../ads1.c: At top level:
> ../../ads1.c:875: error: syntax error before "pArea"
> ../../ads1.c: In function `adsSeek':
> ../../ads1.c:877: error: `UNSIGNED32' undeclared (first use in this  
> function)
> ../../ads1.c:877: error: syntax error before "u32RecNo"
> ../../ads1.c:878: error: `UNSIGNED16' undeclared (first use in this  
> function)
> ../../ads1.c:880: error: `UNSIGNED8' undeclared (first use in this  
> function)
> ../../ads1.c:880: error: `pszKey' undeclared (first use in this  
> function)
> ../../ads1.c:882: error: `pucSavedKey' undeclared (first use in this  
> function)
> ../../ads1.c:883: error: syntax error before "u16SavedKeyLen"
> ../../ads1.c:887: error: `pArea' undeclared (first use in this  
> function)
> ../../ads1.c:894: error: `pKey' undeclared (first use in this  
> function)
> ../../ads1.c:896: error: syntax error before ')' token
> ../../ads1.c:897: error: `u16KeyLen' undeclared (first use in this  
> function)
> ../../ads1.c:897: error: syntax error before "hb_itemGetCLen"
> . . .
>
> Best Regards.
> GVS
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Jan 31 17:00:54 2008
From: harbour.01 at syenar.hu (=?ISO-8859-1?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 17:00:40 2008
Subject: [Harbour] problem testing samples gtwvg
In-Reply-To: <47A21E27.7020503@oohg.org>
References: <47A21E27.7020503@oohg.org>
Message-ID: <0E36F3DB-1EC7-457C-87E3-5BD8BD3AD8CE@syenar.hu>

Hi Ciro,

You'll need to update your local make script
according to the recent lib name changes.

Look up 'CHANGELOG: 2008-01-25 21:27' to see
what name has exactly changed to what.

Brgds,
Viktor


On 2008.01.31., at 20:14, Ciro Vargas Clemow wrote:

>
> Hi all:
>
> I did build contrib gtwvg and try to make the sample dmowvg.prg
>
>
> and I obtain.....
>
> 	C:\borland\BCC55\BIN\ILINK32.EXE -Gn -Tpe -aa -LC:\borland 
> \BCC55\LIB @_2008013138542$Script.ld
> Turbo Incremental Link 5.00 Copyright (c) 1997, 2000 Borland
> Error: Unresolved external '_hb_vmPushNumInt' referenced from C: 
> \HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|gtwvg
> Error: Unresolved external '_hb_gt_w32_tone' referenced from C: 
> \HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|gtwvg
> Error: Unresolved external '_hb_gt_w32_setClipboard' referenced from  
> C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|gtwvg
> Error: Unresolved external '_hb_gt_w32_getClipboard' referenced from  
> C:\HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|gtwvg
> Error: Unresolved external '_hb_gtGetScrChar' referenced from C: 
> \HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|wvtcore
> Error: Unresolved external '_hb_gtPutScrChar' referenced from C: 
> \HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|wvtcore
> Error: Unresolved external '_hb_gtGetCurrColor' referenced from C: 
> \HARBOUR\HARBOUR\LIB\B32\GTWVG.LIB|wvtcore
>
> what library I  missed?
>
> best regards
> Ciro
>
>
> -- 
> http://sistemascvc.tripod.com  (la casa del no2imp / the no2imp home )
>
> http://www.oohg.org ( Object Oriented Harbour GUI, more simple, more  
> powerfull )
>
>
> _______________________________________________
> Harbour mailing list
> Harbour@harbour-project.org
> http://lists.harbour-project.org/mailman/listinfo/harbour

From harbour.01 at syenar.hu  Thu Jan 31 17:02:44 2008
From: harbour.01 at syenar.hu (=?iso-8859-2?Q?Szak=E1ts_Viktor?=)
Date: Thu Jan 31 17:03:46 2008
Subject: [Harbour] CHANGELOG: 2008-01-31 23:03 UTC+0100 Viktor Szakats
	(harbour.01 syenar.hu)
Message-ID: <01c86455$Blat.v2.6.2$01d00c4e$ef016a7d5f4@127.0.0.1>

2008-01-31 23:03 UTC+0100 Viktor Szakats (harbour.01 syenar.hu)
   * contrib/gtwvg/tests/demowvg.prg
     ! SVN header added.

   * source/rtl/dircmd.prg
     ! Minor typos in comments.

   * source/rtl/net.c
     % Minor opt.
--
Brgds,
Viktor

From bedipritpal at hotmail.com  Thu Jan 31 17:14:35 2008
From: bedipritpal at hotmail.com (Pritpal Bedi)
Date: Thu Jan 31 17:14:39 2008
Subject: [Harbour] Leto DB Server
In-Reply-To: <47A1B8D8.4050000@belacy.belgorod.su>
References: <47A1B8D8.4050000@belacy.belgorod.su>
Message-ID: <15216083.post@talk.nabble.com>


Hello Alexander


Alexander S.Kresin wrote:
> 
>   finally I've created this project and uploaded initial files to CVS -
> http://sourceforge.net/projects/letodb/. Release packages are available,
> too - letodb-0.1.src.zip and letodb-0.1.src.tar.gz.
> 

I need write permissions, if you agree. My SourceForge ID = vouchcac.

Regards
Pritpal Bedi, INDIA-USA

-- 
View this message in context: http://www.nabble.com/Leto-DB-Server-tp15203715p15216083.html
Sent from the Harbour - Dev mailing list archive at Nabble.com.

From harbour at rglab.pl  Thu Jan 31 20:33:46 2008
From: harbour at rglab.pl (=?iso-8859-2?Q?Ryszard_G=B3=B1b?=)
Date: Thu Jan 31 20:33:44 2008
Subject: [Harbour] Changelog 2008-02-01 02:35 UTC+0100 Ryszard Glab
Message-ID: <99540e19ee832e777bdaffbbed2d3474.qmail@home.pl>

2008-02-01 02:35 UTC+0100 Ryszard Glab <harbour//rglab.pl>
   * config/lib.cf
      * added vpath to search target libraries in lib/<arch>/<compiler>

   * config/darwin/global.cf
   * config/hpux/global.cf
   * config/dos/global.cf
   * config/linux/global.cf
   * config/os2/global.cf
   * config/sunos/global.cf
   * config/bsd/global.cf
   * config/w32/global.cf
      * fixed to remove a single library during 'clean'

Regards, Ryszard

From philb at philb.us  Thu Jan 31 23:40:10 2008
From: philb at philb.us (Phil Barnett)
Date: Thu Jan 31 23:40:14 2008
Subject: [Harbour] rdddbt lib question
In-Reply-To: <CEA2B5EA-65AB-4F46-A3C4-EDF1A7BC7491@syenar.hu>
References: <CEA2B5EA-65AB-4F46-A3C4-EDF1A7BC7491@syenar.hu>
Message-ID: <200801312340.10961.philb@philb.us>

On Thursday 31 January 2008 08:13:01 am Szak?ts Viktor wrote:
> Hi Przemek and all,
>
> I've noticed this RDD doesn't get built
> either using the GNU and non-GNU make system.
> Yet the source directory is there in SVN.
>
> Should we add it to the make systems, or should
> we rather remove the source? or else?

I think it would cause a backwards compatible issue to remove it. Can we build 
it. I guess that means there aren't any tests for it or it would have been 
noticed long ago.

-- 
"Sometimes I wonder whether the world is being run by smart people who are 
putting us on or by imbeciles who really mean it." - Mark Twain
